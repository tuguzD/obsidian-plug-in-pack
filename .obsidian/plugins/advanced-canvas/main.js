/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/jsonify/lib/parse.js
var require_parse = __commonJS({
  "node_modules/jsonify/lib/parse.js"(exports, module2) {
    "use strict";
    var at;
    var ch;
    var escapee = {
      '"': '"',
      "\\": "\\",
      "/": "/",
      b: "\b",
      f: "\f",
      n: "\n",
      r: "\r",
      t: "	"
    };
    var text;
    function error(m) {
      throw {
        name: "SyntaxError",
        message: m,
        at,
        text
      };
    }
    function next(c) {
      if (c && c !== ch) {
        error("Expected '" + c + "' instead of '" + ch + "'");
      }
      ch = text.charAt(at);
      at += 1;
      return ch;
    }
    function number() {
      var num;
      var str = "";
      if (ch === "-") {
        str = "-";
        next("-");
      }
      while (ch >= "0" && ch <= "9") {
        str += ch;
        next();
      }
      if (ch === ".") {
        str += ".";
        while (next() && ch >= "0" && ch <= "9") {
          str += ch;
        }
      }
      if (ch === "e" || ch === "E") {
        str += ch;
        next();
        if (ch === "-" || ch === "+") {
          str += ch;
          next();
        }
        while (ch >= "0" && ch <= "9") {
          str += ch;
          next();
        }
      }
      num = Number(str);
      if (!isFinite(num)) {
        error("Bad number");
      }
      return num;
    }
    function string() {
      var hex;
      var i;
      var str = "";
      var uffff;
      if (ch === '"') {
        while (next()) {
          if (ch === '"') {
            next();
            return str;
          } else if (ch === "\\") {
            next();
            if (ch === "u") {
              uffff = 0;
              for (i = 0; i < 4; i += 1) {
                hex = parseInt(next(), 16);
                if (!isFinite(hex)) {
                  break;
                }
                uffff = uffff * 16 + hex;
              }
              str += String.fromCharCode(uffff);
            } else if (typeof escapee[ch] === "string") {
              str += escapee[ch];
            } else {
              break;
            }
          } else {
            str += ch;
          }
        }
      }
      error("Bad string");
    }
    function white() {
      while (ch && ch <= " ") {
        next();
      }
    }
    function word() {
      switch (ch) {
        case "t":
          next("t");
          next("r");
          next("u");
          next("e");
          return true;
        case "f":
          next("f");
          next("a");
          next("l");
          next("s");
          next("e");
          return false;
        case "n":
          next("n");
          next("u");
          next("l");
          next("l");
          return null;
        default:
          error("Unexpected '" + ch + "'");
      }
    }
    function array() {
      var arr = [];
      if (ch === "[") {
        next("[");
        white();
        if (ch === "]") {
          next("]");
          return arr;
        }
        while (ch) {
          arr.push(value());
          white();
          if (ch === "]") {
            next("]");
            return arr;
          }
          next(",");
          white();
        }
      }
      error("Bad array");
    }
    function object() {
      var key;
      var obj = {};
      if (ch === "{") {
        next("{");
        white();
        if (ch === "}") {
          next("}");
          return obj;
        }
        while (ch) {
          key = string();
          white();
          next(":");
          if (Object.prototype.hasOwnProperty.call(obj, key)) {
            error('Duplicate key "' + key + '"');
          }
          obj[key] = value();
          white();
          if (ch === "}") {
            next("}");
            return obj;
          }
          next(",");
          white();
        }
      }
      error("Bad object");
    }
    function value() {
      white();
      switch (ch) {
        case "{":
          return object();
        case "[":
          return array();
        case '"':
          return string();
        case "-":
          return number();
        default:
          return ch >= "0" && ch <= "9" ? number() : word();
      }
    }
    module2.exports = function(source, reviver) {
      var result;
      text = source;
      at = 0;
      ch = " ";
      result = value();
      white();
      if (ch) {
        error("Syntax error");
      }
      return typeof reviver === "function" ? function walk(holder, key) {
        var k;
        var v;
        var val = holder[key];
        if (val && typeof val === "object") {
          for (k in value) {
            if (Object.prototype.hasOwnProperty.call(val, k)) {
              v = walk(val, k);
              if (typeof v === "undefined") {
                delete val[k];
              } else {
                val[k] = v;
              }
            }
          }
        }
        return reviver.call(holder, key, val);
      }({ "": result }, "") : result;
    };
  }
});

// node_modules/jsonify/lib/stringify.js
var require_stringify = __commonJS({
  "node_modules/jsonify/lib/stringify.js"(exports, module2) {
    "use strict";
    var escapable = /[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
    var gap;
    var indent;
    var meta = {
      // table of character substitutions
      "\b": "\\b",
      "	": "\\t",
      "\n": "\\n",
      "\f": "\\f",
      "\r": "\\r",
      '"': '\\"',
      "\\": "\\\\"
    };
    var rep;
    function quote(string) {
      escapable.lastIndex = 0;
      return escapable.test(string) ? '"' + string.replace(escapable, function(a) {
        var c = meta[a];
        return typeof c === "string" ? c : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4);
      }) + '"' : '"' + string + '"';
    }
    function str(key, holder) {
      var i;
      var k;
      var v;
      var length;
      var mind = gap;
      var partial;
      var value = holder[key];
      if (value && typeof value === "object" && typeof value.toJSON === "function") {
        value = value.toJSON(key);
      }
      if (typeof rep === "function") {
        value = rep.call(holder, key, value);
      }
      switch (typeof value) {
        case "string":
          return quote(value);
        case "number":
          return isFinite(value) ? String(value) : "null";
        case "boolean":
        case "null":
          return String(value);
        case "object":
          if (!value) {
            return "null";
          }
          gap += indent;
          partial = [];
          if (Object.prototype.toString.apply(value) === "[object Array]") {
            length = value.length;
            for (i = 0; i < length; i += 1) {
              partial[i] = str(i, value) || "null";
            }
            v = partial.length === 0 ? "[]" : gap ? "[\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "]" : "[" + partial.join(",") + "]";
            gap = mind;
            return v;
          }
          if (rep && typeof rep === "object") {
            length = rep.length;
            for (i = 0; i < length; i += 1) {
              k = rep[i];
              if (typeof k === "string") {
                v = str(k, value);
                if (v) {
                  partial.push(quote(k) + (gap ? ": " : ":") + v);
                }
              }
            }
          } else {
            for (k in value) {
              if (Object.prototype.hasOwnProperty.call(value, k)) {
                v = str(k, value);
                if (v) {
                  partial.push(quote(k) + (gap ? ": " : ":") + v);
                }
              }
            }
          }
          v = partial.length === 0 ? "{}" : gap ? "{\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "}" : "{" + partial.join(",") + "}";
          gap = mind;
          return v;
        default:
      }
    }
    module2.exports = function(value, replacer, space) {
      var i;
      gap = "";
      indent = "";
      if (typeof space === "number") {
        for (i = 0; i < space; i += 1) {
          indent += " ";
        }
      } else if (typeof space === "string") {
        indent = space;
      }
      rep = replacer;
      if (replacer && typeof replacer !== "function" && (typeof replacer !== "object" || typeof replacer.length !== "number")) {
        throw new Error("JSON.stringify");
      }
      return str("", { "": value });
    };
  }
});

// node_modules/jsonify/index.js
var require_jsonify = __commonJS({
  "node_modules/jsonify/index.js"(exports) {
    "use strict";
    exports.parse = require_parse();
    exports.stringify = require_stringify();
  }
});

// node_modules/isarray/index.js
var require_isarray = __commonJS({
  "node_modules/isarray/index.js"(exports, module2) {
    var toString = {}.toString;
    module2.exports = Array.isArray || function(arr) {
      return toString.call(arr) == "[object Array]";
    };
  }
});

// node_modules/object-keys/isArguments.js
var require_isArguments = __commonJS({
  "node_modules/object-keys/isArguments.js"(exports, module2) {
    "use strict";
    var toStr = Object.prototype.toString;
    module2.exports = function isArguments(value) {
      var str = toStr.call(value);
      var isArgs = str === "[object Arguments]";
      if (!isArgs) {
        isArgs = str !== "[object Array]" && value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && toStr.call(value.callee) === "[object Function]";
      }
      return isArgs;
    };
  }
});

// node_modules/object-keys/implementation.js
var require_implementation = __commonJS({
  "node_modules/object-keys/implementation.js"(exports, module2) {
    "use strict";
    var keysShim;
    if (!Object.keys) {
      has = Object.prototype.hasOwnProperty;
      toStr = Object.prototype.toString;
      isArgs = require_isArguments();
      isEnumerable = Object.prototype.propertyIsEnumerable;
      hasDontEnumBug = !isEnumerable.call({ toString: null }, "toString");
      hasProtoEnumBug = isEnumerable.call(function() {
      }, "prototype");
      dontEnums = [
        "toString",
        "toLocaleString",
        "valueOf",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "constructor"
      ];
      equalsConstructorPrototype = function(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };
      excludedKeys = {
        $applicationCache: true,
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $onmozfullscreenchange: true,
        $onmozfullscreenerror: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };
      hasAutomationEqualityBug = function() {
        if (typeof window === "undefined") {
          return false;
        }
        for (var k in window) {
          try {
            if (!excludedKeys["$" + k] && has.call(window, k) && window[k] !== null && typeof window[k] === "object") {
              try {
                equalsConstructorPrototype(window[k]);
              } catch (e) {
                return true;
              }
            }
          } catch (e) {
            return true;
          }
        }
        return false;
      }();
      equalsConstructorPrototypeIfNotBuggy = function(o) {
        if (typeof window === "undefined" || !hasAutomationEqualityBug) {
          return equalsConstructorPrototype(o);
        }
        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };
      keysShim = function keys(object) {
        var isObject = object !== null && typeof object === "object";
        var isFunction = toStr.call(object) === "[object Function]";
        var isArguments = isArgs(object);
        var isString = isObject && toStr.call(object) === "[object String]";
        var theKeys = [];
        if (!isObject && !isFunction && !isArguments) {
          throw new TypeError("Object.keys called on a non-object");
        }
        var skipProto = hasProtoEnumBug && isFunction;
        if (isString && object.length > 0 && !has.call(object, 0)) {
          for (var i = 0; i < object.length; ++i) {
            theKeys.push(String(i));
          }
        }
        if (isArguments && object.length > 0) {
          for (var j = 0; j < object.length; ++j) {
            theKeys.push(String(j));
          }
        } else {
          for (var name in object) {
            if (!(skipProto && name === "prototype") && has.call(object, name)) {
              theKeys.push(String(name));
            }
          }
        }
        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
          for (var k = 0; k < dontEnums.length; ++k) {
            if (!(skipConstructor && dontEnums[k] === "constructor") && has.call(object, dontEnums[k])) {
              theKeys.push(dontEnums[k]);
            }
          }
        }
        return theKeys;
      };
    }
    var has;
    var toStr;
    var isArgs;
    var isEnumerable;
    var hasDontEnumBug;
    var hasProtoEnumBug;
    var dontEnums;
    var equalsConstructorPrototype;
    var excludedKeys;
    var hasAutomationEqualityBug;
    var equalsConstructorPrototypeIfNotBuggy;
    module2.exports = keysShim;
  }
});

// node_modules/object-keys/index.js
var require_object_keys = __commonJS({
  "node_modules/object-keys/index.js"(exports, module2) {
    "use strict";
    var slice = Array.prototype.slice;
    var isArgs = require_isArguments();
    var origKeys = Object.keys;
    var keysShim = origKeys ? function keys(o) {
      return origKeys(o);
    } : require_implementation();
    var originalKeys = Object.keys;
    keysShim.shim = function shimObjectKeys() {
      if (Object.keys) {
        var keysWorksWithArguments = function() {
          var args = Object.keys(arguments);
          return args && args.length === arguments.length;
        }(1, 2);
        if (!keysWorksWithArguments) {
          Object.keys = function keys(object) {
            if (isArgs(object)) {
              return originalKeys(slice.call(object));
            }
            return originalKeys(object);
          };
        }
      } else {
        Object.keys = keysShim;
      }
      return Object.keys || keysShim;
    };
    module2.exports = keysShim;
  }
});

// node_modules/es-object-atoms/index.js
var require_es_object_atoms = __commonJS({
  "node_modules/es-object-atoms/index.js"(exports, module2) {
    "use strict";
    module2.exports = Object;
  }
});

// node_modules/es-errors/index.js
var require_es_errors = __commonJS({
  "node_modules/es-errors/index.js"(exports, module2) {
    "use strict";
    module2.exports = Error;
  }
});

// node_modules/es-errors/eval.js
var require_eval = __commonJS({
  "node_modules/es-errors/eval.js"(exports, module2) {
    "use strict";
    module2.exports = EvalError;
  }
});

// node_modules/es-errors/range.js
var require_range = __commonJS({
  "node_modules/es-errors/range.js"(exports, module2) {
    "use strict";
    module2.exports = RangeError;
  }
});

// node_modules/es-errors/ref.js
var require_ref = __commonJS({
  "node_modules/es-errors/ref.js"(exports, module2) {
    "use strict";
    module2.exports = ReferenceError;
  }
});

// node_modules/es-errors/syntax.js
var require_syntax = __commonJS({
  "node_modules/es-errors/syntax.js"(exports, module2) {
    "use strict";
    module2.exports = SyntaxError;
  }
});

// node_modules/es-errors/type.js
var require_type = __commonJS({
  "node_modules/es-errors/type.js"(exports, module2) {
    "use strict";
    module2.exports = TypeError;
  }
});

// node_modules/es-errors/uri.js
var require_uri = __commonJS({
  "node_modules/es-errors/uri.js"(exports, module2) {
    "use strict";
    module2.exports = URIError;
  }
});

// node_modules/math-intrinsics/abs.js
var require_abs = __commonJS({
  "node_modules/math-intrinsics/abs.js"(exports, module2) {
    "use strict";
    module2.exports = Math.abs;
  }
});

// node_modules/math-intrinsics/floor.js
var require_floor = __commonJS({
  "node_modules/math-intrinsics/floor.js"(exports, module2) {
    "use strict";
    module2.exports = Math.floor;
  }
});

// node_modules/math-intrinsics/max.js
var require_max = __commonJS({
  "node_modules/math-intrinsics/max.js"(exports, module2) {
    "use strict";
    module2.exports = Math.max;
  }
});

// node_modules/math-intrinsics/min.js
var require_min = __commonJS({
  "node_modules/math-intrinsics/min.js"(exports, module2) {
    "use strict";
    module2.exports = Math.min;
  }
});

// node_modules/math-intrinsics/pow.js
var require_pow = __commonJS({
  "node_modules/math-intrinsics/pow.js"(exports, module2) {
    "use strict";
    module2.exports = Math.pow;
  }
});

// node_modules/math-intrinsics/round.js
var require_round = __commonJS({
  "node_modules/math-intrinsics/round.js"(exports, module2) {
    "use strict";
    module2.exports = Math.round;
  }
});

// node_modules/math-intrinsics/isNaN.js
var require_isNaN = __commonJS({
  "node_modules/math-intrinsics/isNaN.js"(exports, module2) {
    "use strict";
    module2.exports = Number.isNaN || function isNaN2(a) {
      return a !== a;
    };
  }
});

// node_modules/math-intrinsics/sign.js
var require_sign = __commonJS({
  "node_modules/math-intrinsics/sign.js"(exports, module2) {
    "use strict";
    var $isNaN = require_isNaN();
    module2.exports = function sign(number) {
      if ($isNaN(number) || number === 0) {
        return number;
      }
      return number < 0 ? -1 : 1;
    };
  }
});

// node_modules/gopd/gOPD.js
var require_gOPD = __commonJS({
  "node_modules/gopd/gOPD.js"(exports, module2) {
    "use strict";
    module2.exports = Object.getOwnPropertyDescriptor;
  }
});

// node_modules/gopd/index.js
var require_gopd = __commonJS({
  "node_modules/gopd/index.js"(exports, module2) {
    "use strict";
    var $gOPD = require_gOPD();
    if ($gOPD) {
      try {
        $gOPD([], "length");
      } catch (e) {
        $gOPD = null;
      }
    }
    module2.exports = $gOPD;
  }
});

// node_modules/es-define-property/index.js
var require_es_define_property = __commonJS({
  "node_modules/es-define-property/index.js"(exports, module2) {
    "use strict";
    var $defineProperty = Object.defineProperty || false;
    if ($defineProperty) {
      try {
        $defineProperty({}, "a", { value: 1 });
      } catch (e) {
        $defineProperty = false;
      }
    }
    module2.exports = $defineProperty;
  }
});

// node_modules/has-symbols/shams.js
var require_shams = __commonJS({
  "node_modules/has-symbols/shams.js"(exports, module2) {
    "use strict";
    module2.exports = function hasSymbols() {
      if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
        return false;
      }
      if (typeof Symbol.iterator === "symbol") {
        return true;
      }
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if (typeof sym === "string") {
        return false;
      }
      if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
        return false;
      }
      if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
        return false;
      }
      var symVal = 42;
      obj[sym] = symVal;
      for (var _ in obj) {
        return false;
      }
      if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
        return false;
      }
      if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
        return false;
      }
      var syms = Object.getOwnPropertySymbols(obj);
      if (syms.length !== 1 || syms[0] !== sym) {
        return false;
      }
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
        return false;
      }
      if (typeof Object.getOwnPropertyDescriptor === "function") {
        var descriptor = (
          /** @type {PropertyDescriptor} */
          Object.getOwnPropertyDescriptor(obj, sym)
        );
        if (descriptor.value !== symVal || descriptor.enumerable !== true) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/has-symbols/index.js
var require_has_symbols = __commonJS({
  "node_modules/has-symbols/index.js"(exports, module2) {
    "use strict";
    var origSymbol = typeof Symbol !== "undefined" && Symbol;
    var hasSymbolSham = require_shams();
    module2.exports = function hasNativeSymbols() {
      if (typeof origSymbol !== "function") {
        return false;
      }
      if (typeof Symbol !== "function") {
        return false;
      }
      if (typeof origSymbol("foo") !== "symbol") {
        return false;
      }
      if (typeof Symbol("bar") !== "symbol") {
        return false;
      }
      return hasSymbolSham();
    };
  }
});

// node_modules/get-proto/Reflect.getPrototypeOf.js
var require_Reflect_getPrototypeOf = __commonJS({
  "node_modules/get-proto/Reflect.getPrototypeOf.js"(exports, module2) {
    "use strict";
    module2.exports = typeof Reflect !== "undefined" && Reflect.getPrototypeOf || null;
  }
});

// node_modules/get-proto/Object.getPrototypeOf.js
var require_Object_getPrototypeOf = __commonJS({
  "node_modules/get-proto/Object.getPrototypeOf.js"(exports, module2) {
    "use strict";
    var $Object = require_es_object_atoms();
    module2.exports = $Object.getPrototypeOf || null;
  }
});

// node_modules/function-bind/implementation.js
var require_implementation2 = __commonJS({
  "node_modules/function-bind/implementation.js"(exports, module2) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var toStr = Object.prototype.toString;
    var max = Math.max;
    var funcType = "[object Function]";
    var concatty = function concatty2(a, b) {
      var arr = [];
      for (var i = 0; i < a.length; i += 1) {
        arr[i] = a[i];
      }
      for (var j = 0; j < b.length; j += 1) {
        arr[j + a.length] = b[j];
      }
      return arr;
    };
    var slicy = function slicy2(arrLike, offset) {
      var arr = [];
      for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {
        arr[j] = arrLike[i];
      }
      return arr;
    };
    var joiny = function(arr, joiner) {
      var str = "";
      for (var i = 0; i < arr.length; i += 1) {
        str += arr[i];
        if (i + 1 < arr.length) {
          str += joiner;
        }
      }
      return str;
    };
    module2.exports = function bind(that) {
      var target = this;
      if (typeof target !== "function" || toStr.apply(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
      }
      var args = slicy(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(
            this,
            concatty(args, arguments)
          );
          if (Object(result) === result) {
            return result;
          }
          return this;
        }
        return target.apply(
          that,
          concatty(args, arguments)
        );
      };
      var boundLength = max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) {
        boundArgs[i] = "$" + i;
      }
      bound = Function("binder", "return function (" + joiny(boundArgs, ",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty2() {
        };
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }
});

// node_modules/function-bind/index.js
var require_function_bind = __commonJS({
  "node_modules/function-bind/index.js"(exports, module2) {
    "use strict";
    var implementation = require_implementation2();
    module2.exports = Function.prototype.bind || implementation;
  }
});

// node_modules/call-bind-apply-helpers/functionCall.js
var require_functionCall = __commonJS({
  "node_modules/call-bind-apply-helpers/functionCall.js"(exports, module2) {
    "use strict";
    module2.exports = Function.prototype.call;
  }
});

// node_modules/call-bind-apply-helpers/functionApply.js
var require_functionApply = __commonJS({
  "node_modules/call-bind-apply-helpers/functionApply.js"(exports, module2) {
    "use strict";
    module2.exports = Function.prototype.apply;
  }
});

// node_modules/call-bind-apply-helpers/reflectApply.js
var require_reflectApply = __commonJS({
  "node_modules/call-bind-apply-helpers/reflectApply.js"(exports, module2) {
    "use strict";
    module2.exports = typeof Reflect !== "undefined" && Reflect && Reflect.apply;
  }
});

// node_modules/call-bind-apply-helpers/actualApply.js
var require_actualApply = __commonJS({
  "node_modules/call-bind-apply-helpers/actualApply.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var $apply = require_functionApply();
    var $call = require_functionCall();
    var $reflectApply = require_reflectApply();
    module2.exports = $reflectApply || bind.call($call, $apply);
  }
});

// node_modules/call-bind-apply-helpers/index.js
var require_call_bind_apply_helpers = __commonJS({
  "node_modules/call-bind-apply-helpers/index.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var $TypeError = require_type();
    var $call = require_functionCall();
    var $actualApply = require_actualApply();
    module2.exports = function callBindBasic(args) {
      if (args.length < 1 || typeof args[0] !== "function") {
        throw new $TypeError("a function is required");
      }
      return $actualApply(bind, $call, args);
    };
  }
});

// node_modules/dunder-proto/get.js
var require_get = __commonJS({
  "node_modules/dunder-proto/get.js"(exports, module2) {
    "use strict";
    var callBind = require_call_bind_apply_helpers();
    var gOPD = require_gopd();
    var hasProtoAccessor;
    try {
      hasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */
      [].__proto__ === Array.prototype;
    } catch (e) {
      if (!e || typeof e !== "object" || !("code" in e) || e.code !== "ERR_PROTO_ACCESS") {
        throw e;
      }
    }
    var desc = !!hasProtoAccessor && gOPD && gOPD(
      Object.prototype,
      /** @type {keyof typeof Object.prototype} */
      "__proto__"
    );
    var $Object = Object;
    var $getPrototypeOf = $Object.getPrototypeOf;
    module2.exports = desc && typeof desc.get === "function" ? callBind([desc.get]) : typeof $getPrototypeOf === "function" ? (
      /** @type {import('./get')} */
      function getDunder(value) {
        return $getPrototypeOf(value == null ? value : $Object(value));
      }
    ) : false;
  }
});

// node_modules/get-proto/index.js
var require_get_proto = __commonJS({
  "node_modules/get-proto/index.js"(exports, module2) {
    "use strict";
    var reflectGetProto = require_Reflect_getPrototypeOf();
    var originalGetProto = require_Object_getPrototypeOf();
    var getDunderProto = require_get();
    module2.exports = reflectGetProto ? function getProto(O) {
      return reflectGetProto(O);
    } : originalGetProto ? function getProto(O) {
      if (!O || typeof O !== "object" && typeof O !== "function") {
        throw new TypeError("getProto: not an object");
      }
      return originalGetProto(O);
    } : getDunderProto ? function getProto(O) {
      return getDunderProto(O);
    } : null;
  }
});

// node_modules/hasown/index.js
var require_hasown = __commonJS({
  "node_modules/hasown/index.js"(exports, module2) {
    "use strict";
    var call = Function.prototype.call;
    var $hasOwn = Object.prototype.hasOwnProperty;
    var bind = require_function_bind();
    module2.exports = bind.call(call, $hasOwn);
  }
});

// node_modules/get-intrinsic/index.js
var require_get_intrinsic = __commonJS({
  "node_modules/get-intrinsic/index.js"(exports, module2) {
    "use strict";
    var undefined2;
    var $Object = require_es_object_atoms();
    var $Error = require_es_errors();
    var $EvalError = require_eval();
    var $RangeError = require_range();
    var $ReferenceError = require_ref();
    var $SyntaxError = require_syntax();
    var $TypeError = require_type();
    var $URIError = require_uri();
    var abs = require_abs();
    var floor = require_floor();
    var max = require_max();
    var min = require_min();
    var pow = require_pow();
    var round = require_round();
    var sign = require_sign();
    var $Function = Function;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e) {
      }
    };
    var $gOPD = require_gopd();
    var $defineProperty = require_es_define_property();
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require_has_symbols()();
    var getProto = require_get_proto();
    var $ObjectGPO = require_Object_getPrototypeOf();
    var $ReflectGPO = require_Reflect_getPrototypeOf();
    var $apply = require_functionApply();
    var $call = require_functionCall();
    var needsEval = {};
    var TypedArray = typeof Uint8Array === "undefined" || !getProto ? undefined2 : getProto(Uint8Array);
    var INTRINSICS = {
      __proto__: null,
      "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined2,
      "%AsyncFromSyncIteratorPrototype%": undefined2,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
      "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
      "%BigInt64Array%": typeof BigInt64Array === "undefined" ? undefined2 : BigInt64Array,
      "%BigUint64Array%": typeof BigUint64Array === "undefined" ? undefined2 : BigUint64Array,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": $Error,
      "%eval%": eval,
      // eslint-disable-line no-eval
      "%EvalError%": $EvalError,
      "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
      "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
      "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
      "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
      "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined2,
      "%JSON%": typeof JSON === "object" ? JSON : undefined2,
      "%Map%": typeof Map === "undefined" ? undefined2 : Map,
      "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Map())[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": $Object,
      "%Object.getOwnPropertyDescriptor%": $gOPD,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
      "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
      "%RangeError%": $RangeError,
      "%ReferenceError%": $ReferenceError,
      "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set === "undefined" ? undefined2 : Set,
      "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Set())[Symbol.iterator]()),
      "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols && getProto ? getProto(""[Symbol.iterator]()) : undefined2,
      "%Symbol%": hasSymbols ? Symbol : undefined2,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
      "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
      "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
      "%URIError%": $URIError,
      "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
      "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
      "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet,
      "%Function.prototype.call%": $call,
      "%Function.prototype.apply%": $apply,
      "%Object.defineProperty%": $defineProperty,
      "%Object.getPrototypeOf%": $ObjectGPO,
      "%Math.abs%": abs,
      "%Math.floor%": floor,
      "%Math.max%": max,
      "%Math.min%": min,
      "%Math.pow%": pow,
      "%Math.round%": round,
      "%Math.sign%": sign,
      "%Reflect.getPrototypeOf%": $ReflectGPO
    };
    if (getProto) {
      try {
        null.error;
      } catch (e) {
        errorProto = getProto(getProto(e));
        INTRINSICS["%Error.prototype%"] = errorProto;
      }
    }
    var errorProto;
    var doEval = function doEval2(name) {
      var value;
      if (name === "%AsyncFunction%") {
        value = getEvalledConstructor("async function () {}");
      } else if (name === "%GeneratorFunction%") {
        value = getEvalledConstructor("function* () {}");
      } else if (name === "%AsyncGeneratorFunction%") {
        value = getEvalledConstructor("async function* () {}");
      } else if (name === "%AsyncGenerator%") {
        var fn = doEval2("%AsyncGeneratorFunction%");
        if (fn) {
          value = fn.prototype;
        }
      } else if (name === "%AsyncIteratorPrototype%") {
        var gen = doEval2("%AsyncGenerator%");
        if (gen && getProto) {
          value = getProto(gen.prototype);
        }
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      __proto__: null,
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"]
    };
    var bind = require_function_bind();
    var hasOwn = require_hasown();
    var $concat = bind.call($call, Array.prototype.concat);
    var $spliceApply = bind.call($apply, Array.prototype.splice);
    var $replace = bind.call($call, String.prototype.replace);
    var $strSlice = bind.call($call, String.prototype.slice);
    var $exec = bind.call($call, RegExp.prototype.exec);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath2(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if (first === "%" && last !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      } else if (last === "%" && first !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      }
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        if (value === needsEval) {
          value = doEval(intrinsicName);
        }
        if (typeof value === "undefined" && !allowMissing) {
          throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        }
        return {
          alias,
          name: intrinsicName,
          value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module2.exports = function GetIntrinsic(name, allowMissing) {
      if (typeof name !== "string" || name.length === 0) {
        throw new $TypeError("intrinsic name must be a non-empty string");
      }
      if (arguments.length > 1 && typeof allowMissing !== "boolean") {
        throw new $TypeError('"allowMissing" argument must be a boolean');
      }
      if ($exec(/^%?[^%]*%?$/, name) === null) {
        throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
      }
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([0, 1], alias));
      }
      for (var i = 1, isOwn = true; i < parts.length; i += 1) {
        var part = parts[i];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
          throw new $SyntaxError("property names with quotes must have matching quotes");
        }
        if (part === "constructor" || !isOwn) {
          skipFurtherCaching = true;
        }
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) {
          value = INTRINSICS[intrinsicRealName];
        } else if (value != null) {
          if (!(part in value)) {
            if (!allowMissing) {
              throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            }
            return void 0;
          }
          if ($gOPD && i + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
              value = desc.get;
            } else {
              value = value[part];
            }
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          if (isOwn && !skipFurtherCaching) {
            INTRINSICS[intrinsicRealName] = value;
          }
        }
      }
      return value;
    };
  }
});

// node_modules/define-data-property/index.js
var require_define_data_property = __commonJS({
  "node_modules/define-data-property/index.js"(exports, module2) {
    "use strict";
    var $defineProperty = require_es_define_property();
    var $SyntaxError = require_syntax();
    var $TypeError = require_type();
    var gopd = require_gopd();
    module2.exports = function defineDataProperty(obj, property, value) {
      if (!obj || typeof obj !== "object" && typeof obj !== "function") {
        throw new $TypeError("`obj` must be an object or a function`");
      }
      if (typeof property !== "string" && typeof property !== "symbol") {
        throw new $TypeError("`property` must be a string or a symbol`");
      }
      if (arguments.length > 3 && typeof arguments[3] !== "boolean" && arguments[3] !== null) {
        throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 4 && typeof arguments[4] !== "boolean" && arguments[4] !== null) {
        throw new $TypeError("`nonWritable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 5 && typeof arguments[5] !== "boolean" && arguments[5] !== null) {
        throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 6 && typeof arguments[6] !== "boolean") {
        throw new $TypeError("`loose`, if provided, must be a boolean");
      }
      var nonEnumerable = arguments.length > 3 ? arguments[3] : null;
      var nonWritable = arguments.length > 4 ? arguments[4] : null;
      var nonConfigurable = arguments.length > 5 ? arguments[5] : null;
      var loose = arguments.length > 6 ? arguments[6] : false;
      var desc = !!gopd && gopd(obj, property);
      if ($defineProperty) {
        $defineProperty(obj, property, {
          configurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,
          enumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,
          value,
          writable: nonWritable === null && desc ? desc.writable : !nonWritable
        });
      } else if (loose || !nonEnumerable && !nonWritable && !nonConfigurable) {
        obj[property] = value;
      } else {
        throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
      }
    };
  }
});

// node_modules/has-property-descriptors/index.js
var require_has_property_descriptors = __commonJS({
  "node_modules/has-property-descriptors/index.js"(exports, module2) {
    "use strict";
    var $defineProperty = require_es_define_property();
    var hasPropertyDescriptors = function hasPropertyDescriptors2() {
      return !!$defineProperty;
    };
    hasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {
      if (!$defineProperty) {
        return null;
      }
      try {
        return $defineProperty([], "length", { value: 1 }).length !== 1;
      } catch (e) {
        return true;
      }
    };
    module2.exports = hasPropertyDescriptors;
  }
});

// node_modules/set-function-length/index.js
var require_set_function_length = __commonJS({
  "node_modules/set-function-length/index.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var define = require_define_data_property();
    var hasDescriptors = require_has_property_descriptors()();
    var gOPD = require_gopd();
    var $TypeError = require_type();
    var $floor = GetIntrinsic("%Math.floor%");
    module2.exports = function setFunctionLength(fn, length) {
      if (typeof fn !== "function") {
        throw new $TypeError("`fn` is not a function");
      }
      if (typeof length !== "number" || length < 0 || length > 4294967295 || $floor(length) !== length) {
        throw new $TypeError("`length` must be a positive 32-bit integer");
      }
      var loose = arguments.length > 2 && !!arguments[2];
      var functionLengthIsConfigurable = true;
      var functionLengthIsWritable = true;
      if ("length" in fn && gOPD) {
        var desc = gOPD(fn, "length");
        if (desc && !desc.configurable) {
          functionLengthIsConfigurable = false;
        }
        if (desc && !desc.writable) {
          functionLengthIsWritable = false;
        }
      }
      if (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {
        if (hasDescriptors) {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "length",
            length,
            true,
            true
          );
        } else {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "length",
            length
          );
        }
      }
      return fn;
    };
  }
});

// node_modules/call-bind-apply-helpers/applyBind.js
var require_applyBind = __commonJS({
  "node_modules/call-bind-apply-helpers/applyBind.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var $apply = require_functionApply();
    var actualApply = require_actualApply();
    module2.exports = function applyBind() {
      return actualApply(bind, $apply, arguments);
    };
  }
});

// node_modules/call-bind/index.js
var require_call_bind = __commonJS({
  "node_modules/call-bind/index.js"(exports, module2) {
    "use strict";
    var setFunctionLength = require_set_function_length();
    var $defineProperty = require_es_define_property();
    var callBindBasic = require_call_bind_apply_helpers();
    var applyBind = require_applyBind();
    module2.exports = function callBind(originalFunction) {
      var func = callBindBasic(arguments);
      var adjustedLength = originalFunction.length - (arguments.length - 1);
      return setFunctionLength(
        func,
        1 + (adjustedLength > 0 ? adjustedLength : 0),
        true
      );
    };
    if ($defineProperty) {
      $defineProperty(module2.exports, "apply", { value: applyBind });
    } else {
      module2.exports.apply = applyBind;
    }
  }
});

// node_modules/call-bound/index.js
var require_call_bound = __commonJS({
  "node_modules/call-bound/index.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBindBasic = require_call_bind_apply_helpers();
    var $indexOf = callBindBasic([GetIntrinsic("%String.prototype.indexOf%")]);
    module2.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = (
        /** @type {Parameters<typeof callBindBasic>[0][0]} */
        GetIntrinsic(name, !!allowMissing)
      );
      if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
        return callBindBasic([intrinsic]);
      }
      return intrinsic;
    };
  }
});

// node_modules/json-stable-stringify/index.js
var require_json_stable_stringify = __commonJS({
  "node_modules/json-stable-stringify/index.js"(exports, module2) {
    "use strict";
    var jsonStringify = (typeof JSON !== "undefined" ? JSON : require_jsonify()).stringify;
    var isArray = require_isarray();
    var objectKeys = require_object_keys();
    var callBind = require_call_bind();
    var callBound = require_call_bound();
    var $join = callBound("Array.prototype.join");
    var $indexOf = callBound("Array.prototype.indexOf");
    var $splice = callBound("Array.prototype.splice");
    var $sort = callBound("Array.prototype.sort");
    var strRepeat = function repeat(n, char) {
      var str = "";
      for (var i = 0; i < n; i += 1) {
        str += char;
      }
      return str;
    };
    var defaultReplacer = function(_parent, _key, value) {
      return value;
    };
    module2.exports = function stableStringify(obj) {
      var opts = arguments.length > 1 ? arguments[1] : void 0;
      var space = opts && opts.space || "";
      if (typeof space === "number") {
        space = strRepeat(space, " ");
      }
      var cycles = !!opts && typeof opts.cycles === "boolean" && opts.cycles;
      var replacer = opts && opts.replacer ? callBind(opts.replacer) : defaultReplacer;
      var cmpOpt = typeof opts === "function" ? opts : opts && opts.cmp;
      var cmp = cmpOpt && function(node) {
        var get = (
          /** @type {NonNullable<typeof cmpOpt>} */
          cmpOpt.length > 2 && /** @type {import('.').Getter['get']} */
          function get2(k) {
            return node[k];
          }
        );
        return function(a, b) {
          return (
            /** @type {NonNullable<typeof cmpOpt>} */
            cmpOpt(
              { key: a, value: node[a] },
              { key: b, value: node[b] },
              // @ts-expect-error TS doesn't understand the optimization used here
              get ? (
                /** @type {import('.').Getter} */
                { __proto__: null, get }
              ) : void 0
            )
          );
        };
      };
      var seen = [];
      return (
        /** @type {(parent: import('.').Node, key: string | number, node: unknown, level: number) => string | undefined} */
        function stringify(parent, key, node, level) {
          var indent = space ? "\n" + strRepeat(level, space) : "";
          var colonSeparator = space ? ": " : ":";
          if (node && /** @type {{ toJSON?: unknown }} */
          node.toJSON && typeof /** @type {{ toJSON?: unknown }} */
          node.toJSON === "function") {
            node = /** @type {{ toJSON: Function }} */
            node.toJSON();
          }
          node = replacer(parent, key, node);
          if (node === void 0) {
            return;
          }
          if (typeof node !== "object" || node === null) {
            return jsonStringify(node);
          }
          if (isArray(node)) {
            var out = [];
            for (var i = 0; i < node.length; i++) {
              var item = stringify(node, i, node[i], level + 1) || jsonStringify(null);
              out[out.length] = indent + space + item;
            }
            return "[" + $join(out, ",") + indent + "]";
          }
          if ($indexOf(seen, node) !== -1) {
            if (cycles) {
              return jsonStringify("__cycle__");
            }
            throw new TypeError("Converting circular structure to JSON");
          } else {
            seen[seen.length] = /** @type {import('.').NonArrayNode} */
            node;
          }
          var keys = $sort(objectKeys(node), cmp && cmp(
            /** @type {import('.').NonArrayNode} */
            node
          ));
          var out = [];
          for (var i = 0; i < keys.length; i++) {
            var key = keys[i];
            var value = stringify(
              /** @type {import('.').Node} */
              node,
              key,
              /** @type {import('.').NonArrayNode} */
              node[key],
              level + 1
            );
            if (!value) {
              continue;
            }
            var keyValue = jsonStringify(key) + colonSeparator + value;
            out[out.length] = indent + space + keyValue;
          }
          $splice(seen, $indexOf(seen, node), 1);
          return "{" + $join(out, ",") + indent + "}";
        }({ "": obj }, "", obj, 0)
      );
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AdvancedCanvasPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian10 = require("obsidian");

// node_modules/monkey-around/mjs/index.js
function around(obj, factories) {
  const removers = Object.keys(factories).map((key) => around1(obj, key, factories[key]));
  return removers.length === 1 ? removers[0] : function() {
    removers.forEach((r) => r());
  };
}
function around1(obj, method, createWrapper) {
  const original = obj[method], hadOwn = obj.hasOwnProperty(method);
  let current = createWrapper(original);
  if (original)
    Object.setPrototypeOf(current, original);
  Object.setPrototypeOf(wrapper, current);
  obj[method] = wrapper;
  return remove;
  function wrapper(...args) {
    if (current === original && obj[method] === wrapper)
      remove();
    return current.apply(this, args);
  }
  function remove() {
    if (obj[method] === wrapper) {
      if (hadOwn)
        obj[method] = original;
      else
        delete obj[method];
    }
    if (current === original)
      return;
    current = original;
    Object.setPrototypeOf(wrapper, original || Function);
  }
}

// src/utils/patch-helper.ts
var PatchHelper = class {
  static tryPatchWorkspacePrototype(plugin, getTarget, functions) {
    return new Promise((resolve) => {
      const tryPatch = () => {
        const target = getTarget();
        if (!target)
          return null;
        const uninstaller = around(target.constructor.prototype, functions);
        plugin.register(uninstaller);
        return target;
      };
      const result = tryPatch();
      if (result) {
        resolve(result);
        return;
      }
      const listener = plugin.app.workspace.on("layout-change", () => {
        const result2 = tryPatch();
        if (result2) {
          plugin.app.workspace.offref(listener);
          resolve(result2);
        }
      });
      plugin.registerEvent(listener);
    });
  }
  static patchObjectPrototype(plugin, target, functions) {
    const uninstaller = around(target.constructor.prototype, functions);
    plugin.register(uninstaller);
  }
  static patchObjectInstance(plugin, target, functions) {
    const uninstaller = around(target, functions);
    plugin.register(uninstaller);
  }
};

// src/core/events.ts
var CANVAS_EVENT_PREFIX = "canvas";
var PLUGIN_EVENT_PREFIX = "advanced-canvas";
var CanvasEvent = {
  // Built-in events
  SelectionContextMenu: `${CANVAS_EVENT_PREFIX}:selection-menu`,
  NodeContextMenu: `${CANVAS_EVENT_PREFIX}:node-menu`,
  EdgeContextMenu: `${CANVAS_EVENT_PREFIX}:edge-menu`,
  NodeConnectionDropContextMenu: `${CANVAS_EVENT_PREFIX}:node-connection-drop-menu`,
  // Custom events
  CanvasChanged: `${PLUGIN_EVENT_PREFIX}:canvas-changed`,
  ViewportChanged: {
    Before: `${PLUGIN_EVENT_PREFIX}:viewport-changed:before`,
    After: `${PLUGIN_EVENT_PREFIX}:viewport-changed:after`
  },
  NodeMoved: `${PLUGIN_EVENT_PREFIX}:node-moved`,
  DoubleClick: `${PLUGIN_EVENT_PREFIX}:double-click`,
  DraggingStateChanged: `${PLUGIN_EVENT_PREFIX}:dragging-state-changed`,
  NodeCreated: `${PLUGIN_EVENT_PREFIX}:node-created`,
  EdgeCreated: `${PLUGIN_EVENT_PREFIX}:edge-created`,
  NodeAdded: `${PLUGIN_EVENT_PREFIX}:node-added`,
  EdgeAdded: `${PLUGIN_EVENT_PREFIX}:edge-added`,
  NodeChanged: `${PLUGIN_EVENT_PREFIX}:node-changed`,
  EdgeChanged: `${PLUGIN_EVENT_PREFIX}:edge-changed`,
  NodeTextContentChanged: `${PLUGIN_EVENT_PREFIX}:node-text-content-changed`,
  NodeRemoved: `${PLUGIN_EVENT_PREFIX}:node-removed`,
  EdgeRemoved: `${PLUGIN_EVENT_PREFIX}:edge-removed`,
  OnCopy: `${PLUGIN_EVENT_PREFIX}:copy`,
  NodeEditingStateChanged: `${PLUGIN_EVENT_PREFIX}:node-editing-state-changed`,
  NodeBreakpointChanged: `${PLUGIN_EVENT_PREFIX}:node-breakpoint-changed`,
  NodeBBoxRequested: `${PLUGIN_EVENT_PREFIX}:node-bbox-requested`,
  EdgeCenterRequested: `${PLUGIN_EVENT_PREFIX}:edge-center-requested`,
  ContainingNodesRequested: `${PLUGIN_EVENT_PREFIX}:containing-nodes-requested`,
  SelectionChanged: `${PLUGIN_EVENT_PREFIX}:selection-changed`,
  ZoomToBbox: {
    Before: `${PLUGIN_EVENT_PREFIX}:zoom-to-bbox:before`,
    After: `${PLUGIN_EVENT_PREFIX}:zoom-to-bbox:after`
  },
  PopupMenuCreated: `${PLUGIN_EVENT_PREFIX}:popup-menu-created`,
  NodeInteraction: `${PLUGIN_EVENT_PREFIX}:node-interaction`,
  Undo: `${PLUGIN_EVENT_PREFIX}:undo`,
  Redo: `${PLUGIN_EVENT_PREFIX}:redo`,
  ReadonlyChanged: `${PLUGIN_EVENT_PREFIX}:readonly-changed`,
  DataRequested: `${PLUGIN_EVENT_PREFIX}:data-requested`,
  LoadData: `${PLUGIN_EVENT_PREFIX}:load-data`,
  CanvasSaved: {
    Before: `${PLUGIN_EVENT_PREFIX}:canvas-saved:before`,
    After: `${PLUGIN_EVENT_PREFIX}:canvas-saved:after`
  }
};

// src/core/canvas-patcher.ts
var import_obsidian = require("obsidian");
var import_view = require("@codemirror/view");

// node_modules/tiny-jsonc/dist/index.js
var stringOrCommentRe = /("(?:\\?[^])*?")|(\/\/.*)|(\/\*[^]*?\*\/)/g;
var stringOrTrailingCommaRe = /("(?:\\?[^])*?")|(,\s*)(?=]|})/g;
var JSONC = {
  parse: (text) => {
    text = String(text);
    try {
      return JSON.parse(text);
    } catch (e) {
      return JSON.parse(text.replace(stringOrCommentRe, "$1").replace(stringOrTrailingCommaRe, "$1"));
    }
  }
};
var dist_default = JSONC;

// src/core/canvas-patcher.ts
var import_json_stable_stringify = __toESM(require_json_stable_stringify());
var CanvasPatcher = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.applyPatches();
  }
  async applyPatches() {
    const that = this;
    await new Promise((resolve) => this.plugin.app.workspace.onLayoutReady(() => resolve()));
    const getCanvasView = async () => {
      var _a;
      const canvasLeaf = (_a = this.plugin.app.workspace.getLeavesOfType("canvas")) == null ? void 0 : _a.first();
      if (!canvasLeaf)
        return null;
      if ((0, import_obsidian.requireApiVersion)("1.7.2"))
        await canvasLeaf.loadIfDeferred();
      return canvasLeaf.view;
    };
    let canvasView = await getCanvasView();
    canvasView != null ? canvasView : canvasView = await new Promise((resolve) => {
      const event = this.plugin.app.workspace.on("layout-change", async () => {
        const newCanvasView = await getCanvasView();
        if (!newCanvasView)
          return;
        resolve(newCanvasView);
        this.plugin.app.workspace.offref(event);
      });
      this.plugin.registerEvent(event);
    });
    console.log("Patching canvas view:", canvasView);
    PatchHelper.patchObjectPrototype(this.plugin, canvasView, {
      getViewData: (next) => function(...args) {
        const canvasData = this.canvas.getData();
        try {
          return (0, import_json_stable_stringify.default)(canvasData, { space: 2 });
        } catch (e) {
          console.error("Failed to stringify canvas data using json-stable-stringify:", e);
          try {
            return JSON.stringify(canvasData, null, 2);
          } catch (e2) {
            console.error("Failed to stringify canvas data using JSON.stringify:", e2);
            return next.call(this, ...args);
          }
        }
      },
      setViewData: (next) => function(json, ...args) {
        json = json !== "" ? json : "{}";
        let result;
        try {
          result = next.call(this, json, ...args);
        } catch (e) {
          console.error("Invalid JSON, repairing through Advanced Canvas:", e);
          that.plugin.createFileSnapshot(this.file.path, json);
          json = JSON.stringify(dist_default.parse(json), null, 2);
          result = next.call(this, json, ...args);
        }
        that.triggerWorkspaceEvent(CanvasEvent.CanvasChanged, this.canvas);
        return result;
      }
    });
    PatchHelper.patchObjectPrototype(this.plugin, canvasView.canvas, {
      markViewportChanged: (next) => function(...args) {
        that.triggerWorkspaceEvent(CanvasEvent.ViewportChanged.Before, this);
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.ViewportChanged.After, this);
        return result;
      },
      markMoved: (next) => function(node) {
        const result = next.call(this, node);
        that.triggerWorkspaceEvent(CanvasEvent.NodeMoved, this, node);
        return result;
      },
      onDoubleClick: (next) => function(event) {
        const preventDefault = { value: false };
        that.triggerWorkspaceEvent(CanvasEvent.DoubleClick, this, event, preventDefault);
        if (!preventDefault.value)
          next.call(this, event);
      },
      setDragging: (next) => function(dragging) {
        const result = next.call(this, dragging);
        that.triggerWorkspaceEvent(CanvasEvent.DraggingStateChanged, this, dragging);
        return result;
      },
      getContainingNodes: (next) => function(bbox) {
        const result = next.call(this, bbox);
        that.triggerWorkspaceEvent(CanvasEvent.ContainingNodesRequested, this, bbox, result);
        return result;
      },
      updateSelection: (next) => function(update) {
        const oldSelection = new Set(this.selection);
        const result = next.call(this, update);
        that.triggerWorkspaceEvent(CanvasEvent.SelectionChanged, this, oldSelection, (update2) => next.call(this, update2));
        return result;
      },
      createTextNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      createFileNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      createFileNodes: (next) => function(...args) {
        const nodes = next.call(this, ...args);
        nodes.forEach((node) => that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node));
        return nodes;
      },
      createGroupNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      createLinkNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      addNode: (next) => function(node) {
        that.patchNode(node);
        return next.call(this, node);
      },
      addEdge: (next) => function(edge) {
        that.patchEdge(edge);
        if (!this.viewportChanged)
          that.triggerWorkspaceEvent(CanvasEvent.EdgeCreated, this, edge);
        return next.call(this, edge);
      },
      removeNode: (next) => function(node) {
        const result = next.call(this, node);
        if (!this.isClearing)
          that.triggerWorkspaceEvent(CanvasEvent.NodeRemoved, this, node);
        return result;
      },
      removeEdge: (next) => function(edge) {
        const result = next.call(this, edge);
        if (!this.isClearing)
          that.triggerWorkspaceEvent(CanvasEvent.EdgeRemoved, this, edge);
        return result;
      },
      handleCopy: (next) => function(...args) {
        this.isCopying = true;
        const result = next.call(this, ...args);
        this.isCopying = false;
        return result;
      },
      getSelectionData: (next) => function(...args) {
        const result = next.call(this, ...args);
        if (this.isCopying)
          that.triggerWorkspaceEvent(CanvasEvent.OnCopy, this, result);
        return result;
      },
      zoomToBbox: (next) => function(bbox) {
        that.triggerWorkspaceEvent(CanvasEvent.ZoomToBbox.Before, this, bbox);
        const result = next.call(this, bbox);
        that.triggerWorkspaceEvent(CanvasEvent.ZoomToBbox.After, this, bbox);
        return result;
      },
      setReadonly: (next) => function(readonly) {
        const result = next.call(this, readonly);
        that.triggerWorkspaceEvent(CanvasEvent.ReadonlyChanged, this, readonly);
        return result;
      },
      undo: (next) => function(...args) {
        const result = next.call(this, ...args);
        this.importData(this.getData(), true);
        that.triggerWorkspaceEvent(CanvasEvent.Undo, this);
        return result;
      },
      redo: (next) => function(...args) {
        const result = next.call(this, ...args);
        this.importData(this.getData(), true);
        that.triggerWorkspaceEvent(CanvasEvent.Redo, this);
        return result;
      },
      clear: (next) => function(...args) {
        this.isClearing = true;
        const result = next.call(this, ...args);
        this.isClearing = false;
        return result;
      },
      /*setData: (next: any) => function (...args: any) {
        //
        const result = next.call(this, ...args)
        //
        return result
      },*/
      getData: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.DataRequested, this, result);
        return result;
      },
      importData: (next) => function(data, clearCanvas, silent) {
        const targetFilePath = this.view.file.path;
        const setData = (data2) => {
          if (!this.view.file || this.view.file.path !== targetFilePath)
            return;
          this.importData(data2, true, true);
        };
        if (!silent)
          that.triggerWorkspaceEvent(CanvasEvent.LoadData, this, data, setData);
        const result = next.call(this, data, clearCanvas);
        return result;
      },
      requestSave: (next) => function(...args) {
        that.triggerWorkspaceEvent(CanvasEvent.CanvasSaved.Before, this);
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.CanvasSaved.After, this);
        return result;
      }
    });
    PatchHelper.patchObjectPrototype(this.plugin, canvasView.canvas.menu, {
      render: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.PopupMenuCreated, this.canvas);
        next.call(this);
        return result;
      }
    });
    PatchHelper.patchObjectPrototype(this.plugin, canvasView.canvas.nodeInteractionLayer, {
      setTarget: (next) => function(node) {
        const result = next.call(this, node);
        that.triggerWorkspaceEvent(CanvasEvent.NodeInteraction, this.canvas, node);
        return result;
      }
    });
    this.plugin.registerEditorExtension([import_view.EditorView.updateListener.of((update) => {
      if (!update.docChanged)
        return;
      const editor = update.state.field(import_obsidian.editorInfoField);
      const node = editor.node;
      if (!node)
        return;
      that.triggerWorkspaceEvent(CanvasEvent.NodeTextContentChanged, node.canvas, node, update);
    })]);
    this.plugin.app.workspace.iterateAllLeaves((leaf) => {
      if (leaf.view.getViewType() !== "canvas")
        return;
      const canvasView2 = leaf.view;
      canvasView2.leaf.rebuildView();
    });
  }
  patchNode(node) {
    const that = this;
    PatchHelper.patchObjectInstance(this.plugin, node, {
      setData: (next) => function(data, addHistory) {
        const result = next.call(this, data);
        if (node.initialized && !node.isDirty) {
          node.isDirty = true;
          that.triggerWorkspaceEvent(CanvasEvent.NodeChanged, this.canvas, node);
          delete node.isDirty;
        }
        this.canvas.data = this.canvas.getData();
        this.canvas.view.requestSave();
        if (addHistory)
          this.canvas.pushHistory(this.canvas.data);
        return result;
      },
      setIsEditing: (next) => function(editing, ...args) {
        const result = next.call(this, editing, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeEditingStateChanged, this.canvas, node, editing);
        return result;
      },
      updateBreakpoint: (next) => function(breakpoint) {
        const breakpointRef = { value: breakpoint };
        that.triggerWorkspaceEvent(CanvasEvent.NodeBreakpointChanged, this.canvas, node, breakpointRef);
        return next.call(this, breakpointRef.value);
      },
      getBBox: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeBBoxRequested, this.canvas, node, result);
        return result;
      }
    });
    this.runAfterInitialized(node, () => {
      this.triggerWorkspaceEvent(CanvasEvent.NodeAdded, node.canvas, node);
      this.triggerWorkspaceEvent(CanvasEvent.NodeChanged, node.canvas, node);
    });
  }
  patchEdge(edge) {
    const that = this;
    PatchHelper.patchObjectInstance(this.plugin, edge, {
      setData: (next) => function(data, addHistory) {
        const result = next.call(this, data);
        if (edge.initialized && !edge.isDirty) {
          edge.isDirty = true;
          that.triggerWorkspaceEvent(CanvasEvent.EdgeChanged, this.canvas, edge);
          delete edge.isDirty;
        }
        this.canvas.data = this.canvas.getData();
        this.canvas.view.requestSave();
        if (addHistory)
          this.canvas.pushHistory(this.canvas.getData());
        return result;
      },
      render: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.EdgeChanged, this.canvas, edge);
        return result;
      },
      getCenter: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.EdgeCenterRequested, this.canvas, edge, result);
        return result;
      }
    });
    this.runAfterInitialized(edge, () => {
      this.triggerWorkspaceEvent(CanvasEvent.EdgeAdded, edge.canvas, edge);
    });
  }
  runAfterInitialized(canvasElement, onReady) {
    if (canvasElement.initialized) {
      onReady();
      return;
    }
    const that = this;
    const uninstall = around(canvasElement, {
      initialize: (next) => function(...args) {
        const result = next.call(this, ...args);
        onReady();
        uninstall();
        return result;
      }
    });
    that.plugin.register(uninstall);
  }
  triggerWorkspaceEvent(event, ...args) {
    this.plugin.app.workspace.trigger(event, ...args);
  }
};

// src/quicksettings.ts
var import_obsidian3 = require("obsidian");

// src/settings.ts
var import_obsidian2 = require("obsidian");

// src/canvas-extensions/advanced-styles/style-config.ts
var BUILTIN_NODE_STYLE_ATTRIBUTES = [
  {
    datasetKey: "textAlign",
    label: "Text Alignment",
    nodeTypes: ["text"],
    options: [
      {
        icon: "align-left",
        label: "Left",
        value: null
      },
      {
        icon: "align-center",
        label: "Center",
        value: "center"
      },
      {
        icon: "align-right",
        label: "Right",
        value: "right"
      }
    ]
  },
  {
    datasetKey: "shape",
    label: "Shape",
    nodeTypes: ["text"],
    options: [
      {
        icon: "rectangle-horizontal",
        label: "Round Rectangle",
        value: null
      },
      {
        icon: "shape-pill",
        label: "Pill",
        value: "pill"
      },
      {
        icon: "diamond",
        label: "Diamond",
        value: "diamond"
      },
      {
        icon: "shape-parallelogram",
        label: "Parallelogram",
        value: "parallelogram"
      },
      {
        icon: "circle",
        label: "Circle",
        value: "circle"
      },
      {
        icon: "shape-predefined-process",
        label: "Predefined Process",
        value: "predefined-process"
      },
      {
        icon: "shape-document",
        label: "Document",
        value: "document"
      },
      {
        icon: "shape-database",
        label: "Database",
        value: "database"
      }
    ]
  },
  {
    datasetKey: "border",
    label: "Border",
    options: [
      {
        icon: "border-solid",
        label: "Solid",
        value: null
      },
      {
        icon: "border-dashed",
        label: "Dashed",
        value: "dashed"
      },
      {
        icon: "border-dotted",
        label: "Dotted",
        value: "dotted"
      },
      {
        icon: "eye-off",
        label: "Invisible",
        value: "invisible"
      }
    ]
  }
];
var BUILTIN_EDGE_STYLE_ATTRIBUTES = [
  {
    datasetKey: "path",
    label: "Path Style",
    options: [
      {
        icon: "path-solid",
        label: "Solid",
        value: null
      },
      {
        icon: "path-dotted",
        label: "Dotted",
        value: "dotted"
      },
      {
        icon: "path-short-dashed",
        label: "Short Dashed",
        value: "short-dashed"
      },
      {
        icon: "path-long-dashed",
        label: "Long Dashed",
        value: "long-dashed"
      }
    ]
  },
  {
    datasetKey: "arrow",
    label: "Arrow Style",
    options: [
      {
        icon: "arrow-triangle",
        label: "Triangle",
        value: null
      },
      {
        icon: "arrow-triangle-outline",
        label: "Triangle Outline",
        value: "triangle-outline"
      },
      {
        icon: "arrow-thin-triangle",
        label: "Thin Triangle",
        value: "thin-triangle"
      },
      {
        icon: "arrow-halved-triangle",
        label: "Halved Triangle",
        value: "halved-triangle"
      },
      {
        icon: "arrow-diamond",
        label: "Diamond",
        value: "diamond"
      },
      {
        icon: "arrow-diamond-outline",
        label: "Diamond Outline",
        value: "diamond-outline"
      },
      {
        icon: "arrow-circle",
        label: "Circle",
        value: "circle"
      },
      {
        icon: "arrow-circle-outline",
        label: "Circle Outline",
        value: "circle-outline"
      }
    ]
  },
  {
    datasetKey: "pathfindingMethod",
    label: "Pathfinding Method",
    options: [
      {
        icon: "pathfinding-method-bezier",
        label: "Bezier",
        value: null
      },
      {
        icon: "slash",
        label: "Direct",
        value: "direct"
      },
      {
        icon: "pathfinding-method-square",
        label: "Square",
        value: "square"
      },
      {
        icon: "map",
        label: "A*",
        value: "a-star"
      }
    ]
  }
];

// src/core/canvas-extension.ts
var CanvasExtension = class {
  constructor(plugin) {
    this.plugin = plugin;
    const isEnabled = this.isEnabled();
    if (!(isEnabled === true || this.plugin.settings.getSetting(isEnabled)))
      return;
    this.init();
  }
};

// src/canvas-extensions/variable-breakpoint-canvas-extension.ts
var VARIABLE_BREAKPOINT_CSS_VAR = "--variable-breakpoint";
var VariableBreakpointCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "variableBreakpointFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeBreakpointChanged,
      (canvas, node, breakpointRef) => {
        const computedStyle = window.getComputedStyle(node.nodeEl);
        const variableBreakpointString = computedStyle.getPropertyValue(VARIABLE_BREAKPOINT_CSS_VAR);
        if (variableBreakpointString.length === 0)
          return;
        const variableBreakpoint = parseFloat(variableBreakpointString);
        if (isNaN(variableBreakpoint))
          return;
        breakpointRef.value = canvas.zoom > variableBreakpoint;
      }
    ));
  }
};

// src/settings.ts
var ASK_FOR_DONATION_DELAY = 1e3 * 60 * 60 * 24 * 7;
var SPENT_HOURS = 140;
var RECEIVED_DONATIONS = 209;
var HOURLY_RATE_GOAL = 20;
var KOFI_PAGE_URL = "https://ko-fi.com/X8X27IA08";
var KOFI_BADGE_URI = "data:image/webp;base64,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";
var SETTINGS = {
  // @ts-ignore
  general: {
    label: "General",
    description: "General settings of the Advanced Canvas plugin.",
    disableToggle: true,
    children: {
      nodeTypeOnDoubleClick: {
        label: "Node type on double click",
        description: "The type of node that will be created when double clicking on the canvas.",
        type: "dropdown",
        options: {
          "text": "Text",
          "file": "File"
        }
      },
      alignNewNodesToGrid: {
        label: "Always align new nodes to grid",
        description: "When enabled, new nodes will be aligned to the grid.",
        type: "boolean"
      },
      defaultTextNodeWidth: {
        label: "Default text node width",
        description: "The default width of a text node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      defaultTextNodeHeight: {
        label: "Default text node height",
        description: "The default height of a text node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      defaultFileNodeWidth: {
        label: "Default file node width",
        description: "The default width of a file node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      defaultFileNodeHeight: {
        label: "Default file node height",
        description: "The default height of a file node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      minNodeSize: {
        label: "Minimum node size",
        description: "The minimum size of a node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      disableFontSizeRelativeToZoom: {
        label: "Disable font size relative to zoom",
        description: "When enabled, the font size of e.g. group node titles and edge labels will not increase when zooming out.",
        type: "boolean"
      }
    }
  },
  combineCustomStylesInDropdown: {
    label: "Combine custom styles",
    description: "Combine all style attributes of Advanced Canvas in a single dropdown.",
    children: {}
  },
  nodeStylingFeatureEnabled: {
    label: "Node styling",
    description: "Style your nodes with different shapes and borders.",
    children: {
      customNodeStyleAttributes: {
        label: "Custom node style settings",
        description: "Add custom style settings for nodes. (Go to GitHub for more information)",
        type: "button",
        onClick: () => window.open("https://github.com/Developer-Mike/obsidian-advanced-canvas/blob/main/README.md#custom-styles")
      },
      defaultTextNodeStyleAttributes: {
        label: "Default text node style attributes",
        type: "styles",
        getParameters(settingsManager) {
          return [...BUILTIN_NODE_STYLE_ATTRIBUTES, ...settingsManager.getSetting("customNodeStyleAttributes")].filter((setting) => {
            var _a;
            return setting.nodeTypes === void 0 || ((_a = setting.nodeTypes) == null ? void 0 : _a.includes("text"));
          });
        }
      }
    }
  },
  edgesStylingFeatureEnabled: {
    label: "Edges styling",
    description: "Style your edges with different path styles.",
    children: {
      customEdgeStyleAttributes: {
        label: "Custom edge style settings",
        description: "Add custom style settings for edges. (Go to GitHub for more information)",
        type: "button",
        onClick: () => window.open("https://github.com/Developer-Mike/obsidian-advanced-canvas/blob/main/README.md#custom-styles")
      },
      defaultEdgeLineDirection: {
        label: "Default edge line direction",
        description: "The default line direction of an edge.",
        type: "dropdown",
        options: {
          "nondirectional": "Nondirectional",
          "unidirectional": "Unidirectional",
          "bidirectional": "Bidirectional"
        }
      },
      defaultEdgeStyleAttributes: {
        label: "Default edge style attributes",
        type: "styles",
        getParameters(settingsManager) {
          return [...BUILTIN_EDGE_STYLE_ATTRIBUTES, ...settingsManager.getSetting("customEdgeStyleAttributes")];
        }
      },
      edgeStyleUpdateWhileDragging: {
        label: "Update edge style while dragging (Can be very slow)",
        description: "When enabled, the edge style will be updated while dragging an edge.",
        type: "boolean"
      },
      edgeStyleDirectRotateArrow: {
        label: 'Rotate arrow if pathfinding method is "Direct"',
        description: 'When enabled, the arrow will be rotated to the direction of the edge if the pathfinding method is set to "Direct".',
        type: "boolean"
      },
      edgeStylePathfinderGridResolution: {
        label: "A* grid resolution",
        description: "The resolution of the grid when using the A* path style. The lower the value, the more precise the path will be. But it will also take longer to calculate.",
        type: "number",
        parse: (value) => Math.max(5, parseInt(value) || 0)
      },
      edgeStylePathfinderPathRounded: {
        label: "A* rounded path",
        description: "When enabled, the A* path style will be rounded.",
        type: "boolean"
      }
    }
  },
  variableBreakpointFeatureEnabled: {
    label: "Variable breakpoint",
    description: `Change the zoom breakpoint (the zoom level at which the nodes won't render their content anymore) on a per-node basis using the ${VARIABLE_BREAKPOINT_CSS_VAR} CSS variable.`,
    children: {}
  },
  commandsFeatureEnabled: {
    label: "Extended commands",
    description: "Add more commands to the canvas.",
    children: {
      zoomToClonedNode: {
        label: "Zoom to cloned node",
        description: "When enabled, the canvas will zoom to the cloned node.",
        type: "boolean"
      },
      cloneNodeMargin: {
        label: "Clone node margin",
        description: "The margin between the cloned node and the source node.",
        type: "number",
        parse: (value) => Math.max(0, parseInt(value) || 0)
      },
      expandNodeStepSize: {
        label: "Expand node step size",
        description: "The step size for expanding the node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      }
    }
  },
  flipEdgeFeatureEnabled: {
    label: "Flip edges",
    description: "Flip the direction of edges using the popup menu.",
    children: {}
  },
  betterReadonlyEnabled: {
    label: "Better readonly",
    description: "Improve the readonly mode.",
    children: {
      disableNodePopup: {
        label: "Disable node popup",
        description: "When enabled, the node popup will be disabled.",
        type: "boolean"
      },
      disableZoom: {
        label: "Disable zoom",
        description: "When enabled, zooming will be disabled.",
        type: "boolean"
      },
      disablePan: {
        label: "Disable pan",
        description: "When enabled, panning will be disabled.",
        type: "boolean"
      }
    }
  },
  autoResizeNodeFeatureEnabled: {
    label: "Auto resize node",
    description: "Automatically resize the height of a node to fit the content.",
    children: {
      autoResizeNodeEnabledByDefault: {
        label: "Enable auto resize by default",
        description: "When enabled, the auto resize feature will be enabled by default for all nodes.",
        type: "boolean"
      },
      autoResizeNodeMaxHeight: {
        label: "Max height",
        description: "The maximum height of the node when auto resizing (-1 for unlimited).",
        type: "number",
        parse: (value) => {
          var _a;
          return Math.max(-1, (_a = parseInt(value)) != null ? _a : -1);
        }
      },
      autoResizeNodeSnapToGrid: {
        label: "Snap to grid",
        description: "When enabled, the height of the node will snap to the grid.",
        type: "boolean"
      }
    }
  },
  collapsibleGroupsFeatureEnabled: {
    label: "Collapsible groups",
    description: "Group nodes can be collapsed and expanded to keep the canvas organized.",
    children: {
      collapsedGroupPreviewOnDrag: {
        label: "Collapsed group preview on drag",
        description: "When enabled, a group that is collapsed show its border while dragging a node.",
        type: "boolean"
      }
    }
  },
  focusModeFeatureEnabled: {
    label: "Focus mode",
    description: "Focus on a single node and blur all other nodes.",
    children: {}
  },
  presentationFeatureEnabled: {
    label: "Presentations",
    description: "Create a presentation from your canvas.",
    children: {
      showSetStartNodeInPopup: {
        label: 'Show "Set Start Node" in node popup',
        description: "If turned off, you can still set the start node using the corresponding command.",
        type: "boolean"
      },
      defaultSlideSize: {
        label: "Default slide ratio",
        description: "The default ratio of the slide. For example, 16:9 is 1200x675 and 3:2 is 1350x900.",
        type: "text"
      },
      wrapInSlidePadding: {
        label: "Wrap in slide padding",
        description: "The padding of the slide when wrapping the canvas in a slide.",
        type: "number",
        parse: (value) => Math.max(0, parseInt(value) || 0)
      },
      resetViewportOnPresentationEnd: {
        label: "Reset viewport on presentation end",
        description: "When enabled, the viewport will be reset to the original position after the presentation ends.",
        type: "boolean"
      },
      useArrowKeysToChangeSlides: {
        label: "Use arrow keys to change slides",
        description: "When enabled, you can use the arrow keys to change slides in presentation mode.",
        type: "boolean"
      },
      usePgUpPgDownKeysToChangeSlides: {
        label: "Use PgUp/PgDown keys to change slides",
        description: "When enabled, you can use the PgUp/PgDown keys to change slides in presentation mode (Makes the presentation mode compatible with most presentation remotes).",
        type: "boolean"
      },
      zoomToSlideWithoutPadding: {
        label: "Zoom to slide without padding",
        description: "When enabled, the canvas will zoom to the slide without padding.",
        type: "boolean"
      },
      slideTransitionAnimationDuration: {
        label: "Slide transition animation duration",
        description: "The duration of the slide transition animation in seconds. Set to 0 to disable the animation.",
        type: "number",
        parse: (value) => Math.max(0, parseFloat(value) || 0)
      },
      slideTransitionAnimationIntensity: {
        label: "Slide transition animation intensity",
        description: "The intensity of the slide transition animation. The higher the value, the more the canvas will zoom out before zooming in on the next slide.",
        type: "number",
        parse: (value) => Math.max(0, parseFloat(value) || 0)
      }
    }
  },
  canvasEncapsulationEnabled: {
    label: "Canvas encapsulation",
    description: "Encapsulate a selection of nodes and edges into a new canvas.",
    children: {}
  },
  portalsFeatureEnabled: {
    label: "Portals",
    description: "Create portals to other canvases.",
    children: {
      maintainClosedPortalSize: {
        label: "Maintain closed portal size",
        description: "When enabled, the portal will maintain its size when closed.",
        type: "boolean"
      },
      showEdgesIntoDisabledPortals: {
        label: "Show edges into disabled portals",
        description: "When enabled, edges into disabled portals will be shown.",
        type: "boolean"
      }
    }
  }
};
var DEFAULT_SETTINGS_VALUES = {
  downloadTimestamp: (/* @__PURE__ */ new Date()).getTime(),
  askedForDonation: false,
  nodeTypeOnDoubleClick: "text",
  alignNewNodesToGrid: true,
  defaultTextNodeWidth: 260,
  defaultTextNodeHeight: 60,
  defaultFileNodeWidth: 400,
  defaultFileNodeHeight: 400,
  minNodeSize: 60,
  disableFontSizeRelativeToZoom: false,
  combineCustomStylesInDropdown: false,
  nodeStylingFeatureEnabled: true,
  customNodeStyleAttributes: [],
  defaultTextNodeStyleAttributes: {},
  edgesStylingFeatureEnabled: true,
  customEdgeStyleAttributes: [],
  defaultEdgeLineDirection: "unidirectional",
  defaultEdgeStyleAttributes: {},
  edgeStyleUpdateWhileDragging: false,
  edgeStyleDirectRotateArrow: false,
  edgeStylePathfinderGridResolution: 10,
  edgeStylePathfinderPathRounded: true,
  variableBreakpointFeatureEnabled: true,
  commandsFeatureEnabled: true,
  zoomToClonedNode: true,
  cloneNodeMargin: 20,
  expandNodeStepSize: 20,
  flipEdgeFeatureEnabled: true,
  betterReadonlyEnabled: true,
  disableNodePopup: false,
  disableZoom: false,
  disablePan: false,
  autoResizeNodeFeatureEnabled: false,
  autoResizeNodeEnabledByDefault: false,
  autoResizeNodeMaxHeight: -1,
  autoResizeNodeSnapToGrid: true,
  collapsibleGroupsFeatureEnabled: true,
  collapsedGroupPreviewOnDrag: true,
  focusModeFeatureEnabled: true,
  presentationFeatureEnabled: true,
  showSetStartNodeInPopup: false,
  defaultSlideSize: "1200x675",
  wrapInSlidePadding: 20,
  resetViewportOnPresentationEnd: true,
  useArrowKeysToChangeSlides: true,
  usePgUpPgDownKeysToChangeSlides: true,
  zoomToSlideWithoutPadding: true,
  slideTransitionAnimationDuration: 0.5,
  slideTransitionAnimationIntensity: 1.25,
  canvasEncapsulationEnabled: true,
  portalsFeatureEnabled: true,
  maintainClosedPortalSize: true,
  showEdgesIntoDisabledPortals: true
};
var _SettingsManager = class _SettingsManager {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS_VALUES, await this.plugin.loadData());
    this.plugin.app.workspace.trigger(_SettingsManager.SETTINGS_CHANGED_EVENT);
  }
  async saveSettings() {
    await this.plugin.saveData(this.settings);
  }
  getSetting(key) {
    return this.settings[key];
  }
  async setSetting(data) {
    this.settings = Object.assign(this.settings, data);
    await this.saveSettings();
    this.plugin.app.workspace.trigger(_SettingsManager.SETTINGS_CHANGED_EVENT);
  }
  addSettingsTab() {
    this.settingsTab = new AdvancedCanvasPluginSettingTab(this.plugin, this);
    this.plugin.addSettingTab(this.settingsTab);
  }
};
_SettingsManager.SETTINGS_CHANGED_EVENT = "advanced-canvas:settings-changed";
var SettingsManager = _SettingsManager;
var AdvancedCanvasPluginSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(plugin, settingsManager) {
    super(plugin.app, plugin);
    this.settingsManager = settingsManager;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    for (const [headingId, heading] of Object.entries(SETTINGS)) {
      this.createFeatureHeading(
        containerEl,
        heading.label,
        heading.description,
        heading.disableToggle ? null : headingId
      );
      for (let [settingId, setting] of Object.entries(heading.children)) {
        if (!(settingId in DEFAULT_SETTINGS_VALUES))
          continue;
        switch (setting.type) {
          case "text":
            this.createTextSetting(containerEl, settingId, setting);
            break;
          case "number":
            this.createNumberSetting(containerEl, settingId, setting);
            break;
          case "boolean":
            this.createBooleanSetting(containerEl, settingId, setting);
            break;
          case "dropdown":
            this.createDropdownSetting(containerEl, settingId, setting);
            break;
          case "button":
            this.createButtonSetting(containerEl, settingId, setting);
            break;
          case "styles":
            this.createStylesSetting(containerEl, settingId, setting);
            break;
        }
      }
    }
    this.createKoFiBadge(containerEl);
    const currentTimestamp = (/* @__PURE__ */ new Date()).getTime();
    if (currentTimestamp - this.settingsManager.getSetting("downloadTimestamp") > ASK_FOR_DONATION_DELAY && !this.settingsManager.getSetting("askedForDonation")) {
      this.createKoFiOverlay(containerEl);
    }
  }
  createFeatureHeading(containerEl, label, description, settingsKey) {
    if (settingsKey === null) {
      return new import_obsidian2.Setting(containerEl).setHeading().setClass("ac-settings-heading").setName("General");
    }
    return new import_obsidian2.Setting(containerEl).setHeading().setClass("ac-settings-heading").setName(label).setDesc(description).addToggle(
      (toggle) => toggle.setTooltip("Requires a reload to take effect.").setValue(this.settingsManager.getSetting(settingsKey)).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingsKey]: value });
        new import_obsidian2.Notice("Reload obsidian to apply the changes.");
      })
    );
  }
  createTextSetting(containerEl, settingId, setting) {
    new import_obsidian2.Setting(containerEl).setName(setting.label).setDesc(setting.description).addText(
      (text) => text.setValue(this.settingsManager.getSetting(settingId)).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: setting.parse ? setting.parse(value) : value });
      })
    );
  }
  createNumberSetting(containerEl, settingId, setting) {
    new import_obsidian2.Setting(containerEl).setName(setting.label).setDesc(setting.description).addText(
      (text) => text.setValue(this.settingsManager.getSetting(settingId).toString()).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: setting.parse(value) });
      })
    );
  }
  createBooleanSetting(containerEl, settingId, setting) {
    new import_obsidian2.Setting(containerEl).setName(setting.label).setDesc(setting.description).addToggle(
      (toggle) => toggle.setValue(this.settingsManager.getSetting(settingId)).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: value });
      })
    );
  }
  createDropdownSetting(containerEl, settingId, setting) {
    new import_obsidian2.Setting(containerEl).setName(setting.label).setDesc(setting.description).addDropdown(
      (dropdown) => dropdown.addOptions(setting.options).setValue(this.settingsManager.getSetting(settingId)).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: value });
      })
    );
  }
  createButtonSetting(containerEl, settingId, setting) {
    new import_obsidian2.Setting(containerEl).setName(setting.label).setDesc(setting.description).addButton(
      (button) => button.setButtonText("Open").onClick(() => setting.onClick())
    );
  }
  createStylesSetting(containerEl, settingId, setting) {
    const nestedContainerEl = document.createElement("details");
    nestedContainerEl.classList.add("setting-item");
    containerEl.appendChild(nestedContainerEl);
    const summaryEl = document.createElement("summary");
    summaryEl.textContent = setting.label;
    nestedContainerEl.appendChild(summaryEl);
    for (const styleAttribute of setting.getParameters(this.settingsManager)) {
      new import_obsidian2.Setting(nestedContainerEl).setName(styleAttribute.label).addDropdown(
        (dropdown) => {
          var _a;
          return dropdown.addOptions(Object.fromEntries(styleAttribute.options.map((option) => [option.value, option.value === null ? `${option.label} (default)` : option.label]))).setValue((_a = this.settingsManager.getSetting(settingId)[styleAttribute.datasetKey]) != null ? _a : "null").onChange(async (value) => {
            const newValue = this.settingsManager.getSetting(settingId);
            if (value === "null")
              delete newValue[styleAttribute.datasetKey];
            else
              newValue[styleAttribute.datasetKey] = value;
            await this.settingsManager.setSetting({
              [settingId]: newValue
            });
          });
        }
      );
    }
  }
  async createKoFiOverlay(containerEl) {
    var _a, _b, _c;
    const sidebarWidth = (_c = (_b = (_a = containerEl.parentElement) == null ? void 0 : _a.previousElementSibling) == null ? void 0 : _b.clientWidth) != null ? _c : 0;
    const overlay = document.createElement("div");
    overlay.classList.add("kofi-overlay");
    overlay.style.left = `${sidebarWidth}px`;
    const dismiss = () => {
      overlay.remove();
      this.settingsManager.setSetting({ askedForDonation: true });
    };
    const title = document.createElement("h1");
    title.textContent = "Enjoying the plugin?";
    overlay.appendChild(title);
    const description = document.createElement("p");
    description.innerHTML = `Currently, Advanced Canvas has received <b>~${RECEIVED_DONATIONS}$</b> in donations with a total of <b>~${SPENT_HOURS} hours</b> spent on development.`;
    overlay.appendChild(description);
    const hourlyRate = document.createElement("progress");
    hourlyRate.value = RECEIVED_DONATIONS / SPENT_HOURS;
    hourlyRate.max = HOURLY_RATE_GOAL;
    overlay.appendChild(hourlyRate);
    const targetDescription = document.createElement("p");
    targetDescription.innerHTML = `Please help me develop this plugin further by reaching the goal of <b>${HOURLY_RATE_GOAL}$/hour</b>.`;
    overlay.appendChild(targetDescription);
    const koFiButton = document.createElement("a");
    koFiButton.classList.add("kofi-button");
    koFiButton.href = KOFI_PAGE_URL;
    koFiButton.target = "_blank";
    koFiButton.addEventListener("click", dismiss);
    const koFiImage = document.createElement("img");
    koFiImage.src = KOFI_BADGE_URI;
    koFiButton.appendChild(koFiImage);
    overlay.appendChild(koFiButton);
    const noButton = document.createElement("button");
    noButton.classList.add("no-button");
    noButton.textContent = "I don't want to help";
    noButton.addEventListener("click", dismiss);
    overlay.appendChild(noButton);
    containerEl.appendChild(overlay);
  }
  createKoFiBadge(containerEl) {
    const koFiButton = document.createElement("a");
    koFiButton.classList.add("kofi-button");
    koFiButton.classList.add("sticky");
    koFiButton.href = KOFI_PAGE_URL;
    koFiButton.target = "_blank";
    const koFiImage = document.createElement("img");
    koFiImage.src = KOFI_BADGE_URI;
    koFiButton.appendChild(koFiImage);
    containerEl.appendChild(koFiButton);
  }
};

// src/quicksettings.ts
var Quicksettings = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.searchSettingModal = new SearchSettingsHeaderModal(this.plugin.app, this.plugin.settings);
    this.plugin.addCommand({
      id: "open-quicksettings",
      name: "Open Quicksettings",
      callback: async () => this.searchSettingModal.open()
    });
  }
};
var SearchKeyValueSettingModal = class extends import_obsidian3.SuggestModal {
  constructor(app, settingsManager) {
    super(app);
    this.settingsManager = settingsManager;
    this.setPlaceholder(this.getSearchTitle());
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to edit"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
  }
  getSuggestions(query) {
    const suggestions = this.getAllSuggestions().filter(([settingKey, _settingValue]) => this.doesSuggestionMatchQuery(settingKey, _settingValue, query));
    return suggestions;
  }
  renderSuggestion(suggestion, el) {
    this.displaySuggestion(suggestion[0], suggestion[1], el);
  }
  onChooseSuggestion(suggestion, evt) {
    this.onSelectedSuggestion(suggestion[0], suggestion[1]);
  }
};
var SearchSettingsHeaderModal = class extends SearchKeyValueSettingModal {
  getSearchTitle() {
    return "Type to search settings...";
  }
  getAllSuggestions() {
    return Object.entries(SETTINGS).flatMap(
      ([_key, value]) => Object.entries(value.children).filter(([_key2, value2]) => value2.type !== "button")
    );
  }
  doesSuggestionMatchQuery(key, value, query) {
    var _a, _b;
    return key.toLowerCase().includes(query.toLowerCase()) || value.label.toLowerCase().includes(query.toLowerCase()) || ((_b = (_a = value.description) == null ? void 0 : _a.toLowerCase()) == null ? void 0 : _b.includes(query.toLowerCase()));
  }
  displaySuggestion(key, value, el) {
    el.addClass("quicksettings-suggestion");
    el.createEl("span", {
      cls: "quicksettings-suggestion-label",
      text: value.label
    });
    el.createEl("span", {
      cls: "quicksettings-suggestion-description",
      text: value.description
    });
  }
  onSelectedSuggestion(key, value) {
    switch (value.type) {
      case "styles":
        new SearchStyleAttributeModal(this.app, this.settingsManager, key, value).open();
        break;
      case "text":
        new SetTextOrNumberSettingModal(this.app, this.settingsManager, key, value).open();
        break;
      case "number":
        new SetTextOrNumberSettingModal(this.app, this.settingsManager, key, value).open();
        break;
      case "boolean":
        new SetBooleanSettingModal(this.app, this.settingsManager, key).open();
        break;
      case "dropdown":
        new SetDropdownSettingModal(this.app, this.settingsManager, key, value).open();
        break;
      default:
        console.log("Unsupported setting type:", value.type);
        break;
    }
  }
};
var SearchStyleAttributeModal = class extends SearchKeyValueSettingModal {
  constructor(app, settingsManager, settingsKey, setting) {
    super(app, settingsManager);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.setting = setting;
  }
  getSearchTitle() {
    return "Type to search style attributes...";
  }
  getAllSuggestions() {
    return this.setting.getParameters(this.settingsManager).map((styleAttribute) => [styleAttribute.datasetKey, styleAttribute]);
  }
  doesSuggestionMatchQuery(key, value, query) {
    return key.toLowerCase().includes(query.toLowerCase()) || value.label.toLowerCase().includes(query.toLowerCase());
  }
  displaySuggestion(key, value, el) {
    el.createEl("span", { text: value.label });
  }
  onSelectedSuggestion(key, value) {
    new SetStyleAttributeModal(this.app, this.settingsManager, this.settingsKey, key, value).open();
  }
};
var SetStyleAttributeModal = class extends SearchKeyValueSettingModal {
  constructor(app, settingsManager, settingsKey, styleAttributeKey, styleAttribute) {
    super(app, settingsManager);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.styleAttributeKey = styleAttributeKey;
    this.styleAttribute = styleAttribute;
    this.currentValueKey = settingsManager.getSetting(settingsKey)[styleAttributeKey] || null;
  }
  getSearchTitle() {
    return "Set style attribute value...";
  }
  getAllSuggestions() {
    return this.styleAttribute.options.map((option) => [option.value, option.label]);
  }
  doesSuggestionMatchQuery(key, value, query) {
    return (key == null ? void 0 : key.toLowerCase().includes(query.toLowerCase())) || value.toLowerCase().includes(query.toLowerCase());
  }
  displaySuggestion(key, value, el) {
    let text = value;
    if (key === null && key === this.currentValueKey)
      text = `${value} (default, current)`;
    else if (key === null)
      text = `${value} (default)`;
    else if (key === this.currentValueKey)
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onSelectedSuggestion(key, _value) {
    const newValue = this.settingsManager.getSetting(this.settingsKey);
    if (key === null)
      delete newValue[this.styleAttribute.datasetKey];
    else
      newValue[this.styleAttribute.datasetKey] = key;
    this.settingsManager.setSetting({
      [this.settingsKey]: newValue
    });
  }
};
var SetTextOrNumberSettingModal = class extends import_obsidian3.SuggestModal {
  constructor(app, settingsManager, settingsKey, setting) {
    super(app);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.setting = setting;
    this.defaultValue = DEFAULT_SETTINGS_VALUES[settingsKey].toString();
    this.currentValue = settingsManager.getSetting(settingsKey).toString();
    this.setPlaceholder("Enter new value...");
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to edit"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
  }
  getSuggestions(query) {
    const parsedInputValue = this.setting.parse ? this.setting.parse(query) : query;
    return [.../* @__PURE__ */ new Set([parsedInputValue, this.currentValue, this.defaultValue])];
  }
  renderSuggestion(value, el) {
    let text = value;
    if (value === this.defaultValue && value === this.currentValue)
      text = `${value} (default, current)`;
    else if (value === this.defaultValue)
      text = `${value} (default)`;
    else if (value === this.currentValue)
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onChooseSuggestion(item, _evt) {
    this.settingsManager.setSetting({ [this.settingsKey]: this.setting.parse ? this.setting.parse(item) : item });
  }
};
var SetBooleanSettingModal = class extends import_obsidian3.SuggestModal {
  constructor(app, settingsManager, settingsKey) {
    super(app);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.defaultValue = DEFAULT_SETTINGS_VALUES[settingsKey];
    this.currentValue = settingsManager.getSetting(settingsKey);
    this.setPlaceholder("Enter new value...");
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to edit"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
  }
  getSuggestions(query) {
    const currentValue = this.settingsManager.getSetting(this.settingsKey);
    const suggestions = [currentValue.toString(), (!currentValue).toString()];
    return suggestions.filter((suggestion) => suggestion.toLowerCase().includes(query.toLowerCase()));
  }
  renderSuggestion(value, el) {
    let text = value;
    if (value === this.defaultValue.toString() && value === this.currentValue.toString())
      text = `${value} (default, current)`;
    else if (value === this.defaultValue.toString())
      text = `${value} (default)`;
    else if (value === this.currentValue.toString())
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onChooseSuggestion(item, _evt) {
    this.settingsManager.setSetting({ [this.settingsKey]: item === "true" });
  }
};
var SetDropdownSettingModal = class extends SearchKeyValueSettingModal {
  constructor(app, settingsManager, settingsKey, setting) {
    super(app, settingsManager);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.setting = setting;
    this.defaultValueKey = DEFAULT_SETTINGS_VALUES[settingsKey];
    this.currentValueKey = settingsManager.getSetting(settingsKey);
  }
  getSearchTitle() {
    return "Type to search dropdown values...";
  }
  getAllSuggestions() {
    const suggestions = [[this.currentValueKey, this.setting.options[this.currentValueKey]]];
    if (this.defaultValueKey !== this.currentValueKey)
      suggestions.push([this.defaultValueKey, this.setting.options[this.defaultValueKey]]);
    suggestions.push(...Object.entries(this.setting.options).filter(([key, _value]) => key !== this.currentValueKey && key !== this.defaultValueKey));
    return suggestions;
  }
  doesSuggestionMatchQuery(key, _value, query) {
    return key.toLowerCase().includes(query.toLowerCase());
  }
  displaySuggestion(key, value, el) {
    let text = value;
    if (key === this.defaultValueKey && key === this.currentValueKey)
      text = `${value} (default, current)`;
    else if (key === this.defaultValueKey)
      text = `${value} (default)`;
    else if (key === this.currentValueKey)
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onSelectedSuggestion(key, _value) {
    this.settingsManager.setSetting({ [this.settingsKey]: key });
  }
};

// src/utils/icons-helper.ts
var import_obsidian4 = require("obsidian");
var CUSTOM_ICONS = {
  "shape-pill": `<rect rx="31.25" height="62.5" width="93.75" y="18.75" x="3.125" stroke-width="8.333" stroke="currentColor" fill="transparent"/>`,
  "shape-parallelogram": `<rect transform="skewX(-20)" rx="5" height="50" width="70" y="25" x="35" stroke-width="8.333" stroke="currentColor" fill="transparent"/>`,
  "shape-predefined-process": `
    <g stroke-width="2" stroke="currentColor" fill="none" transform="matrix(4.166667,0,0,4.166667,0,0)">
      <path d="M 4.999687 3 L 19.000312 3 C 20.104688 3 21 3.895312 21 4.999687 L 21 19.000312 C 21 20.104688 20.104688 21 19.000312 21 L 4.999687 21 C 3.895312 21 3 20.104688 3 19.000312 L 3 4.999687 C 3 3.895312 3.895312 3 4.999687 3 Z M 4.999687 3 "/>
      <path d="M 7 3 L 7 21 "/>
      <path d="M 17 3 L 17 21 "/>
    </g>
  `,
  "shape-document": `<path transform="translate(0, 5)" stroke="currentColor" fill="none" stroke-width="8.333" d="M83.75 25C85.82 25 87.5 26.68 87.5 28.75L87.5 64.375Q68.75 54.25 50 64.375 31.25 74.5 12.5 64.375L12.5 30.625 12.5 28.75C12.5 26.68 14.18 25 16.25 25Z"/>`,
  "shape-database": `
    <g transform="translate(20, 20)" stroke-width="8.333" stroke="currentColor" fill="none">
      <path d="M 1 51 L 1 11 C 1 5.48 14.43 1 31 1 C 47.57 1 61 5.48 61 11 L 61 51 C 61 56.52 47.57 61 31 61 C 14.43 61 1 56.52 1 51 Z"/>
      <path d="M 1 11 C 1 16.52 14.43 21 31 21 C 47.57 21 61 16.52 61 11"/>
    </g>
  `,
  "border-solid": `<path stroke="currentColor" fill="none" stroke-width="8.333" d="M91.6667 45.8333v4.1667c0 2.0833-2.0833 4.1667-4.1667 4.1667H12.5c-2.0833 0-4.1667-2.0833-4.1667-4.1667v-4.1667"/>`,
  "border-dashed": `<path stroke="currentColor" fill="none" stroke-width="8.333" stroke-dasharray="13.7" d="M91.6667 45.8333v4.1667c0 2.0833-2.0833 4.1667-4.1667 4.1667H12.5c-2.0833 0-4.1667-2.0833-4.1667-4.1667v-4.1667"/>`,
  "border-dotted": `<path stroke="currentColor" fill="none" stroke-width="8.333" stroke-dasharray="8.7" d="M91.6667 45.8333v4.1667c0 2.0833-2.0833 4.1667-4.1667 4.1667H12.5c-2.0833 0-4.1667-2.0833-4.1667-4.1667v-4.1667"/>`,
  "path-solid": `<path stroke="currentColor" fill="none" stroke-width="8.5" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "path-dotted": `<path stroke="currentColor" fill="none" stroke-width="8.5" stroke-dasharray="8.8" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "path-short-dashed": `<path stroke="currentColor" fill="none" stroke-width="8.5" stroke-dasharray="15" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "path-long-dashed": `<path stroke="currentColor" fill="none" stroke-width="8.5" stroke-dasharray="23" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "arrow-triangle": `<path stroke="currentColor" fill="currentColor" d="M 15 10 L 85 50 L 15 90 Z"/>`,
  "arrow-triangle-outline": `<path stroke="currentColor" stroke-width="8.5" fill="none" d="M 15 10 L 85 50 L 15 90 Z"/>`,
  "arrow-thin-triangle": `<path stroke="currentColor" stroke-width="8.5" fill="none" d="M 15 10 L 85 50 L 15 90"/>`,
  "arrow-halved-triangle": `<path stroke="currentColor" fill="currentColor" d="M 15 50 L 85 50 L 15 90 Z"/>`,
  "arrow-diamond": `<path stroke="currentColor" fill="currentColor" d="M 50 0 L 100 50 L 50 100 L 0 50 Z"/>`,
  "arrow-diamond-outline": `<path stroke="currentColor" stroke-width="8.5" fill="none" d="M 50 0 L 100 50 L 50 100 L 0 50 Z"/>`,
  "arrow-circle": `<circle stroke="currentColor" fill="currentColor" cx="50" cy="50" r="45"/>`,
  "arrow-circle-outline": `<circle stroke="currentColor" stroke-width="8.5" fill="none" cx="50" cy="50" r="45"/>`,
  "pathfinding-method-bezier": `<path stroke="currentColor" fill="none" stroke-width="8.5" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "pathfinding-method-square": `<path stroke="currentColor" fill="none" stroke-width="8.5" d="M72.9167 79.1667 72.9167 50 27.0833 50 27.0833 20.8333"/>`
};
var IconsHelper = class {
  static addIcons() {
    for (const [id, svg] of Object.entries(CUSTOM_ICONS)) {
      (0, import_obsidian4.addIcon)(id, svg);
    }
  }
};

// src/utils/debug-helper.ts
var DebugHelper = class {
  constructor(plugin) {
    this.logging = true;
    this.nodeAddedCount = 0;
    this.nodeChangedCount = 0;
    this.edgeAddedCount = 0;
    this.edgeChangedCount = 0;
    this.plugin = plugin;
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (_canvas) => {
        this.nodeAddedCount = 0;
        this.nodeChangedCount = 0;
        this.edgeAddedCount = 0;
        this.edgeChangedCount = 0;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeAdded,
      (_canvas, _node) => {
        if (this.logging)
          console.count("\u{1F7E2} NodeAdded");
        this.nodeAddedCount++;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeChanged,
      (_canvas, _node) => {
        if (this.logging)
          console.count("\u{1F7E1} NodeChanged");
        this.nodeChangedCount++;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeAdded,
      (_canvas, _edge) => {
        if (this.logging)
          console.count("\u{1F7E2} EdgeAdded");
        this.edgeAddedCount++;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeChanged,
      (_canvas, _edge) => {
        if (this.logging)
          console.count("\u{1F7E1} EdgeChanged");
        this.edgeChangedCount++;
      }
    ));
  }
  resetEfficiency() {
    this.nodeAddedCount = 0;
    this.nodeChangedCount = 0;
    this.edgeAddedCount = 0;
    this.edgeChangedCount = 0;
  }
  logEfficiency() {
    const canvas = this.plugin.getCurrentCanvas();
    if (!canvas)
      return;
    console.log("NodeAdded Efficiency:", this.nodeAddedCount / canvas.nodes.size);
    console.log("NodeChanged Efficiency:", this.nodeChangedCount / canvas.nodes.size);
    console.log("EdgeAdded Efficiency:", this.edgeAddedCount / canvas.edges.size);
    console.log("EdgeChanged Efficiency:", this.edgeChangedCount / canvas.edges.size);
  }
};

// src/utils/migration-helper.ts
var MigrationHelper = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async migrate() {
    this.migrateNodeAndEdgeStyles();
  }
  migrateNodeAndEdgeStyles() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => {
        for (const node of canvas.nodes.values()) {
          const nodeData = node.getData();
          const newStyleAttributes = {};
          if (nodeData.isSticker)
            newStyleAttributes["border"] = "invisible";
          if (nodeData.borderStyle)
            newStyleAttributes["border"] = nodeData.borderStyle;
          if (nodeData.shape) {
            newStyleAttributes.textAlign = "center";
            newStyleAttributes.shape = nodeData.shape;
            if ((newStyleAttributes == null ? void 0 : newStyleAttributes.shape) === "centered-rectangle")
              delete newStyleAttributes.shape;
            if ((newStyleAttributes == null ? void 0 : newStyleAttributes.shape) === "oval")
              newStyleAttributes.shape = "pill";
          }
          delete nodeData.isSticker;
          delete nodeData.borderStyle;
          delete nodeData.shape;
          node.setData({
            ...nodeData,
            styleAttributes: {
              ...nodeData.styleAttributes,
              ...newStyleAttributes
            }
          });
        }
        for (const edge of canvas.edges.values()) {
          const edgeData = edge.getData();
          const newStyleAttributes = {};
          if (edgeData.edgeStyle)
            newStyleAttributes.edge = edgeData.edgeStyle;
          if (edgeData.edgePathRoute)
            newStyleAttributes.pathfindingMethod = edgeData.edgePathRoute;
          delete edgeData.edgeStyle;
          delete edgeData.edgePathRoute;
        }
      }
    ));
  }
};

// src/windows-manager.ts
var WindowsManager = class {
  constructor(plugin) {
    this.windows = [window];
    this.plugin = plugin;
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "window-open",
      (_win, window2) => this.windows.push(window2)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "window-close",
      (_win, window2) => this.windows = this.windows.filter((w) => w !== window2)
    ));
  }
};

// src/utils/canvas-helper.ts
var import_obsidian5 = require("obsidian");

// src/utils/bbox-helper.ts
var BBoxHelper = class {
  static combineBBoxes(bboxes) {
    let minX = Infinity;
    let minY = Infinity;
    let maxX = -Infinity;
    let maxY = -Infinity;
    for (let bbox of bboxes) {
      minX = Math.min(minX, bbox.minX);
      minY = Math.min(minY, bbox.minY);
      maxX = Math.max(maxX, bbox.maxX);
      maxY = Math.max(maxY, bbox.maxY);
    }
    return { minX, minY, maxX, maxY };
  }
  static scaleBBox(bbox, scale) {
    let diffX = (scale - 1) * (bbox.maxX - bbox.minX);
    let diffY = (scale - 1) * (bbox.maxY - bbox.minY);
    return {
      minX: bbox.minX - diffX / 2,
      maxX: bbox.maxX + diffX / 2,
      minY: bbox.minY - diffY / 2,
      maxY: bbox.maxY + diffY / 2
    };
  }
  static isColliding(bbox1, bbox2) {
    return bbox1.minX <= bbox2.maxX && bbox1.maxX >= bbox2.minX && bbox1.minY <= bbox2.maxY && bbox1.maxY >= bbox2.minY;
  }
  static insideBBox(position, bbox, canTouchEdge) {
    var _a, _b, _c, _d;
    const providedBBox = {
      minX: (_a = position.minX) != null ? _a : position.x,
      minY: (_b = position.minY) != null ? _b : position.y,
      maxX: (_c = position.maxX) != null ? _c : position.x,
      maxY: (_d = position.maxY) != null ? _d : position.y
    };
    return canTouchEdge ? providedBBox.minX >= bbox.minX && providedBBox.maxX <= bbox.maxX && providedBBox.minY >= bbox.minY && providedBBox.maxY <= bbox.maxY : providedBBox.minX > bbox.minX && providedBBox.maxX < bbox.maxX && providedBBox.minY > bbox.minY && providedBBox.maxY < bbox.maxY;
  }
  static enlargeBBox(bbox, padding) {
    return {
      minX: bbox.minX - padding,
      minY: bbox.minY - padding,
      maxX: bbox.maxX + padding,
      maxY: bbox.maxY + padding
    };
  }
  static moveInDirection(position, side, distance) {
    switch (side) {
      case "top":
        return { x: position.x, y: position.y - distance };
      case "right":
        return { x: position.x + distance, y: position.y };
      case "bottom":
        return { x: position.x, y: position.y + distance };
      case "left":
        return { x: position.x - distance, y: position.y };
    }
  }
  static getCenterOfBBoxSide(bbox, side) {
    switch (side) {
      case "top":
        return { x: (bbox.minX + bbox.maxX) / 2, y: bbox.minY };
      case "right":
        return { x: bbox.maxX, y: (bbox.minY + bbox.maxY) / 2 };
      case "bottom":
        return { x: (bbox.minX + bbox.maxX) / 2, y: bbox.maxY };
      case "left":
        return { x: bbox.minX, y: (bbox.minY + bbox.maxY) / 2 };
    }
  }
  static getSideVector(side) {
    switch (side) {
      case "top":
        return { x: 0, y: 1 };
      case "right":
        return { x: 1, y: 0 };
      case "bottom":
        return { x: 0, y: -1 };
      case "left":
        return { x: -1, y: 0 };
      default:
        return { x: 0, y: 0 };
    }
  }
  static getOppositeSide(side) {
    switch (side) {
      case "top":
        return "bottom";
      case "right":
        return "left";
      case "bottom":
        return "top";
      case "left":
        return "right";
    }
  }
  static isHorizontal(side) {
    return side === "left" || side === "right";
  }
  static direction(side) {
    return side === "right" || side === "bottom" ? 1 : -1;
  }
};

// src/utils/canvas-helper.ts
var _CanvasHelper = class _CanvasHelper {
  static canvasCommand(plugin, check, run) {
    return (checking) => {
      const canvas = plugin.getCurrentCanvas();
      if (checking)
        return canvas !== null && check(canvas);
      if (canvas)
        run(canvas);
      return true;
    };
  }
  static createControlMenuButton(menuOption) {
    const quickSetting = document.createElement("div");
    if (menuOption.id)
      quickSetting.id = menuOption.id;
    quickSetting.classList.add("canvas-control-item");
    (0, import_obsidian5.setIcon)(quickSetting, menuOption.icon);
    (0, import_obsidian5.setTooltip)(quickSetting, menuOption.label, { placement: "left" });
    quickSetting.addEventListener("click", () => {
      var _a;
      return (_a = menuOption.callback) == null ? void 0 : _a.call(menuOption);
    });
    return quickSetting;
  }
  static addControlMenuButton(controlGroup, element) {
    var _a;
    if (element.id)
      (_a = controlGroup.querySelector(`#${element.id}`)) == null ? void 0 : _a.remove();
    controlGroup.appendChild(element);
  }
  static createCardMenuOption(canvas, menuOption, previewNodeSize, onPlaced) {
    const menuOptionElement = document.createElement("div");
    if (menuOption.id)
      menuOptionElement.id = menuOption.id;
    menuOptionElement.classList.add("canvas-card-menu-button");
    menuOptionElement.classList.add("mod-draggable");
    (0, import_obsidian5.setIcon)(menuOptionElement, menuOption.icon);
    (0, import_obsidian5.setTooltip)(menuOptionElement, menuOption.label, { placement: "top" });
    menuOptionElement.addEventListener("click", (_e) => {
      onPlaced(canvas, this.getCenterCoordinates(canvas, previewNodeSize()));
    });
    menuOptionElement.addEventListener("pointerdown", (e) => {
      canvas.dragTempNode(e, previewNodeSize(), (pos) => {
        canvas.deselectAll();
        onPlaced(canvas, pos);
      });
    });
    return menuOptionElement;
  }
  static addCardMenuOption(canvas, element) {
    var _a;
    if (element.id)
      (_a = canvas == null ? void 0 : canvas.cardMenuEl.querySelector(`#${element.id}`)) == null ? void 0 : _a.remove();
    canvas == null ? void 0 : canvas.cardMenuEl.appendChild(element);
  }
  static createPopupMenuOption(menuOption) {
    const menuOptionElement = document.createElement("button");
    if (menuOption.id)
      menuOptionElement.id = menuOption.id;
    menuOptionElement.classList.add("clickable-icon");
    (0, import_obsidian5.setIcon)(menuOptionElement, menuOption.icon);
    (0, import_obsidian5.setTooltip)(menuOptionElement, menuOption.label, { placement: "top" });
    menuOptionElement.addEventListener("click", () => {
      var _a;
      return (_a = menuOption.callback) == null ? void 0 : _a.call(menuOption);
    });
    return menuOptionElement;
  }
  static createExpandablePopupMenuOption(menuOption, subMenuOptions) {
    const menuOptionElement = this.createPopupMenuOption({
      ...menuOption,
      callback: () => {
        var _a, _b, _c;
        const submenuId = `${menuOption.id}-submenu`;
        if (menuOptionElement.classList.contains("is-active")) {
          menuOptionElement.classList.remove("is-active");
          (_b = (_a = menuOptionElement.parentElement) == null ? void 0 : _a.querySelector(`#${submenuId}`)) == null ? void 0 : _b.remove();
          return;
        }
        menuOptionElement.classList.add("is-active");
        const submenu = document.createElement("div");
        submenu.id = submenuId;
        submenu.classList.add("canvas-submenu");
        for (const subMenuOption of subMenuOptions) {
          const subMenuOptionElement = this.createPopupMenuOption(subMenuOption);
          submenu.appendChild(subMenuOptionElement);
        }
        (_c = menuOptionElement.parentElement) == null ? void 0 : _c.appendChild(submenu);
      }
    });
    return menuOptionElement;
  }
  static addPopupMenuOption(canvas, element, index = -1) {
    var _a;
    const popupMenuEl = (_a = canvas == null ? void 0 : canvas.menu) == null ? void 0 : _a.menuEl;
    if (!popupMenuEl)
      return;
    if (element.id) {
      const optionToReplace = popupMenuEl.querySelector(`#${element.id}`);
      if (optionToReplace && index === -1)
        index = Array.from(popupMenuEl.children).indexOf(optionToReplace) - 1;
      optionToReplace == null ? void 0 : optionToReplace.remove();
    }
    const sisterElement = index >= 0 ? popupMenuEl.children[index] : popupMenuEl.children[popupMenuEl.children.length + index];
    popupMenuEl.insertAfter(element, sisterElement);
  }
  static getCenterCoordinates(canvas, nodeSize) {
    const viewBounds = canvas.getViewportBBox();
    return {
      x: (viewBounds.minX + viewBounds.maxX) / 2 - nodeSize.width / 2,
      y: (viewBounds.minY + viewBounds.maxY) / 2 - nodeSize.height / 2
    };
  }
  static getBBox(canvasNodes) {
    let minX = Infinity;
    let minY = Infinity;
    let maxX = -Infinity;
    let maxY = -Infinity;
    for (const node of canvasNodes) {
      const nodeData = node.getData ? node.getData() : node;
      minX = Math.min(minX, nodeData.x);
      minY = Math.min(minY, nodeData.y);
      maxX = Math.max(maxX, nodeData.x + nodeData.width);
      maxY = Math.max(maxY, nodeData.y + nodeData.height);
    }
    return { minX, minY, maxX, maxY };
  }
  static zoomToBBox(canvas, bbox) {
    const PADDING_CORRECTION_FACTOR = 1 / 1.1;
    const zoomedBBox = BBoxHelper.scaleBBox(bbox, PADDING_CORRECTION_FACTOR);
    canvas.zoomToBbox(zoomedBBox);
    const scaleFactor = Math.min(
      canvas.canvasRect.width / (bbox.maxX - bbox.minX),
      canvas.canvasRect.height / (bbox.maxY - bbox.minY)
    );
    canvas.tZoom = Math.log2(scaleFactor);
  }
  static addStyleAttributesToPopup(plugin, canvas, styleAttributes, currentStyleAttributes, setStyleAttribute) {
    if (!plugin.settings.getSetting("combineCustomStylesInDropdown"))
      this.addStyleAttributesButtons(canvas, styleAttributes, currentStyleAttributes, setStyleAttribute);
    else
      this.addStyleAttributesDropdownMenu(canvas, styleAttributes, currentStyleAttributes, setStyleAttribute);
  }
  static addStyleAttributesButtons(canvas, stylableAttributes, currentStyleAttributes, setStyleAttribute) {
    var _a;
    for (const stylableAttribute of stylableAttributes) {
      const selectedStyle = (_a = stylableAttribute.options.find((option) => currentStyleAttributes[stylableAttribute.datasetKey] === option.value)) != null ? _a : stylableAttribute.options.find((value) => value.value === null);
      const menuOption = _CanvasHelper.createExpandablePopupMenuOption({
        id: `menu-option-${stylableAttribute.datasetKey}`,
        label: stylableAttribute.label,
        icon: selectedStyle.icon
      }, stylableAttribute.options.map((styleOption) => ({
        label: styleOption.label,
        icon: styleOption.icon,
        callback: () => {
          setStyleAttribute(stylableAttribute, styleOption.value);
          currentStyleAttributes[stylableAttribute.datasetKey] = styleOption.value;
          (0, import_obsidian5.setIcon)(menuOption, styleOption.icon);
          menuOption.dispatchEvent(new Event("click"));
        }
      })));
      _CanvasHelper.addPopupMenuOption(canvas, menuOption);
    }
  }
  static addStyleAttributesDropdownMenu(canvas, stylableAttributes, currentStyleAttributes, setStyleAttribute) {
    var _a, _b;
    const STYLE_MENU_ID = "style-menu";
    const STYLE_MENU_DROPDOWN_ID = "style-menu-dropdown";
    const STYLE_MENU_DROPDOWN_SUBMENU_ID = "style-menu-dropdown-submenu";
    const popupMenuElement = (_a = canvas == null ? void 0 : canvas.menu) == null ? void 0 : _a.menuEl;
    if (!popupMenuElement)
      return;
    (_b = popupMenuElement.querySelector(`#${STYLE_MENU_ID}`)) == null ? void 0 : _b.remove();
    const styleMenuButtonElement = document.createElement("button");
    styleMenuButtonElement.id = STYLE_MENU_ID;
    styleMenuButtonElement.classList.add("clickable-icon");
    (0, import_obsidian5.setIcon)(styleMenuButtonElement, "paintbrush");
    (0, import_obsidian5.setTooltip)(styleMenuButtonElement, "Style", { placement: "top" });
    popupMenuElement.appendChild(styleMenuButtonElement);
    styleMenuButtonElement.addEventListener("click", () => {
      var _a2, _b2, _c;
      const isOpen = styleMenuButtonElement.classList.toggle("has-active-menu");
      if (!isOpen) {
        (_a2 = popupMenuElement.querySelector(`#${STYLE_MENU_DROPDOWN_ID}`)) == null ? void 0 : _a2.remove();
        (_b2 = popupMenuElement.querySelector(`#${STYLE_MENU_DROPDOWN_SUBMENU_ID}`)) == null ? void 0 : _b2.remove();
        return;
      }
      const styleMenuDropdownElement = document.createElement("div");
      styleMenuDropdownElement.id = STYLE_MENU_DROPDOWN_ID;
      styleMenuDropdownElement.classList.add("menu");
      styleMenuDropdownElement.style.position = "absolute";
      styleMenuDropdownElement.style.maxHeight = "initial";
      styleMenuDropdownElement.style.top = `${popupMenuElement.getBoundingClientRect().height}px`;
      const canvasWrapperCenterX = canvas.wrapperEl.getBoundingClientRect().left + canvas.wrapperEl.getBoundingClientRect().width / 2;
      const leftPosition = styleMenuButtonElement.getBoundingClientRect().left - popupMenuElement.getBoundingClientRect().left;
      const rightPosition = popupMenuElement.getBoundingClientRect().right - styleMenuButtonElement.getBoundingClientRect().right;
      if (popupMenuElement.getBoundingClientRect().left + leftPosition < canvasWrapperCenterX)
        styleMenuDropdownElement.style.left = `${leftPosition}px`;
      else
        styleMenuDropdownElement.style.right = `${rightPosition}px`;
      for (const stylableAttribute of stylableAttributes) {
        const stylableAttributeElement = document.createElement("div");
        stylableAttributeElement.classList.add("menu-item");
        stylableAttributeElement.classList.add("tappable");
        const iconElement = document.createElement("div");
        iconElement.classList.add("menu-item-icon");
        let selectedStyle = (_c = stylableAttribute.options.find((option) => currentStyleAttributes[stylableAttribute.datasetKey] === option.value)) != null ? _c : stylableAttribute.options.find((value) => value.value === null);
        (0, import_obsidian5.setIcon)(iconElement, selectedStyle.icon);
        stylableAttributeElement.appendChild(iconElement);
        const labelElement = document.createElement("div");
        labelElement.classList.add("menu-item-title");
        labelElement.textContent = stylableAttribute.label;
        stylableAttributeElement.appendChild(labelElement);
        const expandIconElement = document.createElement("div");
        expandIconElement.classList.add("menu-item-icon");
        (0, import_obsidian5.setIcon)(expandIconElement, "chevron-right");
        stylableAttributeElement.appendChild(expandIconElement);
        styleMenuDropdownElement.appendChild(stylableAttributeElement);
        stylableAttributeElement.addEventListener("pointerenter", () => {
          stylableAttributeElement.classList.add("selected");
        });
        stylableAttributeElement.addEventListener("pointerleave", () => {
          stylableAttributeElement.classList.remove("selected");
        });
        stylableAttributeElement.addEventListener("click", () => {
          var _a3;
          (_a3 = popupMenuElement.querySelector(`#${STYLE_MENU_DROPDOWN_SUBMENU_ID}`)) == null ? void 0 : _a3.remove();
          const styleMenuDropdownSubmenuElement = document.createElement("div");
          styleMenuDropdownSubmenuElement.id = STYLE_MENU_DROPDOWN_SUBMENU_ID;
          styleMenuDropdownSubmenuElement.classList.add("menu");
          styleMenuDropdownSubmenuElement.style.position = "absolute";
          styleMenuDropdownSubmenuElement.style.maxHeight = "initial";
          const topOffset = parseFloat(window.getComputedStyle(styleMenuDropdownElement).getPropertyValue("padding-top")) + (styleMenuDropdownElement.offsetHeight - styleMenuDropdownElement.clientHeight) / 2;
          styleMenuDropdownSubmenuElement.style.top = `${stylableAttributeElement.getBoundingClientRect().top - topOffset - popupMenuElement.getBoundingClientRect().top}px`;
          const leftPosition2 = styleMenuDropdownElement.getBoundingClientRect().right - popupMenuElement.getBoundingClientRect().left;
          const rightPosition2 = popupMenuElement.getBoundingClientRect().right - styleMenuDropdownElement.getBoundingClientRect().left;
          if (popupMenuElement.getBoundingClientRect().left + leftPosition2 < canvasWrapperCenterX)
            styleMenuDropdownSubmenuElement.style.left = `${leftPosition2}px`;
          else
            styleMenuDropdownSubmenuElement.style.right = `${rightPosition2}px`;
          for (const styleOption of stylableAttribute.options) {
            const styleMenuDropdownSubmenuOptionElement = this.createDropdownOptionElement({
              label: styleOption.label,
              icon: styleOption.icon,
              callback: () => {
                setStyleAttribute(stylableAttribute, styleOption.value);
                currentStyleAttributes[stylableAttribute.datasetKey] = styleOption.value;
                selectedStyle = styleOption;
                (0, import_obsidian5.setIcon)(iconElement, styleOption.icon);
                styleMenuDropdownSubmenuElement.remove();
              }
            });
            if (selectedStyle === styleOption) {
              styleMenuDropdownSubmenuOptionElement.classList.add("mod-selected");
              const selectedIconElement = document.createElement("div");
              selectedIconElement.classList.add("menu-item-icon");
              selectedIconElement.classList.add("mod-selected");
              (0, import_obsidian5.setIcon)(selectedIconElement, "check");
              styleMenuDropdownSubmenuOptionElement.appendChild(selectedIconElement);
            }
            styleMenuDropdownSubmenuElement.appendChild(styleMenuDropdownSubmenuOptionElement);
          }
          popupMenuElement.appendChild(styleMenuDropdownSubmenuElement);
        });
      }
      popupMenuElement.appendChild(styleMenuDropdownElement);
    });
  }
  static createDropdownOptionElement(menuOption) {
    const menuDropdownOptionElement = document.createElement("div");
    menuDropdownOptionElement.classList.add("menu-item");
    menuDropdownOptionElement.classList.add("tappable");
    const iconElement = document.createElement("div");
    iconElement.classList.add("menu-item-icon");
    (0, import_obsidian5.setIcon)(iconElement, menuOption.icon);
    menuDropdownOptionElement.appendChild(iconElement);
    const labelElement = document.createElement("div");
    labelElement.classList.add("menu-item-title");
    labelElement.textContent = menuOption.label;
    menuDropdownOptionElement.appendChild(labelElement);
    menuDropdownOptionElement.addEventListener("pointerenter", () => {
      menuDropdownOptionElement.classList.add("selected");
    });
    menuDropdownOptionElement.addEventListener("pointerleave", () => {
      menuDropdownOptionElement.classList.remove("selected");
    });
    menuDropdownOptionElement.addEventListener("click", () => {
      var _a;
      (_a = menuOption.callback) == null ? void 0 : _a.call(menuOption);
    });
    return menuDropdownOptionElement;
  }
  static createDropdownSeparatorElement() {
    const separatorElement = document.createElement("div");
    separatorElement.classList.add("menu-separator");
    return separatorElement;
  }
};
_CanvasHelper.GRID_SIZE = 20;
var CanvasHelper = _CanvasHelper;

// src/canvas-extensions/group-canvas-extension.ts
var GROUP_NODE_SIZE = { width: 300, height: 300 };
var GroupCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => {
        CanvasHelper.addCardMenuOption(
          canvas,
          CanvasHelper.createCardMenuOption(
            canvas,
            {
              id: "create-group",
              label: "Drag to add group",
              icon: "group"
            },
            () => GROUP_NODE_SIZE,
            (canvas2, pos) => {
              canvas2.createGroupNode({
                pos,
                size: GROUP_NODE_SIZE
              });
            }
          )
        );
      }
    ));
  }
};

// src/canvas-extensions/presentation-canvas-extension.ts
var import_obsidian6 = require("obsidian");
var START_SLIDE_NAME = "Start Slide";
var DEFAULT_SLIDE_NAME = "New Slide";
var PresentationCanvasExtension = class extends CanvasExtension {
  constructor() {
    super(...arguments);
    this.savedViewport = null;
    this.isPresentationMode = false;
    this.visitedNodeIds = [];
    this.fullscreenModalObserver = null;
  }
  isEnabled() {
    return "presentationFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.SelectionContextMenu,
      (menu, canvas) => {
        menu.addItem(
          (item) => item.setTitle("Wrap in slide").setIcon("gallery-vertical").onClick(() => this.addSlide(
            canvas,
            void 0,
            BBoxHelper.enlargeBBox(BBoxHelper.combineBBoxes(
              [...canvas.selection.values()].map((element) => element.getBBox())
            ), this.plugin.settings.getSetting("wrapInSlidePadding"))
          ))
        );
      }
    ));
    this.plugin.addCommand({
      id: "create-new-slide",
      name: "Create new slide",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && !this.isPresentationMode,
        (canvas) => this.addSlide(canvas)
      )
    });
    this.plugin.addCommand({
      id: "set-start-node",
      name: "Set start node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && !this.isPresentationMode && canvas.getSelectionData().nodes.length === 1,
        (canvas) => this.setStartNode(canvas, canvas.nodes.get(canvas.getSelectionData().nodes[0].id))
      )
    });
    this.plugin.addCommand({
      id: "start-presentation",
      name: "Start presentation",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => !this.isPresentationMode,
        (canvas) => this.startPresentation(canvas)
      )
    });
    this.plugin.addCommand({
      id: "continue-presentation",
      name: "Continue presentation",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => !this.isPresentationMode,
        (canvas) => this.startPresentation(canvas, true)
      )
    });
    this.plugin.addCommand({
      id: "end-presentation",
      name: "End presentation",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => this.isPresentationMode,
        (canvas) => this.endPresentation(canvas)
      )
    });
    this.plugin.addCommand({
      id: "previous-node",
      name: "Previous node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => this.isPresentationMode,
        (canvas) => this.previousNode(canvas)
      )
    });
    this.plugin.addCommand({
      id: "next-node",
      name: "Next node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => this.isPresentationMode,
        (canvas) => this.nextNode(canvas)
      )
    });
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.onCanvasChanged(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeMoved,
      (canvas, node) => this.onNodeMoved(canvas, node)
    ));
  }
  onCanvasChanged(canvas) {
    CanvasHelper.addCardMenuOption(
      canvas,
      CanvasHelper.createCardMenuOption(
        canvas,
        {
          id: "new-slide",
          label: "Drag to add slide",
          icon: "gallery-vertical"
        },
        () => this.getDefaultSlideSize(),
        (canvas2, pos) => this.addSlide(canvas2, pos)
      )
    );
  }
  onPopupMenuCreated(canvas) {
    if (!this.plugin.settings.getSetting("showSetStartNodeInPopup"))
      return;
    const selectedNodesData = canvas.getSelectionData().nodes;
    if (canvas.readonly || selectedNodesData.length !== 1 || canvas.selection.size > 1)
      return;
    const selectedNode = canvas.nodes.get(selectedNodesData[0].id);
    if (!selectedNode)
      return;
    CanvasHelper.addPopupMenuOption(
      canvas,
      CanvasHelper.createPopupMenuOption({
        id: "start-node",
        label: "Set as start slide",
        icon: "play",
        callback: () => this.setStartNode(canvas, selectedNode)
      })
    );
  }
  onNodeMoved(_canvas, node) {
    const nodeData = node.getData();
    if (!nodeData.sideRatio)
      return;
    const nodeBBox = node.getBBox();
    const nodeSize = {
      width: nodeBBox.maxX - nodeBBox.minX,
      height: nodeBBox.maxY - nodeBBox.minY
    };
    const nodeAspectRatio = nodeSize.width / nodeSize.height;
    if (nodeAspectRatio < nodeData.sideRatio)
      nodeSize.width = nodeSize.height * nodeData.sideRatio;
    else
      nodeSize.height = nodeSize.width / nodeData.sideRatio;
    node.setData({
      ...nodeData,
      width: nodeSize.width,
      height: nodeSize.height
    });
  }
  getStartNode(canvas) {
    for (const [_, node] of canvas.nodes) {
      if (node.getData().isStartNode)
        return node;
    }
    return void 0;
  }
  setStartNode(canvas, node) {
    if (!node)
      return;
    const startNode = this.getStartNode(canvas);
    if (startNode)
      startNode.setData({ ...startNode.getData(), isStartNode: false });
    if (node !== startNode)
      node.setData({ ...node.getData(), isStartNode: true }, true);
  }
  getDefaultSlideSize() {
    const slideSizeString = this.plugin.settings.getSetting("defaultSlideSize");
    const slideSizeArray = slideSizeString.split("x").map((value) => parseInt(value));
    return { width: slideSizeArray[0], height: slideSizeArray[1] };
  }
  getSlideAspectRatio() {
    const slideSize = this.getDefaultSlideSize();
    return slideSize.width / slideSize.height;
  }
  addSlide(canvas, pos, bbox) {
    const isStartNode = this.getStartNode(canvas) == null;
    const slideSize = this.getDefaultSlideSize();
    const slideAspectRatio = this.getSlideAspectRatio();
    if (bbox) {
      const bboxWidth = bbox.maxX - bbox.minX;
      const bboxHeight = bbox.maxY - bbox.minY;
      if (bboxWidth / bboxHeight > slideAspectRatio) {
        slideSize.width = bboxWidth;
        slideSize.height = bboxWidth / slideAspectRatio;
      } else {
        slideSize.height = bboxHeight;
        slideSize.width = bboxHeight * slideAspectRatio;
      }
      pos = {
        x: bbox.minX,
        y: bbox.minY
      };
    }
    if (!pos)
      pos = CanvasHelper.getCenterCoordinates(canvas, this.getDefaultSlideSize());
    const groupNode = canvas.createGroupNode({
      pos,
      size: slideSize,
      label: isStartNode ? START_SLIDE_NAME : DEFAULT_SLIDE_NAME,
      focus: false
    });
    groupNode.setData({
      ...groupNode.getData(),
      sideRatio: slideAspectRatio,
      isStartNode: isStartNode ? true : void 0
    });
  }
  async animateNodeTransition(canvas, fromNode, toNode) {
    const useCustomZoomFunction = this.plugin.settings.getSetting("zoomToSlideWithoutPadding");
    const animationDurationMs = this.plugin.settings.getSetting("slideTransitionAnimationDuration") * 1e3;
    if (animationDurationMs > 0 && fromNode) {
      const animationIntensity = this.plugin.settings.getSetting("slideTransitionAnimationIntensity");
      const currentNodeBBoxEnlarged = BBoxHelper.scaleBBox(fromNode.getBBox(), animationIntensity);
      if (useCustomZoomFunction)
        CanvasHelper.zoomToBBox(canvas, currentNodeBBoxEnlarged);
      else
        canvas.zoomToBbox(currentNodeBBoxEnlarged);
      await sleep(animationDurationMs / 2);
      if (fromNode.getData().id !== toNode.getData().id) {
        const nextNodeBBoxEnlarged = BBoxHelper.scaleBBox(toNode.getBBox(), animationIntensity + 0.1);
        if (useCustomZoomFunction)
          CanvasHelper.zoomToBBox(canvas, nextNodeBBoxEnlarged);
        else
          canvas.zoomToBbox(nextNodeBBoxEnlarged);
        await sleep(animationDurationMs / 2);
      }
    }
    let nodeBBox = toNode.getBBox();
    if (useCustomZoomFunction)
      CanvasHelper.zoomToBBox(canvas, nodeBBox);
    else
      canvas.zoomToBbox(nodeBBox);
  }
  async startPresentation(canvas, tryContinue = false) {
    if (!tryContinue || this.visitedNodeIds.length === 0) {
      const startNode2 = this.getStartNode(canvas);
      if (!startNode2) {
        new import_obsidian6.Notice("No start node found. Please mark a node as a start node trough the popup menu.");
        return;
      }
      this.visitedNodeIds = [startNode2.getData().id];
    }
    this.savedViewport = {
      x: canvas.tx,
      y: canvas.ty,
      zoom: canvas.tZoom
    };
    canvas.wrapperEl.focus();
    canvas.wrapperEl.requestFullscreen();
    canvas.wrapperEl.classList.add("presentation-mode");
    canvas.setReadonly(true);
    canvas.wrapperEl.onkeydown = (e) => {
      if (this.plugin.settings.getSetting("useArrowKeysToChangeSlides")) {
        if (e.key === "ArrowRight")
          this.nextNode(canvas);
        else if (e.key === "ArrowLeft")
          this.previousNode(canvas);
      }
      if (this.plugin.settings.getSetting("usePgUpPgDownKeysToChangeSlides")) {
        if (e.key === "PageDown")
          this.nextNode(canvas);
        else if (e.key === "PageUp")
          this.previousNode(canvas);
      }
    };
    this.fullscreenModalObserver = new MutationObserver((mutationRecords) => {
      mutationRecords.forEach((mutationRecord) => {
        mutationRecord.addedNodes.forEach((node) => {
          var _a;
          document.body.removeChild(node);
          (_a = document.fullscreenElement) == null ? void 0 : _a.appendChild(node);
        });
      });
      const inputField = document.querySelector(".prompt-input");
      if (inputField)
        inputField.focus();
    });
    this.fullscreenModalObserver.observe(document.body, { childList: true });
    canvas.wrapperEl.onfullscreenchange = (_e) => {
      if (document.fullscreenElement)
        return;
      this.endPresentation(canvas);
    };
    this.isPresentationMode = true;
    await sleep(500);
    const startNodeId = this.visitedNodeIds.first();
    if (!startNodeId)
      return;
    const startNode = canvas.nodes.get(startNodeId);
    if (!startNode)
      return;
    this.animateNodeTransition(canvas, void 0, startNode);
  }
  endPresentation(canvas) {
    var _a;
    (_a = this.fullscreenModalObserver) == null ? void 0 : _a.disconnect();
    this.fullscreenModalObserver = null;
    canvas.wrapperEl.onkeydown = null;
    canvas.wrapperEl.onfullscreenchange = null;
    canvas.setReadonly(false);
    canvas.wrapperEl.classList.remove("presentation-mode");
    if (document.fullscreenElement)
      document.exitFullscreen();
    if (this.plugin.settings.getSetting("resetViewportOnPresentationEnd"))
      canvas.setViewport(this.savedViewport.x, this.savedViewport.y, this.savedViewport.zoom);
    this.isPresentationMode = false;
  }
  nextNode(canvas) {
    var _a;
    const fromNodeId = this.visitedNodeIds.last();
    if (!fromNodeId)
      return;
    const fromNode = canvas.nodes.get(fromNodeId);
    if (!fromNode)
      return;
    const outgoingEdges = canvas.getEdgesForNode(fromNode).filter((edge) => edge.from.node.getData().id === fromNodeId);
    let toNode = (_a = outgoingEdges.first()) == null ? void 0 : _a.to.node;
    if (outgoingEdges.length > 1) {
      const sortedEdges = outgoingEdges.sort((a, b) => {
        if (!a.label)
          return 1;
        if (!b.label)
          return -1;
        return a.label.localeCompare(b.label);
      });
      const traversedEdgesCount = this.visitedNodeIds.filter((visitedNodeId) => visitedNodeId === fromNodeId).length - 1;
      const nextEdge = sortedEdges[traversedEdgesCount];
      toNode = nextEdge.to.node;
    }
    if (toNode) {
      this.visitedNodeIds.push(toNode.getData().id);
      this.animateNodeTransition(canvas, fromNode, toNode);
    } else {
      this.animateNodeTransition(canvas, fromNode, fromNode);
    }
  }
  previousNode(canvas) {
    const fromNodeId = this.visitedNodeIds.pop();
    if (!fromNodeId)
      return;
    const fromNode = canvas.nodes.get(fromNodeId);
    if (!fromNode)
      return;
    const toNodeId = this.visitedNodeIds.last();
    if (!toNodeId)
      return;
    let toNode = canvas.nodes.get(toNodeId);
    if (!toNode)
      return;
    if (!toNode) {
      toNode = fromNode;
      this.visitedNodeIds.push(fromNodeId);
    }
    this.animateNodeTransition(canvas, fromNode, toNode);
  }
};

// src/canvas-extensions/better-readonly-canvas-extension.ts
var BetterReadonlyCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "betterReadonlyEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas, _node) => this.updatePopupMenu(canvas)
    ));
    let movingToBBox = false;
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ViewportChanged.Before,
      (canvas) => {
        var _a, _b, _c, _d, _e, _f;
        if (movingToBBox) {
          movingToBBox = false;
          this.updateLockedZoom(canvas);
          this.updateLockedPan(canvas);
          return;
        }
        if (!canvas.readonly)
          return;
        if (this.plugin.settings.getSetting("disableZoom")) {
          canvas.zoom = (_a = canvas.lockedZoom) != null ? _a : canvas.zoom;
          canvas.tZoom = (_b = canvas.lockedZoom) != null ? _b : canvas.tZoom;
        }
        if (this.plugin.settings.getSetting("disablePan")) {
          canvas.x = (_c = canvas.lockedX) != null ? _c : canvas.x;
          canvas.tx = (_d = canvas.lockedX) != null ? _d : canvas.tx;
          canvas.y = (_e = canvas.lockedY) != null ? _e : canvas.y;
          canvas.ty = (_f = canvas.lockedY) != null ? _f : canvas.ty;
        }
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ZoomToBbox.Before,
      () => movingToBBox = true
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ReadonlyChanged,
      (canvas, _readonly) => {
        this.updatePopupMenu(canvas);
        this.updateLockedZoom(canvas);
        this.updateLockedPan(canvas);
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.addQuickSettings(canvas)
    ));
  }
  addQuickSettings(canvas) {
    var _a;
    const settingsContainer = (_a = canvas.quickSettingsButton) == null ? void 0 : _a.parentElement;
    if (!settingsContainer)
      return;
    CanvasHelper.addControlMenuButton(
      settingsContainer,
      this.createToggle({
        id: "disable-node-popup",
        label: "Disable node popup",
        icon: "arrow-up-right-from-circle",
        callback: () => this.updatePopupMenu(canvas)
      }, "disableNodePopup")
    );
    CanvasHelper.addControlMenuButton(
      settingsContainer,
      this.createToggle({
        id: "disable-zoom",
        label: "Disable zoom",
        icon: "zoom-in",
        callback: () => this.updateLockedZoom(canvas)
      }, "disableZoom")
    );
    CanvasHelper.addControlMenuButton(
      settingsContainer,
      this.createToggle({
        id: "disable-pan",
        label: "Disable pan",
        icon: "move",
        callback: () => this.updateLockedPan(canvas)
      }, "disablePan")
    );
  }
  createToggle(menuOption, settingKey) {
    const toggle = CanvasHelper.createControlMenuButton({
      ...menuOption,
      callback: () => (async () => {
        var _a;
        const newValue = !this.plugin.settings.getSetting(settingKey);
        await this.plugin.settings.setSetting({ [settingKey]: newValue });
        toggle.dataset.toggled = this.plugin.settings.getSetting(settingKey).toString();
        (_a = menuOption.callback) == null ? void 0 : _a.call(this);
      })()
    });
    toggle.classList.add("show-while-readonly");
    toggle.dataset.toggled = this.plugin.settings.getSetting(settingKey).toString();
    return toggle;
  }
  updatePopupMenu(canvas) {
    const hidden = canvas.readonly && this.plugin.settings.getSetting("disableNodePopup");
    canvas.menu.menuEl.style.visibility = hidden ? "hidden" : "visible";
  }
  updateLockedZoom(canvas) {
    canvas.lockedZoom = canvas.tZoom;
  }
  updateLockedPan(canvas) {
    canvas.lockedX = canvas.tx;
    canvas.lockedY = canvas.ty;
  }
};

// src/utils/modal-helper.ts
var import_obsidian7 = require("obsidian");

// src/utils/path-helper.ts
var PathHelper = class {
  static extension(path) {
    return path.includes(".") ? path.split(".").pop() : void 0;
  }
};

// src/utils/modal-helper.ts
var FileNameModal = class extends import_obsidian7.SuggestModal {
  constructor(app, parentPath, fileExtension) {
    super(app);
    this.parentPath = parentPath;
    this.fileExtension = fileExtension;
  }
  getSuggestions(query) {
    const queryWithoutExtension = query.replace(new RegExp(`\\.${this.fileExtension}$`), "");
    if (queryWithoutExtension === "")
      return [];
    const queryWithExtension = queryWithoutExtension + "." + this.fileExtension;
    const suggestions = [`${this.parentPath}/${queryWithExtension}`, queryWithExtension].filter((s) => this.app.vault.getAbstractFileByPath(s) === null);
    return suggestions;
  }
  renderSuggestion(text, el) {
    el.setText(text);
  }
  onChooseSuggestion(_text, _evt) {
  }
  awaitInput() {
    return new Promise((resolve, _reject) => {
      this.onChooseSuggestion = (text) => {
        resolve(text);
      };
      this.open();
    });
  }
};
var FileSelectModal = class extends import_obsidian7.SuggestModal {
  constructor(app, extensionsRegex, suggestNewFile = false) {
    super(app);
    this.files = this.app.vault.getFiles().map((file) => file.path).filter((path) => {
      var _a;
      return (_a = PathHelper.extension(path)) == null ? void 0 : _a.match(extensionsRegex != null ? extensionsRegex : /.*/);
    });
    this.suggestNewFile = suggestNewFile;
    this.setPlaceholder("Type to search...");
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to open"
    }, {
      command: "shift \u21B5",
      purpose: "to create"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
    this.scope.register(["Shift"], "Enter", (e) => {
      this.onChooseSuggestion(this.inputEl.value, e);
      this.close();
    });
  }
  getSuggestions(query) {
    const suggestions = this.files.filter((path) => path.toLowerCase().includes(query.toLowerCase()));
    if (suggestions.length === 0 && this.suggestNewFile)
      suggestions.push(query);
    return suggestions;
  }
  renderSuggestion(path, el) {
    const simplifiedPath = path.replace(/\.md$/, "");
    el.setText(simplifiedPath);
  }
  onChooseSuggestion(_path, _evt) {
  }
  awaitInput() {
    return new Promise((resolve, _reject) => {
      this.onChooseSuggestion = (path, _evt) => {
        const file = this.app.vault.getAbstractFileByPath(path);
        if (file instanceof import_obsidian7.TFile)
          return resolve(file);
        if (!this.suggestNewFile)
          return;
        if (PathHelper.extension(path) === void 0)
          path += ".md";
        const newFile = this.app.vault.create(path, "");
        resolve(newFile);
      };
      this.open();
    });
  }
};

// src/canvas-extensions/encapsulate-canvas-extension.ts
var ENCAPSULATED_FILE_NODE_SIZE = { width: 300, height: 300 };
var EncapsulateCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "canvasEncapsulationEnabled";
  }
  init() {
    this.plugin.addCommand({
      id: "encapsulate-selection",
      name: "Encapsulate selection",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && canvas.selection.size > 0,
        (canvas) => this.encapsulateSelection(canvas)
      )
    });
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.SelectionContextMenu,
      (menu, canvas) => {
        menu.addItem(
          (item) => item.setTitle("Encapsulate").setIcon("file-plus").onClick(() => this.encapsulateSelection(canvas))
        );
      }
    ));
  }
  async encapsulateSelection(canvas) {
    var _a;
    const selection = canvas.getSelectionData();
    const sourceFileFolder = (_a = canvas.view.file.parent) == null ? void 0 : _a.path;
    if (!sourceFileFolder)
      return;
    const targetFilePath = await new FileNameModal(
      this.plugin.app,
      sourceFileFolder,
      "canvas"
    ).awaitInput();
    const newFileData = { nodes: selection.nodes, edges: selection.edges };
    const file = await this.plugin.app.vault.create(targetFilePath, JSON.stringify(newFileData, null, 2));
    for (const nodeData of selection.nodes) {
      const node = canvas.nodes.get(nodeData.id);
      if (node)
        canvas.removeNode(node);
    }
    canvas.createFileNode({
      pos: {
        x: selection.center.x - ENCAPSULATED_FILE_NODE_SIZE.width / 2,
        y: selection.center.y - ENCAPSULATED_FILE_NODE_SIZE.height / 2
      },
      size: ENCAPSULATED_FILE_NODE_SIZE,
      file
    });
  }
};

// src/canvas-extensions/commands-canvas-extension.ts
var DIRECTIONS = ["up", "down", "left", "right"];
var CommandsCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "commandsFeatureEnabled";
  }
  init() {
    this.plugin.addCommand({
      id: "create-text-node",
      name: "Create text node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly,
        (canvas) => this.createTextNode(canvas)
      )
    });
    this.plugin.addCommand({
      id: "create-file-node",
      name: "Create file node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly,
        (canvas) => this.createFileNode(canvas)
      )
    });
    this.plugin.addCommand({
      id: "select-all-edges",
      name: "Select all edges",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => true,
        (canvas) => canvas.updateSelection(
          () => canvas.selection = new Set(canvas.edges.values())
        )
      )
    });
    this.plugin.addCommand({
      id: "zoom-to-selection",
      name: "Zoom to selection",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => canvas.selection.size > 0,
        (canvas) => canvas.zoomToSelection()
      )
    });
    for (const direction of DIRECTIONS) {
      this.plugin.addCommand({
        id: `clone-node-${direction}`,
        name: `Clone node ${direction}`,
        checkCallback: CanvasHelper.canvasCommand(
          this.plugin,
          (canvas) => {
            var _a;
            return !canvas.readonly && canvas.selection.size === 1 && ((_a = canvas.selection.values().next().value) == null ? void 0 : _a.getData().type) === "text";
          },
          (canvas) => this.cloneNode(canvas, direction)
        )
      });
      this.plugin.addCommand({
        id: `expand-node-${direction}`,
        name: `Expand node ${direction}`,
        checkCallback: CanvasHelper.canvasCommand(
          this.plugin,
          (canvas) => !canvas.readonly && canvas.selection.size === 1,
          (canvas) => this.expandNode(canvas, direction)
        )
      });
    }
    this.plugin.addCommand({
      id: "flip-selection-horizontally",
      name: "Flip selection horizontally",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && canvas.selection.size > 0,
        (canvas) => this.flipSelection(
          canvas,
          true
        )
      )
    });
    this.plugin.addCommand({
      id: "flip-selection-vertically",
      name: "Flip selection vertically",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && canvas.selection.size > 0,
        (canvas) => this.flipSelection(canvas, false)
      )
    });
  }
  createTextNode(canvas) {
    const size = canvas.config.defaultTextNodeDimensions;
    const pos = CanvasHelper.getCenterCoordinates(canvas, size);
    canvas.createTextNode({ pos, size });
  }
  async createFileNode(canvas) {
    const size = canvas.config.defaultFileNodeDimensions;
    const pos = CanvasHelper.getCenterCoordinates(canvas, size);
    const file = await new FileSelectModal(this.plugin.app, void 0, true).awaitInput();
    canvas.createFileNode({ pos, size, file });
  }
  cloneNode(canvas, cloneDirection) {
    const sourceNode = canvas.selection.values().next().value;
    if (!sourceNode)
      return;
    const sourceNodeData = sourceNode.getData();
    const nodeMargin = this.plugin.settings.getSetting("cloneNodeMargin");
    const offset = {
      x: (sourceNode.width + nodeMargin) * (cloneDirection === "left" ? -1 : cloneDirection === "right" ? 1 : 0),
      y: (sourceNode.height + nodeMargin) * (cloneDirection === "up" ? -1 : cloneDirection === "down" ? 1 : 0)
    };
    const clonedNode = canvas.createTextNode({
      pos: {
        x: sourceNode.x + offset.x,
        y: sourceNode.y + offset.y
      },
      size: {
        width: sourceNode.width,
        height: sourceNode.height
      }
    });
    clonedNode.setData({
      ...clonedNode.getData(),
      color: sourceNodeData.color,
      styleAttributes: sourceNodeData.styleAttributes
    });
    if (this.plugin.settings.getSetting("zoomToClonedNode"))
      canvas.zoomToBbox(clonedNode.getBBox());
  }
  expandNode(canvas, expandDirection) {
    const node = canvas.selection.values().next().value;
    if (!node)
      return;
    const expandNodeStepSize = this.plugin.settings.getSetting("expandNodeStepSize");
    const expand = {
      x: expandDirection === "left" ? -1 : expandDirection === "right" ? 1 : 0,
      y: expandDirection === "up" ? -1 : expandDirection === "down" ? 1 : 0
    };
    node.setData({
      ...node.getData(),
      width: node.width + expand.x * expandNodeStepSize,
      height: node.height + expand.y * expandNodeStepSize
    });
  }
  flipSelection(canvas, horizontally) {
    const selectionData = canvas.getSelectionData();
    if (selectionData.nodes.length === 0)
      return;
    const nodeIds = /* @__PURE__ */ new Set();
    for (const nodeData of selectionData.nodes) {
      nodeIds.add(nodeData.id);
      const node = canvas.nodes.get(nodeData.id);
      if (!node)
        continue;
      const newX = horizontally ? 2 * selectionData.center.x - nodeData.x - nodeData.width : nodeData.x;
      const newY = horizontally ? nodeData.y : 2 * selectionData.center.y - nodeData.y - nodeData.height;
      node.setData({
        ...nodeData,
        x: newX,
        y: newY
      });
    }
    for (const edge of canvas.edges.values()) {
      const edgeData = edge.getData();
      let newFromSide = edgeData.fromSide;
      if (nodeIds.has(edgeData.fromNode) && BBoxHelper.isHorizontal(edgeData.fromSide) === horizontally)
        newFromSide = BBoxHelper.getOppositeSide(edgeData.fromSide);
      let newToSide = edgeData.toSide;
      if (nodeIds.has(edgeData.toNode) && BBoxHelper.isHorizontal(edgeData.toSide) === horizontally)
        newToSide = BBoxHelper.getOppositeSide(edgeData.toSide);
      edge.setData({
        ...edgeData,
        fromSide: newFromSide,
        toSide: newToSide
      });
    }
    canvas.pushHistory(canvas.getData());
  }
};

// src/canvas-extensions/auto-resize-node-canvas-extension.ts
var AutoResizeNodeCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "autoResizeNodeFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeCreated,
      (canvas, node) => this.onNodeCreated(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeEditingStateChanged,
      (canvas, node, editing) => this.onNodeEditingStateChanged(canvas, node, editing)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeTextContentChanged,
      (canvas, node, viewUpdate) => this.onNodeTextContentChanged(canvas, node, viewUpdate.view.dom)
    ));
  }
  isValidNodeType(nodeData) {
    var _a;
    return nodeData.type === "text" || nodeData.type === "file" && ((_a = nodeData.file) == null ? void 0 : _a.endsWith(".md"));
  }
  onNodeCreated(_canvas, node) {
    const autoResizeNodeEnabledByDefault = this.plugin.settings.getSetting("autoResizeNodeEnabledByDefault");
    if (!autoResizeNodeEnabledByDefault)
      return;
    const nodeData = node.getData();
    if (nodeData.type !== "text" && nodeData.type !== "file")
      return;
    node.setData({
      ...node.getData(),
      autoResizeHeight: true
    });
  }
  onPopupMenuCreated(canvas) {
    if (canvas.readonly)
      return;
    const selectedNodes = canvas.getSelectionData().nodes.filter((nodeData) => this.isValidNodeType(nodeData)).map((nodeData) => canvas.nodes.get(nodeData.id)).filter((node) => node !== void 0);
    if (selectedNodes.length === 0)
      return;
    const autoResizeHeightEnabled = selectedNodes.some((node) => node.getData().autoResizeHeight);
    CanvasHelper.addPopupMenuOption(
      canvas,
      CanvasHelper.createPopupMenuOption({
        id: "auto-resize-height",
        label: autoResizeHeightEnabled ? "Disable auto-resize" : "Enable auto-resize",
        icon: autoResizeHeightEnabled ? "scan-text" : "lock",
        callback: () => this.toggleAutoResizeHeightEnabled(canvas, selectedNodes, autoResizeHeightEnabled)
      })
    );
  }
  toggleAutoResizeHeightEnabled(canvas, nodes, autoResizeHeight) {
    nodes.forEach((node) => node.setData({
      ...node.getData(),
      autoResizeHeight: !autoResizeHeight
    }));
    this.onPopupMenuCreated(canvas);
  }
  canBeResized(node) {
    const nodeData = node.getData();
    return nodeData.autoResizeHeight;
  }
  async onNodeEditingStateChanged(_canvas, node, editing) {
    if (!this.isValidNodeType(node.getData()))
      return;
    if (!this.canBeResized(node))
      return;
    await sleep(10);
    if (editing) {
      this.onNodeTextContentChanged(_canvas, node, node.child.editMode.cm.dom);
      return;
    }
    const renderedMarkdownContainer = node.nodeEl.querySelector(".markdown-preview-view.markdown-rendered");
    if (!renderedMarkdownContainer)
      return;
    renderedMarkdownContainer.style.height = "min-content";
    let newHeight = renderedMarkdownContainer.clientHeight;
    renderedMarkdownContainer.style.removeProperty("height");
    this.setNodeHeight(node, newHeight);
  }
  async onNodeTextContentChanged(_canvas, node, dom) {
    if (!this.isValidNodeType(node.getData()))
      return;
    if (!this.canBeResized(node))
      return;
    const cmScroller = dom.querySelector(".cm-scroller");
    if (!cmScroller)
      return;
    cmScroller.style.height = "min-content";
    const newHeight = cmScroller.scrollHeight;
    cmScroller.style.removeProperty("height");
    this.setNodeHeight(node, newHeight);
  }
  setNodeHeight(node, height) {
    if (height === 0)
      return;
    const maxHeight = this.plugin.settings.getSetting("autoResizeNodeMaxHeight");
    if (maxHeight != -1 && height > maxHeight)
      height = maxHeight;
    const nodeData = node.getData();
    height = Math.max(height, node.canvas.config.minContainerDimension);
    if (this.plugin.settings.getSetting("autoResizeNodeSnapToGrid"))
      height = Math.ceil(height / CanvasHelper.GRID_SIZE) * CanvasHelper.GRID_SIZE;
    node.setData({
      ...nodeData,
      height
    });
  }
};

// src/canvas-extensions/portals-canvas-extension.ts
var import_obsidian8 = require("obsidian");
var PORTAL_PADDING = 50;
var MIN_OPEN_PORTAL_SIZE = { width: 200, height: 200 };
var PortalsCanvasExtension = class extends CanvasExtension {
  constructor() {
    super(...arguments);
    this.nestedPortals = {};
  }
  isEnabled() {
    return "portalsFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.vault.on("modify", (file) => {
      const canvases = this.plugin.app.workspace.getLeavesOfType("canvas").map((leaf) => leaf.view.canvas);
      for (const canvas of canvases) {
        if (canvas === void 0)
          continue;
        const hasPortalsToFile = canvas.getData().nodes.filter(
          (nodeData) => nodeData.type === "file" && nodeData.portalToFile === file.path
        ).length > 0;
        if (hasPortalsToFile) {
          canvas.setData(canvas.getData());
          canvas.history.current--;
          canvas.history.data.pop();
        }
      }
    }));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.updatePopupMenu(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeRemoved,
      (canvas, node) => this.onNodeRemoved(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeMoved,
      (canvas, node) => this.onNodeMoved(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DraggingStateChanged,
      (canvas, startedDragging) => this.onDraggingStateChanged(canvas, startedDragging)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ContainingNodesRequested,
      (canvas, bbox, nodes) => this.onContainingNodesRequested(canvas, bbox, nodes)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.SelectionChanged,
      (canvas, oldSelection, updateSelection) => this.onSelectionChanged(canvas, oldSelection, updateSelection)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DataRequested,
      (canvas, data) => this.removePortalCanvasData(canvas, data)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.LoadData,
      (canvas, data, setData) => {
        this.getCanvasDataWithPortals(canvas, data).then((newData) => {
          if (newData.nodes.length === data.nodes.length && newData.edges.length === data.edges.length)
            return;
          setData(newData);
        });
      }
    ));
  }
  updatePopupMenu(canvas) {
    if (canvas.readonly)
      return;
    const selectedFileNodes = canvas.getSelectionData().nodes.map((nodeData) => {
      var _a;
      const node = canvas.nodes.get(nodeData.id);
      if (!node)
        return null;
      if (nodeData.type !== "file")
        return null;
      if (((_a = node.file) == null ? void 0 : _a.extension) === "canvas")
        return node;
      if (nodeData.portalToFile)
        this.setPortalOpen(canvas, node, false);
      return null;
    }).filter((node) => node !== null);
    if (selectedFileNodes.length !== 1)
      return;
    const portalNode = selectedFileNodes[0];
    const portalNodeData = portalNode.getData();
    if (portalNodeData.portalToFile && portalNodeData.file !== portalNodeData.portalToFile) {
      this.setPortalOpen(canvas, portalNode, true);
    }
    CanvasHelper.addPopupMenuOption(
      canvas,
      CanvasHelper.createPopupMenuOption({
        id: "toggle-portal",
        label: portalNodeData.portalToFile ? "Close portal" : "Open portal",
        icon: portalNodeData.portalToFile ? "door-open" : "door-closed",
        callback: () => {
          this.setPortalOpen(canvas, portalNode, portalNodeData.portalToFile === void 0);
          this.updatePopupMenu(canvas);
        }
      })
    );
  }
  setPortalOpen(canvas, portalNode, open) {
    const portalNodeData = portalNode.getData();
    portalNode.setData({
      ...portalNodeData,
      portalToFile: open ? portalNodeData.file : void 0
    });
    canvas.setData(canvas.getData());
  }
  onNodeRemoved(canvas, node) {
    var _a, _b, _c, _d;
    const nodeData = node.getData();
    if (nodeData.type !== "file" || !nodeData.portalToFile)
      return;
    Object.keys((_b = (_a = nodeData.portalIdMaps) == null ? void 0 : _a.nodeIdMap) != null ? _b : {}).map((refNodeId) => canvas.nodes.get(refNodeId)).filter((node2) => node2 !== void 0).forEach((node2) => canvas.removeNode(node2));
    Object.keys((_d = (_c = nodeData.portalIdMaps) == null ? void 0 : _c.edgeIdMap) != null ? _d : {}).map((refEdgeId) => canvas.edges.get(refEdgeId)).filter((edge) => edge !== void 0).forEach((edge) => canvas.removeEdge(edge));
  }
  onContainingNodesRequested(_canvas, _bbox, nodes) {
    nodes.splice(0, nodes.length, ...nodes.filter((node) => node.getData().portalId === void 0));
  }
  onSelectionChanged(canvas, oldSelection, updateSelection) {
    updateSelection(() => {
      const updatedSelection = Array.from(canvas.selection).filter((node) => node.getData().portalId === void 0);
      canvas.selection = new Set(updatedSelection);
    });
    const previouslySelectedPortalNodesIds = Array.from(oldSelection).filter((node) => node.getData().portalToFile !== void 0).flatMap((node) => {
      const portalNodeData = node.getData();
      const nestedPortalsIds = this.getNestedPortalsIds(canvas, portalNodeData.id);
      return [portalNodeData.id, ...nestedPortalsIds];
    });
    for (const node of canvas.nodes.values()) {
      const nodeData = node.getData();
      if (nodeData.portalId === void 0 || !previouslySelectedPortalNodesIds.includes(nodeData.portalId))
        continue;
      node.updateZIndex();
    }
  }
  getNestedPortalsIds(canvas, portalId) {
    const nestedPortalsIds = [];
    for (const node of canvas.nodes.values()) {
      const nodeData = node.getData();
      if (nodeData.portalId === portalId) {
        nestedPortalsIds.push(nodeData.id);
        nestedPortalsIds.push(...this.getNestedPortalsIds(canvas, nodeData.id));
      }
    }
    return nestedPortalsIds;
  }
  onDraggingStateChanged(canvas, startedDragging) {
    var _a;
    if (!canvas.getSelectionData().nodes.some((node) => node.type === "file" && node.portalToFile))
      return;
    if (startedDragging) {
      const objectSnappingEnabled = canvas.options.snapToObjects;
      this.restoreObjectSnappingState = () => canvas.toggleObjectSnapping(objectSnappingEnabled);
      if (objectSnappingEnabled)
        canvas.toggleObjectSnapping(false);
    } else
      (_a = this.restoreObjectSnappingState) == null ? void 0 : _a.call(this);
  }
  onNodeMoved(canvas, node) {
    const nodeData = node.getData();
    if (nodeData.type !== "file" || !nodeData.portalToFile)
      return;
    this.onOpenPortalMoved(canvas, node);
  }
  onOpenPortalMoved(canvas, portalNode) {
    var _a;
    let portalNodeData = portalNode.getData();
    const nestedNodesIdMap = (_a = portalNode.getData().portalIdMaps) == null ? void 0 : _a.nodeIdMap;
    if (!nestedNodesIdMap)
      return;
    const nestedNodes = Object.keys(nestedNodesIdMap).map((refNodeId) => canvas.nodes.get(refNodeId)).filter((node) => node !== void 0);
    const sourceBBox = CanvasHelper.getBBox(nestedNodes);
    const targetSize = this.getPortalSize(sourceBBox);
    if (portalNodeData.width !== targetSize.width || portalNodeData.height !== targetSize.height) {
      portalNode.setData({
        ...portalNodeData,
        width: targetSize.width,
        height: targetSize.height
      });
      return;
    }
    const portalOffset = {
      x: portalNodeData.x - sourceBBox.minX + PORTAL_PADDING,
      y: portalNodeData.y - sourceBBox.minY + PORTAL_PADDING
    };
    for (const nestedNode of nestedNodes) {
      const nestedNodeData = nestedNode.getData();
      nestedNode.setData({
        ...nestedNodeData,
        x: nestedNodeData.x + portalOffset.x,
        y: nestedNodeData.y + portalOffset.y
      });
    }
  }
  removePortalCanvasData(_canvas, data) {
    var _a, _b;
    data.edges = data.edges.filter((edgeData) => {
      var _a2, _b2;
      if (edgeData.portalId !== void 0)
        return false;
      const fromNodeData = data.nodes.find((nodeData) => nodeData.id === edgeData.fromNode);
      const toNodeData = data.nodes.find((nodeData) => nodeData.id === edgeData.toNode);
      if (!fromNodeData || !toNodeData)
        return true;
      if (fromNodeData.portalId === void 0 && toNodeData.portalId === void 0) {
        return true;
      } else if (fromNodeData.portalId !== void 0 && toNodeData.portalId !== void 0) {
        return false;
      } else {
        const fromPortalNodeData = fromNodeData.portalId !== void 0 ? fromNodeData : toNodeData;
        const notFromPortalNodeData = fromNodeData.portalId !== void 0 ? toNodeData : fromNodeData;
        notFromPortalNodeData.edgesToNodeFromPortal = (_a2 = notFromPortalNodeData.edgesToNodeFromPortal) != null ? _a2 : {};
        notFromPortalNodeData.edgesToNodeFromPortal[fromPortalNodeData.portalId] = (_b2 = notFromPortalNodeData.edgesToNodeFromPortal[fromPortalNodeData.portalId]) != null ? _b2 : [];
        notFromPortalNodeData.edgesToNodeFromPortal[fromPortalNodeData.portalId].push(edgeData);
        return false;
      }
    });
    data.nodes = data.nodes.filter((nodeData) => nodeData.portalId === void 0);
    for (const portalNodeData of data.nodes) {
      if (portalNodeData.type !== "file")
        continue;
      if (this.plugin.settings.getSetting("maintainClosedPortalSize")) {
        portalNodeData.width = (_a = portalNodeData.closedPortalWidth) != null ? _a : portalNodeData.width;
        portalNodeData.height = (_b = portalNodeData.closedPortalHeight) != null ? _b : portalNodeData.height;
      }
      delete portalNodeData.closedPortalWidth;
      delete portalNodeData.closedPortalHeight;
      delete portalNodeData.portalIdMaps;
    }
  }
  async getCanvasDataWithPortals(canvas, dataRef) {
    const data = JSON.parse(JSON.stringify(dataRef));
    this.nestedPortals = {};
    const addedData = await Promise.all(data.nodes.map((nodeData) => this.tryOpenPortal(canvas, nodeData)));
    for (const newData of addedData) {
      data.nodes.push(...newData.nodes);
      data.edges.push(...newData.edges);
    }
    for (const originNodeData of data.nodes) {
      if (originNodeData.edgesToNodeFromPortal === void 0)
        continue;
      for (const [relativePortalId, edges] of Object.entries(originNodeData.edgesToNodeFromPortal)) {
        const idPrefix = originNodeData.portalId ? `${originNodeData.portalId}-` : "";
        const portalId = `${idPrefix}${relativePortalId}`;
        const targetPortalData = data.nodes.find((nodeData) => nodeData.id === portalId);
        if (!targetPortalData) {
          delete originNodeData.edgesToNodeFromPortal[portalId];
          continue;
        }
        if (targetPortalData.portalToFile) {
          data.edges.push(...edges.map((edge) => ({
            ...edge,
            portalId: originNodeData.portalId,
            fromNode: `${idPrefix}${edge.fromNode}`,
            toNode: `${idPrefix}${edge.toNode}`
          })));
          delete originNodeData.edgesToNodeFromPortal[portalId];
        } else if (this.plugin.settings.getSetting("showEdgesIntoDisabledPortals")) {
          data.edges.push(...edges.map((edge) => {
            const fromNodeId = `${idPrefix}${edge.fromNode}`;
            const fromNode = data.nodes.find((nodeData) => nodeData.id === fromNodeId);
            const toNodeId = `${idPrefix}${edge.toNode}`;
            return {
              ...edge,
              fromNode: fromNode ? fromNodeId : portalId,
              toNode: fromNode ? portalId : toNodeId,
              portalId
              // Mark it as temporary
            };
          }));
        }
      }
      if (Object.keys(originNodeData.edgesToNodeFromPortal).length === 0)
        delete originNodeData.edgesToNodeFromPortal;
    }
    return data;
  }
  async tryOpenPortal(canvas, portalNodeData, parentPortalId) {
    var _a, _b, _c, _d;
    const addedData = { nodes: [], edges: [] };
    if (portalNodeData.type !== "file" || !portalNodeData.portalToFile)
      return addedData;
    portalNodeData.portalToFile = portalNodeData.file;
    if (portalNodeData.portalToFile === canvas.view.file.path) {
      portalNodeData.portalToFile = void 0;
      return addedData;
    }
    if (parentPortalId) {
      if ((_a = this.nestedPortals[parentPortalId]) == null ? void 0 : _a.includes(portalNodeData.portalToFile)) {
        portalNodeData.portalToFile = void 0;
        return addedData;
      }
      this.nestedPortals[parentPortalId] = (_b = this.nestedPortals[parentPortalId]) != null ? _b : [];
      this.nestedPortals[parentPortalId].push(portalNodeData.portalToFile);
    }
    const portalFile = this.plugin.app.vault.getAbstractFileByPath(portalNodeData.file);
    if (!(portalFile instanceof import_obsidian8.TFile) || portalFile.extension !== "canvas") {
      portalNodeData.portalToFile = void 0;
      return addedData;
    }
    const portalFileDataString = await this.plugin.app.vault.cachedRead(portalFile);
    if (portalFileDataString === "")
      return addedData;
    const portalFileData = JSON.parse(portalFileDataString);
    if (!portalFileData) {
      portalNodeData.portalToFile = void 0;
      return addedData;
    }
    portalNodeData.portalIdMaps = {
      nodeIdMap: {},
      edgeIdMap: {}
    };
    const sourceMinCoordinates = CanvasHelper.getBBox(portalFileData.nodes);
    const portalOffset = {
      x: portalNodeData.x - sourceMinCoordinates.minX + PORTAL_PADDING,
      y: portalNodeData.y - sourceMinCoordinates.minY + PORTAL_PADDING
    };
    for (const nodeDataFromPortal of portalFileData.nodes) {
      const refNodeId = `${portalNodeData.id}-${nodeDataFromPortal.id}`;
      portalNodeData.portalIdMaps.nodeIdMap[refNodeId] = nodeDataFromPortal.id;
      const addedNode = {
        ...nodeDataFromPortal,
        id: refNodeId,
        x: nodeDataFromPortal.x + portalOffset.x,
        y: nodeDataFromPortal.y + portalOffset.y,
        portalId: portalNodeData.id
      };
      addedData.nodes.push(addedNode);
      const nestedNodes = await this.tryOpenPortal(canvas, addedNode, parentPortalId != null ? parentPortalId : portalNodeData.id);
      addedData.nodes.push(...nestedNodes.nodes);
      addedData.edges.push(...nestedNodes.edges);
    }
    for (const edgeDataFromPortal of portalFileData.edges) {
      const refEdgeId = `${portalNodeData.id}-${edgeDataFromPortal.id}`;
      portalNodeData.portalIdMaps.edgeIdMap[refEdgeId] = edgeDataFromPortal.id;
      const fromRefNode = (_c = Object.entries(portalNodeData.portalIdMaps.nodeIdMap).find(([_refNodeId, nodeId]) => nodeId === edgeDataFromPortal.fromNode)) == null ? void 0 : _c[0];
      const toRefNode = (_d = Object.entries(portalNodeData.portalIdMaps.nodeIdMap).find(([_refNodeId, nodeId]) => nodeId === edgeDataFromPortal.toNode)) == null ? void 0 : _d[0];
      if (!fromRefNode || !toRefNode)
        continue;
      addedData.edges.push({
        ...edgeDataFromPortal,
        id: refEdgeId,
        fromNode: fromRefNode,
        toNode: toRefNode,
        portalId: portalNodeData.id
      });
    }
    const nestedNodesBBox = CanvasHelper.getBBox(addedData.nodes);
    const targetSize = this.getPortalSize(nestedNodesBBox);
    portalNodeData.closedPortalWidth = portalNodeData.width;
    portalNodeData.closedPortalHeight = portalNodeData.height;
    portalNodeData.width = targetSize.width;
    portalNodeData.height = targetSize.height;
    return addedData;
  }
  getPortalSize(sourceBBox) {
    const sourceSize = {
      width: sourceBBox.maxX - sourceBBox.minX,
      height: sourceBBox.maxY - sourceBBox.minY
    };
    const targetSize = {
      width: Math.max(sourceSize.width + PORTAL_PADDING * 2, MIN_OPEN_PORTAL_SIZE.width),
      height: Math.max(sourceSize.height + PORTAL_PADDING * 2, MIN_OPEN_PORTAL_SIZE.height)
    };
    if (!Number.isFinite(targetSize.width))
      targetSize.width = MIN_OPEN_PORTAL_SIZE.width;
    if (!Number.isFinite(targetSize.height))
      targetSize.height = MIN_OPEN_PORTAL_SIZE.height;
    return targetSize;
  }
};

// src/canvas-extensions/better-default-settings-canvas-extension.ts
var BetterDefaultSettingsCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.modifyCanvasSettings(this.plugin.getCurrentCanvas());
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      SettingsManager.SETTINGS_CHANGED_EVENT,
      () => this.modifyCanvasSettings(this.plugin.getCurrentCanvas())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.modifyCanvasSettings(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DoubleClick,
      (canvas, event, preventDefault) => this.onDoubleClick(canvas, event, preventDefault)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeCreated,
      (canvas, node) => {
        this.enforceNodeGridAlignment(canvas, node);
        this.applyDefaultNodeStyles(canvas, node);
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeCreated,
      (canvas, edge) => this.applyDefaultEdgeStyles(canvas, edge)
    ));
  }
  modifyCanvasSettings(canvas) {
    if (!canvas)
      return;
    canvas.config.defaultTextNodeDimensions = {
      width: this.plugin.settings.getSetting("defaultTextNodeWidth"),
      height: this.plugin.settings.getSetting("defaultTextNodeHeight")
    };
    canvas.config.defaultFileNodeDimensions = {
      width: this.plugin.settings.getSetting("defaultFileNodeWidth"),
      height: this.plugin.settings.getSetting("defaultFileNodeHeight")
    };
    canvas.config.minContainerDimension = this.plugin.settings.getSetting("minNodeSize");
  }
  async onDoubleClick(canvas, event, preventDefault) {
    if (event.defaultPrevented || event.target !== canvas.wrapperEl || canvas.isDragging || canvas.readonly)
      return;
    preventDefault.value = true;
    let pos = canvas.posFromEvt(event);
    switch (this.plugin.settings.getSetting("nodeTypeOnDoubleClick")) {
      case "file":
        const file = await new FileSelectModal(this.plugin.app, void 0, true).awaitInput();
        canvas.createFileNode({
          pos,
          position: "center",
          file
        });
        break;
      default:
        canvas.createTextNode({
          pos,
          position: "center"
        });
        break;
    }
  }
  enforceNodeGridAlignment(canvas, node) {
    if (!this.plugin.settings.getSetting("alignNewNodesToGrid"))
      return;
    const nodeData = node.getData();
    node.setData({
      ...nodeData,
      x: Math.round(nodeData.x / CanvasHelper.GRID_SIZE) * CanvasHelper.GRID_SIZE,
      y: Math.round(nodeData.y / CanvasHelper.GRID_SIZE) * CanvasHelper.GRID_SIZE
    });
  }
  applyDefaultNodeStyles(_canvas, node) {
    const nodeData = node.getData();
    if (nodeData.type !== "text")
      return;
    node.setData({
      ...nodeData,
      styleAttributes: {
        ...nodeData.styleAttributes,
        ...this.plugin.settings.getSetting("defaultTextNodeStyleAttributes")
      }
    });
  }
  async applyDefaultEdgeStyles(canvas, edge) {
    const edgeData = edge.getData();
    edge.setData({
      ...edgeData,
      styleAttributes: {
        ...edgeData.styleAttributes,
        ...this.plugin.settings.getSetting("defaultEdgeStyleAttributes")
      }
    });
    if (canvas.canvasEl.hasClass("is-connecting")) {
      await new Promise((resolve) => {
        new MutationObserver(() => {
          if (!canvas.canvasEl.hasClass("is-connecting"))
            resolve();
        }).observe(canvas.canvasEl, { attributes: true, attributeFilter: ["class"] });
      });
    }
    const lineDirection = this.plugin.settings.getSetting("defaultEdgeLineDirection");
    edge.setData({
      ...edge.getData(),
      fromEnd: lineDirection === "bidirectional" ? "arrow" : "none",
      toEnd: lineDirection === "nondirectional" ? "none" : "arrow"
    });
  }
};

// src/canvas-extensions/color-palette-canvas-extension.ts
var DEFAULT_COLORS_COUNT = 6;
var CUSTOM_COLORS_MOD_STYLES_ID = "mod-custom-colors";
var ColorPaletteCanvasExtension = class extends CanvasExtension {
  constructor() {
    super(...arguments);
    this.observer = null;
  }
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "window-open",
      (_win, _window) => this.updateCustomColorModStyleClasses()
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "css-change",
      () => this.updateCustomColorModStyleClasses()
    ));
    this.updateCustomColorModStyleClasses();
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.patchColorSelection(canvas)
    ));
    this.plugin.register(() => {
      var _a;
      return (_a = this.observer) == null ? void 0 : _a.disconnect();
    });
  }
  updateCustomColorModStyleClasses() {
    var _a;
    const customCss = this.getCustomColors().map((colorId) => `
      .mod-canvas-color-${colorId} {
        --canvas-color: var(--canvas-color-${colorId});
      }
    `).join("");
    for (const win of this.plugin.windowsManager.windows) {
      const doc = win.document;
      (_a = doc.getElementById(CUSTOM_COLORS_MOD_STYLES_ID)) == null ? void 0 : _a.remove();
      const customColorModStyle = doc.createElement("style");
      customColorModStyle.id = CUSTOM_COLORS_MOD_STYLES_ID;
      doc.head.appendChild(customColorModStyle);
      customColorModStyle.textContent = customCss;
    }
  }
  patchColorSelection(canvas) {
    if (this.observer)
      this.observer.disconnect();
    this.observer = new MutationObserver((mutations) => {
      const colorMenuOpened = mutations.some(
        (mutation) => Object.values(mutation.addedNodes).some(
          (node) => node instanceof HTMLElement && node.classList.contains("canvas-submenu") && Object.values(node.childNodes).some(
            (node2) => node2 instanceof HTMLElement && node2.classList.contains("canvas-color-picker-item")
          )
        )
      );
      if (!colorMenuOpened)
        return;
      const submenu = canvas.menu.menuEl.querySelector(".canvas-submenu");
      if (!submenu)
        return;
      const currentNodeColor = canvas.getSelectionData().nodes.map((node) => node.color).last();
      for (const colorId of this.getCustomColors()) {
        const customColorMenuItem = this.createColorMenuItem(canvas, colorId);
        if (currentNodeColor === colorId)
          customColorMenuItem.classList.add("is-active");
        submenu.insertBefore(customColorMenuItem, submenu.lastChild);
      }
    });
    this.observer.observe(canvas.menu.menuEl, { childList: true });
  }
  createColorMenuItem(canvas, colorId) {
    const menuItem = document.createElement("div");
    menuItem.classList.add("canvas-color-picker-item");
    menuItem.classList.add(`mod-canvas-color-${colorId}`);
    menuItem.addEventListener("click", () => {
      menuItem.classList.add("is-active");
      for (const item of canvas.selection) {
        item.setColor(colorId);
      }
      canvas.requestSave();
    });
    return menuItem;
  }
  getCustomColors() {
    const colors = [];
    while (true) {
      const colorId = (DEFAULT_COLORS_COUNT + colors.length + 1).toString();
      if (!getComputedStyle(document.body).getPropertyValue(`--canvas-color-${colorId}`))
        break;
      colors.push(colorId);
    }
    return colors;
  }
};

// src/canvas-extensions/collapsible-groups-canvas-extension.ts
var import_obsidian9 = require("obsidian");
var COLLAPSE_BUTTON_ID = "group-collapse-button";
var CollapsibleGroupsCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "collapsibleGroupsFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeChanged,
      (canvas, node) => this.onNodeChanged(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeBBoxRequested,
      (canvas, node, bbox) => this.onNodeBBoxRequested(canvas, node, bbox)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.OnCopy,
      (canvas, selectionData) => this.onCopy(canvas, selectionData)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DataRequested,
      (_canvas, data) => this.expandCollapsedNodes(data)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.LoadData,
      (_canvas, data, _setData) => this.collapseNodes(data)
    ));
  }
  onNodeChanged(canvas, groupNode) {
    var _a, _b;
    const groupNodeData = groupNode.getData();
    if (groupNodeData.type !== "group")
      return;
    (_a = groupNode.nodeEl) == null ? void 0 : _a.querySelectorAll(`#${COLLAPSE_BUTTON_ID}`).forEach((el) => el.remove());
    const collapseButton = document.createElement("span");
    collapseButton.id = COLLAPSE_BUTTON_ID;
    (0, import_obsidian9.setIcon)(collapseButton, groupNodeData.isCollapsed ? "plus-circle" : "minus-circle");
    collapseButton.onclick = () => {
      this.setCollapsed(canvas, groupNode, groupNode.getData().isCollapsed ? void 0 : true);
      canvas.markMoved(groupNode);
    };
    (_b = groupNode.labelEl) == null ? void 0 : _b.insertAdjacentElement("afterend", collapseButton);
  }
  onCopy(_canvas, selectionData) {
    for (const collapsedGroupData of selectionData.nodes) {
      if (collapsedGroupData.type !== "group" || !collapsedGroupData.isCollapsed || !collapsedGroupData.collapsedData)
        continue;
      selectionData.nodes.push(...collapsedGroupData.collapsedData.nodes.map((nodeData) => ({
        ...nodeData,
        // Restore the relative position of the node to the group
        x: nodeData.x + collapsedGroupData.x,
        y: nodeData.y + collapsedGroupData.y
      })));
      selectionData.edges.push(...collapsedGroupData.collapsedData.edges);
    }
  }
  setCollapsed(canvas, groupNode, collapsed) {
    groupNode.setData({ ...groupNode.getData(), isCollapsed: collapsed });
    canvas.setData(canvas.getData());
    canvas.history.current--;
    canvas.pushHistory(canvas.getData());
  }
  onNodeBBoxRequested(_canvas, node, bbox) {
    var _a, _b;
    const nodeData = node.getData();
    if (nodeData.type !== "group" || !nodeData.isCollapsed)
      return;
    bbox.maxX = bbox.minX + ((_b = (_a = node.nodeEl) == null ? void 0 : _a.getBoundingClientRect().width) != null ? _b : 0);
    bbox.maxY = bbox.minY;
  }
  expandCollapsedNodes(data) {
    data.nodes = data.nodes.flatMap((groupNodeData) => {
      const collapsedData = groupNodeData.collapsedData;
      if (collapsedData === void 0)
        return [groupNodeData];
      groupNodeData.collapsedData = void 0;
      data.edges.push(...collapsedData.edges);
      return [groupNodeData, ...collapsedData.nodes.map((nodeData) => ({
        ...nodeData,
        // Restore the relative position of the node to the group
        x: nodeData.x + groupNodeData.x,
        y: nodeData.y + groupNodeData.y
      }))];
    });
  }
  collapseNodes(data) {
    data.nodes.forEach((groupNodeData) => {
      if (!groupNodeData.isCollapsed)
        return;
      const groupNodeBBox = CanvasHelper.getBBox([groupNodeData]);
      const containedNodesData = data.nodes.filter(
        (nodeData) => nodeData.id !== groupNodeData.id && BBoxHelper.insideBBox(CanvasHelper.getBBox([nodeData]), groupNodeBBox, false)
      );
      const containedEdgesData = data.edges.filter((edgeData) => {
        return containedNodesData.some((nodeData) => nodeData.id === edgeData.fromNode) || containedNodesData.some((nodeData) => nodeData.id === edgeData.toNode);
      });
      data.nodes = data.nodes.filter((nodeData) => !containedNodesData.includes(nodeData));
      data.edges = data.edges.filter((edgeData) => !containedEdgesData.includes(edgeData));
      groupNodeData.collapsedData = {
        nodes: containedNodesData.map((nodeData) => ({
          ...nodeData,
          // Store the relative position of the node to the group
          x: nodeData.x - groupNodeData.x,
          y: nodeData.y - groupNodeData.y
        })),
        edges: containedEdgesData
      };
    });
  }
};

// src/canvas-extensions/focus-mode-canvas-extension.ts
var CONTROL_MENU_FOCUS_TOGGLE_ID = "focus-mode-toggle";
var FocusModeCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "focusModeFeatureEnabled";
  }
  init() {
    this.plugin.addCommand({
      id: "toggle-focus-mode",
      name: "Toggle Focus Mode",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => true,
        (canvas) => this.toggleFocusMode(canvas)
      )
    });
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.addControlMenuToggle(canvas)
    ));
  }
  addControlMenuToggle(canvas) {
    var _a;
    const settingsContainer = (_a = canvas.quickSettingsButton) == null ? void 0 : _a.parentElement;
    if (!settingsContainer)
      return;
    const controlMenuFocusToggle = CanvasHelper.createControlMenuButton({
      id: CONTROL_MENU_FOCUS_TOGGLE_ID,
      label: "Focus Mode",
      icon: "focus",
      callback: () => this.toggleFocusMode(canvas)
    });
    CanvasHelper.addControlMenuButton(settingsContainer, controlMenuFocusToggle);
  }
  toggleFocusMode(canvas) {
    var _a, _b;
    const controlMenuFocusToggle = (_b = (_a = canvas.quickSettingsButton) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.querySelector(`#${CONTROL_MENU_FOCUS_TOGGLE_ID}`);
    if (!controlMenuFocusToggle)
      return;
    const newValue = controlMenuFocusToggle.dataset.toggled !== "true";
    canvas.wrapperEl.dataset.focusModeEnabled = newValue.toString();
    controlMenuFocusToggle.dataset.toggled = newValue.toString();
  }
};

// src/canvas-extensions/flip-edge-canvas-extension.ts
var FlipEdgeCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "flipEdgeFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
  }
  onPopupMenuCreated(canvas) {
    var _a, _b;
    const popupMenuEl = (_a = canvas == null ? void 0 : canvas.menu) == null ? void 0 : _a.menuEl;
    if (!popupMenuEl)
      return;
    const POSSIBLE_ICONS = ["lucide-arrow-right", "lucide-move-horizontal", "line-horizontal"];
    let edgeDirectionButton = null;
    for (const icon of POSSIBLE_ICONS) {
      edgeDirectionButton = (_b = popupMenuEl.querySelector(`button:not([id]) > .svg-icon.${icon}`)) == null ? void 0 : _b.parentElement;
      if (edgeDirectionButton)
        break;
    }
    if (!edgeDirectionButton)
      return;
    edgeDirectionButton.addEventListener("click", () => this.onEdgeDirectionDropdownCreated(canvas));
  }
  onEdgeDirectionDropdownCreated(canvas) {
    const dropdownEl = document.body.querySelector("div.menu");
    if (!dropdownEl)
      return;
    const separatorEl = CanvasHelper.createDropdownSeparatorElement();
    dropdownEl.appendChild(separatorEl);
    const flipEdgeButton = CanvasHelper.createDropdownOptionElement({
      icon: "flip-horizontal-2",
      label: "Flip Edge",
      callback: () => this.flipEdge(canvas)
    });
    dropdownEl.appendChild(flipEdgeButton);
  }
  flipEdge(canvas) {
    const selectedEdges = [...canvas.selection].filter((item) => item.path !== void 0);
    if (selectedEdges.length === 0)
      return;
    for (const edge of selectedEdges) {
      const edgeData = edge.getData();
      edge.setData({
        ...edgeData,
        fromNode: edgeData.toNode,
        fromSide: edgeData.toSide,
        toNode: edgeData.fromNode,
        toSide: edgeData.fromSide
      });
    }
    canvas.pushHistory(canvas.getData());
  }
};

// src/canvas-extensions/advanced-styles/node-styles.ts
var NodeStylesExtension = class extends CanvasExtension {
  isEnabled() {
    return "nodeStylingFeatureEnabled";
  }
  init() {
    this.allNodeStyles = [...BUILTIN_NODE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customNodeStyleAttributes")];
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      SettingsManager.SETTINGS_CHANGED_EVENT,
      () => this.allNodeStyles = [...BUILTIN_NODE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customNodeStyleAttributes")]
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
  }
  onPopupMenuCreated(canvas) {
    var _a;
    const selectionNodeData = canvas.getSelectionData().nodes;
    if (canvas.readonly || selectionNodeData.length === 0 || selectionNodeData.length !== canvas.selection.size)
      return;
    const selectedNodeTypes = new Set(selectionNodeData.map((node) => node.type));
    const availableNodeStyles = this.allNodeStyles.filter((style) => !style.nodeTypes || style.nodeTypes.some((type) => selectedNodeTypes.has(type)));
    CanvasHelper.addStyleAttributesToPopup(
      this.plugin,
      canvas,
      availableNodeStyles,
      (_a = selectionNodeData[0].styleAttributes) != null ? _a : {},
      (attribute, value) => this.setStyleAttributeForSelection(canvas, attribute, value)
    );
  }
  setStyleAttributeForSelection(canvas, attribute, value) {
    const selectionNodeData = canvas.getSelectionData().nodes;
    for (const nodeData of selectionNodeData) {
      const node = canvas.nodes.get(nodeData.id);
      if (!node)
        continue;
      if (attribute.nodeTypes && !attribute.nodeTypes.includes(nodeData.type))
        continue;
      node.setData({
        ...nodeData,
        styleAttributes: {
          ...nodeData.styleAttributes,
          [attribute.datasetKey]: value
        }
      });
    }
    canvas.pushHistory(canvas.getData());
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/edge-pathfinding-method.ts
var EdgePathfindingMethod = class {
};

// src/utils/svg-path-helper.ts
var SvgPathHelper = class {
  static pathArrayToSvgPath(positions, rounded = false) {
    const tension = 0.2;
    let newPositions = [...positions];
    if (rounded && positions.length > 2) {
      newPositions = [positions[0]];
      for (let i = 1; i < positions.length - 2; i++) {
        const p1 = positions[i];
        const p2 = positions[i + 1];
        const p3 = positions[i + 2];
        const t1 = (1 - tension) / 2;
        const t2 = 1 - t1;
        const x = t2 * t2 * t2 * p1.x + 3 * t2 * t2 * t1 * p2.x + 3 * t2 * t1 * t1 * p3.x + t1 * t1 * t1 * p2.x;
        const y = t2 * t2 * t2 * p1.y + 3 * t2 * t2 * t1 * p2.y + 3 * t2 * t1 * t1 * p3.y + t1 * t1 * t1 * p2.y;
        newPositions.push({ x, y });
      }
      const lastPoint = positions[positions.length - 1];
      newPositions.push(lastPoint);
    }
    for (let i = 0; i < newPositions.length - 2; i++) {
      const p1 = newPositions[i];
      const p2 = newPositions[i + 1];
      const p3 = newPositions[i + 2];
      const currentDirection = {
        x: p2.x - p1.x,
        y: p2.y - p1.y
      };
      const nextDirection = {
        x: p3.x - p2.x,
        y: p3.y - p2.y
      };
      if (currentDirection.x !== nextDirection.x && currentDirection.y !== nextDirection.y)
        continue;
      newPositions.splice(i + 1, 1);
      i--;
    }
    return newPositions.map(
      (position, index) => `${index === 0 ? "M" : "L"} ${position.x} ${position.y}`
    ).join(" ");
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/pathfinding-direct.ts
var EdgePathfindingDirect = class extends EdgePathfindingMethod {
  getPath(_plugin, _canvas, fromPos, _fromBBoxSidePos, _fromSide, toPos, _toBBoxSidePos, _toSide) {
    return {
      svgPath: SvgPathHelper.pathArrayToSvgPath([fromPos, toPos], false),
      center: {
        x: (fromPos.x + toPos.x) / 2,
        y: (fromPos.y + toPos.y) / 2
      },
      rotateArrows: true
    };
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/pathfinding-square.ts
var EdgePathfindingSquare = class extends EdgePathfindingMethod {
  getPath(_plugin, _canvas, fromPos, fromBBoxSidePos, fromSide, toPos, toBBoxSidePos, toSide) {
    let pathArray = [];
    let center = { x: 0, y: 0 };
    if (fromSide === toSide) {
      const direction = BBoxHelper.direction(fromSide);
      if (BBoxHelper.isHorizontal(fromSide)) {
        pathArray = [
          fromPos,
          { x: Math.max(fromBBoxSidePos.x, toBBoxSidePos.x) + direction * CanvasHelper.GRID_SIZE, y: fromBBoxSidePos.y },
          { x: Math.max(fromBBoxSidePos.x, toBBoxSidePos.x) + direction * CanvasHelper.GRID_SIZE, y: toBBoxSidePos.y },
          toPos
        ];
      } else {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x, y: Math.max(fromBBoxSidePos.y, toBBoxSidePos.y) + direction * CanvasHelper.GRID_SIZE },
          { x: toBBoxSidePos.x, y: Math.max(fromBBoxSidePos.y, toBBoxSidePos.y) + direction * CanvasHelper.GRID_SIZE },
          toPos
        ];
      }
      center = {
        x: (pathArray[1].x + pathArray[2].x) / 2,
        y: (pathArray[1].y + pathArray[2].y) / 2
      };
    } else if (BBoxHelper.isHorizontal(fromSide) === BBoxHelper.isHorizontal(toSide)) {
      if (BBoxHelper.isHorizontal(fromSide)) {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x + (toBBoxSidePos.x - fromBBoxSidePos.x) / 2, y: fromBBoxSidePos.y },
          { x: fromBBoxSidePos.x + (toBBoxSidePos.x - fromBBoxSidePos.x) / 2, y: toBBoxSidePos.y },
          toPos
        ];
      } else {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x, y: fromBBoxSidePos.y + (toBBoxSidePos.y - fromBBoxSidePos.y) / 2 },
          { x: toBBoxSidePos.x, y: fromBBoxSidePos.y + (toBBoxSidePos.y - fromBBoxSidePos.y) / 2 },
          toPos
        ];
      }
      center = {
        x: (fromBBoxSidePos.x + toBBoxSidePos.x) / 2,
        y: (fromBBoxSidePos.y + toBBoxSidePos.y) / 2
      };
    } else {
      if (BBoxHelper.isHorizontal(fromSide)) {
        pathArray = [
          fromPos,
          { x: toBBoxSidePos.x, y: fromBBoxSidePos.y },
          toPos
        ];
      } else {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x, y: toBBoxSidePos.y },
          toPos
        ];
      }
      center = {
        x: pathArray[1].x,
        y: pathArray[1].y
      };
    }
    return {
      svgPath: SvgPathHelper.pathArrayToSvgPath(pathArray, false),
      center,
      rotateArrows: false
    };
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/pathfinding-a-star.ts
var MAX_MS_CALCULATION = 100;
var DIRECTIONS2 = [
  { dx: 1, dy: 0 },
  { dx: -1, dy: 0 },
  { dx: 0, dy: 1 },
  { dx: 0, dy: -1 },
  { dx: 1, dy: 1 },
  { dx: -1, dy: 1 },
  { dx: 1, dy: -1 },
  { dx: -1, dy: -1 }
];
var DIAGONAL_COST = Math.sqrt(2);
var Node = class {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.gCost = 0;
    this.hCost = 0;
    this.fCost = 0;
    this.parent = null;
  }
  // Only check for x and y, not gCost, hCost, fCost, or parent
  inList(nodes) {
    return nodes.some((n) => n.x === this.x && n.y === this.y);
  }
};
var EdgePathfindingAStar = class extends EdgePathfindingMethod {
  getPath(plugin, canvas, fromPos, _fromBBoxSidePos, fromSide, toPos, _toBBoxSidePos, toSide) {
    const nodeBBoxes = [...canvas.nodes.values()].filter((node) => {
      const nodeData = node.getData();
      const isGroup = nodeData.type === "group";
      const isOpenPortal = nodeData.portalToFile !== void 0;
      return !isGroup && !isOpenPortal;
    }).map((node) => node.getBBox());
    const fromPosWithMargin = BBoxHelper.moveInDirection(fromPos, fromSide, 10);
    const toPosWithMargin = BBoxHelper.moveInDirection(toPos, toSide, 10);
    const gridResolution = plugin.settings.getSetting("edgeStylePathfinderGridResolution");
    const pathArray = this.aStarAlgorithm(fromPosWithMargin, fromSide, toPosWithMargin, toSide, nodeBBoxes, gridResolution);
    if (!pathArray)
      return null;
    pathArray.splice(0, 0, fromPos);
    pathArray.splice(pathArray.length, 0, toPos);
    const roundedPath = plugin.settings.getSetting("edgeStylePathfinderPathRounded");
    const svgPath = SvgPathHelper.pathArrayToSvgPath(pathArray, roundedPath);
    return {
      svgPath,
      center: pathArray[Math.floor(pathArray.length / 2)],
      rotateArrows: false
    };
  }
  aStarAlgorithm(fromPos, fromSide, toPos, toSide, obstacles, gridResolution) {
    const start = new Node(
      Math.floor(fromPos.x / gridResolution) * gridResolution,
      Math.floor(fromPos.y / gridResolution) * gridResolution
    );
    if (fromSide === "right" && fromPos.x !== start.x)
      start.x += gridResolution;
    if (fromSide === "bottom" && fromPos.y !== start.y)
      start.y += gridResolution;
    const end = new Node(
      Math.floor(toPos.x / gridResolution) * gridResolution,
      Math.floor(toPos.y / gridResolution) * gridResolution
    );
    if (toSide === "right" && toPos.x !== end.x)
      end.x += gridResolution;
    if (toSide === "bottom" && toPos.y !== end.y)
      end.y += gridResolution;
    if (this.isInsideObstacle(start, obstacles) || this.isInsideObstacle(end, obstacles))
      return null;
    const openSet = [start];
    const closedSet = [];
    const startTimestamp = performance.now();
    while (openSet.length > 0) {
      let current = null;
      let lowestFCost = Infinity;
      for (const node of openSet) {
        if (node.fCost < lowestFCost) {
          current = node;
          lowestFCost = node.fCost;
        }
      }
      if (performance.now() - startTimestamp > MAX_MS_CALCULATION)
        return null;
      if (!current)
        return null;
      openSet.splice(openSet.indexOf(current), 1);
      closedSet.push(current);
      if (current.x === end.x && current.y === end.y)
        return [fromPos, ...this.reconstructPath(current), toPos].map((node) => ({ x: node.x, y: node.y }));
      if (!(current.x === start.x && current.y === start.y) && this.isTouchingObstacle(current, obstacles))
        continue;
      for (const neighbor of this.getPossibleNeighbors(current, obstacles, gridResolution)) {
        if (neighbor.inList(closedSet))
          continue;
        const tentativeGCost = current.gCost + this.getMovementCost({
          dx: neighbor.x - current.x,
          dy: neighbor.y - current.y
        });
        if (!neighbor.inList(openSet) || tentativeGCost < neighbor.gCost) {
          neighbor.parent = current;
          neighbor.gCost = tentativeGCost;
          neighbor.hCost = this.heuristic(neighbor, end);
          neighbor.fCost = neighbor.gCost + neighbor.hCost;
          openSet.push(neighbor);
        }
      }
    }
    return null;
  }
  // Manhattan distance
  heuristic(node, end) {
    return Math.abs(node.x - end.x) + Math.abs(node.y - end.y);
  }
  // Define a function to check if a position isn't inside any obstacle
  isTouchingObstacle(node, obstacles) {
    return obstacles.some((obstacle) => BBoxHelper.insideBBox(node, obstacle, true));
  }
  isInsideObstacle(node, obstacles) {
    return obstacles.some((obstacle) => BBoxHelper.insideBBox(node, obstacle, false));
  }
  // Define a function to calculate movement cost based on direction
  getMovementCost(direction) {
    return direction.dx !== 0 && direction.dy !== 0 ? DIAGONAL_COST : 1;
  }
  getPossibleNeighbors(node, obstacles, gridResolution) {
    const neighbors = [];
    for (const direction of DIRECTIONS2) {
      const neighbor = new Node(
        node.x + direction.dx * gridResolution,
        node.y + direction.dy * gridResolution
      );
      neighbor.gCost = node.gCost + this.getMovementCost(direction);
      if (this.isInsideObstacle(neighbor, obstacles))
        continue;
      neighbors.push(neighbor);
    }
    return neighbors;
  }
  reconstructPath(node) {
    const path = [];
    while (node) {
      path.push(node);
      node = node.parent;
    }
    return path.reverse();
  }
};

// src/canvas-extensions/advanced-styles/edge-styles.ts
var EDGE_PATHFINDING_METHODS = {
  "direct": EdgePathfindingDirect,
  "square": EdgePathfindingSquare,
  "a-star": EdgePathfindingAStar
};
var EdgeStylesExtension = class extends CanvasExtension {
  isEnabled() {
    return "edgesStylingFeatureEnabled";
  }
  init() {
    this.allEdgeStyleAttributes = [...BUILTIN_EDGE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customEdgeStyleAttributes")];
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      SettingsManager.SETTINGS_CHANGED_EVENT,
      () => this.allEdgeStyleAttributes = [...BUILTIN_EDGE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customEdgeStyleAttributes")]
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeChanged,
      (canvas, edge) => this.onEdgeChanged(canvas, edge)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeCenterRequested,
      (canvas, edge, center) => this.onEdgeCenterRequested(canvas, edge, center)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeAdded,
      (canvas, node) => this.updateAllEdgesInArea(canvas, node.getBBox())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeMoved,
      // Only update edges this way if a node got moved with the arrow keys
      (canvas, node) => node.initialized && !canvas.isDragging ? this.updateAllEdgesInArea(canvas, node.getBBox()) : void 0
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeRemoved,
      (canvas, node) => this.updateAllEdgesInArea(canvas, node.getBBox())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DraggingStateChanged,
      (canvas, isDragging) => {
        if (isDragging)
          return;
        const selectedNodes = canvas.getSelectionData().nodes.map((nodeData) => canvas.nodes.get(nodeData.id)).filter((node) => node !== void 0);
        const selectedNodeBBoxes = selectedNodes.map((node) => node.getBBox());
        const selectedNodeBBox = BBoxHelper.combineBBoxes(selectedNodeBBoxes);
        this.updateAllEdgesInArea(canvas, selectedNodeBBox);
      }
    ));
  }
  // Skip if isDragging and setting isn't enabled
  shouldUpdateEdge(canvas) {
    return !canvas.isDragging || this.plugin.settings.getSetting("edgeStyleUpdateWhileDragging") || canvas.canvasEl.hasClass("is-connecting");
  }
  onPopupMenuCreated(canvas) {
    var _a;
    const selectedEdges = [...canvas.selection].filter((item) => item.path !== void 0);
    if (canvas.readonly || selectedEdges.length === 0 || selectedEdges.length !== canvas.selection.size)
      return;
    CanvasHelper.addStyleAttributesToPopup(
      this.plugin,
      canvas,
      this.allEdgeStyleAttributes,
      (_a = selectedEdges[0].getData().styleAttributes) != null ? _a : {},
      (attribute, value) => this.setStyleAttributeForSelection(canvas, attribute, value)
    );
  }
  setStyleAttributeForSelection(canvas, attribute, value) {
    const selectedEdges = [...canvas.selection].filter((item) => item.path !== void 0);
    for (const edge of selectedEdges) {
      const edgeData = edge.getData();
      edge.setData({
        ...edgeData,
        styleAttributes: {
          ...edgeData.styleAttributes,
          [attribute.datasetKey]: value
        }
      });
    }
    canvas.pushHistory(canvas.getData());
  }
  updateAllEdgesInArea(canvas, bbox) {
    if (!this.shouldUpdateEdge(canvas))
      return;
    for (const edge of canvas.edges.values()) {
      if (!BBoxHelper.isColliding(edge.getBBox(), bbox))
        continue;
      canvas.markDirty(edge);
    }
  }
  onEdgeChanged(canvas, edge) {
    var _a, _b, _c, _d, _e, _f, _g;
    if (!canvas.dirty.has(edge) && !canvas.selection.has(edge))
      return;
    if (!this.shouldUpdateEdge(canvas))
      return;
    const edgeData = edge.getData();
    if (!edge.bezier)
      return;
    edge.center = void 0;
    edge.updatePath();
    const pathfindingMethod = (_a = edgeData.styleAttributes) == null ? void 0 : _a.pathfindingMethod;
    if (pathfindingMethod) {
      const fromBBoxSidePos = BBoxHelper.getCenterOfBBoxSide(edge.from.node.getBBox(), edge.from.side);
      const fromPos = edge.from.end === "none" ? fromBBoxSidePos : edge.bezier.from;
      const toBBoxSidePos = BBoxHelper.getCenterOfBBoxSide(edge.to.node.getBBox(), edge.to.side);
      const toPos = edge.to.end === "none" ? toBBoxSidePos : edge.bezier.to;
      const path = new EDGE_PATHFINDING_METHODS[pathfindingMethod]().getPath(this.plugin, canvas, fromPos, fromBBoxSidePos, edge.from.side, toPos, toBBoxSidePos, edge.to.side);
      if (!path)
        return;
      edge.center = path.center;
      edge.path.interaction.setAttr("d", path == null ? void 0 : path.svgPath);
      edge.path.display.setAttr("d", path == null ? void 0 : path.svgPath);
    }
    (_b = edge.labelElement) == null ? void 0 : _b.render();
    const arrowPolygonPoints = this.getArrowPolygonPoints((_c = edgeData.styleAttributes) == null ? void 0 : _c.arrow);
    if ((_d = edge.fromLineEnd) == null ? void 0 : _d.el)
      (_e = edge.fromLineEnd.el.querySelector("polygon")) == null ? void 0 : _e.setAttribute("points", arrowPolygonPoints);
    if ((_f = edge.toLineEnd) == null ? void 0 : _f.el)
      (_g = edge.toLineEnd.el.querySelector("polygon")) == null ? void 0 : _g.setAttribute("points", arrowPolygonPoints);
    if (this.plugin.settings.getSetting("edgeStyleDirectRotateArrow")) {
      this.rotateArrows(edge, pathfindingMethod);
    }
  }
  onEdgeCenterRequested(_canvas, edge, center) {
    var _a, _b, _c, _d;
    center.x = (_b = (_a = edge.center) == null ? void 0 : _a.x) != null ? _b : center.x;
    center.y = (_d = (_c = edge.center) == null ? void 0 : _c.y) != null ? _d : center.y;
  }
  getArrowPolygonPoints(arrowStyle) {
    if (arrowStyle === "halved-triangle")
      return `-2,0 7.5,12 -2,12`;
    else if (arrowStyle === "thin-triangle")
      return `0,0 7,10 0,0 0,10 0,0 -7,10`;
    else if (arrowStyle === "diamond" || arrowStyle === "diamond-outline")
      return `0,0 5,10 0,20 -5,10`;
    else if (arrowStyle === "circle" || arrowStyle === "circle-outline")
      return `0 0, 4.95 1.8, 7.5 6.45, 6.6 11.7, 2.7 15, -2.7 15, -6.6 11.7, -7.5 6.45, -4.95 1.8`;
    else
      return `0,0 6.5,10.4 -6.5,10.4`;
  }
  rotateArrows(edge, pathRouteType) {
    var _a, _b, _c, _d;
    if (pathRouteType !== "direct") {
      if ((_a = edge.fromLineEnd) == null ? void 0 : _a.el)
        edge.fromLineEnd.el.style.translate = "";
      if ((_b = edge.toLineEnd) == null ? void 0 : _b.el)
        edge.toLineEnd.el.style.translate = "";
      return;
    }
    const setArrowRotation = (element, side, rotation) => {
      element.style.transform = element.style.transform.replace(/rotate\([-\d]+(deg|rad)\)/g, `rotate(${rotation}rad)`);
      const offset = BBoxHelper.getSideVector(side);
      element.style.translate = `${offset.x * 7}px ${offset.y * -7}px`;
    };
    const edgeRotation = Math.atan2(edge.bezier.to.y - edge.bezier.from.y, edge.bezier.to.x - edge.bezier.from.x) - Math.PI / 2;
    if ((_c = edge.fromLineEnd) == null ? void 0 : _c.el)
      setArrowRotation(edge.fromLineEnd.el, edge.from.side, edgeRotation);
    if ((_d = edge.toLineEnd) == null ? void 0 : _d.el)
      setArrowRotation(edge.toLineEnd.el, edge.to.side, edgeRotation - Math.PI);
  }
};

// src/canvas-extensions/dataset-exposers/node-exposer.ts
function getExposedNodeData(settings) {
  const exposedData = [];
  if (settings.getSetting("nodeStylingFeatureEnabled"))
    exposedData.push("styleAttributes");
  if (settings.getSetting("collapsibleGroupsFeatureEnabled"))
    exposedData.push("isCollapsed");
  if (settings.getSetting("presentationFeatureEnabled"))
    exposedData.push("isStartNode");
  if (settings.getSetting("portalsFeatureEnabled"))
    exposedData.push("portalToFile", "portalId");
  return exposedData;
}
var NodeExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeChanged,
      (_canvas, node) => {
        const nodeData = node == null ? void 0 : node.getData();
        if (!nodeData)
          return;
        for (const exposedDataKey of getExposedNodeData(this.plugin.settings)) {
          const datasetPairs = nodeData[exposedDataKey] instanceof Object ? Object.entries(nodeData[exposedDataKey]) : [[exposedDataKey, nodeData[exposedDataKey]]];
          for (const [key, value] of datasetPairs) {
            if (!value)
              delete node.nodeEl.dataset[key];
            else
              node.nodeEl.dataset[key] = value;
          }
        }
      }
    ));
  }
};

// src/canvas-extensions/dataset-exposers/node-interaction-exposer.ts
var TARGET_NODE_DATASET_PREFIX = "target";
var NodeInteractionExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeInteraction,
      (canvas, node) => {
        const nodeData = node == null ? void 0 : node.getData();
        if (!nodeData)
          return;
        const interactionEl = canvas.nodeInteractionLayer.interactionEl;
        if (!interactionEl)
          return;
        for (const exposedDataKey of getExposedNodeData(this.plugin.settings)) {
          const datasetPairs = nodeData[exposedDataKey] instanceof Object ? Object.entries(nodeData[exposedDataKey]) : [[exposedDataKey, nodeData[exposedDataKey]]];
          for (const [key, value] of datasetPairs) {
            const modifiedKey = TARGET_NODE_DATASET_PREFIX + key.toString().charAt(0).toUpperCase() + key.toString().slice(1);
            if (!value)
              delete interactionEl.dataset[modifiedKey];
            else
              interactionEl.dataset[modifiedKey] = value;
          }
        }
      }
    ));
  }
};

// src/canvas-extensions/dataset-exposers/edge-exposer.ts
function getExposedEdgeData(settings) {
  const exposedData = [];
  if (settings.getSetting("edgesStylingFeatureEnabled"))
    exposedData.push("styleAttributes");
  return exposedData;
}
var EdgeExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeChanged,
      (_canvas, edge) => {
        var _a, _b, _c, _d;
        const edgeData = edge == null ? void 0 : edge.getData();
        if (!edgeData)
          return;
        for (const exposedDataKey of getExposedEdgeData(this.plugin.settings)) {
          const datasetPairs = edgeData[exposedDataKey] instanceof Object ? Object.entries(edgeData[exposedDataKey]) : [[exposedDataKey, edgeData[exposedDataKey]]];
          for (const [key, value] of datasetPairs) {
            if (!value) {
              delete edge.path.display.dataset[key];
              if ((_a = edge.fromLineEnd) == null ? void 0 : _a.el)
                delete edge.fromLineEnd.el.dataset[key];
              if ((_b = edge.toLineEnd) == null ? void 0 : _b.el)
                delete edge.toLineEnd.el.dataset[key];
            } else {
              edge.path.display.dataset[key] = value;
              if ((_c = edge.fromLineEnd) == null ? void 0 : _c.el)
                edge.fromLineEnd.el.dataset[key] = value;
              if ((_d = edge.toLineEnd) == null ? void 0 : _d.el)
                edge.toLineEnd.el.dataset[key] = value;
            }
          }
        }
      }
    ));
  }
};

// src/canvas-extensions/dataset-exposers/canvas-wrapper-exposer.ts
var EXPOSED_SETTINGS = [
  "disableFontSizeRelativeToZoom",
  "collapsibleGroupsFeatureEnabled",
  "collapsedGroupPreviewOnDrag"
];
var CanvasWrapperExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      SettingsManager.SETTINGS_CHANGED_EVENT,
      () => this.updateExposedSettings(this.plugin.getCurrentCanvas())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.updateExposedSettings(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DraggingStateChanged,
      (canvas, dragging) => {
        if (dragging)
          canvas.wrapperEl.dataset.isDragging = "true";
        else
          delete canvas.wrapperEl.dataset.isDragging;
      }
    ));
  }
  updateExposedSettings(canvas) {
    if (!canvas)
      return;
    for (const setting of EXPOSED_SETTINGS) {
      canvas.wrapperEl.dataset[setting] = this.plugin.settings.getSetting(setting).toString();
    }
  }
};

// src/main.ts
var CANVAS_EXTENSIONS = [
  // Dataset Exposers
  CanvasWrapperExposerExtension,
  NodeExposerExtension,
  EdgeExposerExtension,
  NodeInteractionExposerExtension,
  // Advanced Styles
  NodeStylesExtension,
  EdgeStylesExtension,
  // Basic Extensions
  VariableBreakpointCanvasExtension,
  BetterDefaultSettingsCanvasExtension,
  CommandsCanvasExtension,
  FlipEdgeCanvasExtension,
  BetterReadonlyCanvasExtension,
  AutoResizeNodeCanvasExtension,
  GroupCanvasExtension,
  // More Advanced Extensions
  CollapsibleGroupsCanvasExtension,
  FocusModeCanvasExtension,
  EncapsulateCanvasExtension,
  ColorPaletteCanvasExtension,
  PresentationCanvasExtension,
  PortalsCanvasExtension
];
var AdvancedCanvasPlugin = class extends import_obsidian10.Plugin {
  async onload() {
    this.migrationHelper = new MigrationHelper(this);
    await this.migrationHelper.migrate();
    IconsHelper.addIcons();
    this.settings = new SettingsManager(this);
    await this.settings.loadSettings();
    this.settings.addSettingsTab();
    this.quicksettings = new Quicksettings(this);
    this.windowsManager = new WindowsManager(this);
    this.canvasPatcher = new CanvasPatcher(this);
    this.canvasExtensions = CANVAS_EXTENSIONS.map((Extension) => new Extension(this));
  }
  onunload() {
  }
  getCurrentCanvasView() {
    const canvasView = this.app.workspace.getActiveViewOfType(import_obsidian10.ItemView);
    if ((canvasView == null ? void 0 : canvasView.getViewType()) !== "canvas")
      return null;
    return canvasView;
  }
  getCurrentCanvas() {
    var _a;
    return ((_a = this.getCurrentCanvasView()) == null ? void 0 : _a.canvas) || null;
  }
  createFileSnapshot(path, content) {
    var _a;
    const fileRecoveryPlugin = (_a = this.app.internalPlugins.plugins["file-recovery"]) == null ? void 0 : _a.instance;
    if (!fileRecoveryPlugin)
      return;
    fileRecoveryPlugin.forceAdd(path, content);
  }
  // this.app.plugins.plugins["advanced-canvas"].enableDebugMode()
  enableDebugMode() {
    if (this.debugHelper)
      return;
    this.debugHelper = new DebugHelper(this);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2pzb25pZnkvbGliL3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9qc29uaWZ5L2xpYi9zdHJpbmdpZnkuanMiLCAibm9kZV9tb2R1bGVzL2pzb25pZnkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2lzQXJndW1lbnRzLmpzIiwgIm5vZGVfbW9kdWxlcy9vYmplY3Qta2V5cy9pbXBsZW1lbnRhdGlvbi5qcyIsICJub2RlX21vZHVsZXMvb2JqZWN0LWtleXMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2VzLW9iamVjdC1hdG9tcy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZXMtZXJyb3JzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvZXZhbC5qcyIsICJub2RlX21vZHVsZXMvZXMtZXJyb3JzL3JhbmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvcmVmLmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvc3ludGF4LmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvdHlwZS5qcyIsICJub2RlX21vZHVsZXMvZXMtZXJyb3JzL3VyaS5qcyIsICJub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL2Ficy5qcyIsICJub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL2Zsb29yLmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvbWF4LmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvbWluLmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvcG93LmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3Mvcm91bmQuanMiLCAibm9kZV9tb2R1bGVzL21hdGgtaW50cmluc2ljcy9pc05hTi5qcyIsICJub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL3NpZ24uanMiLCAibm9kZV9tb2R1bGVzL2dvcGQvZ09QRC5qcyIsICJub2RlX21vZHVsZXMvZ29wZC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZXMtZGVmaW5lLXByb3BlcnR5L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9zaGFtcy5qcyIsICJub2RlX21vZHVsZXMvaGFzLXN5bWJvbHMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2dldC1wcm90by9SZWZsZWN0LmdldFByb3RvdHlwZU9mLmpzIiwgIm5vZGVfbW9kdWxlcy9nZXQtcHJvdG8vT2JqZWN0LmdldFByb3RvdHlwZU9mLmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2ltcGxlbWVudGF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jYWxsLWJpbmQtYXBwbHktaGVscGVycy9mdW5jdGlvbkNhbGwuanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2Z1bmN0aW9uQXBwbHkuanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL3JlZmxlY3RBcHBseS5qcyIsICJub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvYWN0dWFsQXBwbHkuanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9kdW5kZXItcHJvdG8vZ2V0LmpzIiwgIm5vZGVfbW9kdWxlcy9nZXQtcHJvdG8vaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2hhc293bi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZ2V0LWludHJpbnNpYy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZGVmaW5lLWRhdGEtcHJvcGVydHkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2hhcy1wcm9wZXJ0eS1kZXNjcmlwdG9ycy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvc2V0LWZ1bmN0aW9uLWxlbmd0aC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvYXBwbHlCaW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jYWxsLWJpbmQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYm91bmQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2pzb24tc3RhYmxlLXN0cmluZ2lmeS9pbmRleC5qcyIsICJzcmMvbWFpbi50cyIsICJub2RlX21vZHVsZXMvbW9ua2V5LWFyb3VuZC9tanMvaW5kZXguanMiLCAic3JjL3V0aWxzL3BhdGNoLWhlbHBlci50cyIsICJzcmMvY29yZS9ldmVudHMudHMiLCAic3JjL2NvcmUvY2FudmFzLXBhdGNoZXIudHMiLCAibm9kZV9tb2R1bGVzL3RpbnktanNvbmMvZGlzdC9pbmRleC5qcyIsICJzcmMvcXVpY2tzZXR0aW5ncy50cyIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9zdHlsZS1jb25maWcudHMiLCAic3JjL2NvcmUvY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvdmFyaWFibGUtYnJlYWtwb2ludC1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy91dGlscy9pY29ucy1oZWxwZXIudHMiLCAic3JjL3V0aWxzL2RlYnVnLWhlbHBlci50cyIsICJzcmMvdXRpbHMvbWlncmF0aW9uLWhlbHBlci50cyIsICJzcmMvd2luZG93cy1tYW5hZ2VyLnRzIiwgInNyYy91dGlscy9jYW52YXMtaGVscGVyLnRzIiwgInNyYy91dGlscy9iYm94LWhlbHBlci50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZ3JvdXAtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvcHJlc2VudGF0aW9uLWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2JldHRlci1yZWFkb25seS1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy91dGlscy9tb2RhbC1oZWxwZXIudHMiLCAic3JjL3V0aWxzL3BhdGgtaGVscGVyLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9lbmNhcHN1bGF0ZS1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9jb21tYW5kcy1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9hdXRvLXJlc2l6ZS1ub2RlLWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL3BvcnRhbHMtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYmV0dGVyLWRlZmF1bHQtc2V0dGluZ3MtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvY29sb3ItcGFsZXR0ZS1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9jb2xsYXBzaWJsZS1ncm91cHMtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZm9jdXMtbW9kZS1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9mbGlwLWVkZ2UtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYWR2YW5jZWQtc3R5bGVzL25vZGUtc3R5bGVzLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9hZHZhbmNlZC1zdHlsZXMvZWRnZS1wYXRoZmluZGluZy1tZXRob2RzL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kLnRzIiwgInNyYy91dGlscy9zdmctcGF0aC1oZWxwZXIudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZHMvcGF0aGZpbmRpbmctZGlyZWN0LnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9hZHZhbmNlZC1zdHlsZXMvZWRnZS1wYXRoZmluZGluZy1tZXRob2RzL3BhdGhmaW5kaW5nLXNxdWFyZS50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYWR2YW5jZWQtc3R5bGVzL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kcy9wYXRoZmluZGluZy1hLXN0YXIudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9lZGdlLXN0eWxlcy50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZGF0YXNldC1leHBvc2Vycy9ub2RlLWV4cG9zZXIudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2RhdGFzZXQtZXhwb3NlcnMvbm9kZS1pbnRlcmFjdGlvbi1leHBvc2VyLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9kYXRhc2V0LWV4cG9zZXJzL2VkZ2UtZXhwb3Nlci50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZGF0YXNldC1leHBvc2Vycy9jYW52YXMtd3JhcHBlci1leHBvc2VyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIndXNlIHN0cmljdCc7XG5cbnZhciBhdDsgLy8gVGhlIGluZGV4IG9mIHRoZSBjdXJyZW50IGNoYXJhY3RlclxudmFyIGNoOyAvLyBUaGUgY3VycmVudCBjaGFyYWN0ZXJcbnZhciBlc2NhcGVlID0ge1xuXHQnXCInOiAnXCInLFxuXHQnXFxcXCc6ICdcXFxcJyxcblx0Jy8nOiAnLycsXG5cdGI6ICdcXGInLFxuXHRmOiAnXFxmJyxcblx0bjogJ1xcbicsXG5cdHI6ICdcXHInLFxuXHR0OiAnXFx0J1xufTtcbnZhciB0ZXh0O1xuXG4vLyBDYWxsIGVycm9yIHdoZW4gc29tZXRoaW5nIGlzIHdyb25nLlxuZnVuY3Rpb24gZXJyb3IobSkge1xuXHR0aHJvdyB7XG5cdFx0bmFtZTogJ1N5bnRheEVycm9yJyxcblx0XHRtZXNzYWdlOiBtLFxuXHRcdGF0OiBhdCxcblx0XHR0ZXh0OiB0ZXh0XG5cdH07XG59XG5cbmZ1bmN0aW9uIG5leHQoYykge1xuXHQvLyBJZiBhIGMgcGFyYW1ldGVyIGlzIHByb3ZpZGVkLCB2ZXJpZnkgdGhhdCBpdCBtYXRjaGVzIHRoZSBjdXJyZW50IGNoYXJhY3Rlci5cblx0aWYgKGMgJiYgYyAhPT0gY2gpIHtcblx0XHRlcnJvcihcIkV4cGVjdGVkICdcIiArIGMgKyBcIicgaW5zdGVhZCBvZiAnXCIgKyBjaCArIFwiJ1wiKTtcblx0fVxuXG5cdC8vIEdldCB0aGUgbmV4dCBjaGFyYWN0ZXIuIFdoZW4gdGhlcmUgYXJlIG5vIG1vcmUgY2hhcmFjdGVycywgcmV0dXJuIHRoZSBlbXB0eSBzdHJpbmcuXG5cblx0Y2ggPSB0ZXh0LmNoYXJBdChhdCk7XG5cdGF0ICs9IDE7XG5cdHJldHVybiBjaDtcbn1cblxuZnVuY3Rpb24gbnVtYmVyKCkge1xuXHQvLyBQYXJzZSBhIG51bWJlciB2YWx1ZS5cblx0dmFyIG51bTtcblx0dmFyIHN0ciA9ICcnO1xuXG5cdGlmIChjaCA9PT0gJy0nKSB7XG5cdFx0c3RyID0gJy0nO1xuXHRcdG5leHQoJy0nKTtcblx0fVxuXHR3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5Jykge1xuXHRcdHN0ciArPSBjaDtcblx0XHRuZXh0KCk7XG5cdH1cblx0aWYgKGNoID09PSAnLicpIHtcblx0XHRzdHIgKz0gJy4nO1xuXHRcdHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5Jykge1xuXHRcdFx0c3RyICs9IGNoO1xuXHRcdH1cblx0fVxuXHRpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7XG5cdFx0c3RyICs9IGNoO1xuXHRcdG5leHQoKTtcblx0XHRpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7XG5cdFx0XHRzdHIgKz0gY2g7XG5cdFx0XHRuZXh0KCk7XG5cdFx0fVxuXHRcdHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7XG5cdFx0XHRzdHIgKz0gY2g7XG5cdFx0XHRuZXh0KCk7XG5cdFx0fVxuXHR9XG5cdG51bSA9IE51bWJlcihzdHIpO1xuXHRpZiAoIWlzRmluaXRlKG51bSkpIHtcblx0XHRlcnJvcignQmFkIG51bWJlcicpO1xuXHR9XG5cdHJldHVybiBudW07XG59XG5cbmZ1bmN0aW9uIHN0cmluZygpIHtcblx0Ly8gUGFyc2UgYSBzdHJpbmcgdmFsdWUuXG5cdHZhciBoZXg7XG5cdHZhciBpO1xuXHR2YXIgc3RyID0gJyc7XG5cdHZhciB1ZmZmZjtcblxuXHQvLyBXaGVuIHBhcnNpbmcgZm9yIHN0cmluZyB2YWx1ZXMsIHdlIG11c3QgbG9vayBmb3IgXCIgYW5kIFxcIGNoYXJhY3RlcnMuXG5cdGlmIChjaCA9PT0gJ1wiJykge1xuXHRcdHdoaWxlIChuZXh0KCkpIHtcblx0XHRcdGlmIChjaCA9PT0gJ1wiJykge1xuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHRcdHJldHVybiBzdHI7XG5cdFx0XHR9IGVsc2UgaWYgKGNoID09PSAnXFxcXCcpIHtcblx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0XHRpZiAoY2ggPT09ICd1Jykge1xuXHRcdFx0XHRcdHVmZmZmID0gMDtcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgNDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0XHRoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTtcblx0XHRcdFx0XHRcdGlmICghaXNGaW5pdGUoaGV4KSkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHVmZmZmID0gKHVmZmZmICogMTYpICsgaGV4O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1ZmZmZik7XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGVzY2FwZWVbY2hdID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdHN0ciArPSBlc2NhcGVlW2NoXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c3RyICs9IGNoO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRlcnJvcignQmFkIHN0cmluZycpO1xufVxuXG4vLyBTa2lwIHdoaXRlc3BhY2UuXG5mdW5jdGlvbiB3aGl0ZSgpIHtcblx0d2hpbGUgKGNoICYmIGNoIDw9ICcgJykge1xuXHRcdG5leHQoKTtcblx0fVxufVxuXG4vLyB0cnVlLCBmYWxzZSwgb3IgbnVsbC5cbmZ1bmN0aW9uIHdvcmQoKSB7XG5cdHN3aXRjaCAoY2gpIHtcblx0XHRjYXNlICd0Jzpcblx0XHRcdG5leHQoJ3QnKTtcblx0XHRcdG5leHQoJ3InKTtcblx0XHRcdG5leHQoJ3UnKTtcblx0XHRcdG5leHQoJ2UnKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGNhc2UgJ2YnOlxuXHRcdFx0bmV4dCgnZicpO1xuXHRcdFx0bmV4dCgnYScpO1xuXHRcdFx0bmV4dCgnbCcpO1xuXHRcdFx0bmV4dCgncycpO1xuXHRcdFx0bmV4dCgnZScpO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdGNhc2UgJ24nOlxuXHRcdFx0bmV4dCgnbicpO1xuXHRcdFx0bmV4dCgndScpO1xuXHRcdFx0bmV4dCgnbCcpO1xuXHRcdFx0bmV4dCgnbCcpO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGVycm9yKFwiVW5leHBlY3RlZCAnXCIgKyBjaCArIFwiJ1wiKTtcblx0fVxufVxuXG4vLyBQYXJzZSBhbiBhcnJheSB2YWx1ZS5cbmZ1bmN0aW9uIGFycmF5KCkge1xuXHR2YXIgYXJyID0gW107XG5cblx0aWYgKGNoID09PSAnWycpIHtcblx0XHRuZXh0KCdbJyk7XG5cdFx0d2hpdGUoKTtcblx0XHRpZiAoY2ggPT09ICddJykge1xuXHRcdFx0bmV4dCgnXScpO1xuXHRcdFx0cmV0dXJuIGFycjsgLy8gZW1wdHkgYXJyYXlcblx0XHR9XG5cdFx0d2hpbGUgKGNoKSB7XG5cdFx0XHRhcnIucHVzaCh2YWx1ZSgpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuXHRcdFx0d2hpdGUoKTtcblx0XHRcdGlmIChjaCA9PT0gJ10nKSB7XG5cdFx0XHRcdG5leHQoJ10nKTtcblx0XHRcdFx0cmV0dXJuIGFycjtcblx0XHRcdH1cblx0XHRcdG5leHQoJywnKTtcblx0XHRcdHdoaXRlKCk7XG5cdFx0fVxuXHR9XG5cdGVycm9yKCdCYWQgYXJyYXknKTtcbn1cblxuLy8gUGFyc2UgYW4gb2JqZWN0IHZhbHVlLlxuZnVuY3Rpb24gb2JqZWN0KCkge1xuXHR2YXIga2V5O1xuXHR2YXIgb2JqID0ge307XG5cblx0aWYgKGNoID09PSAneycpIHtcblx0XHRuZXh0KCd7Jyk7XG5cdFx0d2hpdGUoKTtcblx0XHRpZiAoY2ggPT09ICd9Jykge1xuXHRcdFx0bmV4dCgnfScpO1xuXHRcdFx0cmV0dXJuIG9iajsgLy8gZW1wdHkgb2JqZWN0XG5cdFx0fVxuXHRcdHdoaWxlIChjaCkge1xuXHRcdFx0a2V5ID0gc3RyaW5nKCk7XG5cdFx0XHR3aGl0ZSgpO1xuXHRcdFx0bmV4dCgnOicpO1xuXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcblx0XHRcdFx0ZXJyb3IoJ0R1cGxpY2F0ZSBrZXkgXCInICsga2V5ICsgJ1wiJyk7XG5cdFx0XHR9XG5cdFx0XHRvYmpba2V5XSA9IHZhbHVlKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcblx0XHRcdHdoaXRlKCk7XG5cdFx0XHRpZiAoY2ggPT09ICd9Jykge1xuXHRcdFx0XHRuZXh0KCd9Jyk7XG5cdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHR9XG5cdFx0XHRuZXh0KCcsJyk7XG5cdFx0XHR3aGl0ZSgpO1xuXHRcdH1cblx0fVxuXHRlcnJvcignQmFkIG9iamVjdCcpO1xufVxuXG4vLyBQYXJzZSBhIEpTT04gdmFsdWUuIEl0IGNvdWxkIGJlIGFuIG9iamVjdCwgYW4gYXJyYXksIGEgc3RyaW5nLCBhIG51bWJlciwgb3IgYSB3b3JkLlxuZnVuY3Rpb24gdmFsdWUoKSB7XG5cdHdoaXRlKCk7XG5cdHN3aXRjaCAoY2gpIHtcblx0XHRjYXNlICd7Jzpcblx0XHRcdHJldHVybiBvYmplY3QoKTtcblx0XHRjYXNlICdbJzpcblx0XHRcdHJldHVybiBhcnJheSgpO1xuXHRcdGNhc2UgJ1wiJzpcblx0XHRcdHJldHVybiBzdHJpbmcoKTtcblx0XHRjYXNlICctJzpcblx0XHRcdHJldHVybiBudW1iZXIoKTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTtcblx0fVxufVxuXG4vLyBSZXR1cm4gdGhlIGpzb25fcGFyc2UgZnVuY3Rpb24uIEl0IHdpbGwgaGF2ZSBhY2Nlc3MgdG8gYWxsIG9mIHRoZSBhYm92ZSBmdW5jdGlvbnMgYW5kIHZhcmlhYmxlcy5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNvdXJjZSwgcmV2aXZlcikge1xuXHR2YXIgcmVzdWx0O1xuXG5cdHRleHQgPSBzb3VyY2U7XG5cdGF0ID0gMDtcblx0Y2ggPSAnICc7XG5cdHJlc3VsdCA9IHZhbHVlKCk7XG5cdHdoaXRlKCk7XG5cdGlmIChjaCkge1xuXHRcdGVycm9yKCdTeW50YXggZXJyb3InKTtcblx0fVxuXG5cdC8vIElmIHRoZXJlIGlzIGEgcmV2aXZlciBmdW5jdGlvbiwgd2UgcmVjdXJzaXZlbHkgd2FsayB0aGUgbmV3IHN0cnVjdHVyZSxcblx0Ly8gcGFzc2luZyBlYWNoIG5hbWUvdmFsdWUgcGFpciB0byB0aGUgcmV2aXZlciBmdW5jdGlvbiBmb3IgcG9zc2libGVcblx0Ly8gdHJhbnNmb3JtYXRpb24sIHN0YXJ0aW5nIHdpdGggYSB0ZW1wb3Jhcnkgcm9vdCBvYmplY3QgdGhhdCBob2xkcyB0aGUgcmVzdWx0XG5cdC8vIGluIGFuIGVtcHR5IGtleS4gSWYgdGhlcmUgaXMgbm90IGEgcmV2aXZlciBmdW5jdGlvbiwgd2Ugc2ltcGx5IHJldHVybiB0aGVcblx0Ly8gcmVzdWx0LlxuXG5cdHJldHVybiB0eXBlb2YgcmV2aXZlciA9PT0gJ2Z1bmN0aW9uJyA/IChmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7XG5cdFx0dmFyIGs7XG5cdFx0dmFyIHY7XG5cdFx0dmFyIHZhbCA9IGhvbGRlcltrZXldO1xuXHRcdGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGZvciAoayBpbiB2YWx1ZSkge1xuXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwgaykpIHtcblx0XHRcdFx0XHR2ID0gd2Fsayh2YWwsIGspO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgdiA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdGRlbGV0ZSB2YWxba107XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhbFtrXSA9IHY7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXZpdmVyLmNhbGwoaG9sZGVyLCBrZXksIHZhbCk7XG5cdH0oeyAnJzogcmVzdWx0IH0sICcnKSkgOiByZXN1bHQ7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGVzY2FwYWJsZSA9IC9bXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHg5ZlxcdTAwYWRcXHUwNjAwLVxcdTA2MDRcXHUwNzBmXFx1MTdiNFxcdTE3YjVcXHUyMDBjLVxcdTIwMGZcXHUyMDI4LVxcdTIwMmZcXHUyMDYwLVxcdTIwNmZcXHVmZWZmXFx1ZmZmMC1cXHVmZmZmXS9nO1xudmFyIGdhcDtcbnZhciBpbmRlbnQ7XG52YXIgbWV0YSA9IHsgLy8gdGFibGUgb2YgY2hhcmFjdGVyIHN1YnN0aXR1dGlvbnNcblx0J1xcYic6ICdcXFxcYicsXG5cdCdcXHQnOiAnXFxcXHQnLFxuXHQnXFxuJzogJ1xcXFxuJyxcblx0J1xcZic6ICdcXFxcZicsXG5cdCdcXHInOiAnXFxcXHInLFxuXHQnXCInOiAnXFxcXFwiJyxcblx0J1xcXFwnOiAnXFxcXFxcXFwnXG59O1xudmFyIHJlcDtcblxuZnVuY3Rpb24gcXVvdGUoc3RyaW5nKSB7XG5cdC8vIElmIHRoZSBzdHJpbmcgY29udGFpbnMgbm8gY29udHJvbCBjaGFyYWN0ZXJzLCBubyBxdW90ZSBjaGFyYWN0ZXJzLCBhbmQgbm9cblx0Ly8gYmFja3NsYXNoIGNoYXJhY3RlcnMsIHRoZW4gd2UgY2FuIHNhZmVseSBzbGFwIHNvbWUgcXVvdGVzIGFyb3VuZCBpdC5cblx0Ly8gT3RoZXJ3aXNlIHdlIG11c3QgYWxzbyByZXBsYWNlIHRoZSBvZmZlbmRpbmcgY2hhcmFjdGVycyB3aXRoIHNhZmUgZXNjYXBlIHNlcXVlbmNlcy5cblxuXHRlc2NhcGFibGUubGFzdEluZGV4ID0gMDtcblx0cmV0dXJuIGVzY2FwYWJsZS50ZXN0KHN0cmluZykgPyAnXCInICsgc3RyaW5nLnJlcGxhY2UoZXNjYXBhYmxlLCBmdW5jdGlvbiAoYSkge1xuXHRcdHZhciBjID0gbWV0YVthXTtcblx0XHRyZXR1cm4gdHlwZW9mIGMgPT09ICdzdHJpbmcnID8gY1xuXHRcdFx0OiAnXFxcXHUnICsgKCcwMDAwJyArIGEuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcblx0fSkgKyAnXCInIDogJ1wiJyArIHN0cmluZyArICdcIic7XG59XG5cbmZ1bmN0aW9uIHN0cihrZXksIGhvbGRlcikge1xuXHQvLyBQcm9kdWNlIGEgc3RyaW5nIGZyb20gaG9sZGVyW2tleV0uXG5cdHZhciBpOyAvLyBUaGUgbG9vcCBjb3VudGVyLlxuXHR2YXIgazsgLy8gVGhlIG1lbWJlciBrZXkuXG5cdHZhciB2OyAvLyBUaGUgbWVtYmVyIHZhbHVlLlxuXHR2YXIgbGVuZ3RoO1xuXHR2YXIgbWluZCA9IGdhcDtcblx0dmFyIHBhcnRpYWw7XG5cdHZhciB2YWx1ZSA9IGhvbGRlcltrZXldO1xuXG5cdC8vIElmIHRoZSB2YWx1ZSBoYXMgYSB0b0pTT04gbWV0aG9kLCBjYWxsIGl0IHRvIG9idGFpbiBhIHJlcGxhY2VtZW50IHZhbHVlLlxuXHRpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFsdWUgPSB2YWx1ZS50b0pTT04oa2V5KTtcblx0fVxuXG5cdC8vIElmIHdlIHdlcmUgY2FsbGVkIHdpdGggYSByZXBsYWNlciBmdW5jdGlvbiwgdGhlbiBjYWxsIHRoZSByZXBsYWNlciB0byBvYnRhaW4gYSByZXBsYWNlbWVudCB2YWx1ZS5cblx0aWYgKHR5cGVvZiByZXAgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YWx1ZSA9IHJlcC5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7XG5cdH1cblxuXHQvLyBXaGF0IGhhcHBlbnMgbmV4dCBkZXBlbmRzIG9uIHRoZSB2YWx1ZSdzIHR5cGUuXG5cdHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG5cdFx0Y2FzZSAnc3RyaW5nJzpcblx0XHRcdHJldHVybiBxdW90ZSh2YWx1ZSk7XG5cblx0XHRjYXNlICdudW1iZXInOlxuXHRcdFx0Ly8gSlNPTiBudW1iZXJzIG11c3QgYmUgZmluaXRlLiBFbmNvZGUgbm9uLWZpbml0ZSBudW1iZXJzIGFzIG51bGwuXG5cdFx0XHRyZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6ICdudWxsJztcblxuXHRcdGNhc2UgJ2Jvb2xlYW4nOlxuXHRcdGNhc2UgJ251bGwnOlxuXHRcdFx0Ly8gSWYgdGhlIHZhbHVlIGlzIGEgYm9vbGVhbiBvciBudWxsLCBjb252ZXJ0IGl0IHRvIGEgc3RyaW5nLiBOb3RlOlxuXHRcdFx0Ly8gdHlwZW9mIG51bGwgZG9lcyBub3QgcHJvZHVjZSAnbnVsbCcuIFRoZSBjYXNlIGlzIGluY2x1ZGVkIGhlcmUgaW5cblx0XHRcdC8vIHRoZSByZW1vdGUgY2hhbmNlIHRoYXQgdGhpcyBnZXRzIGZpeGVkIHNvbWVkYXkuXG5cdFx0XHRyZXR1cm4gU3RyaW5nKHZhbHVlKTtcblxuXHRcdGNhc2UgJ29iamVjdCc6XG5cdFx0XHRpZiAoIXZhbHVlKSB7XG5cdFx0XHRcdHJldHVybiAnbnVsbCc7XG5cdFx0XHR9XG5cdFx0XHRnYXAgKz0gaW5kZW50O1xuXHRcdFx0cGFydGlhbCA9IFtdO1xuXG5cdFx0XHQvLyBBcnJheS5pc0FycmF5XG5cdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcblx0XHRcdFx0bGVuZ3RoID0gdmFsdWUubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRwYXJ0aWFsW2ldID0gc3RyKGksIHZhbHVlKSB8fCAnbnVsbCc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBKb2luIGFsbCBvZiB0aGUgZWxlbWVudHMgdG9nZXRoZXIsIHNlcGFyYXRlZCB3aXRoIGNvbW1hcywgYW5kIHdyYXAgdGhlbSBpbiBicmFja2V0cy5cblx0XHRcdFx0diA9IHBhcnRpYWwubGVuZ3RoID09PSAwID8gJ1tdJyA6IGdhcFxuXHRcdFx0XHRcdD8gJ1tcXG4nICsgZ2FwICsgcGFydGlhbC5qb2luKCcsXFxuJyArIGdhcCkgKyAnXFxuJyArIG1pbmQgKyAnXSdcblx0XHRcdFx0XHQ6ICdbJyArIHBhcnRpYWwuam9pbignLCcpICsgJ10nO1xuXHRcdFx0XHRnYXAgPSBtaW5kO1xuXHRcdFx0XHRyZXR1cm4gdjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhlIHJlcGxhY2VyIGlzIGFuIGFycmF5LCB1c2UgaXQgdG8gc2VsZWN0IHRoZSBtZW1iZXJzIHRvIGJlIHN0cmluZ2lmaWVkLlxuXHRcdFx0aWYgKHJlcCAmJiB0eXBlb2YgcmVwID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRsZW5ndGggPSByZXAubGVuZ3RoO1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRrID0gcmVwW2ldO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgayA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRcdHYgPSBzdHIoaywgdmFsdWUpO1xuXHRcdFx0XHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0XHRcdFx0cGFydGlhbC5wdXNoKHF1b3RlKGspICsgKGdhcCA/ICc6ICcgOiAnOicpICsgdik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIGtleXMgaW4gdGhlIG9iamVjdC5cblx0XHRcdFx0Zm9yIChrIGluIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgaykpIHtcblx0XHRcdFx0XHRcdHYgPSBzdHIoaywgdmFsdWUpO1xuXHRcdFx0XHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0XHRcdFx0cGFydGlhbC5wdXNoKHF1b3RlKGspICsgKGdhcCA/ICc6ICcgOiAnOicpICsgdik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEpvaW4gYWxsIG9mIHRoZSBtZW1iZXIgdGV4dHMgdG9nZXRoZXIsIHNlcGFyYXRlZCB3aXRoIGNvbW1hcywgYW5kIHdyYXAgdGhlbSBpbiBicmFjZXMuXG5cblx0XHRcdHYgPSBwYXJ0aWFsLmxlbmd0aCA9PT0gMCA/ICd7fScgOiBnYXBcblx0XHRcdFx0PyAne1xcbicgKyBnYXAgKyBwYXJ0aWFsLmpvaW4oJyxcXG4nICsgZ2FwKSArICdcXG4nICsgbWluZCArICd9J1xuXHRcdFx0XHQ6ICd7JyArIHBhcnRpYWwuam9pbignLCcpICsgJ30nO1xuXHRcdFx0Z2FwID0gbWluZDtcblx0XHRcdHJldHVybiB2O1xuXHRcdGRlZmF1bHQ6XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUsIHJlcGxhY2VyLCBzcGFjZSkge1xuXHR2YXIgaTtcblx0Z2FwID0gJyc7XG5cdGluZGVudCA9ICcnO1xuXG5cdC8vIElmIHRoZSBzcGFjZSBwYXJhbWV0ZXIgaXMgYSBudW1iZXIsIG1ha2UgYW4gaW5kZW50IHN0cmluZyBjb250YWluaW5nIHRoYXQgbWFueSBzcGFjZXMuXG5cdGlmICh0eXBlb2Ygc3BhY2UgPT09ICdudW1iZXInKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IHNwYWNlOyBpICs9IDEpIHtcblx0XHRcdGluZGVudCArPSAnICc7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKHR5cGVvZiBzcGFjZSA9PT0gJ3N0cmluZycpIHtcblx0XHQvLyBJZiB0aGUgc3BhY2UgcGFyYW1ldGVyIGlzIGEgc3RyaW5nLCBpdCB3aWxsIGJlIHVzZWQgYXMgdGhlIGluZGVudCBzdHJpbmcuXG5cdFx0aW5kZW50ID0gc3BhY2U7XG5cdH1cblxuXHQvLyBJZiB0aGVyZSBpcyBhIHJlcGxhY2VyLCBpdCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkuIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3IuXG5cdHJlcCA9IHJlcGxhY2VyO1xuXHRpZiAoXG5cdFx0cmVwbGFjZXJcblx0XHQmJiB0eXBlb2YgcmVwbGFjZXIgIT09ICdmdW5jdGlvbidcblx0XHQmJiAodHlwZW9mIHJlcGxhY2VyICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgcmVwbGFjZXIubGVuZ3RoICE9PSAnbnVtYmVyJylcblx0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdKU09OLnN0cmluZ2lmeScpO1xuXHR9XG5cblx0Ly8gTWFrZSBhIGZha2Ugcm9vdCBvYmplY3QgY29udGFpbmluZyBvdXIgdmFsdWUgdW5kZXIgdGhlIGtleSBvZiAnJy5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHQgb2Ygc3RyaW5naWZ5aW5nIHRoZSB2YWx1ZS5cblx0cmV0dXJuIHN0cignJywgeyAnJzogdmFsdWUgfSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vbGliL3BhcnNlJyk7XG5leHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vbGliL3N0cmluZ2lmeScpO1xuIiwgInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuXHR2YXIgc3RyID0gdG9TdHIuY2FsbCh2YWx1ZSk7XG5cdHZhciBpc0FyZ3MgPSBzdHIgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXHRpZiAoIWlzQXJncykge1xuXHRcdGlzQXJncyA9IHN0ciAhPT0gJ1tvYmplY3QgQXJyYXldJyAmJlxuXHRcdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHRcdHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICdudW1iZXInICYmXG5cdFx0XHR2YWx1ZS5sZW5ndGggPj0gMCAmJlxuXHRcdFx0dG9TdHIuY2FsbCh2YWx1ZS5jYWxsZWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9XG5cdHJldHVybiBpc0FyZ3M7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGtleXNTaGltO1xuaWYgKCFPYmplY3Qua2V5cykge1xuXHQvLyBtb2RpZmllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbVxuXHR2YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblx0dmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblx0dmFyIGlzQXJncyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBnbG9iYWwtcmVxdWlyZVxuXHR2YXIgaXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblx0dmFyIGhhc0RvbnRFbnVtQnVnID0gIWlzRW51bWVyYWJsZS5jYWxsKHsgdG9TdHJpbmc6IG51bGwgfSwgJ3RvU3RyaW5nJyk7XG5cdHZhciBoYXNQcm90b0VudW1CdWcgPSBpc0VudW1lcmFibGUuY2FsbChmdW5jdGlvbiAoKSB7fSwgJ3Byb3RvdHlwZScpO1xuXHR2YXIgZG9udEVudW1zID0gW1xuXHRcdCd0b1N0cmluZycsXG5cdFx0J3RvTG9jYWxlU3RyaW5nJyxcblx0XHQndmFsdWVPZicsXG5cdFx0J2hhc093blByb3BlcnR5Jyxcblx0XHQnaXNQcm90b3R5cGVPZicsXG5cdFx0J3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcblx0XHQnY29uc3RydWN0b3InXG5cdF07XG5cdHZhciBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZSA9IGZ1bmN0aW9uIChvKSB7XG5cdFx0dmFyIGN0b3IgPSBvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiBjdG9yICYmIGN0b3IucHJvdG90eXBlID09PSBvO1xuXHR9O1xuXHR2YXIgZXhjbHVkZWRLZXlzID0ge1xuXHRcdCRhcHBsaWNhdGlvbkNhY2hlOiB0cnVlLFxuXHRcdCRjb25zb2xlOiB0cnVlLFxuXHRcdCRleHRlcm5hbDogdHJ1ZSxcblx0XHQkZnJhbWU6IHRydWUsXG5cdFx0JGZyYW1lRWxlbWVudDogdHJ1ZSxcblx0XHQkZnJhbWVzOiB0cnVlLFxuXHRcdCRpbm5lckhlaWdodDogdHJ1ZSxcblx0XHQkaW5uZXJXaWR0aDogdHJ1ZSxcblx0XHQkb25tb3pmdWxsc2NyZWVuY2hhbmdlOiB0cnVlLFxuXHRcdCRvbm1vemZ1bGxzY3JlZW5lcnJvcjogdHJ1ZSxcblx0XHQkb3V0ZXJIZWlnaHQ6IHRydWUsXG5cdFx0JG91dGVyV2lkdGg6IHRydWUsXG5cdFx0JHBhZ2VYT2Zmc2V0OiB0cnVlLFxuXHRcdCRwYWdlWU9mZnNldDogdHJ1ZSxcblx0XHQkcGFyZW50OiB0cnVlLFxuXHRcdCRzY3JvbGxMZWZ0OiB0cnVlLFxuXHRcdCRzY3JvbGxUb3A6IHRydWUsXG5cdFx0JHNjcm9sbFg6IHRydWUsXG5cdFx0JHNjcm9sbFk6IHRydWUsXG5cdFx0JHNlbGY6IHRydWUsXG5cdFx0JHdlYmtpdEluZGV4ZWREQjogdHJ1ZSxcblx0XHQkd2Via2l0U3RvcmFnZUluZm86IHRydWUsXG5cdFx0JHdpbmRvdzogdHJ1ZVxuXHR9O1xuXHR2YXIgaGFzQXV0b21hdGlvbkVxdWFsaXR5QnVnID0gKGZ1bmN0aW9uICgpIHtcblx0XHQvKiBnbG9iYWwgd2luZG93ICovXG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdGZvciAodmFyIGsgaW4gd2luZG93KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoIWV4Y2x1ZGVkS2V5c1snJCcgKyBrXSAmJiBoYXMuY2FsbCh3aW5kb3csIGspICYmIHdpbmRvd1trXSAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93W2tdID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZSh3aW5kb3dba10pO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9KCkpO1xuXHR2YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGVJZk5vdEJ1Z2d5ID0gZnVuY3Rpb24gKG8pIHtcblx0XHQvKiBnbG9iYWwgd2luZG93ICovXG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcpIHtcblx0XHRcdHJldHVybiBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZShvKTtcblx0XHR9XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZShvKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9O1xuXG5cdGtleXNTaGltID0gZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcblx0XHR2YXIgaXNPYmplY3QgPSBvYmplY3QgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCc7XG5cdFx0dmFyIGlzRnVuY3Rpb24gPSB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdFx0dmFyIGlzQXJndW1lbnRzID0gaXNBcmdzKG9iamVjdCk7XG5cdFx0dmFyIGlzU3RyaW5nID0gaXNPYmplY3QgJiYgdG9TdHIuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBTdHJpbmddJztcblx0XHR2YXIgdGhlS2V5cyA9IFtdO1xuXG5cdFx0aWYgKCFpc09iamVjdCAmJiAhaXNGdW5jdGlvbiAmJiAhaXNBcmd1bWVudHMpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QnKTtcblx0XHR9XG5cblx0XHR2YXIgc2tpcFByb3RvID0gaGFzUHJvdG9FbnVtQnVnICYmIGlzRnVuY3Rpb247XG5cdFx0aWYgKGlzU3RyaW5nICYmIG9iamVjdC5sZW5ndGggPiAwICYmICFoYXMuY2FsbChvYmplY3QsIDApKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKGkpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaXNBcmd1bWVudHMgJiYgb2JqZWN0Lmxlbmd0aCA+IDApIHtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgb2JqZWN0Lmxlbmd0aDsgKytqKSB7XG5cdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaikpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuXHRcdFx0XHRpZiAoIShza2lwUHJvdG8gJiYgbmFtZSA9PT0gJ3Byb3RvdHlwZScpICYmIGhhcy5jYWxsKG9iamVjdCwgbmFtZSkpIHtcblx0XHRcdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKG5hbWUpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChoYXNEb250RW51bUJ1Zykge1xuXHRcdFx0dmFyIHNraXBDb25zdHJ1Y3RvciA9IGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlSWZOb3RCdWdneShvYmplY3QpO1xuXG5cdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGRvbnRFbnVtcy5sZW5ndGg7ICsraykge1xuXHRcdFx0XHRpZiAoIShza2lwQ29uc3RydWN0b3IgJiYgZG9udEVudW1zW2tdID09PSAnY29uc3RydWN0b3InKSAmJiBoYXMuY2FsbChvYmplY3QsIGRvbnRFbnVtc1trXSkpIHtcblx0XHRcdFx0XHR0aGVLZXlzLnB1c2goZG9udEVudW1zW2tdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGhlS2V5cztcblx0fTtcbn1cbm1vZHVsZS5leHBvcnRzID0ga2V5c1NoaW07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaXNBcmdzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpO1xuXG52YXIgb3JpZ0tleXMgPSBPYmplY3Qua2V5cztcbnZhciBrZXlzU2hpbSA9IG9yaWdLZXlzID8gZnVuY3Rpb24ga2V5cyhvKSB7IHJldHVybiBvcmlnS2V5cyhvKTsgfSA6IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcblxudmFyIG9yaWdpbmFsS2V5cyA9IE9iamVjdC5rZXlzO1xuXG5rZXlzU2hpbS5zaGltID0gZnVuY3Rpb24gc2hpbU9iamVjdEtleXMoKSB7XG5cdGlmIChPYmplY3Qua2V5cykge1xuXHRcdHZhciBrZXlzV29ya3NXaXRoQXJndW1lbnRzID0gKGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFNhZmFyaSA1LjAgYnVnXG5cdFx0XHR2YXIgYXJncyA9IE9iamVjdC5rZXlzKGFyZ3VtZW50cyk7XG5cdFx0XHRyZXR1cm4gYXJncyAmJiBhcmdzLmxlbmd0aCA9PT0gYXJndW1lbnRzLmxlbmd0aDtcblx0XHR9KDEsIDIpKTtcblx0XHRpZiAoIWtleXNXb3Jrc1dpdGhBcmd1bWVudHMpIHtcblx0XHRcdE9iamVjdC5rZXlzID0gZnVuY3Rpb24ga2V5cyhvYmplY3QpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWUtbWF0Y2hpbmdcblx0XHRcdFx0aWYgKGlzQXJncyhvYmplY3QpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9yaWdpbmFsS2V5cyhzbGljZS5jYWxsKG9iamVjdCkpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBvcmlnaW5hbEtleXMob2JqZWN0KTtcblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdE9iamVjdC5rZXlzID0ga2V5c1NoaW07XG5cdH1cblx0cmV0dXJuIE9iamVjdC5rZXlzIHx8IGtleXNTaGltO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzU2hpbTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdDtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IEVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vZXZhbCcpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBFdmFsRXJyb3I7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9yYW5nZScpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBSYW5nZUVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vcmVmJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IFJlZmVyZW5jZUVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vc3ludGF4Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRheEVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZScpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBUeXBlRXJyb3I7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi91cmknKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gVVJJRXJyb3I7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9hYnMnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gTWF0aC5hYnM7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9mbG9vcicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLmZsb29yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vbWF4Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgubWF4O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vbWluJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgubWluO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vcG93Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgucG93O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vcm91bmQnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gTWF0aC5yb3VuZDtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2lzTmFOJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBpc05hTihhKSB7XG5cdHJldHVybiBhICE9PSBhO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciAkaXNOYU4gPSByZXF1aXJlKCcuL2lzTmFOJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3NpZ24nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2lnbihudW1iZXIpIHtcblx0aWYgKCRpc05hTihudW1iZXIpIHx8IG51bWJlciA9PT0gMCkge1xuXHRcdHJldHVybiBudW1iZXI7XG5cdH1cblx0cmV0dXJuIG51bWJlciA8IDAgPyAtMSA6ICsxO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2dPUEQnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG52YXIgJGdPUEQgPSByZXF1aXJlKCcuL2dPUEQnKTtcblxuaWYgKCRnT1BEKSB7XG5cdHRyeSB7XG5cdFx0JGdPUEQoW10sICdsZW5ndGgnKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIElFIDggaGFzIGEgYnJva2VuIGdPUERcblx0XHQkZ09QRCA9IG51bGw7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSAkZ09QRDtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG52YXIgJGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZhbHNlO1xuaWYgKCRkZWZpbmVQcm9wZXJ0eSkge1xuXHR0cnkge1xuXHRcdCRkZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IHZhbHVlOiAxIH0pO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSUUgOCBoYXMgYSBicm9rZW4gZGVmaW5lUHJvcGVydHlcblx0XHQkZGVmaW5lUHJvcGVydHkgPSBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9ICRkZWZpbmVQcm9wZXJ0eTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3NoYW1zJyl9ICovXG4vKiBlc2xpbnQgY29tcGxleGl0eTogWzIsIDE4XSwgbWF4LXN0YXRlbWVudHM6IFsyLCAzM10gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzU3ltYm9scygpIHtcblx0aWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAnc3ltYm9sJykgeyByZXR1cm4gdHJ1ZTsgfVxuXG5cdC8qKiBAdHlwZSB7eyBbayBpbiBzeW1ib2xdPzogdW5rbm93biB9fSAqL1xuXHR2YXIgb2JqID0ge307XG5cdHZhciBzeW0gPSBTeW1ib2woJ3Rlc3QnKTtcblx0dmFyIHN5bU9iaiA9IE9iamVjdChzeW0pO1xuXHRpZiAodHlwZW9mIHN5bSA9PT0gJ3N0cmluZycpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzeW0pICE9PSAnW29iamVjdCBTeW1ib2xdJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzeW1PYmopICE9PSAnW29iamVjdCBTeW1ib2xdJykgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyB0ZW1wIGRpc2FibGVkIHBlciBodHRwczovL2dpdGh1Yi5jb20vbGpoYXJiL29iamVjdC5hc3NpZ24vaXNzdWVzLzE3XG5cdC8vIGlmIChzeW0gaW5zdGFuY2VvZiBTeW1ib2wpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdC8vIHRlbXAgZGlzYWJsZWQgcGVyIGh0dHBzOi8vZ2l0aHViLmNvbS9XZWJSZWZsZWN0aW9uL2dldC1vd24tcHJvcGVydHktc3ltYm9scy9pc3N1ZXMvNFxuXHQvLyBpZiAoIShzeW1PYmogaW5zdGFuY2VvZiBTeW1ib2wpKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdC8vIGlmICh0eXBlb2YgU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZyAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0Ly8gaWYgKFN0cmluZyhzeW0pICE9PSBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHR2YXIgc3ltVmFsID0gNDI7XG5cdG9ialtzeW1dID0gc3ltVmFsO1xuXHRmb3IgKHZhciBfIGluIG9iaikgeyByZXR1cm4gZmFsc2U7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tdW5yZWFjaGFibGUtbG9vcFxuXHRpZiAodHlwZW9mIE9iamVjdC5rZXlzID09PSAnZnVuY3Rpb24nICYmIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoICE9PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgPT09ICdmdW5jdGlvbicgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5sZW5ndGggIT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iaik7XG5cdGlmIChzeW1zLmxlbmd0aCAhPT0gMSB8fCBzeW1zWzBdICE9PSBzeW0pIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqLCBzeW0pKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0XHR2YXIgZGVzY3JpcHRvciA9IC8qKiBAdHlwZSB7UHJvcGVydHlEZXNjcmlwdG9yfSAqLyAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHN5bSkpO1xuXHRcdGlmIChkZXNjcmlwdG9yLnZhbHVlICE9PSBzeW1WYWwgfHwgZGVzY3JpcHRvci5lbnVtZXJhYmxlICE9PSB0cnVlKSB7IHJldHVybiBmYWxzZTsgfVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIG9yaWdTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2w7XG52YXIgaGFzU3ltYm9sU2hhbSA9IHJlcXVpcmUoJy4vc2hhbXMnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzTmF0aXZlU3ltYm9scygpIHtcblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sKCdmb28nKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sKCdiYXInKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0cmV0dXJuIGhhc1N5bWJvbFNoYW0oKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9SZWZsZWN0LmdldFByb3RvdHlwZU9mJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9ICh0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdC5nZXRQcm90b3R5cGVPZikgfHwgbnVsbDtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnZXMtb2JqZWN0LWF0b21zJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL09iamVjdC5nZXRQcm90b3R5cGVPZicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSAkT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IG51bGw7XG4iLCAiJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyogZXNsaW50IG5vLWludmFsaWQtdGhpczogMSAqL1xyXG5cclxudmFyIEVSUk9SX01FU1NBR0UgPSAnRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAnO1xyXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xyXG52YXIgbWF4ID0gTWF0aC5tYXg7XHJcbnZhciBmdW5jVHlwZSA9ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XHJcblxyXG52YXIgY29uY2F0dHkgPSBmdW5jdGlvbiBjb25jYXR0eShhLCBiKSB7XHJcbiAgICB2YXIgYXJyID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgYXJyW2ldID0gYVtpXTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgYi5sZW5ndGg7IGogKz0gMSkge1xyXG4gICAgICAgIGFycltqICsgYS5sZW5ndGhdID0gYltqXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXJyO1xyXG59O1xyXG5cclxudmFyIHNsaWN5ID0gZnVuY3Rpb24gc2xpY3koYXJyTGlrZSwgb2Zmc2V0KSB7XHJcbiAgICB2YXIgYXJyID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gb2Zmc2V0IHx8IDAsIGogPSAwOyBpIDwgYXJyTGlrZS5sZW5ndGg7IGkgKz0gMSwgaiArPSAxKSB7XHJcbiAgICAgICAgYXJyW2pdID0gYXJyTGlrZVtpXTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcnI7XHJcbn07XHJcblxyXG52YXIgam9pbnkgPSBmdW5jdGlvbiAoYXJyLCBqb2luZXIpIHtcclxuICAgIHZhciBzdHIgPSAnJztcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgc3RyICs9IGFycltpXTtcclxuICAgICAgICBpZiAoaSArIDEgPCBhcnIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHN0ciArPSBqb2luZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0cjtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZCh0aGF0KSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcztcclxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmFwcGx5KHRhcmdldCkgIT09IGZ1bmNUeXBlKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJPUl9NRVNTQUdFICsgdGFyZ2V0KTtcclxuICAgIH1cclxuICAgIHZhciBhcmdzID0gc2xpY3koYXJndW1lbnRzLCAxKTtcclxuXHJcbiAgICB2YXIgYm91bmQ7XHJcbiAgICB2YXIgYmluZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICBjb25jYXR0eShhcmdzLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KFxyXG4gICAgICAgICAgICB0aGF0LFxyXG4gICAgICAgICAgICBjb25jYXR0eShhcmdzLCBhcmd1bWVudHMpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBib3VuZExlbmd0aCA9IG1heCgwLCB0YXJnZXQubGVuZ3RoIC0gYXJncy5sZW5ndGgpO1xyXG4gICAgdmFyIGJvdW5kQXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib3VuZExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYm91bmRBcmdzW2ldID0gJyQnICsgaTtcclxuICAgIH1cclxuXHJcbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgam9pbnkoYm91bmRBcmdzLCAnLCcpICsgJyl7IHJldHVybiBiaW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOyB9JykoYmluZGVyKTtcclxuXHJcbiAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xyXG4gICAgICAgIHZhciBFbXB0eSA9IGZ1bmN0aW9uIEVtcHR5KCkge307XHJcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcclxuICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcclxuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBib3VuZDtcclxufTtcclxuIiwgIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgaW1wbGVtZW50YXRpb247XHJcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2Z1bmN0aW9uQ2FsbCcpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2Z1bmN0aW9uQXBwbHknKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vcmVmbGVjdEFwcGx5Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBSZWZsZWN0ICE9PSAndW5kZWZpbmVkJyAmJiBSZWZsZWN0ICYmIFJlZmxlY3QuYXBwbHk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcblxudmFyICRhcHBseSA9IHJlcXVpcmUoJy4vZnVuY3Rpb25BcHBseScpO1xudmFyICRjYWxsID0gcmVxdWlyZSgnLi9mdW5jdGlvbkNhbGwnKTtcbnZhciAkcmVmbGVjdEFwcGx5ID0gcmVxdWlyZSgnLi9yZWZsZWN0QXBwbHknKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vYWN0dWFsQXBwbHknKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gJHJlZmxlY3RBcHBseSB8fCBiaW5kLmNhbGwoJGNhbGwsICRhcHBseSk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciAkVHlwZUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3R5cGUnKTtcblxudmFyICRjYWxsID0gcmVxdWlyZSgnLi9mdW5jdGlvbkNhbGwnKTtcbnZhciAkYWN0dWFsQXBwbHkgPSByZXF1aXJlKCcuL2FjdHVhbEFwcGx5Jyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCaW5kQmFzaWMoYXJncykge1xuXHRpZiAoYXJncy5sZW5ndGggPCAxIHx8IHR5cGVvZiBhcmdzWzBdICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2EgZnVuY3Rpb24gaXMgcmVxdWlyZWQnKTtcblx0fVxuXHRyZXR1cm4gJGFjdHVhbEFwcGx5KGJpbmQsICRjYWxsLCBhcmdzKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbEJpbmQgPSByZXF1aXJlKCdjYWxsLWJpbmQtYXBwbHktaGVscGVycycpO1xudmFyIGdPUEQgPSByZXF1aXJlKCdnb3BkJyk7XG5cbnZhciBoYXNQcm90b0FjY2Vzc29yO1xudHJ5IHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVucywgbm8tcHJvdG9cblx0aGFzUHJvdG9BY2Nlc3NvciA9IC8qKiBAdHlwZSB7eyBfX3Byb3RvX18/OiB0eXBlb2YgQXJyYXkucHJvdG90eXBlIH19ICovIChbXSkuX19wcm90b19fID09PSBBcnJheS5wcm90b3R5cGU7XG59IGNhdGNoIChlKSB7XG5cdGlmICghZSB8fCB0eXBlb2YgZSAhPT0gJ29iamVjdCcgfHwgISgnY29kZScgaW4gZSkgfHwgZS5jb2RlICE9PSAnRVJSX1BST1RPX0FDQ0VTUycpIHtcblx0XHR0aHJvdyBlO1xuXHR9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcbnZhciBkZXNjID0gISFoYXNQcm90b0FjY2Vzc29yICYmIGdPUEQgJiYgZ09QRChPYmplY3QucHJvdG90eXBlLCAvKiogQHR5cGUge2tleW9mIHR5cGVvZiBPYmplY3QucHJvdG90eXBlfSAqLyAoJ19fcHJvdG9fXycpKTtcblxudmFyICRPYmplY3QgPSBPYmplY3Q7XG52YXIgJGdldFByb3RvdHlwZU9mID0gJE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vZ2V0Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGRlc2MgJiYgdHlwZW9mIGRlc2MuZ2V0ID09PSAnZnVuY3Rpb24nXG5cdD8gY2FsbEJpbmQoW2Rlc2MuZ2V0XSlcblx0OiB0eXBlb2YgJGdldFByb3RvdHlwZU9mID09PSAnZnVuY3Rpb24nXG5cdFx0PyAvKiogQHR5cGUge2ltcG9ydCgnLi9nZXQnKX0gKi8gZnVuY3Rpb24gZ2V0RHVuZGVyKHZhbHVlKSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cdFx0XHRyZXR1cm4gJGdldFByb3RvdHlwZU9mKHZhbHVlID09IG51bGwgPyB2YWx1ZSA6ICRPYmplY3QodmFsdWUpKTtcblx0XHR9XG5cdFx0OiBmYWxzZTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciByZWZsZWN0R2V0UHJvdG8gPSByZXF1aXJlKCcuL1JlZmxlY3QuZ2V0UHJvdG90eXBlT2YnKTtcbnZhciBvcmlnaW5hbEdldFByb3RvID0gcmVxdWlyZSgnLi9PYmplY3QuZ2V0UHJvdG90eXBlT2YnKTtcblxudmFyIGdldER1bmRlclByb3RvID0gcmVxdWlyZSgnZHVuZGVyLXByb3RvL2dldCcpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSByZWZsZWN0R2V0UHJvdG9cblx0PyBmdW5jdGlvbiBnZXRQcm90byhPKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBUUyBjYW4ndCBuYXJyb3cgaW5zaWRlIGEgY2xvc3VyZSwgZm9yIHNvbWUgcmVhc29uXG5cdFx0cmV0dXJuIHJlZmxlY3RHZXRQcm90byhPKTtcblx0fVxuXHQ6IG9yaWdpbmFsR2V0UHJvdG9cblx0XHQ/IGZ1bmN0aW9uIGdldFByb3RvKE8pIHtcblx0XHRcdGlmICghTyB8fCAodHlwZW9mIE8gIT09ICdvYmplY3QnICYmIHR5cGVvZiBPICE9PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdnZXRQcm90bzogbm90IGFuIG9iamVjdCcpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBUUyBjYW4ndCBuYXJyb3cgaW5zaWRlIGEgY2xvc3VyZSwgZm9yIHNvbWUgcmVhc29uXG5cdFx0XHRyZXR1cm4gb3JpZ2luYWxHZXRQcm90byhPKTtcblx0XHR9XG5cdFx0OiBnZXREdW5kZXJQcm90b1xuXHRcdFx0PyBmdW5jdGlvbiBnZXRQcm90byhPKSB7XG5cdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVFMgY2FuJ3QgbmFycm93IGluc2lkZSBhIGNsb3N1cmUsIGZvciBzb21lIHJlYXNvblxuXHRcdFx0XHRyZXR1cm4gZ2V0RHVuZGVyUHJvdG8oTyk7XG5cdFx0XHR9XG5cdFx0XHQ6IG51bGw7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsO1xudmFyICRoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGJpbmQuY2FsbChjYWxsLCAkaGFzT3duKTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB1bmRlZmluZWQ7XG5cbnZhciAkT2JqZWN0ID0gcmVxdWlyZSgnZXMtb2JqZWN0LWF0b21zJyk7XG5cbnZhciAkRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMnKTtcbnZhciAkRXZhbEVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL2V2YWwnKTtcbnZhciAkUmFuZ2VFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy9yYW5nZScpO1xudmFyICRSZWZlcmVuY2VFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy9yZWYnKTtcbnZhciAkU3ludGF4RXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvc3ludGF4Jyk7XG52YXIgJFR5cGVFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy90eXBlJyk7XG52YXIgJFVSSUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3VyaScpO1xuXG52YXIgYWJzID0gcmVxdWlyZSgnbWF0aC1pbnRyaW5zaWNzL2FicycpO1xudmFyIGZsb29yID0gcmVxdWlyZSgnbWF0aC1pbnRyaW5zaWNzL2Zsb29yJyk7XG52YXIgbWF4ID0gcmVxdWlyZSgnbWF0aC1pbnRyaW5zaWNzL21heCcpO1xudmFyIG1pbiA9IHJlcXVpcmUoJ21hdGgtaW50cmluc2ljcy9taW4nKTtcbnZhciBwb3cgPSByZXF1aXJlKCdtYXRoLWludHJpbnNpY3MvcG93Jyk7XG52YXIgcm91bmQgPSByZXF1aXJlKCdtYXRoLWludHJpbnNpY3Mvcm91bmQnKTtcbnZhciBzaWduID0gcmVxdWlyZSgnbWF0aC1pbnRyaW5zaWNzL3NpZ24nKTtcblxudmFyICRGdW5jdGlvbiA9IEZ1bmN0aW9uO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbnZhciBnZXRFdmFsbGVkQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoZXhwcmVzc2lvblN5bnRheCkge1xuXHR0cnkge1xuXHRcdHJldHVybiAkRnVuY3Rpb24oJ1widXNlIHN0cmljdFwiOyByZXR1cm4gKCcgKyBleHByZXNzaW9uU3ludGF4ICsgJykuY29uc3RydWN0b3I7JykoKTtcblx0fSBjYXRjaCAoZSkge31cbn07XG5cbnZhciAkZ09QRCA9IHJlcXVpcmUoJ2dvcGQnKTtcbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCdlcy1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyIHRocm93VHlwZUVycm9yID0gZnVuY3Rpb24gKCkge1xuXHR0aHJvdyBuZXcgJFR5cGVFcnJvcigpO1xufTtcbnZhciBUaHJvd1R5cGVFcnJvciA9ICRnT1BEXG5cdD8gKGZ1bmN0aW9uICgpIHtcblx0XHR0cnkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC1leHByZXNzaW9ucywgbm8tY2FsbGVyLCBuby1yZXN0cmljdGVkLXByb3BlcnRpZXNcblx0XHRcdGFyZ3VtZW50cy5jYWxsZWU7IC8vIElFIDggZG9lcyBub3QgdGhyb3cgaGVyZVxuXHRcdFx0cmV0dXJuIHRocm93VHlwZUVycm9yO1xuXHRcdH0gY2F0Y2ggKGNhbGxlZVRocm93cykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Ly8gSUUgOCB0aHJvd3Mgb24gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcmd1bWVudHMsICcnKVxuXHRcdFx0XHRyZXR1cm4gJGdPUEQoYXJndW1lbnRzLCAnY2FsbGVlJykuZ2V0O1xuXHRcdFx0fSBjYXRjaCAoZ09QRHRocm93cykge1xuXHRcdFx0XHRyZXR1cm4gdGhyb3dUeXBlRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KCkpXG5cdDogdGhyb3dUeXBlRXJyb3I7XG5cbnZhciBoYXNTeW1ib2xzID0gcmVxdWlyZSgnaGFzLXN5bWJvbHMnKSgpO1xuXG52YXIgZ2V0UHJvdG8gPSByZXF1aXJlKCdnZXQtcHJvdG8nKTtcbnZhciAkT2JqZWN0R1BPID0gcmVxdWlyZSgnZ2V0LXByb3RvL09iamVjdC5nZXRQcm90b3R5cGVPZicpO1xudmFyICRSZWZsZWN0R1BPID0gcmVxdWlyZSgnZ2V0LXByb3RvL1JlZmxlY3QuZ2V0UHJvdG90eXBlT2YnKTtcblxudmFyICRhcHBseSA9IHJlcXVpcmUoJ2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2Z1bmN0aW9uQXBwbHknKTtcbnZhciAkY2FsbCA9IHJlcXVpcmUoJ2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2Z1bmN0aW9uQ2FsbCcpO1xuXG52YXIgbmVlZHNFdmFsID0ge307XG5cbnZhciBUeXBlZEFycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnIHx8ICFnZXRQcm90byA/IHVuZGVmaW5lZCA6IGdldFByb3RvKFVpbnQ4QXJyYXkpO1xuXG52YXIgSU5UUklOU0lDUyA9IHtcblx0X19wcm90b19fOiBudWxsLFxuXHQnJUFnZ3JlZ2F0ZUVycm9yJSc6IHR5cGVvZiBBZ2dyZWdhdGVFcnJvciA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBZ2dyZWdhdGVFcnJvcixcblx0JyVBcnJheSUnOiBBcnJheSxcblx0JyVBcnJheUJ1ZmZlciUnOiB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQXJyYXlCdWZmZXIsXG5cdCclQXJyYXlJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzICYmIGdldFByb3RvID8gZ2V0UHJvdG8oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSA6IHVuZGVmaW5lZCxcblx0JyVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlJzogdW5kZWZpbmVkLFxuXHQnJUFzeW5jRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUFzeW5jR2VuZXJhdG9yJSc6IG5lZWRzRXZhbCxcblx0JyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVBc3luY0l0ZXJhdG9yUHJvdG90eXBlJSc6IG5lZWRzRXZhbCxcblx0JyVBdG9taWNzJSc6IHR5cGVvZiBBdG9taWNzID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEF0b21pY3MsXG5cdCclQmlnSW50JSc6IHR5cGVvZiBCaWdJbnQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQmlnSW50LFxuXHQnJUJpZ0ludDY0QXJyYXklJzogdHlwZW9mIEJpZ0ludDY0QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQmlnSW50NjRBcnJheSxcblx0JyVCaWdVaW50NjRBcnJheSUnOiB0eXBlb2YgQmlnVWludDY0QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQmlnVWludDY0QXJyYXksXG5cdCclQm9vbGVhbiUnOiBCb29sZWFuLFxuXHQnJURhdGFWaWV3JSc6IHR5cGVvZiBEYXRhVmlldyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBEYXRhVmlldyxcblx0JyVEYXRlJSc6IERhdGUsXG5cdCclZGVjb2RlVVJJJSc6IGRlY29kZVVSSSxcblx0JyVkZWNvZGVVUklDb21wb25lbnQlJzogZGVjb2RlVVJJQ29tcG9uZW50LFxuXHQnJWVuY29kZVVSSSUnOiBlbmNvZGVVUkksXG5cdCclZW5jb2RlVVJJQ29tcG9uZW50JSc6IGVuY29kZVVSSUNvbXBvbmVudCxcblx0JyVFcnJvciUnOiAkRXJyb3IsXG5cdCclZXZhbCUnOiBldmFsLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcblx0JyVFdmFsRXJyb3IlJzogJEV2YWxFcnJvcixcblx0JyVGbG9hdDMyQXJyYXklJzogdHlwZW9mIEZsb2F0MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDMyQXJyYXksXG5cdCclRmxvYXQ2NEFycmF5JSc6IHR5cGVvZiBGbG9hdDY0QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmxvYXQ2NEFycmF5LFxuXHQnJUZpbmFsaXphdGlvblJlZ2lzdHJ5JSc6IHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGaW5hbGl6YXRpb25SZWdpc3RyeSxcblx0JyVGdW5jdGlvbiUnOiAkRnVuY3Rpb24sXG5cdCclR2VuZXJhdG9yRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUludDhBcnJheSUnOiB0eXBlb2YgSW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDhBcnJheSxcblx0JyVJbnQxNkFycmF5JSc6IHR5cGVvZiBJbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDE2QXJyYXksXG5cdCclSW50MzJBcnJheSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LFxuXHQnJWlzRmluaXRlJSc6IGlzRmluaXRlLFxuXHQnJWlzTmFOJSc6IGlzTmFOLFxuXHQnJUl0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgJiYgZ2V0UHJvdG8gPyBnZXRQcm90byhnZXRQcm90byhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpKSA6IHVuZGVmaW5lZCxcblx0JyVKU09OJSc6IHR5cGVvZiBKU09OID09PSAnb2JqZWN0JyA/IEpTT04gOiB1bmRlZmluZWQsXG5cdCclTWFwJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogTWFwLFxuXHQnJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzIHx8ICFnZXRQcm90byA/IHVuZGVmaW5lZCA6IGdldFByb3RvKG5ldyBNYXAoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLFxuXHQnJU1hdGglJzogTWF0aCxcblx0JyVOdW1iZXIlJzogTnVtYmVyLFxuXHQnJU9iamVjdCUnOiAkT2JqZWN0LFxuXHQnJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlJzogJGdPUEQsXG5cdCclcGFyc2VGbG9hdCUnOiBwYXJzZUZsb2F0LFxuXHQnJXBhcnNlSW50JSc6IHBhcnNlSW50LFxuXHQnJVByb21pc2UlJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZSxcblx0JyVQcm94eSUnOiB0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJveHksXG5cdCclUmFuZ2VFcnJvciUnOiAkUmFuZ2VFcnJvcixcblx0JyVSZWZlcmVuY2VFcnJvciUnOiAkUmVmZXJlbmNlRXJyb3IsXG5cdCclUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJVJlZ0V4cCUnOiBSZWdFeHAsXG5cdCclU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJVNldEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzIHx8ICFnZXRQcm90byA/IHVuZGVmaW5lZCA6IGdldFByb3RvKG5ldyBTZXQoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyJSc6IHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBTaGFyZWRBcnJheUJ1ZmZlcixcblx0JyVTdHJpbmclJzogU3RyaW5nLFxuXHQnJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgJiYgZ2V0UHJvdG8gPyBnZXRQcm90bygnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJVN5bWJvbCUnOiBoYXNTeW1ib2xzID8gU3ltYm9sIDogdW5kZWZpbmVkLFxuXHQnJVN5bnRheEVycm9yJSc6ICRTeW50YXhFcnJvcixcblx0JyVUaHJvd1R5cGVFcnJvciUnOiBUaHJvd1R5cGVFcnJvcixcblx0JyVUeXBlZEFycmF5JSc6IFR5cGVkQXJyYXksXG5cdCclVHlwZUVycm9yJSc6ICRUeXBlRXJyb3IsXG5cdCclVWludDhBcnJheSUnOiB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OEFycmF5LFxuXHQnJVVpbnQ4Q2xhbXBlZEFycmF5JSc6IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OENsYW1wZWRBcnJheSxcblx0JyVVaW50MTZBcnJheSUnOiB0eXBlb2YgVWludDE2QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDE2QXJyYXksXG5cdCclVWludDMyQXJyYXklJzogdHlwZW9mIFVpbnQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQzMkFycmF5LFxuXHQnJVVSSUVycm9yJSc6ICRVUklFcnJvcixcblx0JyVXZWFrTWFwJSc6IHR5cGVvZiBXZWFrTWFwID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtNYXAsXG5cdCclV2Vha1JlZiUnOiB0eXBlb2YgV2Vha1JlZiA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrUmVmLFxuXHQnJVdlYWtTZXQlJzogdHlwZW9mIFdlYWtTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha1NldCxcblxuXHQnJUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsJSc6ICRjYWxsLFxuXHQnJUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSUnOiAkYXBwbHksXG5cdCclT2JqZWN0LmRlZmluZVByb3BlcnR5JSc6ICRkZWZpbmVQcm9wZXJ0eSxcblx0JyVPYmplY3QuZ2V0UHJvdG90eXBlT2YlJzogJE9iamVjdEdQTyxcblx0JyVNYXRoLmFicyUnOiBhYnMsXG5cdCclTWF0aC5mbG9vciUnOiBmbG9vcixcblx0JyVNYXRoLm1heCUnOiBtYXgsXG5cdCclTWF0aC5taW4lJzogbWluLFxuXHQnJU1hdGgucG93JSc6IHBvdyxcblx0JyVNYXRoLnJvdW5kJSc6IHJvdW5kLFxuXHQnJU1hdGguc2lnbiUnOiBzaWduLFxuXHQnJVJlZmxlY3QuZ2V0UHJvdG90eXBlT2YlJzogJFJlZmxlY3RHUE9cbn07XG5cbmlmIChnZXRQcm90bykge1xuXHR0cnkge1xuXHRcdG51bGwuZXJyb3I7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1zaGFkb3dyZWFsbS9wdWxsLzM4NCNpc3N1ZWNvbW1lbnQtMTM2NDI2NDIyOVxuXHRcdHZhciBlcnJvclByb3RvID0gZ2V0UHJvdG8oZ2V0UHJvdG8oZSkpO1xuXHRcdElOVFJJTlNJQ1NbJyVFcnJvci5wcm90b3R5cGUlJ10gPSBlcnJvclByb3RvO1xuXHR9XG59XG5cbnZhciBkb0V2YWwgPSBmdW5jdGlvbiBkb0V2YWwobmFtZSkge1xuXHR2YXIgdmFsdWU7XG5cdGlmIChuYW1lID09PSAnJUFzeW5jRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiAoKSB7fScpO1xuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yJScpIHtcblx0XHR2YXIgZm4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpO1xuXHRcdGlmIChmbikge1xuXHRcdFx0dmFsdWUgPSBmbi5wcm90b3R5cGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnKSB7XG5cdFx0dmFyIGdlbiA9IGRvRXZhbCgnJUFzeW5jR2VuZXJhdG9yJScpO1xuXHRcdGlmIChnZW4gJiYgZ2V0UHJvdG8pIHtcblx0XHRcdHZhbHVlID0gZ2V0UHJvdG8oZ2VuLnByb3RvdHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0SU5UUklOU0lDU1tuYW1lXSA9IHZhbHVlO1xuXG5cdHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBMRUdBQ1lfQUxJQVNFUyA9IHtcblx0X19wcm90b19fOiBudWxsLFxuXHQnJUFycmF5QnVmZmVyUHJvdG90eXBlJSc6IFsnQXJyYXlCdWZmZXInLCAncHJvdG90eXBlJ10sXG5cdCclQXJyYXlQcm90b3R5cGUlJzogWydBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVBcnJheVByb3RvX2VudHJpZXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAnZW50cmllcyddLFxuXHQnJUFycmF5UHJvdG9fZm9yRWFjaCUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdmb3JFYWNoJ10sXG5cdCclQXJyYXlQcm90b19rZXlzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2tleXMnXSxcblx0JyVBcnJheVByb3RvX3ZhbHVlcyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICd2YWx1ZXMnXSxcblx0JyVBc3luY0Z1bmN0aW9uUHJvdG90eXBlJSc6IFsnQXN5bmNGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVBc3luY0dlbmVyYXRvciUnOiBbJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclQXN5bmNHZW5lcmF0b3JQcm90b3R5cGUlJzogWydBc3luY0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZScsICdwcm90b3R5cGUnXSxcblx0JyVCb29sZWFuUHJvdG90eXBlJSc6IFsnQm9vbGVhbicsICdwcm90b3R5cGUnXSxcblx0JyVEYXRhVmlld1Byb3RvdHlwZSUnOiBbJ0RhdGFWaWV3JywgJ3Byb3RvdHlwZSddLFxuXHQnJURhdGVQcm90b3R5cGUlJzogWydEYXRlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUVycm9yUHJvdG90eXBlJSc6IFsnRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclRXZhbEVycm9yUHJvdG90eXBlJSc6IFsnRXZhbEVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJUZsb2F0MzJBcnJheVByb3RvdHlwZSUnOiBbJ0Zsb2F0MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVGbG9hdDY0QXJyYXlQcm90b3R5cGUlJzogWydGbG9hdDY0QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclRnVuY3Rpb25Qcm90b3R5cGUlJzogWydGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVHZW5lcmF0b3IlJzogWydHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVHZW5lcmF0b3JQcm90b3R5cGUlJzogWydHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnLCAncHJvdG90eXBlJ10sXG5cdCclSW50OEFycmF5UHJvdG90eXBlJSc6IFsnSW50OEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDE2QXJyYXlQcm90b3R5cGUlJzogWydJbnQxNkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDMyQXJyYXlQcm90b3R5cGUlJzogWydJbnQzMkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUpTT05QYXJzZSUnOiBbJ0pTT04nLCAncGFyc2UnXSxcblx0JyVKU09OU3RyaW5naWZ5JSc6IFsnSlNPTicsICdzdHJpbmdpZnknXSxcblx0JyVNYXBQcm90b3R5cGUlJzogWydNYXAnLCAncHJvdG90eXBlJ10sXG5cdCclTnVtYmVyUHJvdG90eXBlJSc6IFsnTnVtYmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJU9iamVjdFByb3RvdHlwZSUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnXSxcblx0JyVPYmpQcm90b190b1N0cmluZyUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnLCAndG9TdHJpbmcnXSxcblx0JyVPYmpQcm90b192YWx1ZU9mJSc6IFsnT2JqZWN0JywgJ3Byb3RvdHlwZScsICd2YWx1ZU9mJ10sXG5cdCclUHJvbWlzZVByb3RvdHlwZSUnOiBbJ1Byb21pc2UnLCAncHJvdG90eXBlJ10sXG5cdCclUHJvbWlzZVByb3RvX3RoZW4lJzogWydQcm9taXNlJywgJ3Byb3RvdHlwZScsICd0aGVuJ10sXG5cdCclUHJvbWlzZV9hbGwlJzogWydQcm9taXNlJywgJ2FsbCddLFxuXHQnJVByb21pc2VfcmVqZWN0JSc6IFsnUHJvbWlzZScsICdyZWplY3QnXSxcblx0JyVQcm9taXNlX3Jlc29sdmUlJzogWydQcm9taXNlJywgJ3Jlc29sdmUnXSxcblx0JyVSYW5nZUVycm9yUHJvdG90eXBlJSc6IFsnUmFuZ2VFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVSZWZlcmVuY2VFcnJvclByb3RvdHlwZSUnOiBbJ1JlZmVyZW5jZUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVJlZ0V4cFByb3RvdHlwZSUnOiBbJ1JlZ0V4cCcsICdwcm90b3R5cGUnXSxcblx0JyVTZXRQcm90b3R5cGUlJzogWydTZXQnLCAncHJvdG90eXBlJ10sXG5cdCclU2hhcmVkQXJyYXlCdWZmZXJQcm90b3R5cGUlJzogWydTaGFyZWRBcnJheUJ1ZmZlcicsICdwcm90b3R5cGUnXSxcblx0JyVTdHJpbmdQcm90b3R5cGUlJzogWydTdHJpbmcnLCAncHJvdG90eXBlJ10sXG5cdCclU3ltYm9sUHJvdG90eXBlJSc6IFsnU3ltYm9sJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN5bnRheEVycm9yUHJvdG90eXBlJSc6IFsnU3ludGF4RXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclVHlwZWRBcnJheVByb3RvdHlwZSUnOiBbJ1R5cGVkQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVHlwZUVycm9yUHJvdG90eXBlJSc6IFsnVHlwZUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQ4QXJyYXlQcm90b3R5cGUlJzogWydVaW50OEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQ4Q2xhbXBlZEFycmF5UHJvdG90eXBlJSc6IFsnVWludDhDbGFtcGVkQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDE2QXJyYXlQcm90b3R5cGUlJzogWydVaW50MTZBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50MzJBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQzMkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVSSUVycm9yUHJvdG90eXBlJSc6IFsnVVJJRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclV2Vha01hcFByb3RvdHlwZSUnOiBbJ1dlYWtNYXAnLCAncHJvdG90eXBlJ10sXG5cdCclV2Vha1NldFByb3RvdHlwZSUnOiBbJ1dlYWtTZXQnLCAncHJvdG90eXBlJ11cbn07XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xudmFyIGhhc093biA9IHJlcXVpcmUoJ2hhc293bicpO1xudmFyICRjb25jYXQgPSBiaW5kLmNhbGwoJGNhbGwsIEFycmF5LnByb3RvdHlwZS5jb25jYXQpO1xudmFyICRzcGxpY2VBcHBseSA9IGJpbmQuY2FsbCgkYXBwbHksIEFycmF5LnByb3RvdHlwZS5zcGxpY2UpO1xudmFyICRyZXBsYWNlID0gYmluZC5jYWxsKCRjYWxsLCBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2UpO1xudmFyICRzdHJTbGljZSA9IGJpbmQuY2FsbCgkY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5zbGljZSk7XG52YXIgJGV4ZWMgPSBiaW5kLmNhbGwoJGNhbGwsIFJlZ0V4cC5wcm90b3R5cGUuZXhlYyk7XG5cbi8qIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iLzQuMTcuMTUvZGlzdC9sb2Rhc2guanMjTDY3MzUtTDY3NDQgKi9cbnZhciByZVByb3BOYW1lID0gL1teJS5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwlJCkpL2c7XG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7IC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uIHN0cmluZ1RvUGF0aChzdHJpbmcpIHtcblx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHN0cmluZywgMCwgMSk7XG5cdHZhciBsYXN0ID0gJHN0clNsaWNlKHN0cmluZywgLTEpO1xuXHRpZiAoZmlyc3QgPT09ICclJyAmJiBsYXN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgJyk7XG5cdH0gZWxzZSBpZiAobGFzdCA9PT0gJyUnICYmIGZpcnN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIG9wZW5pbmcgYCVgJyk7XG5cdH1cblx0dmFyIHJlc3VsdCA9IFtdO1xuXHQkcmVwbGFjZShzdHJpbmcsIHJlUHJvcE5hbWUsIGZ1bmN0aW9uIChtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG5cdFx0cmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gcXVvdGUgPyAkcmVwbGFjZShzdWJTdHJpbmcsIHJlRXNjYXBlQ2hhciwgJyQxJykgOiBudW1iZXIgfHwgbWF0Y2g7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcbi8qIGVuZCBhZGFwdGF0aW9uICovXG5cbnZhciBnZXRCYXNlSW50cmluc2ljID0gZnVuY3Rpb24gZ2V0QmFzZUludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpY05hbWUgPSBuYW1lO1xuXHR2YXIgYWxpYXM7XG5cdGlmIChoYXNPd24oTEVHQUNZX0FMSUFTRVMsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0YWxpYXMgPSBMRUdBQ1lfQUxJQVNFU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpbnRyaW5zaWNOYW1lID0gJyUnICsgYWxpYXNbMF0gKyAnJSc7XG5cdH1cblxuXHRpZiAoaGFzT3duKElOVFJJTlNJQ1MsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0dmFyIHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpZiAodmFsdWUgPT09IG5lZWRzRXZhbCkge1xuXHRcdFx0dmFsdWUgPSBkb0V2YWwoaW50cmluc2ljTmFtZSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRhbGlhczogYWxpYXMsXG5cdFx0XHRuYW1lOiBpbnRyaW5zaWNOYW1lLFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxuXG5cdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ2ludHJpbnNpYyAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QhJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWxsb3dNaXNzaW5nICE9PSAnYm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignXCJhbGxvd01pc3NpbmdcIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0aWYgKCRleGVjKC9eJT9bXiVdKiU/JC8sIG5hbWUpID09PSBudWxsKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignYCVgIG1heSBub3QgYmUgcHJlc2VudCBhbnl3aGVyZSBidXQgYXQgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIHRoZSBpbnRyaW5zaWMgbmFtZScpO1xuXHR9XG5cdHZhciBwYXJ0cyA9IHN0cmluZ1RvUGF0aChuYW1lKTtcblx0dmFyIGludHJpbnNpY0Jhc2VOYW1lID0gcGFydHMubGVuZ3RoID4gMCA/IHBhcnRzWzBdIDogJyc7XG5cblx0dmFyIGludHJpbnNpYyA9IGdldEJhc2VJbnRyaW5zaWMoJyUnICsgaW50cmluc2ljQmFzZU5hbWUgKyAnJScsIGFsbG93TWlzc2luZyk7XG5cdHZhciBpbnRyaW5zaWNSZWFsTmFtZSA9IGludHJpbnNpYy5uYW1lO1xuXHR2YXIgdmFsdWUgPSBpbnRyaW5zaWMudmFsdWU7XG5cdHZhciBza2lwRnVydGhlckNhY2hpbmcgPSBmYWxzZTtcblxuXHR2YXIgYWxpYXMgPSBpbnRyaW5zaWMuYWxpYXM7XG5cdGlmIChhbGlhcykge1xuXHRcdGludHJpbnNpY0Jhc2VOYW1lID0gYWxpYXNbMF07XG5cdFx0JHNwbGljZUFwcGx5KHBhcnRzLCAkY29uY2F0KFswLCAxXSwgYWxpYXMpKTtcblx0fVxuXG5cdGZvciAodmFyIGkgPSAxLCBpc093biA9IHRydWU7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdHZhciBwYXJ0ID0gcGFydHNbaV07XG5cdFx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHBhcnQsIDAsIDEpO1xuXHRcdHZhciBsYXN0ID0gJHN0clNsaWNlKHBhcnQsIC0xKTtcblx0XHRpZiAoXG5cdFx0XHQoXG5cdFx0XHRcdChmaXJzdCA9PT0gJ1wiJyB8fCBmaXJzdCA9PT0gXCInXCIgfHwgZmlyc3QgPT09ICdgJylcblx0XHRcdFx0fHwgKGxhc3QgPT09ICdcIicgfHwgbGFzdCA9PT0gXCInXCIgfHwgbGFzdCA9PT0gJ2AnKVxuXHRcdFx0KVxuXHRcdFx0JiYgZmlyc3QgIT09IGxhc3Rcblx0XHQpIHtcblx0XHRcdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ3Byb3BlcnR5IG5hbWVzIHdpdGggcXVvdGVzIG11c3QgaGF2ZSBtYXRjaGluZyBxdW90ZXMnKTtcblx0XHR9XG5cdFx0aWYgKHBhcnQgPT09ICdjb25zdHJ1Y3RvcicgfHwgIWlzT3duKSB7XG5cdFx0XHRza2lwRnVydGhlckNhY2hpbmcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGludHJpbnNpY0Jhc2VOYW1lICs9ICcuJyArIHBhcnQ7XG5cdFx0aW50cmluc2ljUmVhbE5hbWUgPSAnJScgKyBpbnRyaW5zaWNCYXNlTmFtZSArICclJztcblxuXHRcdGlmIChoYXNPd24oSU5UUklOU0lDUywgaW50cmluc2ljUmVhbE5hbWUpKSB7XG5cdFx0XHR2YWx1ZSA9IElOVFJJTlNJQ1NbaW50cmluc2ljUmVhbE5hbWVdO1xuXHRcdH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0aWYgKCEocGFydCBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0aWYgKCFhbGxvd01pc3NpbmcpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYmFzZSBpbnRyaW5zaWMgZm9yICcgKyBuYW1lICsgJyBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdm9pZCB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoJGdPUEQgJiYgKGkgKyAxKSA+PSBwYXJ0cy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGRlc2MgPSAkZ09QRCh2YWx1ZSwgcGFydCk7XG5cdFx0XHRcdGlzT3duID0gISFkZXNjO1xuXG5cdFx0XHRcdC8vIEJ5IGNvbnZlbnRpb24sIHdoZW4gYSBkYXRhIHByb3BlcnR5IGlzIGNvbnZlcnRlZCB0byBhbiBhY2Nlc3NvclxuXHRcdFx0XHQvLyBwcm9wZXJ0eSB0byBlbXVsYXRlIGEgZGF0YSBwcm9wZXJ0eSB0aGF0IGRvZXMgbm90IHN1ZmZlciBmcm9tXG5cdFx0XHRcdC8vIHRoZSBvdmVycmlkZSBtaXN0YWtlLCB0aGF0IGFjY2Vzc29yJ3MgZ2V0dGVyIGlzIG1hcmtlZCB3aXRoXG5cdFx0XHRcdC8vIGFuIGBvcmlnaW5hbFZhbHVlYCBwcm9wZXJ0eS4gSGVyZSwgd2hlbiB3ZSBkZXRlY3QgdGhpcywgd2Vcblx0XHRcdFx0Ly8gdXBob2xkIHRoZSBpbGx1c2lvbiBieSBwcmV0ZW5kaW5nIHRvIHNlZSB0aGF0IG9yaWdpbmFsIGRhdGFcblx0XHRcdFx0Ly8gcHJvcGVydHksIGkuZS4sIHJldHVybmluZyB0aGUgdmFsdWUgcmF0aGVyIHRoYW4gdGhlIGdldHRlclxuXHRcdFx0XHQvLyBpdHNlbGYuXG5cdFx0XHRcdGlmIChpc093biAmJiAnZ2V0JyBpbiBkZXNjICYmICEoJ29yaWdpbmFsVmFsdWUnIGluIGRlc2MuZ2V0KSkge1xuXHRcdFx0XHRcdHZhbHVlID0gZGVzYy5nZXQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVtwYXJ0XTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXNPd24gPSBoYXNPd24odmFsdWUsIHBhcnQpO1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNPd24gJiYgIXNraXBGdXJ0aGVyQ2FjaGluZykge1xuXHRcdFx0XHRJTlRSSU5TSUNTW2ludHJpbnNpY1JlYWxOYW1lXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdmFsdWU7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJ2VzLWRlZmluZS1wcm9wZXJ0eScpO1xuXG52YXIgJFN5bnRheEVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3N5bnRheCcpO1xudmFyICRUeXBlRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvdHlwZScpO1xuXG52YXIgZ29wZCA9IHJlcXVpcmUoJ2dvcGQnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lRGF0YVByb3BlcnR5KFxuXHRvYmosXG5cdHByb3BlcnR5LFxuXHR2YWx1ZVxuKSB7XG5cdGlmICghb2JqIHx8ICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqICE9PSAnZnVuY3Rpb24nKSkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgb2JqYCBtdXN0IGJlIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uYCcpO1xuXHR9XG5cdGlmICh0eXBlb2YgcHJvcGVydHkgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBwcm9wZXJ0eSAhPT0gJ3N5bWJvbCcpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYHByb3BlcnR5YCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgc3ltYm9sYCcpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMyAmJiB0eXBlb2YgYXJndW1lbnRzWzNdICE9PSAnYm9vbGVhbicgJiYgYXJndW1lbnRzWzNdICE9PSBudWxsKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2Bub25FbnVtZXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgdHlwZW9mIGFyZ3VtZW50c1s0XSAhPT0gJ2Jvb2xlYW4nICYmIGFyZ3VtZW50c1s0XSAhPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgbm9uV3JpdGFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbCcpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gNSAmJiB0eXBlb2YgYXJndW1lbnRzWzVdICE9PSAnYm9vbGVhbicgJiYgYXJndW1lbnRzWzVdICE9PSBudWxsKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2Bub25Db25maWd1cmFibGVgLCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIGJvb2xlYW4gb3IgbnVsbCcpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gNiAmJiB0eXBlb2YgYXJndW1lbnRzWzZdICE9PSAnYm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYGxvb3NlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuJyk7XG5cdH1cblxuXHR2YXIgbm9uRW51bWVyYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblx0dmFyIG5vbldyaXRhYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgPyBhcmd1bWVudHNbNF0gOiBudWxsO1xuXHR2YXIgbm9uQ29uZmlndXJhYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiBudWxsO1xuXHR2YXIgbG9vc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gNiA/IGFyZ3VtZW50c1s2XSA6IGZhbHNlO1xuXG5cdC8qIEB0eXBlIHtmYWxzZSB8IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPHVua25vd24+fSAqL1xuXHR2YXIgZGVzYyA9ICEhZ29wZCAmJiBnb3BkKG9iaiwgcHJvcGVydHkpO1xuXG5cdGlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0XHQkZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwge1xuXHRcdFx0Y29uZmlndXJhYmxlOiBub25Db25maWd1cmFibGUgPT09IG51bGwgJiYgZGVzYyA/IGRlc2MuY29uZmlndXJhYmxlIDogIW5vbkNvbmZpZ3VyYWJsZSxcblx0XHRcdGVudW1lcmFibGU6IG5vbkVudW1lcmFibGUgPT09IG51bGwgJiYgZGVzYyA/IGRlc2MuZW51bWVyYWJsZSA6ICFub25FbnVtZXJhYmxlLFxuXHRcdFx0dmFsdWU6IHZhbHVlLFxuXHRcdFx0d3JpdGFibGU6IG5vbldyaXRhYmxlID09PSBudWxsICYmIGRlc2MgPyBkZXNjLndyaXRhYmxlIDogIW5vbldyaXRhYmxlXG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAobG9vc2UgfHwgKCFub25FbnVtZXJhYmxlICYmICFub25Xcml0YWJsZSAmJiAhbm9uQ29uZmlndXJhYmxlKSkge1xuXHRcdC8vIG11c3QgZmFsbCBiYWNrIHRvIFtbU2V0XV0sIGFuZCB3YXMgbm90IGV4cGxpY2l0bHkgYXNrZWQgdG8gbWFrZSBub24tZW51bWVyYWJsZSwgbm9uLXdyaXRhYmxlLCBvciBub24tY29uZmlndXJhYmxlXG5cdFx0b2JqW3Byb3BlcnR5XSA9IHZhbHVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignVGhpcyBlbnZpcm9ubWVudCBkb2VzIG5vdCBzdXBwb3J0IGRlZmluaW5nIGEgcHJvcGVydHkgYXMgbm9uLWNvbmZpZ3VyYWJsZSwgbm9uLXdyaXRhYmxlLCBvciBub24tZW51bWVyYWJsZS4nKTtcblx0fVxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCdlcy1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvcnMgPSBmdW5jdGlvbiBoYXNQcm9wZXJ0eURlc2NyaXB0b3JzKCkge1xuXHRyZXR1cm4gISEkZGVmaW5lUHJvcGVydHk7XG59O1xuXG5oYXNQcm9wZXJ0eURlc2NyaXB0b3JzLmhhc0FycmF5TGVuZ3RoRGVmaW5lQnVnID0gZnVuY3Rpb24gaGFzQXJyYXlMZW5ndGhEZWZpbmVCdWcoKSB7XG5cdC8vIG5vZGUgdjAuNiBoYXMgYSBidWcgd2hlcmUgYXJyYXkgbGVuZ3RocyBjYW4gYmUgU2V0IGJ1dCBub3QgRGVmaW5lZFxuXHRpZiAoISRkZWZpbmVQcm9wZXJ0eSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHRyeSB7XG5cdFx0cmV0dXJuICRkZWZpbmVQcm9wZXJ0eShbXSwgJ2xlbmd0aCcsIHsgdmFsdWU6IDEgfSkubGVuZ3RoICE9PSAxO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSW4gRmlyZWZveCA0LTIyLCBkZWZpbmluZyBsZW5ndGggb24gYW4gYXJyYXkgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3JzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEdldEludHJpbnNpYyA9IHJlcXVpcmUoJ2dldC1pbnRyaW5zaWMnKTtcbnZhciBkZWZpbmUgPSByZXF1aXJlKCdkZWZpbmUtZGF0YS1wcm9wZXJ0eScpO1xudmFyIGhhc0Rlc2NyaXB0b3JzID0gcmVxdWlyZSgnaGFzLXByb3BlcnR5LWRlc2NyaXB0b3JzJykoKTtcbnZhciBnT1BEID0gcmVxdWlyZSgnZ29wZCcpO1xuXG52YXIgJFR5cGVFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy90eXBlJyk7XG52YXIgJGZsb29yID0gR2V0SW50cmluc2ljKCclTWF0aC5mbG9vciUnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0RnVuY3Rpb25MZW5ndGgoZm4sIGxlbmd0aCkge1xuXHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2BmbmAgaXMgbm90IGEgZnVuY3Rpb24nKTtcblx0fVxuXHRpZiAodHlwZW9mIGxlbmd0aCAhPT0gJ251bWJlcicgfHwgbGVuZ3RoIDwgMCB8fCBsZW5ndGggPiAweEZGRkZGRkZGIHx8ICRmbG9vcihsZW5ndGgpICE9PSBsZW5ndGgpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYGxlbmd0aGAgbXVzdCBiZSBhIHBvc2l0aXZlIDMyLWJpdCBpbnRlZ2VyJyk7XG5cdH1cblxuXHR2YXIgbG9vc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiAhIWFyZ3VtZW50c1syXTtcblxuXHR2YXIgZnVuY3Rpb25MZW5ndGhJc0NvbmZpZ3VyYWJsZSA9IHRydWU7XG5cdHZhciBmdW5jdGlvbkxlbmd0aElzV3JpdGFibGUgPSB0cnVlO1xuXHRpZiAoJ2xlbmd0aCcgaW4gZm4gJiYgZ09QRCkge1xuXHRcdHZhciBkZXNjID0gZ09QRChmbiwgJ2xlbmd0aCcpO1xuXHRcdGlmIChkZXNjICYmICFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0ZnVuY3Rpb25MZW5ndGhJc0NvbmZpZ3VyYWJsZSA9IGZhbHNlO1xuXHRcdH1cblx0XHRpZiAoZGVzYyAmJiAhZGVzYy53cml0YWJsZSkge1xuXHRcdFx0ZnVuY3Rpb25MZW5ndGhJc1dyaXRhYmxlID0gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGZ1bmN0aW9uTGVuZ3RoSXNDb25maWd1cmFibGUgfHwgZnVuY3Rpb25MZW5ndGhJc1dyaXRhYmxlIHx8ICFsb29zZSkge1xuXHRcdGlmIChoYXNEZXNjcmlwdG9ycykge1xuXHRcdFx0ZGVmaW5lKC8qKiBAdHlwZSB7UGFyYW1ldGVyczxkZWZpbmU+WzBdfSAqLyAoZm4pLCAnbGVuZ3RoJywgbGVuZ3RoLCB0cnVlLCB0cnVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGVmaW5lKC8qKiBAdHlwZSB7UGFyYW1ldGVyczxkZWZpbmU+WzBdfSAqLyAoZm4pLCAnbGVuZ3RoJywgbGVuZ3RoKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZuO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xudmFyICRhcHBseSA9IHJlcXVpcmUoJy4vZnVuY3Rpb25BcHBseScpO1xudmFyIGFjdHVhbEFwcGx5ID0gcmVxdWlyZSgnLi9hY3R1YWxBcHBseScpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9hcHBseUJpbmQnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXBwbHlCaW5kKCkge1xuXHRyZXR1cm4gYWN0dWFsQXBwbHkoYmluZCwgJGFwcGx5LCBhcmd1bWVudHMpO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBzZXRGdW5jdGlvbkxlbmd0aCA9IHJlcXVpcmUoJ3NldC1mdW5jdGlvbi1sZW5ndGgnKTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJ2VzLWRlZmluZS1wcm9wZXJ0eScpO1xuXG52YXIgY2FsbEJpbmRCYXNpYyA9IHJlcXVpcmUoJ2NhbGwtYmluZC1hcHBseS1oZWxwZXJzJyk7XG52YXIgYXBwbHlCaW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvYXBwbHlCaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FsbEJpbmQob3JpZ2luYWxGdW5jdGlvbikge1xuXHR2YXIgZnVuYyA9IGNhbGxCaW5kQmFzaWMoYXJndW1lbnRzKTtcblx0dmFyIGFkanVzdGVkTGVuZ3RoID0gb3JpZ2luYWxGdW5jdGlvbi5sZW5ndGggLSAoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHRyZXR1cm4gc2V0RnVuY3Rpb25MZW5ndGgoXG5cdFx0ZnVuYyxcblx0XHQxICsgKGFkanVzdGVkTGVuZ3RoID4gMCA/IGFkanVzdGVkTGVuZ3RoIDogMCksXG5cdFx0dHJ1ZVxuXHQpO1xufTtcblxuaWYgKCRkZWZpbmVQcm9wZXJ0eSkge1xuXHQkZGVmaW5lUHJvcGVydHkobW9kdWxlLmV4cG9ydHMsICdhcHBseScsIHsgdmFsdWU6IGFwcGx5QmluZCB9KTtcbn0gZWxzZSB7XG5cdG1vZHVsZS5leHBvcnRzLmFwcGx5ID0gYXBwbHlCaW5kO1xufVxuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEdldEludHJpbnNpYyA9IHJlcXVpcmUoJ2dldC1pbnRyaW5zaWMnKTtcblxudmFyIGNhbGxCaW5kQmFzaWMgPSByZXF1aXJlKCdjYWxsLWJpbmQtYXBwbHktaGVscGVycycpO1xuXG4vKiogQHR5cGUgeyh0aGlzQXJnOiBzdHJpbmcsIHNlYXJjaFN0cmluZzogc3RyaW5nLCBwb3NpdGlvbj86IG51bWJlcikgPT4gbnVtYmVyfSAqL1xudmFyICRpbmRleE9mID0gY2FsbEJpbmRCYXNpYyhbR2V0SW50cmluc2ljKCclU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mJScpXSk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCb3VuZEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHR2YXIgaW50cmluc2ljID0gLyoqIEB0eXBlIHtQYXJhbWV0ZXJzPHR5cGVvZiBjYWxsQmluZEJhc2ljPlswXVswXX0gKi8gKEdldEludHJpbnNpYyhuYW1lLCAhIWFsbG93TWlzc2luZykpO1xuXHRpZiAodHlwZW9mIGludHJpbnNpYyA9PT0gJ2Z1bmN0aW9uJyAmJiAkaW5kZXhPZihuYW1lLCAnLnByb3RvdHlwZS4nKSA+IC0xKSB7XG5cdFx0cmV0dXJuIGNhbGxCaW5kQmFzaWMoW2ludHJpbnNpY10pO1xuXHR9XG5cdHJldHVybiBpbnRyaW5zaWM7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHt0eXBlb2YgSlNPTi5zdHJpbmdpZnl9ICovXG52YXIganNvblN0cmluZ2lmeSA9ICh0eXBlb2YgSlNPTiAhPT0gJ3VuZGVmaW5lZCcgPyBKU09OIDogcmVxdWlyZSgnanNvbmlmeScpKS5zdHJpbmdpZnk7XG5cbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpO1xudmFyIG9iamVjdEtleXMgPSByZXF1aXJlKCdvYmplY3Qta2V5cycpO1xudmFyIGNhbGxCaW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kJyk7XG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnY2FsbC1ib3VuZCcpO1xuXG52YXIgJGpvaW4gPSBjYWxsQm91bmQoJ0FycmF5LnByb3RvdHlwZS5qb2luJyk7XG52YXIgJGluZGV4T2YgPSBjYWxsQm91bmQoJ0FycmF5LnByb3RvdHlwZS5pbmRleE9mJyk7XG52YXIgJHNwbGljZSA9IGNhbGxCb3VuZCgnQXJyYXkucHJvdG90eXBlLnNwbGljZScpO1xudmFyICRzb3J0ID0gY2FsbEJvdW5kKCdBcnJheS5wcm90b3R5cGUuc29ydCcpO1xuXG4vKiogQHR5cGUgeyhuOiBudW1iZXIsIGNoYXI6IHN0cmluZykgPT4gc3RyaW5nfSAqL1xudmFyIHN0clJlcGVhdCA9IGZ1bmN0aW9uIHJlcGVhdChuLCBjaGFyKSB7XG5cdHZhciBzdHIgPSAnJztcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpICs9IDEpIHtcblx0XHRzdHIgKz0gY2hhcjtcblx0fVxuXHRyZXR1cm4gc3RyO1xufTtcblxuLyoqIEB0eXBlIHsocGFyZW50OiBpbXBvcnQoJy4nKS5Ob2RlLCBrZXk6IGltcG9ydCgnLicpLktleSwgdmFsdWU6IHVua25vd24pID0+IHVua25vd259ICovXG52YXIgZGVmYXVsdFJlcGxhY2VyID0gZnVuY3Rpb24gKF9wYXJlbnQsIF9rZXksIHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RhYmxlU3RyaW5naWZ5KG9iaikge1xuXHQvKiogQHR5cGUge1BhcmFtZXRlcnM8aW1wb3J0KCcuJyk+WzFdfSAqL1xuXHR2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdm9pZCB1bmRlZmluZWQ7XG5cdHZhciBzcGFjZSA9IChvcHRzICYmIG9wdHMuc3BhY2UpIHx8ICcnO1xuXHRpZiAodHlwZW9mIHNwYWNlID09PSAnbnVtYmVyJykgeyBzcGFjZSA9IHN0clJlcGVhdChzcGFjZSwgJyAnKTsgfVxuXHR2YXIgY3ljbGVzID0gISFvcHRzICYmIHR5cGVvZiBvcHRzLmN5Y2xlcyA9PT0gJ2Jvb2xlYW4nICYmIG9wdHMuY3ljbGVzO1xuXHQvKiogQHR5cGUge3VuZGVmaW5lZCB8IHR5cGVvZiBkZWZhdWx0UmVwbGFjZXJ9ICovXG5cdHZhciByZXBsYWNlciA9IG9wdHMgJiYgb3B0cy5yZXBsYWNlciA/IGNhbGxCaW5kKG9wdHMucmVwbGFjZXIpIDogZGVmYXVsdFJlcGxhY2VyO1xuXG5cdHZhciBjbXBPcHQgPSB0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMgOiBvcHRzICYmIG9wdHMuY21wO1xuXHQvKiogQHR5cGUge3VuZGVmaW5lZCB8ICg8VCBleHRlbmRzIGltcG9ydCgnLicpLk5vbkFycmF5Tm9kZT4obm9kZTogVCkgPT4gKGE6IEV4Y2x1ZGU8a2V5b2YgVCwgc3ltYm9sIHwgbnVtYmVyPiwgYjogRXhjbHVkZTxrZXlvZiBULCBzeW1ib2wgfCBudW1iZXI+KSA9PiBudW1iZXIpfSAqL1xuXHR2YXIgY21wID0gY21wT3B0ICYmIGZ1bmN0aW9uIChub2RlKSB7XG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHRcdHZhciBnZXQgPSAvKiogQHR5cGUge05vbk51bGxhYmxlPHR5cGVvZiBjbXBPcHQ+fSAqLyAoY21wT3B0KS5sZW5ndGggPiAyXG5cdFx0XHQmJiAvKiogQHR5cGUge2ltcG9ydCgnLicpLkdldHRlclsnZ2V0J119ICovIGZ1bmN0aW9uIGdldChrKSB7IHJldHVybiBub2RlW2tdOyB9O1xuXHRcdHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHRcdFx0cmV0dXJuIC8qKiBAdHlwZSB7Tm9uTnVsbGFibGU8dHlwZW9mIGNtcE9wdD59ICovIChjbXBPcHQpKFxuXHRcdFx0XHR7IGtleTogYSwgdmFsdWU6IG5vZGVbYV0gfSxcblx0XHRcdFx0eyBrZXk6IGIsIHZhbHVlOiBub2RlW2JdIH0sXG5cdFx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVFMgZG9lc24ndCB1bmRlcnN0YW5kIHRoZSBvcHRpbWl6YXRpb24gdXNlZCBoZXJlXG5cdFx0XHRcdGdldCA/IC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuR2V0dGVyfSAqLyB7IF9fcHJvdG9fXzogbnVsbCwgZ2V0OiBnZXQgfSA6IHZvaWQgdW5kZWZpbmVkXG5cdFx0XHQpO1xuXHRcdH07XG5cdH07XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4nKS5Ob2RlW119ICovXG5cdHZhciBzZWVuID0gW107XG5cdHJldHVybiAoLyoqIEB0eXBlIHsocGFyZW50OiBpbXBvcnQoJy4nKS5Ob2RlLCBrZXk6IHN0cmluZyB8IG51bWJlciwgbm9kZTogdW5rbm93biwgbGV2ZWw6IG51bWJlcikgPT4gc3RyaW5nIHwgdW5kZWZpbmVkfSAqL1xuXHRcdGZ1bmN0aW9uIHN0cmluZ2lmeShwYXJlbnQsIGtleSwgbm9kZSwgbGV2ZWwpIHtcblx0XHRcdHZhciBpbmRlbnQgPSBzcGFjZSA/ICdcXG4nICsgc3RyUmVwZWF0KGxldmVsLCBzcGFjZSkgOiAnJztcblx0XHRcdHZhciBjb2xvblNlcGFyYXRvciA9IHNwYWNlID8gJzogJyA6ICc6JztcblxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHRcdFx0aWYgKG5vZGUgJiYgLyoqIEB0eXBlIHt7IHRvSlNPTj86IHVua25vd24gfX0gKi8gKG5vZGUpLnRvSlNPTiAmJiB0eXBlb2YgLyoqIEB0eXBlIHt7IHRvSlNPTj86IHVua25vd24gfX0gKi8gKG5vZGUpLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXG5cdFx0XHRcdG5vZGUgPSAvKiogQHR5cGUge3sgdG9KU09OOiBGdW5jdGlvbiB9fSAqLyAobm9kZSkudG9KU09OKCk7XG5cdFx0XHR9XG5cblx0XHRcdG5vZGUgPSByZXBsYWNlcihwYXJlbnQsIGtleSwgbm9kZSk7XG5cblx0XHRcdGlmIChub2RlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JyB8fCBub2RlID09PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiBqc29uU3RyaW5naWZ5KG5vZGUpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGlzQXJyYXkobm9kZSkpIHtcblx0XHRcdFx0dmFyIG91dCA9IFtdO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR2YXIgaXRlbSA9IHN0cmluZ2lmeShub2RlLCBpLCBub2RlW2ldLCBsZXZlbCArIDEpIHx8IGpzb25TdHJpbmdpZnkobnVsbCk7XG5cdFx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0gaW5kZW50ICsgc3BhY2UgKyBpdGVtO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAnWycgKyAkam9pbihvdXQsICcsJykgKyBpbmRlbnQgKyAnXSc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgkaW5kZXhPZihzZWVuLCBub2RlKSAhPT0gLTEpIHtcblx0XHRcdFx0aWYgKGN5Y2xlcykgeyByZXR1cm4ganNvblN0cmluZ2lmeSgnX19jeWNsZV9fJyk7IH1cblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTicpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VlbltzZWVuLmxlbmd0aF0gPSAvKiogQHR5cGUge2ltcG9ydCgnLicpLk5vbkFycmF5Tm9kZX0gKi8gKG5vZGUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiogQHR5cGUge2ltcG9ydCgnLicpLktleVtdfSAqL1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHRcdFx0dmFyIGtleXMgPSAkc29ydChvYmplY3RLZXlzKG5vZGUpLCBjbXAgJiYgY21wKC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuTm9uQXJyYXlOb2RlfSAqLyAobm9kZSkpKTtcblx0XHRcdHZhciBvdXQgPSBbXTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIga2V5ID0ga2V5c1tpXTtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHRcdFx0XHR2YXIgdmFsdWUgPSBzdHJpbmdpZnkoLyoqIEB0eXBlIHtpbXBvcnQoJy4nKS5Ob2RlfSAqLyAobm9kZSksIGtleSwgLyoqIEB0eXBlIHtpbXBvcnQoJy4nKS5Ob25BcnJheU5vZGV9ICovIChub2RlKVtrZXldLCBsZXZlbCArIDEpO1xuXG5cdFx0XHRcdGlmICghdmFsdWUpIHsgY29udGludWU7IH1cblxuXHRcdFx0XHR2YXIga2V5VmFsdWUgPSBqc29uU3RyaW5naWZ5KGtleSlcblx0XHRcdFx0XHQrIGNvbG9uU2VwYXJhdG9yXG5cdFx0XHRcdFx0KyB2YWx1ZTtcblxuXHRcdFx0XHRvdXRbb3V0Lmxlbmd0aF0gPSBpbmRlbnQgKyBzcGFjZSArIGtleVZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0JHNwbGljZShzZWVuLCAkaW5kZXhPZihzZWVuLCBub2RlKSwgMSk7XG5cdFx0XHRyZXR1cm4gJ3snICsgJGpvaW4ob3V0LCAnLCcpICsgaW5kZW50ICsgJ30nO1xuXHRcdH0oeyAnJzogb2JqIH0sICcnLCBvYmosIDApXG5cdCk7XG59O1xuIiwgImltcG9ydCB7IEl0ZW1WaWV3LCBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbidcclxuaW1wb3J0IENhbnZhc1BhdGNoZXIgZnJvbSAnLi9jb3JlL2NhbnZhcy1wYXRjaGVyJ1xyXG5pbXBvcnQgeyBDYW52YXMsIENhbnZhc1ZpZXcgfSBmcm9tICcuL0B0eXBlcy9DYW52YXMnXHJcbmltcG9ydCBRdWlja3NldHRpbmdzIGZyb20gJy4vcXVpY2tzZXR0aW5ncydcclxuXHJcbi8vIFV0aWxzXHJcbmltcG9ydCBJY29uc0hlbHBlciBmcm9tICcuL3V0aWxzL2ljb25zLWhlbHBlcidcclxuaW1wb3J0IERlYnVnSGVscGVyIGZyb20gJy4vdXRpbHMvZGVidWctaGVscGVyJ1xyXG5pbXBvcnQgTWlncmF0aW9uSGVscGVyIGZyb20gJy4vdXRpbHMvbWlncmF0aW9uLWhlbHBlcidcclxuXHJcbi8vIE1hbmFnZXJzXHJcbmltcG9ydCBTZXR0aW5nc01hbmFnZXIgZnJvbSAnLi9zZXR0aW5ncydcclxuaW1wb3J0IFdpbmRvd3NNYW5hZ2VyIGZyb20gJy4vd2luZG93cy1tYW5hZ2VyJ1xyXG5cclxuLy8gQ2FudmFzIEV4dGVuc2lvbnNcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NvcmUvY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IFZhcmlhYmxlQnJlYWtwb2ludENhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL3ZhcmlhYmxlLWJyZWFrcG9pbnQtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEdyb3VwQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZ3JvdXAtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IFByZXNlbnRhdGlvbkNhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL3ByZXNlbnRhdGlvbi1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgQmV0dGVyUmVhZG9ubHlDYW52YXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9iZXR0ZXItcmVhZG9ubHktY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEVuY2Fwc3VsYXRlQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZW5jYXBzdWxhdGUtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IENvbW1hbmRzQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvY29tbWFuZHMtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEF1dG9SZXNpemVOb2RlQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvYXV0by1yZXNpemUtbm9kZS1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgUG9ydGFsc0NhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL3BvcnRhbHMtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEJldHRlckRlZmF1bHRTZXR0aW5nc0NhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2JldHRlci1kZWZhdWx0LXNldHRpbmdzLWNhbnZhcy1leHRlbnNpb24nXHJcbmltcG9ydCBDb2xvclBhbGV0dGVDYW52YXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9jb2xvci1wYWxldHRlLWNhbnZhcy1leHRlbnNpb24nXHJcbmltcG9ydCBDb2xsYXBzaWJsZUdyb3Vwc0NhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2NvbGxhcHNpYmxlLWdyb3Vwcy1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgRm9jdXNNb2RlQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZm9jdXMtbW9kZS1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgRmxpcEVkZ2VDYW52YXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9mbGlwLWVkZ2UtY2FudmFzLWV4dGVuc2lvbidcclxuXHJcbi8vIEFkdmFuY2VkIFN0eWxlc1xyXG5pbXBvcnQgTm9kZVN0eWxlc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9ub2RlLXN0eWxlcydcclxuaW1wb3J0IEVkZ2VTdHlsZXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9hZHZhbmNlZC1zdHlsZXMvZWRnZS1zdHlsZXMnXHJcblxyXG4vLyBEYXRhc2V0IEV4cG9zZXJzXHJcbmltcG9ydCBOb2RlSW50ZXJhY3Rpb25FeHBvc2VyRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZGF0YXNldC1leHBvc2Vycy9ub2RlLWludGVyYWN0aW9uLWV4cG9zZXInXHJcbmltcG9ydCBOb2RlRXhwb3NlckV4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2RhdGFzZXQtZXhwb3NlcnMvbm9kZS1leHBvc2VyJ1xyXG5pbXBvcnQgRWRnZUV4cG9zZXJFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9kYXRhc2V0LWV4cG9zZXJzL2VkZ2UtZXhwb3NlcidcclxuaW1wb3J0IENhbnZhc1dyYXBwZXJFeHBvc2VyRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZGF0YXNldC1leHBvc2Vycy9jYW52YXMtd3JhcHBlci1leHBvc2VyJ1xyXG5cclxuY29uc3QgQ0FOVkFTX0VYVEVOU0lPTlM6IHR5cGVvZiBDYW52YXNFeHRlbnNpb25bXSA9IFtcclxuICAvLyBEYXRhc2V0IEV4cG9zZXJzXHJcbiAgQ2FudmFzV3JhcHBlckV4cG9zZXJFeHRlbnNpb24sXHJcbiAgTm9kZUV4cG9zZXJFeHRlbnNpb24sXHJcbiAgRWRnZUV4cG9zZXJFeHRlbnNpb24sXHJcbiAgTm9kZUludGVyYWN0aW9uRXhwb3NlckV4dGVuc2lvbixcclxuXHJcbiAgLy8gQWR2YW5jZWQgU3R5bGVzXHJcbiAgTm9kZVN0eWxlc0V4dGVuc2lvbixcclxuICBFZGdlU3R5bGVzRXh0ZW5zaW9uLFxyXG5cclxuICAvLyBCYXNpYyBFeHRlbnNpb25zXHJcbiAgVmFyaWFibGVCcmVha3BvaW50Q2FudmFzRXh0ZW5zaW9uLFxyXG4gIEJldHRlckRlZmF1bHRTZXR0aW5nc0NhbnZhc0V4dGVuc2lvbixcclxuICBDb21tYW5kc0NhbnZhc0V4dGVuc2lvbixcclxuICBGbGlwRWRnZUNhbnZhc0V4dGVuc2lvbixcclxuICBCZXR0ZXJSZWFkb25seUNhbnZhc0V4dGVuc2lvbixcclxuICBBdXRvUmVzaXplTm9kZUNhbnZhc0V4dGVuc2lvbixcclxuICBHcm91cENhbnZhc0V4dGVuc2lvbixcclxuXHJcbiAgLy8gTW9yZSBBZHZhbmNlZCBFeHRlbnNpb25zXHJcbiAgQ29sbGFwc2libGVHcm91cHNDYW52YXNFeHRlbnNpb24sXHJcbiAgRm9jdXNNb2RlQ2FudmFzRXh0ZW5zaW9uLFxyXG4gIEVuY2Fwc3VsYXRlQ2FudmFzRXh0ZW5zaW9uLFxyXG4gIENvbG9yUGFsZXR0ZUNhbnZhc0V4dGVuc2lvbixcclxuICBQcmVzZW50YXRpb25DYW52YXNFeHRlbnNpb24sXHJcbiAgUG9ydGFsc0NhbnZhc0V4dGVuc2lvblxyXG5dXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZHZhbmNlZENhbnZhc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XHJcbiAgbWlncmF0aW9uSGVscGVyOiBNaWdyYXRpb25IZWxwZXJcclxuICBkZWJ1Z0hlbHBlcjogRGVidWdIZWxwZXJcclxuXHJcbiAgc2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlclxyXG4gIHF1aWNrc2V0dGluZ3M6IFF1aWNrc2V0dGluZ3NcclxuICB3aW5kb3dzTWFuYWdlcjogV2luZG93c01hbmFnZXJcclxuXHJcbiAgY2FudmFzUGF0Y2hlcjogQ2FudmFzUGF0Y2hlclxyXG4gIGNhbnZhc0V4dGVuc2lvbnM6IENhbnZhc0V4dGVuc2lvbltdXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuICAgIHRoaXMubWlncmF0aW9uSGVscGVyID0gbmV3IE1pZ3JhdGlvbkhlbHBlcih0aGlzKVxyXG4gICAgYXdhaXQgdGhpcy5taWdyYXRpb25IZWxwZXIubWlncmF0ZSgpXHJcblxyXG4gICAgSWNvbnNIZWxwZXIuYWRkSWNvbnMoKVxyXG4gICAgXHJcbiAgICB0aGlzLnNldHRpbmdzID0gbmV3IFNldHRpbmdzTWFuYWdlcih0aGlzKVxyXG4gICAgYXdhaXQgdGhpcy5zZXR0aW5ncy5sb2FkU2V0dGluZ3MoKVxyXG4gICAgdGhpcy5zZXR0aW5ncy5hZGRTZXR0aW5nc1RhYigpXHJcbiAgICBcclxuICAgIHRoaXMucXVpY2tzZXR0aW5ncyA9IG5ldyBRdWlja3NldHRpbmdzKHRoaXMpXHJcblxyXG4gICAgdGhpcy53aW5kb3dzTWFuYWdlciA9IG5ldyBXaW5kb3dzTWFuYWdlcih0aGlzKVxyXG5cclxuICAgIHRoaXMuY2FudmFzUGF0Y2hlciA9IG5ldyBDYW52YXNQYXRjaGVyKHRoaXMpXHJcbiAgICB0aGlzLmNhbnZhc0V4dGVuc2lvbnMgPSBDQU5WQVNfRVhURU5TSU9OUy5tYXAoKEV4dGVuc2lvbjogYW55KSA9PiBuZXcgRXh0ZW5zaW9uKHRoaXMpKVxyXG5cdH1cclxuXHJcbiAgb251bmxvYWQoKSB7fVxyXG5cclxuICBnZXRDdXJyZW50Q2FudmFzVmlldygpOiBDYW52YXNWaWV3IHwgbnVsbCB7XHJcbiAgICBjb25zdCBjYW52YXNWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoSXRlbVZpZXcpXHJcbiAgICBpZiAoY2FudmFzVmlldz8uZ2V0Vmlld1R5cGUoKSAhPT0gJ2NhbnZhcycpIHJldHVybiBudWxsXHJcbiAgICByZXR1cm4gY2FudmFzVmlldyBhcyBDYW52YXNWaWV3XHJcbiAgfVxyXG5cclxuICBnZXRDdXJyZW50Q2FudmFzKCk6IENhbnZhcyB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudENhbnZhc1ZpZXcoKT8uY2FudmFzIHx8IG51bGxcclxuICB9XHJcblxyXG4gIGNyZWF0ZUZpbGVTbmFwc2hvdChwYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgZmlsZVJlY292ZXJ5UGx1Z2luID0gdGhpcy5hcHAuaW50ZXJuYWxQbHVnaW5zLnBsdWdpbnNbJ2ZpbGUtcmVjb3ZlcnknXT8uaW5zdGFuY2VcclxuICAgIGlmICghZmlsZVJlY292ZXJ5UGx1Z2luKSByZXR1cm5cclxuXHJcbiAgICBmaWxlUmVjb3ZlcnlQbHVnaW4uZm9yY2VBZGQocGF0aCwgY29udGVudClcclxuICB9XHJcblxyXG4gIC8vIHRoaXMuYXBwLnBsdWdpbnMucGx1Z2luc1tcImFkdmFuY2VkLWNhbnZhc1wiXS5lbmFibGVEZWJ1Z01vZGUoKVxyXG4gIGVuYWJsZURlYnVnTW9kZSgpIHtcclxuICAgIGlmICh0aGlzLmRlYnVnSGVscGVyKSByZXR1cm5cclxuICAgIHRoaXMuZGVidWdIZWxwZXIgPSBuZXcgRGVidWdIZWxwZXIodGhpcylcclxuICB9XHJcbn0iLCAiZXhwb3J0IGZ1bmN0aW9uIGFyb3VuZChvYmosIGZhY3Rvcmllcykge1xyXG4gICAgY29uc3QgcmVtb3ZlcnMgPSBPYmplY3Qua2V5cyhmYWN0b3JpZXMpLm1hcChrZXkgPT4gYXJvdW5kMShvYmosIGtleSwgZmFjdG9yaWVzW2tleV0pKTtcclxuICAgIHJldHVybiByZW1vdmVycy5sZW5ndGggPT09IDEgPyByZW1vdmVyc1swXSA6IGZ1bmN0aW9uICgpIHsgcmVtb3ZlcnMuZm9yRWFjaChyID0+IHIoKSk7IH07XHJcbn1cclxuZnVuY3Rpb24gYXJvdW5kMShvYmosIG1ldGhvZCwgY3JlYXRlV3JhcHBlcikge1xyXG4gICAgY29uc3Qgb3JpZ2luYWwgPSBvYmpbbWV0aG9kXSwgaGFkT3duID0gb2JqLmhhc093blByb3BlcnR5KG1ldGhvZCk7XHJcbiAgICBsZXQgY3VycmVudCA9IGNyZWF0ZVdyYXBwZXIob3JpZ2luYWwpO1xyXG4gICAgLy8gTGV0IG91ciB3cmFwcGVyIGluaGVyaXQgc3RhdGljIHByb3BzIGZyb20gdGhlIHdyYXBwaW5nIG1ldGhvZCxcclxuICAgIC8vIGFuZCB0aGUgd3JhcHBpbmcgbWV0aG9kLCBwcm9wcyBmcm9tIHRoZSBvcmlnaW5hbCBtZXRob2RcclxuICAgIGlmIChvcmlnaW5hbClcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY3VycmVudCwgb3JpZ2luYWwpO1xyXG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHdyYXBwZXIsIGN1cnJlbnQpO1xyXG4gICAgb2JqW21ldGhvZF0gPSB3cmFwcGVyO1xyXG4gICAgLy8gUmV0dXJuIGEgY2FsbGJhY2sgdG8gYWxsb3cgc2FmZSByZW1vdmFsXHJcbiAgICByZXR1cm4gcmVtb3ZlO1xyXG4gICAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XHJcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBiZWVuIGRlYWN0aXZhdGVkIGFuZCBhcmUgbm8gbG9uZ2VyIHdyYXBwZWQsIHJlbW92ZSBvdXJzZWx2ZXNcclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gb3JpZ2luYWwgJiYgb2JqW21ldGhvZF0gPT09IHdyYXBwZXIpXHJcbiAgICAgICAgICAgIHJlbW92ZSgpO1xyXG4gICAgICAgIHJldHVybiBjdXJyZW50LmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlKCkge1xyXG4gICAgICAgIC8vIElmIG5vIG90aGVyIHBhdGNoZXMsIGp1c3QgZG8gYSBkaXJlY3QgcmVtb3ZhbFxyXG4gICAgICAgIGlmIChvYmpbbWV0aG9kXSA9PT0gd3JhcHBlcikge1xyXG4gICAgICAgICAgICBpZiAoaGFkT3duKVxyXG4gICAgICAgICAgICAgICAgb2JqW21ldGhvZF0gPSBvcmlnaW5hbDtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIG9ialttZXRob2RdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gb3JpZ2luYWwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAvLyBFbHNlIHBhc3MgZnV0dXJlIGNhbGxzIHRocm91Z2gsIGFuZCByZW1vdmUgd3JhcHBlciBmcm9tIHRoZSBwcm90b3R5cGUgY2hhaW5cclxuICAgICAgICBjdXJyZW50ID0gb3JpZ2luYWw7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHdyYXBwZXIsIG9yaWdpbmFsIHx8IEZ1bmN0aW9uKTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZGVkdXBlKGtleSwgb2xkRm4sIG5ld0ZuKSB7XHJcbiAgICBjaGVja1trZXldID0ga2V5O1xyXG4gICAgcmV0dXJuIGNoZWNrO1xyXG4gICAgZnVuY3Rpb24gY2hlY2soLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiAob2xkRm5ba2V5XSA9PT0ga2V5ID8gb2xkRm4gOiBuZXdGbikuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGFmdGVyKHByb21pc2UsIGNiKSB7XHJcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGNiLCBjYik7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZShhc3luY0Z1bmN0aW9uKSB7XHJcbiAgICBsZXQgbGFzdFJ1biA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIGxhc3RSdW4gPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcclxuICAgICAgICAgICAgYWZ0ZXIobGFzdFJ1biwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYXN5bmNGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKS50aGVuKHJlcywgcmVqKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB3cmFwcGVyLmFmdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBsYXN0UnVuID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7IGFmdGVyKGxhc3RSdW4sIHJlcyk7IH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiB3cmFwcGVyO1xyXG59XHJcbiIsICJpbXBvcnQgeyBhcm91bmQgfSBmcm9tIFwibW9ua2V5LWFyb3VuZFwiXHJcbmltcG9ydCB7IFBsdWdpbiB9IGZyb20gXCJvYnNpZGlhblwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXRjaEhlbHBlciB7XHJcbiAgc3RhdGljIHRyeVBhdGNoV29ya3NwYWNlUHJvdG90eXBlPFQ+KHBsdWdpbjogUGx1Z2luLCBnZXRUYXJnZXQ6ICgpID0+IFR8dW5kZWZpbmVkLCBmdW5jdGlvbnM6IHsgW2tleTogc3RyaW5nXTogKG5leHQ6IGFueSkgPT4gKC4uLmFyZ3M6IGFueSkgPT4gYW55IH0pOiBQcm9taXNlPFQ+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCB0cnlQYXRjaCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRUYXJnZXQoKVxyXG4gICAgICAgIGlmICghdGFyZ2V0KSByZXR1cm4gbnVsbFxyXG5cclxuICAgICAgICBjb25zdCB1bmluc3RhbGxlciA9IGFyb3VuZCh0YXJnZXQuY29uc3RydWN0b3IucHJvdG90eXBlLCBmdW5jdGlvbnMpXHJcbiAgICAgICAgcGx1Z2luLnJlZ2lzdGVyKHVuaW5zdGFsbGVyKVxyXG5cclxuICAgICAgICByZXR1cm4gdGFyZ2V0XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRyeVBhdGNoKClcclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIHJlc29sdmUocmVzdWx0KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IHBsdWdpbi5hcHAud29ya3NwYWNlLm9uKCdsYXlvdXQtY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRyeVBhdGNoKClcclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgcGx1Z2luLmFwcC53b3Jrc3BhY2Uub2ZmcmVmKGxpc3RlbmVyKVxyXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcGx1Z2luLnJlZ2lzdGVyRXZlbnQobGlzdGVuZXIpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHBhdGNoT2JqZWN0UHJvdG90eXBlPFQ+KHBsdWdpbjogUGx1Z2luLCB0YXJnZXQ6IFQsIGZ1bmN0aW9uczogeyBba2V5OiBzdHJpbmddOiAobmV4dDogYW55KSA9PiAoLi4uYXJnczogYW55KSA9PiBhbnkgfSk6IHZvaWQge1xyXG4gICAgY29uc3QgdW5pbnN0YWxsZXIgPSBhcm91bmQoKHRhcmdldCBhcyBhbnkpLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZnVuY3Rpb25zKVxyXG4gICAgcGx1Z2luLnJlZ2lzdGVyKHVuaW5zdGFsbGVyKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHBhdGNoT2JqZWN0SW5zdGFuY2U8VD4ocGx1Z2luOiBQbHVnaW4sIHRhcmdldDogVCwgZnVuY3Rpb25zOiB7IFtrZXk6IHN0cmluZ106IChuZXh0OiBhbnkpID0+ICguLi5hcmdzOiBhbnkpID0+IGFueSB9KTogdm9pZCB7XHJcbiAgICBjb25zdCB1bmluc3RhbGxlciA9IGFyb3VuZCh0YXJnZXQgYXMgYW55LCBmdW5jdGlvbnMpXHJcbiAgICBwbHVnaW4ucmVnaXN0ZXIodW5pbnN0YWxsZXIpXHJcbiAgfVxyXG59IiwgImNvbnN0IENBTlZBU19FVkVOVF9QUkVGSVggPSAnY2FudmFzJ1xyXG5jb25zdCBQTFVHSU5fRVZFTlRfUFJFRklYID0gJ2FkdmFuY2VkLWNhbnZhcydcclxuXHJcbmV4cG9ydCBjb25zdCBDYW52YXNFdmVudCA9IHtcclxuICAvLyBCdWlsdC1pbiBldmVudHNcclxuICBTZWxlY3Rpb25Db250ZXh0TWVudTogYCR7Q0FOVkFTX0VWRU5UX1BSRUZJWH06c2VsZWN0aW9uLW1lbnVgLFxyXG4gIE5vZGVDb250ZXh0TWVudTogYCR7Q0FOVkFTX0VWRU5UX1BSRUZJWH06bm9kZS1tZW51YCxcclxuICBFZGdlQ29udGV4dE1lbnU6IGAke0NBTlZBU19FVkVOVF9QUkVGSVh9OmVkZ2UtbWVudWAsXHJcbiAgTm9kZUNvbm5lY3Rpb25Ecm9wQ29udGV4dE1lbnU6IGAke0NBTlZBU19FVkVOVF9QUkVGSVh9Om5vZGUtY29ubmVjdGlvbi1kcm9wLW1lbnVgLFxyXG5cclxuICAvLyBDdXN0b20gZXZlbnRzXHJcbiAgQ2FudmFzQ2hhbmdlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06Y2FudmFzLWNoYW5nZWRgLFxyXG4gIFZpZXdwb3J0Q2hhbmdlZDoge1xyXG4gICAgQmVmb3JlOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTp2aWV3cG9ydC1jaGFuZ2VkOmJlZm9yZWAsXHJcbiAgICBBZnRlcjogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06dmlld3BvcnQtY2hhbmdlZDphZnRlcmBcclxuICB9LFxyXG4gIE5vZGVNb3ZlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06bm9kZS1tb3ZlZGAsXHJcbiAgRG91YmxlQ2xpY2s6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmRvdWJsZS1jbGlja2AsXHJcbiAgRHJhZ2dpbmdTdGF0ZUNoYW5nZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmRyYWdnaW5nLXN0YXRlLWNoYW5nZWRgLFxyXG4gIE5vZGVDcmVhdGVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLWNyZWF0ZWRgLFxyXG4gIEVkZ2VDcmVhdGVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTplZGdlLWNyZWF0ZWRgLFxyXG4gIE5vZGVBZGRlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06bm9kZS1hZGRlZGAsXHJcbiAgRWRnZUFkZGVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTplZGdlLWFkZGVkYCxcclxuICBOb2RlQ2hhbmdlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06bm9kZS1jaGFuZ2VkYCxcclxuICBFZGdlQ2hhbmdlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06ZWRnZS1jaGFuZ2VkYCxcclxuICBOb2RlVGV4dENvbnRlbnRDaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLXRleHQtY29udGVudC1jaGFuZ2VkYCxcclxuICBOb2RlUmVtb3ZlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06bm9kZS1yZW1vdmVkYCxcclxuICBFZGdlUmVtb3ZlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06ZWRnZS1yZW1vdmVkYCxcclxuICBPbkNvcHk6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmNvcHlgLFxyXG4gIE5vZGVFZGl0aW5nU3RhdGVDaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLWVkaXRpbmctc3RhdGUtY2hhbmdlZGAsXHJcbiAgTm9kZUJyZWFrcG9pbnRDaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLWJyZWFrcG9pbnQtY2hhbmdlZGAsXHJcbiAgTm9kZUJCb3hSZXF1ZXN0ZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9Om5vZGUtYmJveC1yZXF1ZXN0ZWRgLFxyXG4gIEVkZ2VDZW50ZXJSZXF1ZXN0ZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmVkZ2UtY2VudGVyLXJlcXVlc3RlZGAsXHJcbiAgQ29udGFpbmluZ05vZGVzUmVxdWVzdGVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpjb250YWluaW5nLW5vZGVzLXJlcXVlc3RlZGAsXHJcbiAgU2VsZWN0aW9uQ2hhbmdlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06c2VsZWN0aW9uLWNoYW5nZWRgLFxyXG4gIFpvb21Ub0Jib3g6IHtcclxuICAgIEJlZm9yZTogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06em9vbS10by1iYm94OmJlZm9yZWAsXHJcbiAgICBBZnRlcjogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06em9vbS10by1iYm94OmFmdGVyYFxyXG4gIH0sXHJcbiAgUG9wdXBNZW51Q3JlYXRlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06cG9wdXAtbWVudS1jcmVhdGVkYCxcclxuICBOb2RlSW50ZXJhY3Rpb246IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9Om5vZGUtaW50ZXJhY3Rpb25gLFxyXG4gIFVuZG86IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OnVuZG9gLFxyXG4gIFJlZG86IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OnJlZG9gLFxyXG4gIFJlYWRvbmx5Q2hhbmdlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06cmVhZG9ubHktY2hhbmdlZGAsXHJcbiAgRGF0YVJlcXVlc3RlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06ZGF0YS1yZXF1ZXN0ZWRgLFxyXG4gIExvYWREYXRhOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpsb2FkLWRhdGFgLFxyXG4gIENhbnZhc1NhdmVkOiB7XHJcbiAgICBCZWZvcmU6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmNhbnZhcy1zYXZlZDpiZWZvcmVgLFxyXG4gICAgQWZ0ZXI6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmNhbnZhcy1zYXZlZDphZnRlcmBcclxuICB9XHJcbn0iLCAiaW1wb3J0IEFkdmFuY2VkQ2FudmFzUGx1Z2luIGZyb20gXCJzcmMvbWFpblwiXHJcbmltcG9ydCB7IEJCb3gsIENhbnZhcywgQ2FudmFzRGF0YSwgQ2FudmFzRWRnZSwgQ2FudmFzRWRnZURhdGEsIENhbnZhc0VsZW1lbnQsIENhbnZhc05vZGUsIENhbnZhc05vZGVEYXRhLCBDYW52YXNWaWV3IH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IFBhdGNoSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvcGF0Y2gtaGVscGVyXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwiLi9ldmVudHNcIlxyXG5pbXBvcnQgeyByZXF1aXJlQXBpVmVyc2lvbiwgV29ya3NwYWNlTGVhZiwgZWRpdG9ySW5mb0ZpZWxkIH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuaW1wb3J0IHsgRWRpdG9yVmlldywgVmlld1VwZGF0ZSB9IGZyb20gXCJAY29kZW1pcnJvci92aWV3XCJcclxuaW1wb3J0IHsgYXJvdW5kIH0gZnJvbSBcIm1vbmtleS1hcm91bmRcIlxyXG5pbXBvcnQgSlNPTkMgZnJvbSBcInRpbnktanNvbmNcIlxyXG5pbXBvcnQgSlNPTlNTIGZyb20gXCJqc29uLXN0YWJsZS1zdHJpbmdpZnlcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzUGF0Y2hlciB7XHJcbiAgcGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpblxyXG5cclxuICBjb25zdHJ1Y3RvcihwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luKSB7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxyXG4gICAgdGhpcy5hcHBseVBhdGNoZXMoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhcHBseVBhdGNoZXMoKSB7XHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG5cclxuICAgIC8vIFdhaXQgZm9yIGxheW91dCByZWFkeSAtPiBTdXBwb3J0IGRlZmVycmVkIHZpZXcgaW5pdGlhbGl6YXRpb25cclxuICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHJlc29sdmUoKSkpXHJcblxyXG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IGNhbnZhcyB2aWV3IGZ1bGx5IGxvYWRlZFxyXG4gICAgY29uc3QgZ2V0Q2FudmFzVmlldyA9IGFzeW5jICgpOiBQcm9taXNlPENhbnZhc1ZpZXcgfCBudWxsPiA9PiB7XHJcbiAgICAgIGNvbnN0IGNhbnZhc0xlYWYgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnY2FudmFzJyk/LmZpcnN0KClcclxuICAgICAgaWYgKCFjYW52YXNMZWFmKSByZXR1cm4gbnVsbFxyXG5cclxuICAgICAgaWYgKHJlcXVpcmVBcGlWZXJzaW9uKCcxLjcuMicpKSBhd2FpdCBjYW52YXNMZWFmLmxvYWRJZkRlZmVycmVkKCkgLy8gTG9hZCB0aGUgY2FudmFzIGlmIHRoZSB2aWV3IGlzIGRlZmVycmVkXHJcbiAgICAgIHJldHVybiBjYW52YXNMZWFmLnZpZXcgYXMgQ2FudmFzVmlld1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgY3VycmVudCBjYW52YXMgdmlldyBvciB3YWl0IGZvciBpdCB0byBiZSBjcmVhdGVkXHJcbiAgICBsZXQgY2FudmFzVmlldyA9IGF3YWl0IGdldENhbnZhc1ZpZXcoKVxyXG4gICAgY2FudmFzVmlldyA/Pz0gYXdhaXQgbmV3IFByb21pc2U8Q2FudmFzVmlldz4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbignbGF5b3V0LWNoYW5nZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdDYW52YXNWaWV3ID0gYXdhaXQgZ2V0Q2FudmFzVmlldygpXHJcbiAgICAgICAgaWYgKCFuZXdDYW52YXNWaWV3KSByZXR1cm5cclxuXHJcbiAgICAgICAgcmVzb2x2ZShuZXdDYW52YXNWaWV3KVxyXG4gICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub2ZmcmVmKGV2ZW50KVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChldmVudClcclxuICAgIH0pXHJcblxyXG4gICAgY29uc29sZS5sb2coJ1BhdGNoaW5nIGNhbnZhcyB2aWV3OicsIGNhbnZhc1ZpZXcpXHJcbiAgICBcclxuICAgIC8vIFBhdGNoIGNhbnZhcyB2aWV3XHJcbiAgICBQYXRjaEhlbHBlci5wYXRjaE9iamVjdFByb3RvdHlwZSh0aGlzLnBsdWdpbiwgY2FudmFzVmlldywge1xyXG4gICAgICBnZXRWaWV3RGF0YTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhcy5nZXREYXRhKClcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBKU09OU1MoY2FudmFzRGF0YSwgeyBzcGFjZTogMiB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdHJpbmdpZnkgY2FudmFzIGRhdGEgdXNpbmcganNvbi1zdGFibGUtc3RyaW5naWZ5OicsIGUpXHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNhbnZhc0RhdGEsIG51bGwsIDIpXHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdHJpbmdpZnkgY2FudmFzIGRhdGEgdXNpbmcgSlNPTi5zdHJpbmdpZnk6JywgZSlcclxuICAgICAgICAgICAgcmV0dXJuIG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgc2V0Vmlld0RhdGE6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChqc29uOiBzdHJpbmcsIC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGpzb24gPSBqc29uICE9PSAnJyA/IGpzb24gOiAne30nXHJcblxyXG4gICAgICAgIGxldCByZXN1bHRcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGpzb24sIC4uLmFyZ3MpXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBKU09OLCByZXBhaXJpbmcgdGhyb3VnaCBBZHZhbmNlZCBDYW52YXM6JywgZSlcclxuXHJcbiAgICAgICAgICAvLyBJbnZhbGlkIEpTT05cclxuICAgICAgICAgIHRoYXQucGx1Z2luLmNyZWF0ZUZpbGVTbmFwc2hvdCh0aGlzLmZpbGUucGF0aCwganNvbilcclxuXHJcbiAgICAgICAgICAvLyBUcnkgdG8gcGFyc2UgaXQgd2l0aCB0cmFpbGluZyBjb21tYXNcclxuICAgICAgICAgIGpzb24gPSBKU09OLnN0cmluZ2lmeShKU09OQy5wYXJzZShqc29uKSwgbnVsbCwgMilcclxuICAgICAgICAgIHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBqc29uLCAuLi5hcmdzKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuQ2FudmFzQ2hhbmdlZCwgdGhpcy5jYW52YXMpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFBhdGNoIGNhbnZhc1xyXG4gICAgUGF0Y2hIZWxwZXIucGF0Y2hPYmplY3RQcm90b3R5cGUodGhpcy5wbHVnaW4sIGNhbnZhc1ZpZXcuY2FudmFzLCB7XHJcbiAgICAgIG1hcmtWaWV3cG9ydENoYW5nZWQ6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5WaWV3cG9ydENoYW5nZWQuQmVmb3JlLCB0aGlzKVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LlZpZXdwb3J0Q2hhbmdlZC5BZnRlciwgdGhpcylcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIG1hcmtNb3ZlZDogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKG5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgbm9kZSlcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlTW92ZWQsIHRoaXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBvbkRvdWJsZUNsaWNrOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBwcmV2ZW50RGVmYXVsdCA9IHsgdmFsdWU6IGZhbHNlIH1cclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Eb3VibGVDbGljaywgdGhpcywgZXZlbnQsIHByZXZlbnREZWZhdWx0KVxyXG4gICAgICAgIGlmICghcHJldmVudERlZmF1bHQudmFsdWUpIG5leHQuY2FsbCh0aGlzLCBldmVudClcclxuICAgICAgfSxcclxuICAgICAgc2V0RHJhZ2dpbmc6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChkcmFnZ2luZzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBkcmFnZ2luZylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5EcmFnZ2luZ1N0YXRlQ2hhbmdlZCwgdGhpcywgZHJhZ2dpbmcpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBnZXRDb250YWluaW5nTm9kZXM6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChiYm94OiBCQm94KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGJib3gpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuQ29udGFpbmluZ05vZGVzUmVxdWVzdGVkLCB0aGlzLCBiYm94LCByZXN1bHQpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICB1cGRhdGVTZWxlY3Rpb246IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICh1cGRhdGU6ICgpID0+IHZvaWQpIHtcclxuICAgICAgICBjb25zdCBvbGRTZWxlY3Rpb24gPSBuZXcgU2V0KHRoaXMuc2VsZWN0aW9uKVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCB1cGRhdGUpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuU2VsZWN0aW9uQ2hhbmdlZCwgdGhpcywgb2xkU2VsZWN0aW9uLCAoKHVwZGF0ZTogKCkgPT4gdm9pZCkgPT4gbmV4dC5jYWxsKHRoaXMsIHVwZGF0ZSkpKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlVGV4dE5vZGU6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUNyZWF0ZWQsIHRoaXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIG5vZGVcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlRmlsZU5vZGU6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUNyZWF0ZWQsIHRoaXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIG5vZGVcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlRmlsZU5vZGVzOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICBub2Rlcy5mb3JFYWNoKChub2RlOiBDYW52YXNOb2RlKSA9PiB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ3JlYXRlZCwgdGhpcywgbm9kZSkpXHJcbiAgICAgICAgcmV0dXJuIG5vZGVzXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZUdyb3VwTm9kZTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ3JlYXRlZCwgdGhpcywgbm9kZSlcclxuICAgICAgICByZXR1cm4gbm9kZVxyXG4gICAgICB9LFxyXG4gICAgICBjcmVhdGVMaW5rTm9kZTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ3JlYXRlZCwgdGhpcywgbm9kZSlcclxuICAgICAgICByZXR1cm4gbm9kZVxyXG4gICAgICB9LFxyXG4gICAgICBhZGROb2RlOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAobm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgICAgIHRoYXQucGF0Y2hOb2RlKG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIG5leHQuY2FsbCh0aGlzLCBub2RlKVxyXG4gICAgICB9LFxyXG4gICAgICBhZGRFZGdlOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoZWRnZTogQ2FudmFzRWRnZSkge1xyXG4gICAgICAgIHRoYXQucGF0Y2hFZGdlKGVkZ2UpXHJcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdwb3J0Q2hhbmdlZCkgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRWRnZUNyZWF0ZWQsIHRoaXMsIGVkZ2UpXHJcbiAgICAgICAgcmV0dXJuIG5leHQuY2FsbCh0aGlzLCBlZGdlKVxyXG4gICAgICB9LFxyXG4gICAgICByZW1vdmVOb2RlOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAobm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBub2RlKVxyXG4gICAgICAgIGlmICghdGhpcy5pc0NsZWFyaW5nKSB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlUmVtb3ZlZCwgdGhpcywgbm9kZSlcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlbW92ZUVkZ2U6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChlZGdlOiBDYW52YXNFZGdlKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGVkZ2UpXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQ2xlYXJpbmcpIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VSZW1vdmVkLCB0aGlzLCBlZGdlKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlQ29weTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIHRoaXMuaXNDb3B5aW5nID0gdHJ1ZVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoaXMuaXNDb3B5aW5nID0gZmFsc2VcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBnZXRTZWxlY3Rpb25EYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgaWYgKHRoaXMuaXNDb3B5aW5nKSB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5PbkNvcHksIHRoaXMsIHJlc3VsdClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHpvb21Ub0Jib3g6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChiYm94OiBCQm94KSB7XHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuWm9vbVRvQmJveC5CZWZvcmUsIHRoaXMsIGJib3gpXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGJib3gpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuWm9vbVRvQmJveC5BZnRlciwgdGhpcywgYmJveClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldFJlYWRvbmx5OiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAocmVhZG9ubHk6IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgcmVhZG9ubHkpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuUmVhZG9ubHlDaGFuZ2VkLCB0aGlzLCByZWFkb25seSlcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHVuZG86IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGlzLmltcG9ydERhdGEodGhpcy5nZXREYXRhKCksIHRydWUpIC8vIEZvcmNlIHVwZGF0ZSB0aGUgY2FudmFzIGRhdGFcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5VbmRvLCB0aGlzKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgcmVkbzogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoaXMuaW1wb3J0RGF0YSh0aGlzLmdldERhdGEoKSwgdHJ1ZSkgLy8gRm9yY2UgdXBkYXRlIHRoZSBjYW52YXMgZGF0YVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LlJlZG8sIHRoaXMpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBjbGVhcjogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIHRoaXMuaXNDbGVhcmluZyA9IHRydWVcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGlzLmlzQ2xlYXJpbmcgPSBmYWxzZVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgLypzZXREYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgLy9cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICAvL1xyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSwqL1xyXG4gICAgICBnZXREYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRGF0YVJlcXVlc3RlZCwgdGhpcywgcmVzdWx0KVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgaW1wb3J0RGF0YTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKGRhdGE6IENhbnZhc0RhdGEsIGNsZWFyQ2FudmFzPzogYm9vbGVhbiwgc2lsZW50PzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEZpbGVQYXRoID0gdGhpcy52aWV3LmZpbGUucGF0aFxyXG4gICAgICAgIGNvbnN0IHNldERhdGEgPSAoZGF0YTogQ2FudmFzRGF0YSkgPT4ge1xyXG4gICAgICAgICAgLy8gU2tpcCBpZiB0aGUgY2FudmFzIGdvdCB1bmxvYWRlZCBvciB0aGUgZmlsZSBjaGFuZ2VkXHJcbiAgICAgICAgICBpZiAoIXRoaXMudmlldy5maWxlIHx8IHRoaXMudmlldy5maWxlLnBhdGggIT09IHRhcmdldEZpbGVQYXRoKSByZXR1cm5cclxuXHJcbiAgICAgICAgICB0aGlzLmltcG9ydERhdGEoZGF0YSwgdHJ1ZSwgdHJ1ZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc2lsZW50KSB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Mb2FkRGF0YSwgdGhpcywgZGF0YSwgc2V0RGF0YSlcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgZGF0YSwgY2xlYXJDYW52YXMpXHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgcmVxdWVzdFNhdmU6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5DYW52YXNTYXZlZC5CZWZvcmUsIHRoaXMpXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuQ2FudmFzU2F2ZWQuQWZ0ZXIsIHRoaXMpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFBhdGNoIGNhbnZhcyBwb3B1cCBtZW51XHJcbiAgICBQYXRjaEhlbHBlci5wYXRjaE9iamVjdFByb3RvdHlwZSh0aGlzLnBsdWdpbiwgY2FudmFzVmlldy5jYW52YXMubWVudSwge1xyXG4gICAgICByZW5kZXI6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLCB0aGlzLmNhbnZhcylcclxuICAgICAgICBuZXh0LmNhbGwodGhpcykgLy8gUmUtQ2VudGVyIHRoZSBwb3B1cCBtZW51XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFBhdGNoIGludGVyYWN0aW9uIGxheWVyXHJcbiAgICBQYXRjaEhlbHBlci5wYXRjaE9iamVjdFByb3RvdHlwZSh0aGlzLnBsdWdpbiwgY2FudmFzVmlldy5jYW52YXMubm9kZUludGVyYWN0aW9uTGF5ZXIsIHtcclxuICAgICAgc2V0VGFyZ2V0OiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAobm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBub2RlKVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50Lk5vZGVJbnRlcmFjdGlvbiwgdGhpcy5jYW52YXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEFkZCBlZGl0b3IgZXh0ZW5zaW9uIGZvciBub2RlIHRleHQgY29udGVudCBjaGFuZ2UgbGlzdGVuZXJcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRWRpdG9yRXh0ZW5zaW9uKFtFZGl0b3JWaWV3LnVwZGF0ZUxpc3RlbmVyLm9mKCh1cGRhdGU6IFZpZXdVcGRhdGUpID0+IHtcclxuICAgICAgaWYgKCF1cGRhdGUuZG9jQ2hhbmdlZCkgcmV0dXJuXHJcblxyXG4gICAgICBjb25zdCBlZGl0b3IgPSB1cGRhdGUuc3RhdGUuZmllbGQoZWRpdG9ySW5mb0ZpZWxkKSBhcyBhbnlcclxuICAgICAgY29uc3Qgbm9kZSA9IGVkaXRvci5ub2RlIGFzIENhbnZhc05vZGUgfCB1bmRlZmluZWRcclxuICAgICAgaWYgKCFub2RlKSByZXR1cm5cclxuXHJcbiAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50Lk5vZGVUZXh0Q29udGVudENoYW5nZWQsIG5vZGUuY2FudmFzLCBub2RlLCB1cGRhdGUpXHJcbiAgICB9KV0pXHJcblxyXG4gICAgLy8gQ2FudmFzIGlzIG5vdyBwYXRjaGVkIC0gdXBkYXRlIGFsbCBvcGVuIGNhbnZhcyB2aWV3c1xyXG4gICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5pdGVyYXRlQWxsTGVhdmVzKChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcbiAgICAgIGlmIChsZWFmLnZpZXcuZ2V0Vmlld1R5cGUoKSAhPT0gJ2NhbnZhcycpIHJldHVyblxyXG5cclxuICAgICAgY29uc3QgY2FudmFzVmlldyA9IGxlYWYudmlldyBhcyBDYW52YXNWaWV3XHJcbiAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgY2FudmFzVmlldy5sZWFmLnJlYnVpbGRWaWV3KClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBhdGNoTm9kZShub2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG5cclxuICAgIFBhdGNoSGVscGVyLnBhdGNoT2JqZWN0SW5zdGFuY2UodGhpcy5wbHVnaW4sIG5vZGUsIHtcclxuICAgICAgc2V0RGF0YTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKGRhdGE6IENhbnZhc05vZGVEYXRhLCBhZGRIaXN0b3J5PzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBkYXRhKVxyXG5cclxuICAgICAgICBpZiAobm9kZS5pbml0aWFsaXplZCAmJiAhbm9kZS5pc0RpcnR5KSB7XHJcbiAgICAgICAgICBub2RlLmlzRGlydHkgPSB0cnVlXHJcbiAgICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ2hhbmdlZCwgdGhpcy5jYW52YXMsIG5vZGUpXHJcbiAgICAgICAgICBkZWxldGUgbm9kZS5pc0RpcnR5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTYXZlIHRoZSBkYXRhIHRvIHRoZSBmaWxlXHJcbiAgICAgICAgdGhpcy5jYW52YXMuZGF0YSA9IHRoaXMuY2FudmFzLmdldERhdGEoKVxyXG4gICAgICAgIHRoaXMuY2FudmFzLnZpZXcucmVxdWVzdFNhdmUoKVxyXG5cclxuICAgICAgICAvLyBBZGQgdG8gdGhlIHVuZG8gc3RhY2tcclxuICAgICAgICBpZiAoYWRkSGlzdG9yeSkgdGhpcy5jYW52YXMucHVzaEhpc3RvcnkodGhpcy5jYW52YXMuZGF0YSlcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBzZXRJc0VkaXRpbmc6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChlZGl0aW5nOiBib29sZWFuLCAuLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgZWRpdGluZywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlRWRpdGluZ1N0YXRlQ2hhbmdlZCwgdGhpcy5jYW52YXMsIG5vZGUsIGVkaXRpbmcpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICB1cGRhdGVCcmVha3BvaW50OiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoYnJlYWtwb2ludDogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IGJyZWFrcG9pbnRSZWYgPSB7IHZhbHVlOiBicmVha3BvaW50IH1cclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQnJlYWtwb2ludENoYW5nZWQsIHRoaXMuY2FudmFzLCBub2RlLCBicmVha3BvaW50UmVmKVxyXG4gICAgICAgIHJldHVybiBuZXh0LmNhbGwodGhpcywgYnJlYWtwb2ludFJlZi52YWx1ZSlcclxuICAgICAgfSxcclxuICAgICAgZ2V0QkJveDogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50Lk5vZGVCQm94UmVxdWVzdGVkLCB0aGlzLmNhbnZhcywgbm9kZSwgcmVzdWx0KVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgdGhpcy5ydW5BZnRlckluaXRpYWxpemVkKG5vZGUsICgpID0+IHtcclxuICAgICAgdGhpcy50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUFkZGVkLCBub2RlLmNhbnZhcywgbm9kZSlcclxuICAgICAgdGhpcy50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUNoYW5nZWQsIG5vZGUuY2FudmFzLCBub2RlKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcGF0Y2hFZGdlKGVkZ2U6IENhbnZhc0VkZ2UpIHtcclxuICAgIGNvbnN0IHRoYXQgPSB0aGlzXHJcblxyXG4gICAgUGF0Y2hIZWxwZXIucGF0Y2hPYmplY3RJbnN0YW5jZSh0aGlzLnBsdWdpbiwgZWRnZSwge1xyXG4gICAgICBzZXREYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoZGF0YTogQ2FudmFzRWRnZURhdGEsIGFkZEhpc3Rvcnk/OiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGRhdGEpXHJcblxyXG4gICAgICAgIGlmIChlZGdlLmluaXRpYWxpemVkICYmICFlZGdlLmlzRGlydHkpIHtcclxuICAgICAgICAgIGVkZ2UuaXNEaXJ0eSA9IHRydWVcclxuICAgICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VDaGFuZ2VkLCB0aGlzLmNhbnZhcywgZWRnZSlcclxuICAgICAgICAgIGRlbGV0ZSBlZGdlLmlzRGlydHlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNhdmUgdGhlIGRhdGEgdG8gdGhlIGZpbGVcclxuICAgICAgICB0aGlzLmNhbnZhcy5kYXRhID0gdGhpcy5jYW52YXMuZ2V0RGF0YSgpXHJcbiAgICAgICAgdGhpcy5jYW52YXMudmlldy5yZXF1ZXN0U2F2ZSgpXHJcblxyXG4gICAgICAgIC8vIEFkZCB0byB0aGUgdW5kbyBzdGFja1xyXG4gICAgICAgIGlmIChhZGRIaXN0b3J5KSB0aGlzLmNhbnZhcy5wdXNoSGlzdG9yeSh0aGlzLmNhbnZhcy5nZXREYXRhKCkpXHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgcmVuZGVyOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRWRnZUNoYW5nZWQsIHRoaXMuY2FudmFzLCBlZGdlKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgZ2V0Q2VudGVyOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRWRnZUNlbnRlclJlcXVlc3RlZCwgdGhpcy5jYW52YXMsIGVkZ2UsIHJlc3VsdClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIHRoaXMucnVuQWZ0ZXJJbml0aWFsaXplZChlZGdlLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VBZGRlZCwgZWRnZS5jYW52YXMsIGVkZ2UpXHJcbiAgICAgIC8vIHRoaXMudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VDaGFuZ2VkLCBlZGdlLmNhbnZhcywgZWRnZSkgLSBhbHJlYWR5IGZpcmVkIGluIHJlbmRlciBmdW5jdGlvblxyXG4gICAgfSlcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBydW5BZnRlckluaXRpYWxpemVkKGNhbnZhc0VsZW1lbnQ6IENhbnZhc0VsZW1lbnQsIG9uUmVhZHk6ICgpID0+IHZvaWQpIHtcclxuICAgIGlmIChjYW52YXNFbGVtZW50LmluaXRpYWxpemVkKSB7XHJcbiAgICAgIG9uUmVhZHkoKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG5cclxuICAgIC8vIFBhdGNoIENhbnZhc0VsZW1lbnQgb2JqZWN0XHJcbiAgICBjb25zdCB1bmluc3RhbGwgPSBhcm91bmQoY2FudmFzRWxlbWVudCwge1xyXG4gICAgICBpbml0aWFsaXplOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcblxyXG4gICAgICAgIG9uUmVhZHkoKVxyXG4gICAgICAgIHVuaW5zdGFsbCgpIC8vIFVuaW5zdGFsbCB0aGUgcGF0Y2hcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHRoYXQucGx1Z2luLnJlZ2lzdGVyKHVuaW5zdGFsbClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdHJpZ2dlcldvcmtzcGFjZUV2ZW50KGV2ZW50OiBzdHJpbmcsIC4uLmFyZ3M6IGFueSkge1xyXG4gICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS50cmlnZ2VyKGV2ZW50LCAuLi5hcmdzKVxyXG4gIH1cclxufVxyXG4iLCAiLyogSEVMUEVSUyAqL1xyXG5jb25zdCBzdHJpbmdPckNvbW1lbnRSZSA9IC8oXCIoPzpcXFxcP1teXSkqP1wiKXwoXFwvXFwvLiopfChcXC9cXCpbXl0qP1xcKlxcLykvZztcclxuY29uc3Qgc3RyaW5nT3JUcmFpbGluZ0NvbW1hUmUgPSAvKFwiKD86XFxcXD9bXl0pKj9cIil8KCxcXHMqKSg/PV18fSkvZztcclxuLyogTUFJTiAqL1xyXG5jb25zdCBKU09OQyA9IHtcclxuICAgIHBhcnNlOiAodGV4dCkgPT4ge1xyXG4gICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCk7IC8vIFRvIGJlIGV4dHJhIHNhZmVcclxuICAgICAgICB0cnkgeyAvLyBGYXN0IHBhdGggZm9yIHZhbGlkIEpTT05cclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIHsgLy8gU2xvdyBwYXRoIGZvciBKU09OQyBhbmQgaW52YWxpZCBpbnB1dHNcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dC5yZXBsYWNlKHN0cmluZ09yQ29tbWVudFJlLCAnJDEnKS5yZXBsYWNlKHN0cmluZ09yVHJhaWxpbmdDb21tYVJlLCAnJDEnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKiBFWFBPUlQgKi9cclxuZXhwb3J0IGRlZmF1bHQgSlNPTkM7XHJcbiIsICJpbXBvcnQgQXBwLCB7IFN1Z2dlc3RNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwiLi9tYWluXCJcclxuaW1wb3J0IFNldHRpbmdzTWFuYWdlciwgeyBTRVRUSU5HUywgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgREVGQVVMVF9TRVRUSU5HU19WQUxVRVMgfSBmcm9tIFwiLi9zZXR0aW5nc1wiXHJcbmltcG9ydCB7IERyb3Bkb3duU2V0dGluZywgU2V0dGluZywgU3R5bGVBdHRyaWJ1dGVzU2V0dGluZyB9IGZyb20gXCIuL0B0eXBlcy9TZXR0aW5nc1wiXHJcbmltcG9ydCB7IFN0eWxlQXR0cmlidXRlIH0gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvbnMvYWR2YW5jZWQtc3R5bGVzL3N0eWxlLWNvbmZpZ1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWlja3NldHRpbmdzIHtcclxuICBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcbiAgcHJpdmF0ZSBzZWFyY2hTZXR0aW5nTW9kYWw6IFNlYXJjaEtleVZhbHVlU2V0dGluZ01vZGFsPFNldHRpbmc+XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4pIHtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luXHJcblxyXG4gICAgdGhpcy5zZWFyY2hTZXR0aW5nTW9kYWwgPSBuZXcgU2VhcmNoU2V0dGluZ3NIZWFkZXJNb2RhbCh0aGlzLnBsdWdpbi5hcHAsIHRoaXMucGx1Z2luLnNldHRpbmdzKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgICBpZDogJ29wZW4tcXVpY2tzZXR0aW5ncycsXHJcbiAgICAgIG5hbWU6ICdPcGVuIFF1aWNrc2V0dGluZ3MnLFxyXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4gdGhpcy5zZWFyY2hTZXR0aW5nTW9kYWwub3BlbigpXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxudHlwZSBLZXlWYWx1ZVBhaXI8VD4gPSBba2V5OiBzdHJpbmcsIHZhbHVlOiBUXVxyXG5hYnN0cmFjdCBjbGFzcyBTZWFyY2hLZXlWYWx1ZVNldHRpbmdNb2RhbDxUPiBleHRlbmRzIFN1Z2dlc3RNb2RhbDxLZXlWYWx1ZVBhaXI8VD4+IHtcclxuICBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlclxyXG5cclxuICBhYnN0cmFjdCBnZXRTZWFyY2hUaXRsZSgpOiBzdHJpbmdcclxuICBhYnN0cmFjdCBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8VD5bXVxyXG4gIGFic3RyYWN0IGRvZXNTdWdnZXN0aW9uTWF0Y2hRdWVyeShrZXk6IHN0cmluZywgdmFsdWU6IFQsIHF1ZXJ5OiBzdHJpbmcpOiBib29sZWFuXHJcbiAgYWJzdHJhY3QgZGlzcGxheVN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIHZhbHVlOiBULCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkXHJcbiAgYWJzdHJhY3Qgb25TZWxlY3RlZFN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZFxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXIpIHtcclxuICAgIHN1cGVyKGFwcClcclxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gc2V0dGluZ3NNYW5hZ2VyXHJcblxyXG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlcih0aGlzLmdldFNlYXJjaFRpdGxlKCkpXHJcbiAgICB0aGlzLnNldEluc3RydWN0aW9ucyhbe1xyXG4gICAgICAgIGNvbW1hbmQ6ICdcdTIxOTFcdTIxOTMnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBuYXZpZ2F0ZSdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnXHUyMUI1JyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZWRpdCdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnZXNjJyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZGlzbWlzcydcclxuICAgIH1dKVxyXG4gIH1cclxuXHJcbiAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IEtleVZhbHVlUGFpcjxUPltdIHtcclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gdGhpcy5nZXRBbGxTdWdnZXN0aW9ucygpXHJcbiAgICAgIC5maWx0ZXIoKFtzZXR0aW5nS2V5LCBfc2V0dGluZ1ZhbHVlXSkgPT4gdGhpcy5kb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoc2V0dGluZ0tleSwgX3NldHRpbmdWYWx1ZSwgcXVlcnkpKVxyXG5cclxuICAgIHJldHVybiBzdWdnZXN0aW9uc1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyU3VnZ2VzdGlvbihzdWdnZXN0aW9uOiBLZXlWYWx1ZVBhaXI8VD4sIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwbGF5U3VnZ2VzdGlvbihzdWdnZXN0aW9uWzBdLCBzdWdnZXN0aW9uWzFdLCBlbClcclxuICB9XHJcblxyXG4gIG9uQ2hvb3NlU3VnZ2VzdGlvbihzdWdnZXN0aW9uOiBLZXlWYWx1ZVBhaXI8VD4sIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIHRoaXMub25TZWxlY3RlZFN1Z2dlc3Rpb24oc3VnZ2VzdGlvblswXSwgc3VnZ2VzdGlvblsxXSlcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFNlYXJjaFNldHRpbmdzSGVhZGVyTW9kYWwgZXh0ZW5kcyBTZWFyY2hLZXlWYWx1ZVNldHRpbmdNb2RhbDxTZXR0aW5nPiB7XHJcbiAgZ2V0U2VhcmNoVGl0bGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnVHlwZSB0byBzZWFyY2ggc2V0dGluZ3MuLi4nXHJcbiAgfVxyXG5cclxuICBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8U2V0dGluZz5bXSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoU0VUVElOR1MpLmZsYXRNYXAoKFtfa2V5LCB2YWx1ZV0pID0+IFxyXG4gICAgICBPYmplY3QuZW50cmllcyh2YWx1ZS5jaGlsZHJlbilcclxuICAgICAgICAuZmlsdGVyKChbX2tleSwgdmFsdWVdKSA9PiB2YWx1ZS50eXBlICE9PSAnYnV0dG9uJylcclxuICAgIClcclxuICB9XHJcblxyXG4gIGRvZXNTdWdnZXN0aW9uTWF0Y2hRdWVyeShrZXk6IHN0cmluZywgdmFsdWU6IFNldHRpbmcsIHF1ZXJ5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSB8fCBcclxuICAgICAgdmFsdWUubGFiZWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSB8fFxyXG4gICAgICB2YWx1ZS5kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKT8uaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcclxuICB9XHJcblxyXG4gIGRpc3BsYXlTdWdnZXN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogU2V0dGluZywgZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICBlbC5hZGRDbGFzcygncXVpY2tzZXR0aW5ncy1zdWdnZXN0aW9uJylcclxuXHJcbiAgICBlbC5jcmVhdGVFbCgnc3BhbicsIHtcclxuICAgICAgY2xzOiAncXVpY2tzZXR0aW5ncy1zdWdnZXN0aW9uLWxhYmVsJyxcclxuICAgICAgdGV4dDogdmFsdWUubGFiZWxcclxuICAgIH0pXHJcblxyXG4gICAgZWwuY3JlYXRlRWwoJ3NwYW4nLCB7IFxyXG4gICAgICBjbHM6ICdxdWlja3NldHRpbmdzLXN1Z2dlc3Rpb24tZGVzY3JpcHRpb24nLFxyXG4gICAgICB0ZXh0OiB2YWx1ZS5kZXNjcmlwdGlvbiBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBvblNlbGVjdGVkU3VnZ2VzdGlvbihrZXk6IHN0cmluZywgdmFsdWU6IFNldHRpbmcpOiB2b2lkIHtcclxuICAgIHN3aXRjaCAodmFsdWUudHlwZSkge1xyXG4gICAgICBjYXNlICdzdHlsZXMnOlxyXG4gICAgICAgIG5ldyBTZWFyY2hTdHlsZUF0dHJpYnV0ZU1vZGFsKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzTWFuYWdlciwga2V5LCB2YWx1ZSkub3BlbigpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAndGV4dCc6XHJcbiAgICAgICAgbmV3IFNldFRleHRPck51bWJlclNldHRpbmdNb2RhbCh0aGlzLmFwcCwgdGhpcy5zZXR0aW5nc01hbmFnZXIsIGtleSwgdmFsdWUpLm9wZW4oKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ251bWJlcic6XHJcbiAgICAgICAgbmV3IFNldFRleHRPck51bWJlclNldHRpbmdNb2RhbCh0aGlzLmFwcCwgdGhpcy5zZXR0aW5nc01hbmFnZXIsIGtleSwgdmFsdWUpLm9wZW4oKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICAgIG5ldyBTZXRCb29sZWFuU2V0dGluZ01vZGFsKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzTWFuYWdlciwga2V5KS5vcGVuKClcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdkcm9wZG93bic6XHJcbiAgICAgICAgbmV3IFNldERyb3Bkb3duU2V0dGluZ01vZGFsKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzTWFuYWdlciwga2V5LCB2YWx1ZSBhcyBEcm9wZG93blNldHRpbmcpLm9wZW4oKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vuc3VwcG9ydGVkIHNldHRpbmcgdHlwZTonLCB2YWx1ZS50eXBlKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZWFyY2hTdHlsZUF0dHJpYnV0ZU1vZGFsIGV4dGVuZHMgU2VhcmNoS2V5VmFsdWVTZXR0aW5nTW9kYWw8U3R5bGVBdHRyaWJ1dGU+IHtcclxuICBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlclxyXG4gIHNldHRpbmdzS2V5OiBzdHJpbmdcclxuICBzZXR0aW5nOiBTdHlsZUF0dHJpYnV0ZXNTZXR0aW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlciwgc2V0dGluZ3NLZXk6IHN0cmluZywgc2V0dGluZzogU2V0dGluZykge1xyXG4gICAgc3VwZXIoYXBwLCBzZXR0aW5nc01hbmFnZXIpXHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlciA9IHNldHRpbmdzTWFuYWdlclxyXG4gICAgdGhpcy5zZXR0aW5nc0tleSA9IHNldHRpbmdzS2V5XHJcbiAgICB0aGlzLnNldHRpbmcgPSBzZXR0aW5nIGFzIFN0eWxlQXR0cmlidXRlc1NldHRpbmdcclxuICB9XHJcblxyXG4gIGdldFNlYXJjaFRpdGxlKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ1R5cGUgdG8gc2VhcmNoIHN0eWxlIGF0dHJpYnV0ZXMuLi4nXHJcbiAgfVxyXG5cclxuICBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8U3R5bGVBdHRyaWJ1dGU+W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZy5nZXRQYXJhbWV0ZXJzKHRoaXMuc2V0dGluZ3NNYW5hZ2VyKVxyXG4gICAgICAubWFwKHN0eWxlQXR0cmlidXRlID0+IFtzdHlsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5LCBzdHlsZUF0dHJpYnV0ZV0pXHJcbiAgfVxyXG5cclxuICBkb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoa2V5OiBzdHJpbmcsIHZhbHVlOiBTdHlsZUF0dHJpYnV0ZSwgcXVlcnk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpIHx8IFxyXG4gICAgICB2YWx1ZS5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpXHJcbiAgfVxyXG5cclxuICBkaXNwbGF5U3VnZ2VzdGlvbihrZXk6IHN0cmluZywgdmFsdWU6IFN0eWxlQXR0cmlidXRlLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGVsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiB2YWx1ZS5sYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgb25TZWxlY3RlZFN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIHZhbHVlOiBTdHlsZUF0dHJpYnV0ZSk6IHZvaWQge1xyXG4gICAgbmV3IFNldFN0eWxlQXR0cmlidXRlTW9kYWwodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLCB0aGlzLnNldHRpbmdzS2V5LCBrZXksIHZhbHVlKS5vcGVuKClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFNldFN0eWxlQXR0cmlidXRlTW9kYWwgZXh0ZW5kcyBTZWFyY2hLZXlWYWx1ZVNldHRpbmdNb2RhbDxzdHJpbmc+IHtcclxuICBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlclxyXG4gIHNldHRpbmdzS2V5OiBzdHJpbmdcclxuICBzdHlsZUF0dHJpYnV0ZUtleTogc3RyaW5nXHJcbiAgc3R5bGVBdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlXHJcbiAgY3VycmVudFZhbHVlS2V5OiBzdHJpbmcgfCBudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlciwgc2V0dGluZ3NLZXk6IHN0cmluZywgc3R5bGVBdHRyaWJ1dGVLZXk6IHN0cmluZywgc3R5bGVBdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlKSB7XHJcbiAgICBzdXBlcihhcHAsIHNldHRpbmdzTWFuYWdlcilcclxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gc2V0dGluZ3NNYW5hZ2VyXHJcbiAgICB0aGlzLnNldHRpbmdzS2V5ID0gc2V0dGluZ3NLZXlcclxuICAgIHRoaXMuc3R5bGVBdHRyaWJ1dGVLZXkgPSBzdHlsZUF0dHJpYnV0ZUtleVxyXG4gICAgdGhpcy5zdHlsZUF0dHJpYnV0ZSA9IHN0eWxlQXR0cmlidXRlXHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZUtleSA9IChzZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyhzZXR0aW5nc0tleSBhcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzKSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KVtzdHlsZUF0dHJpYnV0ZUtleV0gfHwgbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0U2VhcmNoVGl0bGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnU2V0IHN0eWxlIGF0dHJpYnV0ZSB2YWx1ZS4uLidcclxuICB9XHJcblxyXG4gIGdldEFsbFN1Z2dlc3Rpb25zKCk6IEtleVZhbHVlUGFpcjxzdHJpbmc+W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3R5bGVBdHRyaWJ1dGUub3B0aW9ucy5tYXAob3B0aW9uID0+IFtvcHRpb24udmFsdWUsIG9wdGlvbi5sYWJlbF0gYXMgS2V5VmFsdWVQYWlyPHN0cmluZz4pXHJcbiAgfVxyXG5cclxuICBkb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHF1ZXJ5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBrZXk/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkgfHwgXHJcbiAgICAgIHZhbHVlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcclxuICB9XHJcblxyXG4gIGRpc3BsYXlTdWdnZXN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGxldCB0ZXh0ID0gdmFsdWVcclxuICAgIGlmIChrZXkgPT09IG51bGwgJiYga2V5ID09PSB0aGlzLmN1cnJlbnRWYWx1ZUtleSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoZGVmYXVsdCwgY3VycmVudClgXHJcbiAgICBlbHNlIGlmIChrZXkgPT09IG51bGwpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQpYFxyXG4gICAgZWxzZSBpZiAoa2V5ID09PSB0aGlzLmN1cnJlbnRWYWx1ZUtleSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoY3VycmVudClgXHJcblxyXG4gICAgZWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRleHQgfSlcclxuICB9XHJcblxyXG4gIG9uU2VsZWN0ZWRTdWdnZXN0aW9uKGtleTogc3RyaW5nIHwgbnVsbCwgX3ZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnN0IG5ld1ZhbHVlID0gdGhpcy5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyh0aGlzLnNldHRpbmdzS2V5IGFzIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMpIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz5cclxuXHJcbiAgICBpZiAoa2V5ID09PSBudWxsKSBkZWxldGUgbmV3VmFsdWVbdGhpcy5zdHlsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5XVxyXG4gICAgZWxzZSBuZXdWYWx1ZVt0aGlzLnN0eWxlQXR0cmlidXRlLmRhdGFzZXRLZXldID0ga2V5XHJcblxyXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7XHJcbiAgICAgIFt0aGlzLnNldHRpbmdzS2V5XTogbmV3VmFsdWVcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZXRUZXh0T3JOdW1iZXJTZXR0aW5nTW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcbiAgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXJcclxuICBzZXR0aW5nc0tleTogc3RyaW5nXHJcbiAgc2V0dGluZzogU2V0dGluZ1xyXG4gIGRlZmF1bHRWYWx1ZTogc3RyaW5nXHJcbiAgY3VycmVudFZhbHVlOiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyLCBzZXR0aW5nc0tleTogc3RyaW5nLCBzZXR0aW5nOiBTZXR0aW5nKSB7XHJcbiAgICBzdXBlcihhcHApXHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlciA9IHNldHRpbmdzTWFuYWdlclxyXG4gICAgdGhpcy5zZXR0aW5nc0tleSA9IHNldHRpbmdzS2V5XHJcbiAgICB0aGlzLnNldHRpbmcgPSBzZXR0aW5nXHJcbiAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9IERFRkFVTFRfU0VUVElOR1NfVkFMVUVTW3NldHRpbmdzS2V5IGFzIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXNdLnRvU3RyaW5nKClcclxuICAgIHRoaXMuY3VycmVudFZhbHVlID0gc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ3NLZXkgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcykudG9TdHJpbmcoKVxyXG5cclxuICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIG5ldyB2YWx1ZS4uLicpXHJcbiAgICB0aGlzLnNldEluc3RydWN0aW9ucyhbe1xyXG4gICAgICAgIGNvbW1hbmQ6ICdcdTIxOTFcdTIxOTMnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBuYXZpZ2F0ZSdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnXHUyMUI1JyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZWRpdCdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnZXNjJyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZGlzbWlzcydcclxuICAgIH1dKVxyXG4gIH1cclxuXHJcbiAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSB0aGlzLnNldHRpbmcucGFyc2UgPyB0aGlzLnNldHRpbmcucGFyc2UocXVlcnkpIDogcXVlcnlcclxuICAgIHJldHVybiBbLi4ubmV3IFNldChbcGFyc2VkSW5wdXRWYWx1ZSwgdGhpcy5jdXJyZW50VmFsdWUsIHRoaXMuZGVmYXVsdFZhbHVlXSldXHJcbiAgfVxyXG5cclxuICByZW5kZXJTdWdnZXN0aW9uKHZhbHVlOiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgbGV0IHRleHQgPSB2YWx1ZVxyXG4gICAgaWYgKHZhbHVlID09PSB0aGlzLmRlZmF1bHRWYWx1ZSAmJiB2YWx1ZSA9PT0gdGhpcy5jdXJyZW50VmFsdWUpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQsIGN1cnJlbnQpYFxyXG4gICAgZWxzZSBpZiAodmFsdWUgPT09IHRoaXMuZGVmYXVsdFZhbHVlKVxyXG4gICAgICB0ZXh0ID0gYCR7dmFsdWV9IChkZWZhdWx0KWBcclxuICAgIGVsc2UgaWYgKHZhbHVlID09PSB0aGlzLmN1cnJlbnRWYWx1ZSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoY3VycmVudClgXHJcblxyXG4gICAgZWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRleHQgfSlcclxuICB9XHJcblxyXG4gIG9uQ2hvb3NlU3VnZ2VzdGlvbihpdGVtOiBzdHJpbmcsIF9ldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgW3RoaXMuc2V0dGluZ3NLZXldOiB0aGlzLnNldHRpbmcucGFyc2UgPyB0aGlzLnNldHRpbmcucGFyc2UoaXRlbSkgOiBpdGVtIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZXRCb29sZWFuU2V0dGluZ01vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xyXG4gIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyXHJcbiAgc2V0dGluZ3NLZXk6IHN0cmluZ1xyXG4gIGRlZmF1bHRWYWx1ZTogYm9vbGVhblxyXG4gIGN1cnJlbnRWYWx1ZTogYm9vbGVhblxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXIsIHNldHRpbmdzS2V5OiBzdHJpbmcpIHtcclxuICAgIHN1cGVyKGFwcClcclxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gc2V0dGluZ3NNYW5hZ2VyXHJcbiAgICB0aGlzLnNldHRpbmdzS2V5ID0gc2V0dGluZ3NLZXlcclxuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gREVGQVVMVF9TRVRUSU5HU19WQUxVRVNbc2V0dGluZ3NLZXkgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlc10gYXMgYm9vbGVhblxyXG4gICAgdGhpcy5jdXJyZW50VmFsdWUgPSBzZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyhzZXR0aW5nc0tleSBhcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzKSBhcyBib29sZWFuXHJcblxyXG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlcignRW50ZXIgbmV3IHZhbHVlLi4uJylcclxuICAgIHRoaXMuc2V0SW5zdHJ1Y3Rpb25zKFt7XHJcbiAgICAgICAgY29tbWFuZDogJ1x1MjE5MVx1MjE5MycsXHJcbiAgICAgICAgcHVycG9zZTogJ3RvIG5hdmlnYXRlJ1xyXG4gICAgfSwge1xyXG4gICAgICAgIGNvbW1hbmQ6ICdcdTIxQjUnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBlZGl0J1xyXG4gICAgfSwge1xyXG4gICAgICAgIGNvbW1hbmQ6ICdlc2MnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBkaXNtaXNzJ1xyXG4gICAgfV0pXHJcbiAgfVxyXG5cclxuICBnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyh0aGlzLnNldHRpbmdzS2V5IGFzIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMpXHJcbiAgICBjb25zdCBzdWdnZXN0aW9ucyA9IFtjdXJyZW50VmFsdWUudG9TdHJpbmcoKSwgKCFjdXJyZW50VmFsdWUpLnRvU3RyaW5nKCldXHJcblxyXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zLmZpbHRlcihzdWdnZXN0aW9uID0+IHN1Z2dlc3Rpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSlcclxuICB9XHJcblxyXG4gIHJlbmRlclN1Z2dlc3Rpb24odmFsdWU6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICBsZXQgdGV4dCA9IHZhbHVlXHJcbiAgICBpZiAodmFsdWUgPT09IHRoaXMuZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkgJiYgdmFsdWUgPT09IHRoaXMuY3VycmVudFZhbHVlLnRvU3RyaW5nKCkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQsIGN1cnJlbnQpYFxyXG4gICAgZWxzZSBpZiAodmFsdWUgPT09IHRoaXMuZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQpYFxyXG4gICAgZWxzZSBpZiAodmFsdWUgPT09IHRoaXMuY3VycmVudFZhbHVlLnRvU3RyaW5nKCkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGN1cnJlbnQpYFxyXG5cclxuICAgIGVsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiB0ZXh0IH0pXHJcbiAgfVxyXG5cclxuICBvbkNob29zZVN1Z2dlc3Rpb24oaXRlbTogc3RyaW5nLCBfZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7IFt0aGlzLnNldHRpbmdzS2V5XTogaXRlbSA9PT0gJ3RydWUnIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZXREcm9wZG93blNldHRpbmdNb2RhbCBleHRlbmRzIFNlYXJjaEtleVZhbHVlU2V0dGluZ01vZGFsPHN0cmluZz4ge1xyXG4gIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyXHJcbiAgc2V0dGluZ3NLZXk6IHN0cmluZ1xyXG4gIHNldHRpbmc6IERyb3Bkb3duU2V0dGluZ1xyXG4gIGRlZmF1bHRWYWx1ZUtleTogc3RyaW5nXHJcbiAgY3VycmVudFZhbHVlS2V5OiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyLCBzZXR0aW5nc0tleTogc3RyaW5nLCBzZXR0aW5nOiBEcm9wZG93blNldHRpbmcpIHtcclxuICAgIHN1cGVyKGFwcCwgc2V0dGluZ3NNYW5hZ2VyKVxyXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIgPSBzZXR0aW5nc01hbmFnZXJcclxuICAgIHRoaXMuc2V0dGluZ3NLZXkgPSBzZXR0aW5nc0tleVxyXG4gICAgdGhpcy5zZXR0aW5nID0gc2V0dGluZ1xyXG4gICAgdGhpcy5kZWZhdWx0VmFsdWVLZXkgPSBERUZBVUxUX1NFVFRJTkdTX1ZBTFVFU1tzZXR0aW5nc0tleSBhcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzXSBhcyBzdHJpbmdcclxuICAgIHRoaXMuY3VycmVudFZhbHVlS2V5ID0gc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ3NLZXkgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcykgYXMgc3RyaW5nXHJcbiAgfVxyXG5cclxuICBnZXRTZWFyY2hUaXRsZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdUeXBlIHRvIHNlYXJjaCBkcm9wZG93biB2YWx1ZXMuLi4nXHJcbiAgfVxyXG5cclxuICBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8c3RyaW5nPltdIHtcclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zOiBLZXlWYWx1ZVBhaXI8c3RyaW5nPltdID0gW1t0aGlzLmN1cnJlbnRWYWx1ZUtleSwgdGhpcy5zZXR0aW5nLm9wdGlvbnNbdGhpcy5jdXJyZW50VmFsdWVLZXldXV1cclxuXHJcbiAgICBpZiAodGhpcy5kZWZhdWx0VmFsdWVLZXkgIT09IHRoaXMuY3VycmVudFZhbHVlS2V5KVxyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKFt0aGlzLmRlZmF1bHRWYWx1ZUtleSwgdGhpcy5zZXR0aW5nLm9wdGlvbnNbdGhpcy5kZWZhdWx0VmFsdWVLZXldXSlcclxuXHJcbiAgICBzdWdnZXN0aW9ucy5wdXNoKC4uLk9iamVjdC5lbnRyaWVzKHRoaXMuc2V0dGluZy5vcHRpb25zKS5maWx0ZXIoKFtrZXksIF92YWx1ZV0pID0+IGtleSAhPT0gdGhpcy5jdXJyZW50VmFsdWVLZXkgJiYga2V5ICE9PSB0aGlzLmRlZmF1bHRWYWx1ZUtleSkpXHJcblxyXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zXHJcbiAgfVxyXG5cclxuICBkb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoa2V5OiBzdHJpbmcsIF92YWx1ZTogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcclxuICB9XHJcblxyXG4gIGRpc3BsYXlTdWdnZXN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGxldCB0ZXh0ID0gdmFsdWVcclxuICAgIGlmIChrZXkgPT09IHRoaXMuZGVmYXVsdFZhbHVlS2V5ICYmIGtleSA9PT0gdGhpcy5jdXJyZW50VmFsdWVLZXkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQsIGN1cnJlbnQpYFxyXG4gICAgZWxzZSBpZiAoa2V5ID09PSB0aGlzLmRlZmF1bHRWYWx1ZUtleSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoZGVmYXVsdClgXHJcbiAgICBlbHNlIGlmIChrZXkgPT09IHRoaXMuY3VycmVudFZhbHVlS2V5KVxyXG4gICAgICB0ZXh0ID0gYCR7dmFsdWV9IChjdXJyZW50KWBcclxuXHJcbiAgICBlbC5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogdGV4dCB9KVxyXG4gIH1cclxuXHJcbiAgb25TZWxlY3RlZFN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIF92YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgW3RoaXMuc2V0dGluZ3NLZXldOiBrZXkgfSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgTm90aWNlLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIGFzIFNldHRpbmdFbCB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwiLi9tYWluXCJcclxuaW1wb3J0IHsgQlVJTFRJTl9FREdFX1NUWUxFX0FUVFJJQlVURVMsIEJVSUxUSU5fTk9ERV9TVFlMRV9BVFRSSUJVVEVTLCBTdHlsZUF0dHJpYnV0ZSB9IGZyb20gXCIuL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9zdHlsZS1jb25maWdcIlxyXG5pbXBvcnQgeyBCdXR0b25TZXR0aW5nLCBEcm9wZG93blNldHRpbmcsIFN0eWxlQXR0cmlidXRlc1NldHRpbmcsIFNldHRpbmdzSGVhZGluZywgU2V0dGluZywgVGV4dFNldHRpbmcsIEJvb2xlYW5TZXR0aW5nLCBOdW1iZXJTZXR0aW5nIH0gZnJvbSBcIi4vQHR5cGVzL1NldHRpbmdzXCJcclxuaW1wb3J0IHsgVkFSSUFCTEVfQlJFQUtQT0lOVF9DU1NfVkFSIH0gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvbnMvdmFyaWFibGUtYnJlYWtwb2ludC1jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmNvbnN0IEFTS19GT1JfRE9OQVRJT05fREVMQVkgPSAxMDAwICogNjAgKiA2MCAqIDI0ICogNyAvLyAxIHdlZWtcclxuY29uc3QgU1BFTlRfSE9VUlMgPSAxNDBcclxuY29uc3QgUkVDRUlWRURfRE9OQVRJT05TID0gMjA5XHJcbmNvbnN0IEhPVVJMWV9SQVRFX0dPQUwgPSAyMFxyXG5jb25zdCBLT0ZJX1BBR0VfVVJMID0gJ2h0dHBzOi8va28tZmkuY29tL1g4WDI3SUEwOCdcclxuY29uc3QgS09GSV9CQURHRV9VUkkgPSAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUnJvc0FBQlhSVUpRVmxBNFRLNHNBQUF2MXdOREVML0NvSkVrUlhVQ2J2d3Jla2ZNL0JZUXNwR2tIc0NOdy9uYnZjQXphaHRKa3VlN1IvR251YlVBeWtEYU52RnY5cjJDcVUzYmdISEtHSElIN0g5RGVPeW5FWVpIQ0tGT2oxbmVNZlhaMFNtbVV6dVlnczZQMmNIMGZqdVkxMUpCcTVoTzdlalZEcVpUbldKMjlPcCsxdHdsUllxNnJ6TEhaNmRJa1NKRkNuamIvbWxQNDFqYmpLekcySmpRS0FpUlVUcnovSkNuTmFzbkszTW1ubldtMDdhT1J0Z3l5SHBBMy8rcjJCaU9xdnBYaWZXMGJSSDloNFp0TzlEcWxVdVo3TFNSei9kOUpPdjhPZnMvaVNaWnpLUFpkSHI5eWt5bnN5aGVMRUd3ZkQ2azZXVHZjQ1o3aC9NL1pmSE5aOWVqY09CdGhxUEpMSmFNTG9rbXc4RHJhSzZtOGZKL3RNSkdrNUZYYnZmTC83TllnanlZWFFYRWc1bkUvelAxMnV3NkdQQ2FZQlFsckQ1dlJ6ekhjaFg5VndUTE9KcGNqNGJoaXhtT3JpYXplSUZJbWg0NHNuQTBta3puaTFNUjhTUWN5SmpoWk1GMVhDUEdRd212ay85cWxES2haMWt5aldGT1Z2Tm4wdFQ3eUU1QW4yQWdhY0lvWVFqUGZsd2pRNEl2a3lSWnhIRThqMTdNYkxwdkp0ZFNabnJBUkhzbWZqSFBSN2EwckpSQnArbGlLdkVZWHA5eUhzbHpacGMzMXpGMVRlWWtwZlRrc1lpamFQWnl1aGk5RUtQQlFKVjVJYTFITDZlY2FCN0hpaWdsOGZRU1hDL2dpN0h3QktrUGl0TGxXUGwvRnNnZGlaNlRTQnc5Vnlxdmh1SEFHQk0rbjEybXM3bmVVMHQ4aFU3VExkOE85NHFXRTI2Rm93VEhYb21Ia3RRSCt0c3RGOUhzK3VxWkZqRFFCS09yYVJRdkRTdG13Z2kreGhsR0o5a2E5c3J5TStramVZdkxWL1poUXRrWTNVUU5kem9aczM4a1Z3azhjWHFkbkpocjRsOTdESkJwd3dUeHRjbHdZS1pSeTUyV1NaRnY0YXVjWVhSYXJrbW5xeGxHL3BtQmZkeXpaMjJmUGpDajJRSVppeUg0bVQ4WnlkR01KeEVpcGx3bG5hNldWeWdIOGhtVXo2QkhUSGc5aHdKSUlUQmpLc2NrUCtxcjVjbUR4ZXQ4aGUyWkFGV2Nod20wd01IMnFnQ2t4M0lFZnVhZkI4SUo4TVJZSUhob0F0eWJZeFloQ296cWp0MUdsNzdJUWpxMURKY2NlNTJVaXo4UERUclVJZ0E3am9VNFc5bStOV2t0UXlETUErd3ovd3poMngrZE1QaE1DMmthd0IzSG9sL2oxaXQ4bW1HVGRNa0loTWx6c3VpcWFoSXQ0UzJTSXVCZU5DT01xTjlpMTlYbU1DWE03RFRCNTRIbFpHNGlXWi92eVpVSXh3TFV2Y0hKMHlBNVZZTDEwY0pUa3p5SkFyd0Y0dFlTeWRNVElJd1ZvcE8wMjdXdnpLNUx3ZkQ2aUxwVW5BbkxXSk04YmQ3dTgvM0RCNjE3eDY5TzZ5ZXBGNy9BSzkzVjIyTGw3bzRhdHk3S1ppZVB0SzBlRGg5U3R0N1dMQWZ6bVlqdjZiU3l3RHI2enozWmdFQmVKOFpiTFFMVzNGNjRPNXJKMXRzMkZmU3AxcG5md2JqSGxxR0V3UEh0TjJtYmFHR0RWUGNHcjNWK2RwTEZ2M3ZKN1V4bVhYVWlhTmVrUTNHUEhabFgwMnVjU2QxYWdVc1cyelZWdVMyS3NtdzR5cEtSVEswejNlMGYyYmFzeVVlV25CS1dLN052M1IydldkV2R3QnJaVUZkR25KekpYamR2QlRDbWx6SlB4MHFaRloybW03RVRJR205WFhHV1Z0ZW5sVTJmL0h3NDhqL3ZHc0NSekhSckI2VGRudG0xQjB4VHM1bjJpT24yalNFaWk3ZjBDcHNBVFJja3JEWjlXdnNtd05QbjVjOFo4enIwU3JwbE94QlhpM3N0eEN1cFhkZTJkVjJWWlZFVUQrdjF5am1YM2VHYTdQbW9WdXYxK29YdUxhdjZSZHdCVWJHT21BTlJNM3NtaytKR3I1aEp3aWwrNi8rM1RrOG1XKyt0Z2Evc1dLbVFoNDdpaFJwSDJyVjFWUmJGMnJrN0U4enpHZWJocFhyYmRqcDRXaUVKRmUxTW1sV1VQemcrWU1sbksrTG43LzI1QnlkQ0F4T0dOWUE4OU1TQWlybWtkVHRLT21WUXJtWVhJNWJGd3pNWllKakpWdXR0MWU1RVFrSDRkZlJ5WnQwUmp2dTVIT05hazFuaWswQmVUajVadHl1TWdxMmpvdVEva0lyZzRLaHJkZlgyV2VSZ3FGazlWTnd5elhBQjRGZG5vZ2t1K2h5ampIR3BKeWFuZ2hvTVMwa0E3bGxDSFVjTVlkUDZzR2FBcVVHM1RZcW5FQlpLcDViTW40U2hNMWRheDFVWDdNZE5RSW5vRTFKSnVTVmFwR1hFWXZuNHlsYS8xRElLMm9UOUh0a3FLRHNobWNZajMrZmNlUDdkaTk3SEZaR0h0Z0pMNkNuQkNwbmEzeEcyN2IyWlJEOVJiNmpGaVQ0SlNKWnQ2U1RRdlA3eTVieG0vUWl4REZZOWwyQXFscDBjcDJySDc4dzR3cS91VERWOEtvR2ltaU5qaXBYSjhYeWlWZ0FXeitVSkUzdjZUQVhyV0xxak5XaUVkTHIweHB5Rjdkc3JabDN6TEdMN01PZjQ5VUZ3aVZvQmppbzhYV0xZT2N3a3psSGdRS1RUcWIvQWdYR3RQNEp2Ty9GbGhGSmxxNDREakR4dFBRdVZYc2VJVDNRQ0hWbDkrREJRM2kvMEZqalEyYjc5WkRpaXZoYWhJeHYrcWxySyttNG9uTnQ1cndlQzRvd0xjazJGczNHV2NnWWVjb2dSKzNybE0rcGJnRlRaSGhtMUZWWXc1T0tzei8yd3JCeFR0c2FVeGs4Rk9KTW03SVg4VlQvUjM1VHVRcFFCTFY4Y09LWEtwTWNSRXJDRlR0MFBIaTZpTS9TNklCSXZaN0tIM3E2V1Vvd1pVVXNidVYwQWE1MjcwNktONkZ1U3hUYnRVUmZUV1lweEp2dDdwd1d2Mndrbk4weUJidTJGaXhORUhiMkVGL3NjZFRHZHlJTXp5YUFkMFBPZVljSXFNM2Z5YW82QUNiNDhLYUlhMHl5NjQ2RUtBeGpKeEVjUmh2d3g5Nzdua0pQdlUwdXpWakZUd1BhVVFLUTVmNjBwTW5PY0N1T1FMREUvZnVSOTZibmpqbnpzSGFPNExCUXl3UmQreDNGcTdOT3FTTmpkd1cwRWszSzhNTFkvZmhWdCtlWStMWkhRc3YwYTJON2QrK0hFY0R1bksxbDNHRWRSTVRDZ0lvSTFYUXNkcjNJZEpNU2tDWkZVVXFJRnBCVlBDOFhWMUNraFJMMzJoaVArSWlaQjRzT2RlUWExWlFCWE01MGhYbjJwSXRvVEVXOUpiNmhqRTZ0UzdlZ2FNVzg1NUlpOUdrWEhKajFmRUZ6QlRTclRGRytqcDEwWUZxdTRuRE8vdTROOTRacGxueEtzcjlKUCtiTXA5czJtUEdwcVgxT1ZQbVpUdkRMNW5uSFBCbTFoNnhWNERNamV6TWl5a0ZNd3lGdi9RT3FxbHhtS3ZJN2E3SGVNSnkvUDNLZjdZbE5XTDcyTmUvVXVqdHNsK3U2bEcvU1g4MDJldXd4MHVXS29OSFhDS1dWSDExd0FrNXYzczZ0ZTFyUjZsVWxncUE2LzFIUkUreDRrYTdpOEtLdG0xdzJNTU9tdWJhcXl5SjNZUW0rbk15Y1Frb0F2TktBcGI4aVlDMStiWlEvRUF1S0hRQW51VUZBU01RYmdUR2I1cG1xNmdWMW0xMnp5RENXeWtFNWRTUk9TaGZlSkhaUlN2R0FZbStma2VoUWVMVm5ENGN0UVYrMisyNDNRMzArUk9TQ2p4OTB4T09RSzAwU2ZOdlhoZlMwTHl0eHg2NXBqbHdDeXhIRzR5VDNsYlcreWlDWlhEQmVhR1Y1WlBHRDZ5QUtOcnc0ZkE3SmI4OUFIUlowT1REVmRmUzh2UHcrV3Z0c3cvRlZZaWU2S3I0M3dNcDd3RHVNeEdNMWlVekgwVFkxMy9ZUkVrQ2JLRzJ0ODJQcGJ2K2VVWWROeTRSZzBhWHFSWEErNENXL3VOVEo2c2FGd0d0OUhZdDQza0thSnN2SUkxVy90N282cEQxbXFFNEFLSkJ0VUdXZk5vT200ak9sM3hOSUhOME13OXQ2bnArRHQwdGZTZ2UybXpYbjZrS1U1TVNHMDlJNm9iWE03OG9WR0R2ajBtOGZTOXdOektyRlRFQ1NXK1pEelF5RU1EMTV3aFBGMy9Nb2NtTlAvMXF2T0NmdktCZUFJd3NJb01TNDBnb3ZET08yZ0l4S2tpYkptWUttUjdYeW1KVGtoS2tPMzhKTDg0TGI4eHh6RG8yM0JSNTVZYWNPcm8wWFdoeG5TWW5ZOTRjdHhWV1VocjREd2ZUa0FySThCcG5GdTU2L2FzNXlGaU1QOU1iYnowMVpkYTZiRGxRNW9iWWpJMStYcUphZ0hkOW9TbE4waTJMUzU0bXdYSUs4RXNIdzloTWZlWEpuWjBGQnlmZkJ3c2JVaFJ2emwzZFBBVG9QUnJlak92NTNvcFI4MkNIREgxVmFCOTc2QUhwaG5HTmtwTk8vVWRpdFFBYk5ycGhTYXFLYmJmdkYwSXVwdUM5OVlIUVE4MVNwQmU3Z08wQWZmWnVYMm96bzBCNm9kd05vUWxPMmNaSHZJcFBjU3UweVBTeStRaENhUW5LUkM2N0Q2RmpadU8zWG9YcWYyREZnYmdyQzlJKzNSVDJZajRBUXpQMVFZZ0d4MDN5a2VTN294ZTh2SGpFYXg1N0N2RENnYUFvK2txMFAzbENrRm5BQllEL0l3Z3hncXRGYlBtWDNLTUxrNlZJY0tIK3oramVlZXlHZ0ZUbCt0Z3VUR093d2d0bGxzbFErMTNRN01mVU5yM0Q2d2libzlJU2pEMUgwWGlKOXQwL0toQlFFZ0kybWxmaVNjZHVpa3kyNWprbXozQ0NJYlFzaWhIeDRZL3Y1ZWlteUZjTjNjRFJZcXFCNzZ0SnVSRlo2aERkdU5UUEhEWGJ3bi9pS0hsSkl3ZTgxMEdmT0Y3b0VUWnliWU00dGhwVUE0TndFTEc3WWRWanAxSGZjckRjSHRPVlBMeXhSVHJDUzNocnNtN0FrUUtoTGRoazBEcmJ4TGVHWGlXY1h0VjVlbm5yWFc5WXFENjFmNlh2eitOdmFIMnJwZXZSN1M3bDZIbUtuRm9jWW02SzRXUW9RbHBYam5scHE3dm5WWkdLTXRIVkRuZ0JVY1hkckpmUXR0VmF3eTBsMDJWRzFxNjlzTy9aQ3grOEVSN0R0eGRnMmhjZWpBQ3p1QzIzK21rdDdNa1RpMURyaG9ZaHlhSjk1UU9JUFlJcWw1QytzeTV0d05ZSUtLQ0R5TW1pQXo3MEhqaENWVUdSQzlYc0lXVFd3MzJyQmlQditWZkdQUG5CblVvMXFsREU5K1BXSGlKYWhrTHlSclhXZHRNMFZmRmMvMTBUWGpmUmZWc2tUMERxYWRFWmhmSmVDVHlReTliV2RnOUZNRFluMzBUS3daR2hmMitvd1FjdVdkTWsybTV3OS9XZGxETFZuVVZ5eG9nSHJVV2QxcGZZdjBTZkNJVjNWbjNYSUorUXJHQlM0cXNSaUpWOEc1WkpVUzdjVHc1WisvLytISG4yNXVibjc4NGZzL2Y4V0lyNzU1LytPUHozL3RUeisrLytaM1h3aWhsQmlIYVNuS3pON0FWUDZFcUZLR3hLSmhFTDJQSGN0aVRNaWRydlZVeC9pb1E4cUgzRUx0L2RYM054OXZqNWlQUDMzOUpRTis5L2ZqZis2L2Z2eXp3RXVkSitkTktwSk1VY2k3dGxPNlQ3dUdZRFcyaGkxTExWSnptZmFYajFCSEVlMkRsU0M1RjhBWGYvOXc2MmwrK2pQeHovMyt4di9QNWNhakRBT3I0SG9CbXBqY1BVTHR3NzJtWStXdEtTRTNlcEJWeEF3Q1pFTlN4eFVibEZkKzkvTXR4Znp5TmVVazlKSDI1L0ppSlZOSGI3bUVpOURFSkZUaFZVdXRpVWRqMURKVEVGSzBmOUVOLzZ0a04yYjlrRnZ1eXZ4ZVdVOWI4WTNtdTcwMWxCWEs5eUd5dWRVVDBrSDU4UTZnWE5QS1RCMG9uR21OdnY0N29CekdOYTBsckhlR1NubnhYTmd6bUIrOHowSU1KeUkrU0pXZkQzS1M4OUtpVVh5d0NTdjBqWVF6MXJrbmNraU02L0hVRG1NQVpBbE5sb2dROHN0LzNkN2VpcHdaL3ZieGxzZjhuUTFTZC9GUnlRVjhRQUdrSDgvWW1IVjVCb2tWZXpacTFwaSsvNXd0RHRKeFRHbEUwWTVYRzhhZmh1Y3l2Lzc1Q1A1eHUyZDRQRGtoVU9wM2NnSHRHWWJYbHN0WDYwZzRGU0pRcWVXV0ZRY3F6VENlcXdNSElqQThobFplVXZPUFcwN3o5VUg4ZUh2THVIekZCcGt3M2ptTTRZcEo5dmlsTEhFK2dNdUpLV1pvUkZ5RnZNU2tMajZSQnBuUXBuRFhxWE0xMjQwSmp6aUpvcElQUDk3eW1tOFA4Tjl2YmxuTnIxK0xJMHY1NmZpYWpKMDVZQW0wYzRyWkNwL3Bpd3R6ejNSL1pDVmxrWC9LRG8vVTZINXo0Szd2K0ZkSUtTSGZTL2swUHlJcWIxRU5yeFZaL1puLzcyV0JsTE9ST3FFMldpSGE4cTNPNE1sZldscjkzSVMrRWgzV0tUc0Z1YS9pdE01OXY4UE5YbFdDamZRNjUyUW5OM3l2OHB1dlhwMkcrTTN2cEpGUnNwbFVCYWd5QnNYQUJybkJreUVSeklScmJNb2FWbmJIYXhWWlhuTHdCOEpFQ2kyLzVXUytTZjI5djM0bFhkRnUvZEZLNmZsdHpIMnZSL1U4dzZFQnJjZzZiSWhIMnpabHVUZG13cHB0Y0ZjTE9uT3lFTVdmYmtYTXpUUG4vbGJFL1BJRkdXSkp2Wk1Tbk9kR0JkSS9OdWFIbEJLR2E0NTJYNlpvOTJwMHdGeTltalBGQktIenBSYWhNWThxdzZ0ak5PQkV4eU12LzBVR3QvLys1VWVodi9kR0dDdjJ2OWVaR2xmRllGY21qRjAzSms0Qkg4UDR0b0lSNi9DMkxqSFJxZ0k5Qm16OGVDdGxmcm1WTXQvSzRpN2xqaXF6Tks0dGo3VmdDWmVFS1Q3bG5rN0JwZFFsd1dvQVdHS3g4Zld0T3ZQcmw3TFl2WUNWUFV2bXNwZ1NpTWZxV2ppOWxsSnp2enFjeENKcWJpVUFETEdpNFBIVFoyNWtVUk1vZVJtMHBzVEFhTlhzd09jVlh3V2kwekpIOURnSGhSMFdIUCs0MVdoK0o0cVN3SG1UUVcwSWRneHZwTEErd2hNaFljd09JRE1tSEdCS1Rsb3pMRGkrdkZXSkcxRnN3VkFhR2tPcFVqbUh4RDRHR3dyVFZReXF2bXBhaDk5QmRDWU5sbjEwT3BJb3dMQ3hVNyt0dEtWSlc3REVtNkxHMGVzVkRoTGtBUTE2aHlJQmoxK1U0c1lPNUZiZ2ZtQ1UrbnkySSsyeS9BeHhiQTQ4Rll1OEQzQ3hQSk1IUnl4YUhUT3dzckx4V09mTStVQVdrRFBWOVhaNWRCSksrd0NFeVI3QXg0MWEvR0FHTWp2VVZobFBlMVpFUGh4aFVzVXZPeDJvV2ZRWkJqTUUwRU9yeGE5ZldMR2JFZmZZekdCTHUvaUlnSjRIN3JlNjV6RDRIQUFNMjNvMzVWQmhvYk1CTFVNZzVTYzdiYVJ4c2pkcmJlQ29UTmdOUHNpTll2d2dod1lMT3lPMTBkVUVNdUs2Y21FU0J3TjBsRFpFbElEam8yTDhBcWkvdWhKQmEwc1BEc1JicStzbkwvOEJnUFVMS05yOTBQampyV2J6QlFQWTI0ODRrZlltdFltMnM0RHRvTXowRTdqdStTYkF3ZmVxOFJjcHJNSGFoMVltOW5xNjU2ZmM2M1JDdHovSGRXM2JTVVYranRPZnczK294bmRTcU5pTDA3VU42cXV5UStDcVRHQW9ua0o0bWR6TzR6UGZ4UkFHR0RlcThTTWQ3SVJQSzROQ08zS1dzc2VaSU5mdkd4U0FQa1htV1hFaXo2RFRpQWNiR1h4UWpmOHZoRFYvZWJwbHY4aUkycWJWMXQzcmY5VXplR2paeCtNa09ZVkFybWJ3d3V3djhWWTFmaEZDamRhL2NXNkJ0YkcvaVV3aS8zWDdsZHpYdHpyTVBXZUtLdEtLV3o5c3E2Wk41ZkdVaVU2VTQ3S1hjQ3NESjVETUdpcTBLNk1iNUVJTTdMVnJ5bUxsL09kVDhEa1RpK2ZoVkNxdEVBZmNKUm1QRTU0b3g4OEVVZFB3emlpd2RIb0FOUHdQcC94eW5VeXVyVTdMTmFHenEwZWZHekxWUHNWODYyM1RpYURrU21FTjIrVENEdnNiVzVwbWk3WE5UVnczNEhMTmNQQ0d3clRhOG1mZzltbWxiUTc0a0RxYmZ1TGFaZFRiY0xTY0o5UnR1VzdMNWRyaGNIQ3RSTWJBeE13VjB6WlJkRHdTRW95SmNtVG85YlVQNFRvSlN2N2VLcmh1WUpqcm5ZQXhjN3Q3NGh2b2g2cUpvbU8wSUJQbEtJYUtodDhZQlNlVEIxc2h5VkJuMXh1OUhtdTFKVmlqWG9IUTFiaHJ3aDhGb2o1RHhkS2c3SklUcFdHNy9jck9HNzlQWlVyVWxncjkxcVpPV3ZtL3dmUUJZRGd0bW1hdGpZL0JodGkyYitlTHllR3JKYkhDWW4yWVdtYndNRTZvT3JvenpnNmNMZGppS3VLNW5VV3oxdlpJVHhwYkhIRnFzQlM2Q3RxV2lQL2NoemxkSnE0a2hobFNTeldWYU5XblZhWnJKVmdYOFM3RDVobWtqMVl4WGlxa0UvSlVDQVVSLzArM1hqcmpOUFhsVlNwWG9sYUt3WG0zSTNaT0YxWGx6M3BBWHJxVjV0Tm5BMWh2YlAwdjdpQXlYcDNDc25aa3RHTC85UTdacDAyZGlsYUFkMlFZcHpHMkY5cVV3TkN0WVZxVDJ0clVlQlV6bDVJam51STBqL3hHTlg1UG5qb1YzdDkrd29rMWdLcTFXcnRDUzF4QmRZM2RaMFRxekxxaVU0MTJReUdJK0sxcXZGTnh4ekJiT2xSYml3ZTBWa0YvYjJ1VDZqOVpCOGVoekZKcTRJaFRMOXZaMWEvYUI2Z1dlb1R2ZDhjUHZTUEI4VTVJNW0xMkR2dGtWZG1sSzdDRkswNWk0aTBQQ2VGR01YNUNRc25YRHdGd2toV2E5R21PQVRMWnQ3bkZadk4zbVYwc1NsbFpCbkZ6RGpSTWhQZUs4UTFTYjFhU0hjK1hHblZXVGR5YjczdE1IWGJWNk5FdW1lS2pNQStRTnEwZU1kQXdFZjVvOHl1TXFicXpCaWt6bkVVb3NHdFBHWFJURzJHQ0hZdCtXUk0zRjZ6ZGRuZmtGM3JnbFMycC95eGpjUGZBaTUxTmszb0wzaGxHYXhLWmxPSHhnblkwbFpqRUQ3ay9qSktjLzRDRFNyYjd6bEovOTJUbXpqaHFoMTJTRnphMWpHMTk2VGUwd0NPUjRRTzBWbTErQllPZGNIZmJwV1U5KytjMm9jSm1LR1kyS1Exc0pWV29XUGxzcnlObFJUMGdieHE3elN2aHFWbWdzS1VKcjVLYmVTOXNBTXRrazA2bkRvK04ydExtanlyZ3pCdlZ3S2FkdjhHeDBwMXRGd3FMSFJ0Zllmc3VjMmdxSkxWTHBwaUNha1JOU0IwbVZsSVhWZmlOMXIwVjJMdmFKdHkxUXNxclJ1VXViQ3FrTVFRTlhIcFkwMTRZTVk4ajJDS1ZtSDlxc09zQkkyeDZxMGVyMEdCejFKeE5vK0N0OEpTS1U1TGsvSko1SE1FV0JYNm53TjUxbkxEcHJWWldvY0p1ZzVkcDUxWXlsY2V3Y3pXeG9EVDg3dVNxdHpkV3UwMkdjTzJuUWpGQnFlV3VLTXdsMFZQbHlrQTg1WEVMeTlxWlVScVNwWEkzd3ZOSG85MlNyQ3RxR0xLT0s2UjlBV3Rzc2J3cGpXd0E1Ni9KOHlMY0VzTzNUemtjaTkxdVRSK1NqSHFJY3h3YUNIemExTHV1NjlvSzY5b2M0QW83clUyajREMWVMUU45WVVocVNPYmtLcmgvTk5pdE12cDFiMDNEWFlVbTBHZTVvWTIyUUN6S1MyaTBacUVEcVFCU0FpNllMM2pINFZpcnV0cXVHZlRKT0dHVjE0TjhiYlNEdlhlZ3B1ZlJBQmNuQ1VVeHZSQXNsZDdwVW5iN0lPNTJqeXdEQStPRVZWNDVZcjhSR3hRYXA0Y0IrTjNka3pUZC9MQWhxVmFab3V6MkYvRTFIazRuSzZ6eXlpQTdBaTh4c0QwVUJCcE52Nm4yT2RLTzUxNm9SVzg4KzRPVis3UnJwdmJWdkxES1MvNmdnSmVpZjdFK21oeGdBMTRMM0FhbzQ4RWZUZlJydHhsYmR5ajhNRWdycGlOQnRQWnpqNVc5bXI3Y1dDTktQZjNJdUV1YVFvem9IU3IvaDNVTlRicXE0Q09KR3duaHUwRmFNYTB3aFg0Y1dEUGI1YkJGKzUxSktIeEQ0cDN3UTRuYjdPYnFwZTgvRGZIckRwdVhhVll2VnF6NTRHbGdBYVFxS1J3SkY0Qk1xaEJxTGo2MERLUlF2ck1FcFN6TGs3VUptSVRndkdiQ3U0L2EvWWhwQ2NKZW4xc3piTFF0RFRXU0g1NWFOWFRMZEdkVDM4NjFWRWdCM2VxRTBoUHFnekJiK21zek5HRWFVRHRJeURDbXBXaUp5d2tzb1JSaUhIUVZPalBxc3NRckZLd29MVTRTUDJ3b3cyKzBJc3gzVEMwalFlMzB6QjZzQkNIYXppYUZRZ0ZOT3VYOTF0TGRrYVpzSXVDa0dqTytXdTROUFA2ZHEyVWtwZzFoYiswTWk2WUJxVUEyOUc4VmlZbGNRZk13TjBlZy9heVB5S0gwRkp4TFRQOU14NFozSDhEeE05UEJwNkFaTktFTjhzY2k0WGtCVXF3TjBHOTZxNE1za2cwU25HK0ZhNmFzSjRJSkphcVVwTTVwUVFRZnZ1QnF6aTFxU1g0bTRXNHRDeDZhRVA2bU1qUGtyeUcxNlpVS202VnpUWnFLRFNldnovbEhDeFJoTnBEWDBydWczVHFwN2wwQXNXWTRYVU5oZzh6eEh1UTlvWlhPV3NCZmtxSXFBTWF0L2JVQittMDU0dUJJd29RS2k0VG5EOGozL3dXRkZ2Qkx3TjFFWVg4K1lHTkl1dFJJaFRCYTF2ZW8rTWlvdGlyMURlVzBqelkrbzhHbVhYTEJQZW5vRkhRdWp2S1JwVlpFMmgybFhiQi9EQlRLamkxaFBPcnFsNCsvWlZRK0Z3cEdiSmMxcFE3ZVNmc3UrdEFpZ09ZZzZlZVZScmpIcTlmWVB3WUtaY2NVUTZmenZVWXJ6aE5aN2FqM2IwR0Y5bDN3dkZVQTFhazhCcjloZzN1Y2hOWHdJMFNNV1FPdUI4cVhEeThXK0pXc0pOOXZEWG1LRU5UdmdnYW5JUWpxOTVaYmVJdEdLWG9wa3BDNlRDeEFocVArWG5XVDBBeHVEcmZDNU13NHJMRGw1aHB1eG55RDVuZnNtS3lJQmJMaDNNb2JBbE5oMlE2NEYwQ0wrNHByR2UvSlpHSVU3aW8wdEd4aURwd0R5Nkg1R3l2OVRCZDZJZ1dqNWhha2dCM01iS3AvcmJjRGh3Mzd6SXl4UGpBclUvM2RnN1BTY0JzNHpqNlVEc3NPc3ZxZDdiQnVsUVpYQ3RhZ0l5WmRHMnlRd2R6SXpXOC93T0JmNzRBSGZlRTRobjhZOFV5dGkvNTNrS0xTOVE1WXMvUEk5Q0N2V3JROElUTjNNeG9tdklSank3KzhRMW4rU1pvdFIrbHlPMy8rS0hudDJjd2ZKcjFEZFFlNytRaUFsUFhYSlFDWUVyTnVaY0U2WnZzYVdpYUovRkFSSXVVM3Yva1pwdVdZK0RaaEdwZlk3VmxFaHlsOXJOV3d3ejd0UUxOQ0tlemI0dklYOFQ2TlVndVduZ21HZUF1RTZxTC8rRFgvb1RwR0gwN0xNTmcyazk2aGtTWFF3VjNuTzFsMXlITlgyR0tFRWhIdWdDT2xaWk56M2h6WmlTeC8rWUFnTHNmYnpqZXQyRFBtTXpjTWF6QSs0cHJrQXZkQ1VYOFN5clpNZlZ1V2NxcXNjQ2U1QWtyUHhoTzBGemEwVFdWUi9Pdzl5YlNDeFppN0w5dFVjcUlyWWo5a1ZqaGdHYjhoNEFGQ2xZTjBENG5zUGhWZkl1b0s2T1RoT2NaMm5aZ1JDZG9XN2RZbTN3djN0WVN6blJkbDdYSExnM1ExR0NZNEt4eGJyMGRBTVEzZkJVT3pUNXNtWmY4ZDAzU3RLY1dVK250cVpJU2RoY3czSDNDRHNYS3BVb3o1NjBnNFlBblQxMEhJcTBEbFF5WERUZmJsdEtxQSsvUlNOQWhkamFJUVNpTlF0RXNPRCtvTXNoZHdQL1RMTzVtMy9VRm9vcGRYT016RzZka1pDVFoxRytCRHFVc3ZFaGJyYWc5N3ZjMlh4U0d6S2N1NkJ2aFpRTnZOSjNDZjh1VnpNUUVUM3Mwc2xmc2F2NVBsdjJQb3J0YmNDT2ErYytGRGdVVmFySVc4ZUFoWDZ0dXEvOUVwbW8xRVV1SDhXU1Qxb0NVaTlrT2FFZTh4V01XYjNleGYrZ3NwZElmeXlQUVljZC9aaExNOVhPN2ZkcWczeVpRT0REQWwzRmVldi9yNVFnMkI3MDg5VlVEK2FpenZXWDM1M3MyTDk0d3hFOVVUeXB4VUdRRXVPVWtEZGl1STdTTlE1aHZZQ3lxVDRmVnZER3NOTGozSmFCTHBKdXJKNml2bVlteUhNZjhja2xubGRDZzNjRm8xYlYxaFNhZlcvWUNzMkZUMWdhZjd4aVJFdmp1RHBvWDNmTDU0cnVQMVhiTFArVngxWjVhVG1mVmJySnVBQ21iK0J5d0NOZElTbGRmeTdvYkpGOUF0T0tWcXNjZ2NEWnJsckt4Q3JRK1lhV1ZyR1dodFJGdU9PMEVEbGFGLy9EUG9UVVIwT00vczM5Z0x6WjFaenNZcTdQb0JwUlNjSnN5NFQyaWQrRGY1N3A5a1dUbWt1MlpibXk2bDVrRFVMS2UyQ2dNRnVPaEhkSjZnYjlZVVI5NzgxZC96WDMvQXZlY1g2UjlNanFGREIwdE1oZnVCbUJveWlNOW1kaUhIQjMwenphaU85SHVTK1hSdzM1VkQraG4wWnViZEhKZXpNT0FXM3pmWmUreXE0RkZiaU1nM01ORkIzT25uZDhCVnRWbzJIblVOdjhIUytZTk5hTkI5WjB4UFkxN1RWempDbGxvR25nNjYrdUVmam5Ia2I1NzNFb2NUSEN2V2NMYVVudXRydTZqcnlpYWsyRGhZTGtRMHo3WVh3TkQ5eU1UejBBdjRpdG03ZjN2bDhmSG0vVHRzRFljbmFzRXlpZVYvOExTVlhiZGl2ek1KcTRFVUpPcHd5UmdhclFGSUdSRDdmdVFxMmd1OCs4TWYzc0hjUm9UVW9Jb3VvaVhDejNYNllCZzdMT3ZWVjRKSjRwRktMbm9OTE4yRkRYMzVYN2IrZ0p0ckNUY1kwM3lZRzV6WTVSUVdvWVhsMHZseVptTHZsWjFhNFgrQmp2bFJxUkg3dWZUSklGVDg3Z1h4NFNkbFYwdzNCbytna25QMHhpYXpTMkdjaytwd3NlY2hkUUMxYWpFbzZMZjhXR0J1SitzTS9SMFg3NTRJVTNBUGhOcXd1Vk5JRFVJeDhMME9mQkpkaUpIOURDWERGQk9wZmppZTZTeWZzRHRyYytEdWFIVVZySWVGNTlMYW55c2hOMUlwZmZMNjhTTit3LzdhSmM5ektCMWhZa0RIY0lwT1VxNTRac1l5NWg5YmEyVU1TZ0U1U0lMMWl5THVMQ094S3lOampROVBrdnpsUmNCQzhWK09aL05FdGE3RGdFTzRnNDQxVTNZYWVUTzNqZlJxYUZRU2tFdTZ5eHJMTkU1U3RlRHVWOE9qbTZ0NFBwdU9MeTdlbko4SHIzUG8rZm41bTR2TDhXUWFSWXZYcFlGbU9DTHJrREpZa2dvZHl6TXVwN3d6TWNMT2FYTFBJbk1uT3lNM1VjbnRRdVh2Z1pLaFN2L2ZUS0lsVzF0aTFFZitoTXRKTXd0L2hPelVFVDkwdGdSc2dxSWJVdFp2Z1hrT29NVnJwQklPc3BTZXhrdE5iWW0zWEE4L1hPUXZ0ekl3ekFOTkNzTHpJMDNab1JCVDVwQnBMYzJNMlZ2blUrZTQ4QVRrZ3kvRDNKWll6Nk84NHEzRnV6S21tMXAyRHNnVGpFdHZUYnRCUVlzWjhjWVc3UEIvSFJROW5jMFhmbERXbHJqMnpGQ01Ua3RLdFoxNTFtSCtwbUxud0Z5WWFwQkRWcDliQTNYU1p6cnhBRmxLSzJ0TDNIZ1dsTDRPZXhub0xGaHFFUjNEYTdOK0hMRjYwUFplNEZycnc1OEpxWmhTK2VWbVpXMkpXODhjNWVuNDcySlo1RFdab3dHWmZzZkFWRjBEbGZkVG14eW45a2Y2Q1JEUitJR3BMVEY2ZHc2c1RrT2Npd0RMckVzeDNiTXBjRlF0Vk41L3NrbjY5eVM2TjE2VnJZUXNwWlcxSmVhc1NjMzk3K2lJdU5obDd6cWlpeVk0WCtFd3MzTEl6ZElPZE5qUFlDbC9aL01hU3VrRVd6SGRzVDdTZENPQ0YyMEg3VmFncmRzRVUxcFRvR1EzS0tjOUhMRnRNVjlvZldZV2FoV2x0QjgyMkdwdU1mZlRITmZlR2JBSVVIQTU3czhWdUVSL0ZoNEtTRnE3Tk1OVnRLMUFnSjE1bHRMY0lodEl3WDFDT3FFS25OemNUaW0yZC9TekhHenlQWWZkTVFPYklTZDNoTkN6ekEzUHRHS0hLQ2lNZGYydWxDWHZreU9WQkVLLzBsQ2xFZDJhZ1orQ20zd3ZZWGRjb1JYcTdXSEhNdmRhN3cvVkJ0bUlpMGxrQXkwMkQzbVp6RHlsMTFZZmRvNkQ0NHZMSEpyQTdyaEdHOVB6a3puamhINVM5ZVRpWWdpd0pUSWFWeTZHRnB0ZmtCOGFUMS8yaGlsUlZDeGZOM0NwRk1GcXBoZG9GT0xhbXA1a25MK3JGMDRXbFY4cHpYcThzRStZazhoemFMbWhmOElLZzRtbzZZUUpidk9GRFZSTkxZZE1jYmwrMUxwK0psMG1BYllHNWRFRmN0dWtqUDloc1IzSjljeTYxdU5aWlpKUC9pcnd6M2JhUU5YVXVnd3hCN2NtcUxocGVzWUZGUWl3ZDB3UHBtZUNITlhhLzRtYzVOcUZ1Vzc0cE10WHBobk1OYko2UllwVlU2c2crZDRiL2Z2b2lsbUJBSnVobENiZHlDSUl0Z0tQcU9wc0lEalFaQWR5cFhUNXVYNXVnWDlwWCtKZFcyRFI2emtpaVpobSt0OUMxYU4veGlUQXhvdHJ6bFh5ZE1qOTNYQm9CY25OOHUycWhkK0w1NEpOeUg2MHU3YkF5djVkaGxnMk43cjNVZWN5Q2JBQmxjellTcDRNQXp2dmhqdU1YdnlWd3pYeVN1Mll4RGorbUlDemYycDlGK29UT0xQZXE5NUgySVZWZGNDanZwZDhQenc4YnNoTHBuSlFNTk9zYTlSNG5QaGQ2QzZCZnUvbUFKT3Myd0ltdW1KZ2h0ZFdtbkJEVlhWSThXWWpodkZCQWNBTk9lVitSSElseWk5WGQ0ajFlWUM3MEVWdnZ6QndDR1dwbnhkVTdiUFY2NWNxY0dWS1NJZEdmVjh3UGc4YnVOcXJjLzVIR2xoRUUvS2hnZkpwbmdjWUtHOW4rTC8vL2dhdHB0WkE2a3hzaklseEVDdkNIRTZBelZpOVBJZnRncW1WS2pIakFjQnlsejJDZUtRdlkrRkdzQk1GeWJPRnE2bHRJSms2SzUxNElrbzdOUXZPTjJoN3poaEZOam5xS3lFbndTVFBtSHFvZDlJKzlVUEdPM1FCekVCOFpGMmF3ZFhVVm9oc3NrNWxtQzIxUXFaWmNGNmpmWlF4WS80dFVWKzVaS3E2MHA0RVkrWkszWVBZTDZEUzFkelA1bm5XYXZxTitJZUlwLzl5NEpuNTRZNmxWUm5JaGlmayt4eXNoV2pOK0ZqMUxsQmZxQVZydUV1d3g1WjEvVmkxSGZPVGJ1OUZINGkyZUlsMVBHQU5OVjVOcllYVVFxa1VTc3lKbEp2dXFGSWRRdXNBVkhMZWlXV3UxMDg4T05vdGpxM1dSVmszL2pPY25uWmRXMWZiWXVXRWptblA2aW1TWXQ5TnZKcGFCZG1YUjJuR3JGTkhDaC84RktBS2xtT2x2a2VZdWxNcjJRY1lPNkxSNWpsRUNYTFFRUHg4Qi9DV1ovd0JPZUQxTFRlUTFiOUhqWW93Rmp5c3VCSFd0M3JQU24zUE1EZTN3azEzcHRST3pXd3hGZGQvRFFLODVMeEZ6SGc1QkZSSFhsRWZpZ2YxTzlaWWFTUm1waWpGdDZVRnlHTlZEMmdCOGwzV0RaZDZGQ3dHR2FCc09WMGhJbFcwUEEwczhLUGQyQzFXR2lFY01DTDl0NUovM3NCSDV2eW1jWlRmN29VbmRyaEl0ZHhoYXVlRTRiM29zZkorUnFrbXJwaXA3ekhpWmkydk5MZ2NEZ3dNbFZVRFBaWmpMS3VpOVYvTTVYN2d2Mml4OG41V3FTWld6THlqQ0xGZTEvR2VvczErQXE3empzVXEyc3dsUjFPQnVXd0hoRVdIdGNPUDhxeGNxUkJ1TFQxUkFiYWhuNE05MC9LRkFiNHNWdE5tSzVoRWlJczRHMVBwKzlRSXVzUXFWQk5WQ0xkR2VJRTc3OGQwbm4reHpEUHZlQ3pzSnBiVERVQ1hWbkhsTGFQTkxNMlpUbk9PazB4cWR1SFdUTWtrYjEyZndTMkRValg3bmNjcTIyemxYTXdsby9ZUmpaMGtPb1RVWUpkcVlzZGVvMWtHYUU3bnZTMnptTFJUVnFicUxOUFFHTytseGdJSnV0elRueEFUcFpLUnVTa1B3RnlhNFl6TVJZQ2lMUEd1d2lTM0VOWGVGS0pNQi9vczA5QVl1MHpXUlp2RGdGcHRjdUdZTUI2bEw2RHMzUGxoS05IWU9uVm9WMkVDWFFhMXR2Y291Z0crbFdzYlh5RVF5K3dwWC9TdUswcUYxYktKTlErWVlJdWlpakNqNnVMNFZoV3hSQ3VMTTlobFVDc0trRzA2MXYrbkl1ekFiTHVnWEtHbGxEc2ViVXBOMjVTWUhPeDVJQlJ6RUJab0lxTUluZ3UxdG9YNE90bi9WVXphUWxGOW5nRmpKVFZGRUsrY2NaU2FUb0w4ME9mcFdqTHhadjV6MUZuSVpPZmxBS2lxMk9BcElreTRIZzBiaWFnRjcvZmZnc3BqNEUweENXVjd3RUs5Wmp3YUxGOEFxMUFpcW1KSUFHUHZBZ0pIeHlpVWJ6bXJQZXBzMHlMK0w0NUFmaFVsOEhqM1N4bnlReEZUSnQ4TkFLeEdpYWlLYXd6SE1EVGFDclA0bkFkczVVNkpHanl2VTNPZTlNdGxnS0JFVmd0ZWJ4enFnc2tweGl4bDVDM2ZmeWFVM3AzWkdLR1FnM0wycno3Zm81Q1UwdWZwSkdSTTlYajMySi9sVmNwNU8yYXFTaDcvQmZrdWtVcXAyOTdBMTMxdzlZREpXclNaT3ZuOEhIUEliQWp0QXpEc3RmeUpkc3piMjJHZTRmQ0FQQjd1SkVQa3NxRjByczlxbVg0a1Y2RG5xYTUwd2lFc3NISzV1c3VrcTJvWFBESWJoTVYxeU5XcUtYTVNiVXVBbDF6Qi9iLzlFOFlLVTZpaytOenRZSytQbHRWU3h5TkYzV1gzN2NBZ3l6emdRV21hTHBMOUowUks3eGtyZE9RU1ZENFVlMFcwTG5JeG12OStjK0JubkZZWERLUEhpODR4TWEzbFZsQUhCclVybkp4a1JFVnN3TVZoTFd0RGNUbFd5ZGNmS0hpSHNzdUpUREp0T0o0VGI0aG5NQ3FZNlh6ZUp5bWVUbzVrSGw2eHJNaWVwNmp6RWNNK215QVFWaitEdGNra2FicUk3WkNGeFNCYjRFYjA1TnVOWkp3SmswMXhuK2U1TzI3MkhpSDFzcW9QUHgyUUtuekJhMFJkNWFRcXdzblptRWY5S0NOTWVaajgxS0xrVEhRY1k5VnMrR0tOY09Tb3VweFNUUFB4ZGtXWnBYbkxyRG5ZTS84M1pjSE1wdis2bUtiSUtDUXpyYUkyWml2VGVSOEtzVkhJZWpXMjh2NFRhZXFBaW9xMWpqSFc4UnlheTVmV3BaUFMzb3N4T2luc0NrRVJCOWFwZWg0Q1E3TXY3cjlsMXE3YTVPN1FaSHh3MUd4Q1h0Ym9ybjU5VkM2bnl5dVNKQlI0a0tXSy9KTTcvRnkvRjc1UERqcER5ekU3SEtJZ2d2WU1mUUhJdHBLQVFVVlVoTzZiWXBPOVBmOXNqYzdZYWorTXVUQVIrV3BUbm56TnhwWHh2Z2lNSFAxbXpaUCtHM0x6TkRJeTV5SklrQkpvVTN6eXFXTHRKU2lPUG05czNrbmdadEFWUmdobVpvTC9SR0U4U1crbThNbWl0ZlpmUmlsdHEwMlJ2NWg3bm5ubm1ySC9SKzF3SEhXNWY5Ujc5QmpudHdxK1UyOC9SNzdMRUFzVC92KzZLWGJ5SXdsMVlXTFFJMTUvQlZiclZKSkE5WFVvRzltd2NoR2I4UC9GQkZXdUx1VzBGUGhLdE9WRUV3RTNOK25wRThkS0pBbGVBaldEWXhLRkJxd1o4ZjlBaFpkQ0VmUCs1RWhxMGNaRE5jZExkVEVkY1VKOTV3WlJxSDNOQ2hNQkZqeHdVUXlQTW1XMENEeXRNaFBWeGZTVUVRWjBSUlNGdXRmc1dORG9TYnhRWVNLV1dIcnFYL0Z5QlBQSkNnbXdUT1dFUmhjcWVlOFRhNTZuNmdncmhlQ0ZDaE45RXRJd051Ni9tRUYxTVQxVkorQXc5dDlzTXB3YVZBck5BK0FVRW9XWUI1U00wZmN5YmxHZG42Zkd5aTJYbW9JSGwzRS9KZEtMSlVsSkFUVHBKUmQ5b3NiQXp4QlhuWituSUh1bytwSW1vWTdhL015dTFKb01oUm5sdUNlckM5TDNGSWZBYTMyM09sd3FKeW5IK21RWDQ3QVhmRlNXQU1FY2x5MDZJYWVVQzhpMUhsekdTK1ZuTTUzVnE4WDBEU3paLyt4allTcEZsakFuRTFTTmxNVVlmYTJYcUxvcFFHMTViRE12TklrQW8zMHppYTFNcWxQb0JKS01VVFZTa21rSUkrODAxa3gxNStjb3RGcHd1WWpHQW05RG15b0RTOHVmTVhUaG1veGhXOWZOeHdEaDFTbTFnZVJwMWZrNUdSc3V1RnpHMDB2cG9PZmpBL05pWXVzS05NbWNSQ0htRVRITVJ3elRsRTFabkVKMDUrZDVhSHNGYXhuUEpoY0N1d1p2eHRObzhSelc3SFFhUXZNZjU1ZXdLUytKTGdPUnFwbVJQZ1FSSTM5KzFrMm9YRnVRRWYxbnd1VDhuRVlXbkY5Y2pxZlJYRzE4WUVtRkk5T2ZUdzluUkxBeS9XSXVLRW1aWFFTOGRGeGtmeEtKTG5TWDBsSFlLOHpRWmVKbmx2M3ovK1kzSDRjMG9jSkMvcWplNE1vckZqTVdua3h3T1puM1JWS0p4M3l5WGZWSC9WOEprOHg5T0J2bmw1Tm9BWHRVNTVkQWZKREYvS1hlRm5qUkJtL0drOGdzYm9zazNjVkIweUdyaURKVXV5Nm1pN1Ava3BqbElwNUhleVplSklpWklZNzNqbW0rU0VEejJ1TGx1UGFQTEk2VFhpcXQ2SE1kZFQ2ZUpRcG9sY2xGUUtwaS9ZK1BpWjhKcjR2ejRCQkZkRG1aYWFya0xPYlBqSzgzUjQ1YWhPbzdBdz09J1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzIHtcclxuICBkb3dubG9hZFRpbWVzdGFtcDogbnVtYmVyXHJcbiAgYXNrZWRGb3JEb25hdGlvbjogYm9vbGVhblxyXG5cclxuICBub2RlVHlwZU9uRG91YmxlQ2xpY2s6IGtleW9mIHR5cGVvZiBTRVRUSU5HUy5nZW5lcmFsLmNoaWxkcmVuLm5vZGVUeXBlT25Eb3VibGVDbGljay5vcHRpb25zXHJcbiAgYWxpZ25OZXdOb2Rlc1RvR3JpZDogYm9vbGVhblxyXG4gIGRlZmF1bHRUZXh0Tm9kZVdpZHRoOiBudW1iZXJcclxuICBkZWZhdWx0VGV4dE5vZGVIZWlnaHQ6IG51bWJlclxyXG4gIGRlZmF1bHRGaWxlTm9kZVdpZHRoOiBudW1iZXJcclxuICBkZWZhdWx0RmlsZU5vZGVIZWlnaHQ6IG51bWJlclxyXG4gIG1pbk5vZGVTaXplOiBudW1iZXJcclxuICBkaXNhYmxlRm9udFNpemVSZWxhdGl2ZVRvWm9vbTogYm9vbGVhblxyXG5cclxuICBjb21iaW5lQ3VzdG9tU3R5bGVzSW5Ecm9wZG93bjogYm9vbGVhblxyXG5cclxuICBub2RlU3R5bGluZ0ZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcbiAgY3VzdG9tTm9kZVN0eWxlQXR0cmlidXRlczogU3R5bGVBdHRyaWJ1dGVbXVxyXG4gIGRlZmF1bHRUZXh0Tm9kZVN0eWxlQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxyXG5cclxuICBlZGdlc1N0eWxpbmdGZWF0dXJlRW5hYmxlZDogYm9vbGVhblxyXG4gIGN1c3RvbUVkZ2VTdHlsZUF0dHJpYnV0ZXM6IFN0eWxlQXR0cmlidXRlW11cclxuICBkZWZhdWx0RWRnZUxpbmVEaXJlY3Rpb246IGtleW9mIHR5cGVvZiBTRVRUSU5HUy5lZGdlc1N0eWxpbmdGZWF0dXJlRW5hYmxlZC5jaGlsZHJlbi5kZWZhdWx0RWRnZUxpbmVEaXJlY3Rpb24ub3B0aW9uc1xyXG4gIGRlZmF1bHRFZGdlU3R5bGVBdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9XHJcbiAgZWRnZVN0eWxlVXBkYXRlV2hpbGVEcmFnZ2luZzogYm9vbGVhblxyXG4gIGVkZ2VTdHlsZURpcmVjdFJvdGF0ZUFycm93OiBib29sZWFuXHJcbiAgZWRnZVN0eWxlUGF0aGZpbmRlckdyaWRSZXNvbHV0aW9uOiBudW1iZXJcclxuICBlZGdlU3R5bGVQYXRoZmluZGVyUGF0aFJvdW5kZWQ6IGJvb2xlYW5cclxuXHJcbiAgdmFyaWFibGVCcmVha3BvaW50RmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuXHJcbiAgY29tbWFuZHNGZWF0dXJlRW5hYmxlZDogYm9vbGVhblxyXG4gIHpvb21Ub0Nsb25lZE5vZGU6IGJvb2xlYW5cclxuICBjbG9uZU5vZGVNYXJnaW46IG51bWJlclxyXG4gIGV4cGFuZE5vZGVTdGVwU2l6ZTogbnVtYmVyXHJcblxyXG4gIGZsaXBFZGdlRmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuXHJcbiAgYmV0dGVyUmVhZG9ubHlFbmFibGVkOiBib29sZWFuXHJcbiAgZGlzYWJsZU5vZGVQb3B1cDogYm9vbGVhblxyXG4gIGRpc2FibGVab29tOiBib29sZWFuXHJcbiAgZGlzYWJsZVBhbjogYm9vbGVhblxyXG5cclxuICBhdXRvUmVzaXplTm9kZUZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcbiAgYXV0b1Jlc2l6ZU5vZGVFbmFibGVkQnlEZWZhdWx0OiBib29sZWFuXHJcbiAgYXV0b1Jlc2l6ZU5vZGVNYXhIZWlnaHQ6IG51bWJlclxyXG4gIGF1dG9SZXNpemVOb2RlU25hcFRvR3JpZDogYm9vbGVhblxyXG5cclxuICBjb2xsYXBzaWJsZUdyb3Vwc0ZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcbiAgY29sbGFwc2VkR3JvdXBQcmV2aWV3T25EcmFnOiBib29sZWFuXHJcblxyXG4gIGZvY3VzTW9kZUZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcblxyXG4gIHByZXNlbnRhdGlvbkZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcbiAgc2hvd1NldFN0YXJ0Tm9kZUluUG9wdXA6IGJvb2xlYW5cclxuICBkZWZhdWx0U2xpZGVTaXplOiBzdHJpbmdcclxuICB3cmFwSW5TbGlkZVBhZGRpbmc6IG51bWJlclxyXG4gIHJlc2V0Vmlld3BvcnRPblByZXNlbnRhdGlvbkVuZDogYm9vbGVhblxyXG4gIHVzZUFycm93S2V5c1RvQ2hhbmdlU2xpZGVzOiBib29sZWFuXHJcbiAgdXNlUGdVcFBnRG93bktleXNUb0NoYW5nZVNsaWRlczogYm9vbGVhblxyXG4gIHpvb21Ub1NsaWRlV2l0aG91dFBhZGRpbmc6IGJvb2xlYW5cclxuICBzbGlkZVRyYW5zaXRpb25BbmltYXRpb25EdXJhdGlvbjogbnVtYmVyXHJcbiAgc2xpZGVUcmFuc2l0aW9uQW5pbWF0aW9uSW50ZW5zaXR5OiBudW1iZXJcclxuXHJcbiAgY2FudmFzRW5jYXBzdWxhdGlvbkVuYWJsZWQ6IGJvb2xlYW5cclxuXHJcbiAgcG9ydGFsc0ZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcbiAgbWFpbnRhaW5DbG9zZWRQb3J0YWxTaXplOiBib29sZWFuXHJcbiAgc2hvd0VkZ2VzSW50b0Rpc2FibGVkUG9ydGFsczogYm9vbGVhblxyXG59XHJcblxyXG4vLyBFeHRlbmQgdGhlIFNldHRpbmdzSGVhZGluZyB0eXBlIHRvIGluY2x1ZGUgdGhlIGNoaWxkcmVuIHByb3BlcnR5IHdpdGggdGhlIGNvcnJlY3QgdHlwZXNcclxudHlwZSBWYWxpZFNldHRpbmdzSGVhZGluZyA9IFNldHRpbmdzSGVhZGluZyAmIHsgXHJcbiAgY2hpbGRyZW46IHsgXHJcbiAgICBba2V5IGluIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXNdPzogU2V0dGluZyBcclxuICB9IFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU0VUVElOR1MgPSB7XHJcbiAgLy8gQHRzLWlnbm9yZVxyXG4gIGdlbmVyYWw6IHtcclxuICAgIGxhYmVsOiAnR2VuZXJhbCcsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0dlbmVyYWwgc2V0dGluZ3Mgb2YgdGhlIEFkdmFuY2VkIENhbnZhcyBwbHVnaW4uJyxcclxuICAgIGRpc2FibGVUb2dnbGU6IHRydWUsXHJcbiAgICBjaGlsZHJlbjoge1xyXG4gICAgICBub2RlVHlwZU9uRG91YmxlQ2xpY2s6IHtcclxuICAgICAgICBsYWJlbDogJ05vZGUgdHlwZSBvbiBkb3VibGUgY2xpY2snLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIHR5cGUgb2Ygbm9kZSB0aGF0IHdpbGwgYmUgY3JlYXRlZCB3aGVuIGRvdWJsZSBjbGlja2luZyBvbiB0aGUgY2FudmFzLicsXHJcbiAgICAgICAgdHlwZTogJ2Ryb3Bkb3duJyxcclxuICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAndGV4dCc6ICdUZXh0JyxcclxuICAgICAgICAgICdmaWxlJzogJ0ZpbGUnXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGFzIERyb3Bkb3duU2V0dGluZyxcclxuICAgICAgYWxpZ25OZXdOb2Rlc1RvR3JpZDoge1xyXG4gICAgICAgIGxhYmVsOiAnQWx3YXlzIGFsaWduIG5ldyBub2RlcyB0byBncmlkJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gZW5hYmxlZCwgbmV3IG5vZGVzIHdpbGwgYmUgYWxpZ25lZCB0byB0aGUgZ3JpZC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBkZWZhdWx0VGV4dE5vZGVXaWR0aDoge1xyXG4gICAgICAgIGxhYmVsOiAnRGVmYXVsdCB0ZXh0IG5vZGUgd2lkdGgnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlZmF1bHQgd2lkdGggb2YgYSB0ZXh0IG5vZGUuJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDEsIHBhcnNlSW50KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9LFxyXG4gICAgICBkZWZhdWx0VGV4dE5vZGVIZWlnaHQ6IHtcclxuICAgICAgICBsYWJlbDogJ0RlZmF1bHQgdGV4dCBub2RlIGhlaWdodCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgZGVmYXVsdCBoZWlnaHQgb2YgYSB0ZXh0IG5vZGUuJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDEsIHBhcnNlSW50KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9LFxyXG4gICAgICBkZWZhdWx0RmlsZU5vZGVXaWR0aDoge1xyXG4gICAgICAgIGxhYmVsOiAnRGVmYXVsdCBmaWxlIG5vZGUgd2lkdGgnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlZmF1bHQgd2lkdGggb2YgYSBmaWxlIG5vZGUuJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDEsIHBhcnNlSW50KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9LFxyXG4gICAgICBkZWZhdWx0RmlsZU5vZGVIZWlnaHQ6IHtcclxuICAgICAgICBsYWJlbDogJ0RlZmF1bHQgZmlsZSBub2RlIGhlaWdodCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgZGVmYXVsdCBoZWlnaHQgb2YgYSBmaWxlIG5vZGUuJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDEsIHBhcnNlSW50KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9LFxyXG4gICAgICBtaW5Ob2RlU2l6ZToge1xyXG4gICAgICAgIGxhYmVsOiAnTWluaW11bSBub2RlIHNpemUnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG1pbmltdW0gc2l6ZSBvZiBhIG5vZGUuJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDEsIHBhcnNlSW50KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9LFxyXG4gICAgICBkaXNhYmxlRm9udFNpemVSZWxhdGl2ZVRvWm9vbToge1xyXG4gICAgICAgIGxhYmVsOiAnRGlzYWJsZSBmb250IHNpemUgcmVsYXRpdmUgdG8gem9vbScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBmb250IHNpemUgb2YgZS5nLiBncm91cCBub2RlIHRpdGxlcyBhbmQgZWRnZSBsYWJlbHMgd2lsbCBub3QgaW5jcmVhc2Ugd2hlbiB6b29taW5nIG91dC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBjb21iaW5lQ3VzdG9tU3R5bGVzSW5Ecm9wZG93bjoge1xyXG4gICAgbGFiZWw6ICdDb21iaW5lIGN1c3RvbSBzdHlsZXMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdDb21iaW5lIGFsbCBzdHlsZSBhdHRyaWJ1dGVzIG9mIEFkdmFuY2VkIENhbnZhcyBpbiBhIHNpbmdsZSBkcm9wZG93bi4nLFxyXG4gICAgY2hpbGRyZW46IHsgfVxyXG4gIH0sXHJcbiAgbm9kZVN0eWxpbmdGZWF0dXJlRW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdOb2RlIHN0eWxpbmcnLFxyXG4gICAgZGVzY3JpcHRpb246ICdTdHlsZSB5b3VyIG5vZGVzIHdpdGggZGlmZmVyZW50IHNoYXBlcyBhbmQgYm9yZGVycy4nLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgY3VzdG9tTm9kZVN0eWxlQXR0cmlidXRlczoge1xyXG4gICAgICAgIGxhYmVsOiAnQ3VzdG9tIG5vZGUgc3R5bGUgc2V0dGluZ3MnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWRkIGN1c3RvbSBzdHlsZSBzZXR0aW5ncyBmb3Igbm9kZXMuIChHbyB0byBHaXRIdWIgZm9yIG1vcmUgaW5mb3JtYXRpb24pJyxcclxuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB3aW5kb3cub3BlbihcImh0dHBzOi8vZ2l0aHViLmNvbS9EZXZlbG9wZXItTWlrZS9vYnNpZGlhbi1hZHZhbmNlZC1jYW52YXMvYmxvYi9tYWluL1JFQURNRS5tZCNjdXN0b20tc3R5bGVzXCIpXHJcbiAgICAgIH0gYXMgQnV0dG9uU2V0dGluZyxcclxuICAgICAgZGVmYXVsdFRleHROb2RlU3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgbGFiZWw6ICdEZWZhdWx0IHRleHQgbm9kZSBzdHlsZSBhdHRyaWJ1dGVzJyxcclxuICAgICAgICB0eXBlOiAnc3R5bGVzJyxcclxuICAgICAgICBnZXRQYXJhbWV0ZXJzKHNldHRpbmdzTWFuYWdlcikge1xyXG4gICAgICAgICAgcmV0dXJuIFsgLi4uQlVJTFRJTl9OT0RFX1NUWUxFX0FUVFJJQlVURVMsIC4uLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKCdjdXN0b21Ob2RlU3R5bGVBdHRyaWJ1dGVzJykgXVxyXG4gICAgICAgICAgICAuZmlsdGVyKChzZXR0aW5nKSA9PiBzZXR0aW5nLm5vZGVUeXBlcyA9PT0gdW5kZWZpbmVkIHx8IHNldHRpbmcubm9kZVR5cGVzPy5pbmNsdWRlcygndGV4dCcpKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBhcyBTdHlsZUF0dHJpYnV0ZXNTZXR0aW5nXHJcbiAgICB9XHJcbiAgfSxcclxuICBlZGdlc1N0eWxpbmdGZWF0dXJlRW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdFZGdlcyBzdHlsaW5nJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnU3R5bGUgeW91ciBlZGdlcyB3aXRoIGRpZmZlcmVudCBwYXRoIHN0eWxlcy4nLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgY3VzdG9tRWRnZVN0eWxlQXR0cmlidXRlczoge1xyXG4gICAgICAgIGxhYmVsOiAnQ3VzdG9tIGVkZ2Ugc3R5bGUgc2V0dGluZ3MnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWRkIGN1c3RvbSBzdHlsZSBzZXR0aW5ncyBmb3IgZWRnZXMuIChHbyB0byBHaXRIdWIgZm9yIG1vcmUgaW5mb3JtYXRpb24pJyxcclxuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcclxuICAgICAgICBvbkNsaWNrOiAoKSA9PiB3aW5kb3cub3BlbihcImh0dHBzOi8vZ2l0aHViLmNvbS9EZXZlbG9wZXItTWlrZS9vYnNpZGlhbi1hZHZhbmNlZC1jYW52YXMvYmxvYi9tYWluL1JFQURNRS5tZCNjdXN0b20tc3R5bGVzXCIpXHJcbiAgICAgIH0gYXMgQnV0dG9uU2V0dGluZyxcclxuICAgICAgZGVmYXVsdEVkZ2VMaW5lRGlyZWN0aW9uOiB7XHJcbiAgICAgICAgbGFiZWw6ICdEZWZhdWx0IGVkZ2UgbGluZSBkaXJlY3Rpb24nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlZmF1bHQgbGluZSBkaXJlY3Rpb24gb2YgYW4gZWRnZS4nLFxyXG4gICAgICAgIHR5cGU6ICdkcm9wZG93bicsXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgJ25vbmRpcmVjdGlvbmFsJzogJ05vbmRpcmVjdGlvbmFsJyxcclxuICAgICAgICAgICd1bmlkaXJlY3Rpb25hbCc6ICdVbmlkaXJlY3Rpb25hbCcsXHJcbiAgICAgICAgICAnYmlkaXJlY3Rpb25hbCc6ICdCaWRpcmVjdGlvbmFsJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSBhcyBEcm9wZG93blNldHRpbmcsXHJcbiAgICAgIGRlZmF1bHRFZGdlU3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgbGFiZWw6ICdEZWZhdWx0IGVkZ2Ugc3R5bGUgYXR0cmlidXRlcycsXHJcbiAgICAgICAgdHlwZTogJ3N0eWxlcycsXHJcbiAgICAgICAgZ2V0UGFyYW1ldGVycyhzZXR0aW5nc01hbmFnZXIpIHtcclxuICAgICAgICAgIHJldHVybiBbIC4uLkJVSUxUSU5fRURHRV9TVFlMRV9BVFRSSUJVVEVTLCAuLi5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZygnY3VzdG9tRWRnZVN0eWxlQXR0cmlidXRlcycpIF1cclxuICAgICAgICB9XHJcbiAgICAgIH0gYXMgU3R5bGVBdHRyaWJ1dGVzU2V0dGluZyxcclxuICAgICAgZWRnZVN0eWxlVXBkYXRlV2hpbGVEcmFnZ2luZzoge1xyXG4gICAgICAgIGxhYmVsOiAnVXBkYXRlIGVkZ2Ugc3R5bGUgd2hpbGUgZHJhZ2dpbmcgKENhbiBiZSB2ZXJ5IHNsb3cpJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gZW5hYmxlZCwgdGhlIGVkZ2Ugc3R5bGUgd2lsbCBiZSB1cGRhdGVkIHdoaWxlIGRyYWdnaW5nIGFuIGVkZ2UuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgZWRnZVN0eWxlRGlyZWN0Um90YXRlQXJyb3c6IHtcclxuICAgICAgICBsYWJlbDogJ1JvdGF0ZSBhcnJvdyBpZiBwYXRoZmluZGluZyBtZXRob2QgaXMgXCJEaXJlY3RcIicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBhcnJvdyB3aWxsIGJlIHJvdGF0ZWQgdG8gdGhlIGRpcmVjdGlvbiBvZiB0aGUgZWRnZSBpZiB0aGUgcGF0aGZpbmRpbmcgbWV0aG9kIGlzIHNldCB0byBcIkRpcmVjdFwiLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGVkZ2VTdHlsZVBhdGhmaW5kZXJHcmlkUmVzb2x1dGlvbjoge1xyXG4gICAgICAgIGxhYmVsOiAnQSogZ3JpZCByZXNvbHV0aW9uJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSByZXNvbHV0aW9uIG9mIHRoZSBncmlkIHdoZW4gdXNpbmcgdGhlIEEqIHBhdGggc3R5bGUuIFRoZSBsb3dlciB0aGUgdmFsdWUsIHRoZSBtb3JlIHByZWNpc2UgdGhlIHBhdGggd2lsbCBiZS4gQnV0IGl0IHdpbGwgYWxzbyB0YWtlIGxvbmdlciB0byBjYWxjdWxhdGUuJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDUsIHBhcnNlSW50KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9LFxyXG4gICAgICBlZGdlU3R5bGVQYXRoZmluZGVyUGF0aFJvdW5kZWQ6IHtcclxuICAgICAgICBsYWJlbDogJ0EqIHJvdW5kZWQgcGF0aCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBBKiBwYXRoIHN0eWxlIHdpbGwgYmUgcm91bmRlZC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICB2YXJpYWJsZUJyZWFrcG9pbnRGZWF0dXJlRW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdWYXJpYWJsZSBicmVha3BvaW50JyxcclxuICAgIGRlc2NyaXB0aW9uOiBgQ2hhbmdlIHRoZSB6b29tIGJyZWFrcG9pbnQgKHRoZSB6b29tIGxldmVsIGF0IHdoaWNoIHRoZSBub2RlcyB3b24ndCByZW5kZXIgdGhlaXIgY29udGVudCBhbnltb3JlKSBvbiBhIHBlci1ub2RlIGJhc2lzIHVzaW5nIHRoZSAke1ZBUklBQkxFX0JSRUFLUE9JTlRfQ1NTX1ZBUn0gQ1NTIHZhcmlhYmxlLmAsXHJcbiAgICBjaGlsZHJlbjogeyB9XHJcbiAgfSxcclxuICBjb21tYW5kc0ZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0V4dGVuZGVkIGNvbW1hbmRzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQWRkIG1vcmUgY29tbWFuZHMgdG8gdGhlIGNhbnZhcy4nLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgem9vbVRvQ2xvbmVkTm9kZToge1xyXG4gICAgICAgIGxhYmVsOiAnWm9vbSB0byBjbG9uZWQgbm9kZScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBjYW52YXMgd2lsbCB6b29tIHRvIHRoZSBjbG9uZWQgbm9kZS4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBjbG9uZU5vZGVNYXJnaW46IHtcclxuICAgICAgICBsYWJlbDogJ0Nsb25lIG5vZGUgbWFyZ2luJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXJnaW4gYmV0d2VlbiB0aGUgY2xvbmVkIG5vZGUgYW5kIHRoZSBzb3VyY2Ugbm9kZS4nLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT4gTWF0aC5tYXgoMCwgcGFyc2VJbnQodmFsdWUpIHx8IDApXHJcbiAgICAgIH0sXHJcbiAgICAgIGV4cGFuZE5vZGVTdGVwU2l6ZToge1xyXG4gICAgICAgIGxhYmVsOiAnRXhwYW5kIG5vZGUgc3RlcCBzaXplJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBzdGVwIHNpemUgZm9yIGV4cGFuZGluZyB0aGUgbm9kZS4nLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT4gTWF0aC5tYXgoMSwgcGFyc2VJbnQodmFsdWUpIHx8IDApXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGZsaXBFZGdlRmVhdHVyZUVuYWJsZWQ6IHtcclxuICAgIGxhYmVsOiAnRmxpcCBlZGdlcycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0ZsaXAgdGhlIGRpcmVjdGlvbiBvZiBlZGdlcyB1c2luZyB0aGUgcG9wdXAgbWVudS4nLFxyXG4gICAgY2hpbGRyZW46IHsgfVxyXG4gIH0sXHJcbiAgYmV0dGVyUmVhZG9ubHlFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0JldHRlciByZWFkb25seScsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0ltcHJvdmUgdGhlIHJlYWRvbmx5IG1vZGUuJyxcclxuICAgIGNoaWxkcmVuOiB7XHJcbiAgICAgIGRpc2FibGVOb2RlUG9wdXA6IHtcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgbm9kZSBwb3B1cCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBub2RlIHBvcHVwIHdpbGwgYmUgZGlzYWJsZWQuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgZGlzYWJsZVpvb206IHtcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgem9vbScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHpvb21pbmcgd2lsbCBiZSBkaXNhYmxlZC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBkaXNhYmxlUGFuOiB7XHJcbiAgICAgICAgbGFiZWw6ICdEaXNhYmxlIHBhbicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHBhbm5pbmcgd2lsbCBiZSBkaXNhYmxlZC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBhdXRvUmVzaXplTm9kZUZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0F1dG8gcmVzaXplIG5vZGUnLFxyXG4gICAgZGVzY3JpcHRpb246ICdBdXRvbWF0aWNhbGx5IHJlc2l6ZSB0aGUgaGVpZ2h0IG9mIGEgbm9kZSB0byBmaXQgdGhlIGNvbnRlbnQuJyxcclxuICAgIGNoaWxkcmVuOiB7XHJcbiAgICAgIGF1dG9SZXNpemVOb2RlRW5hYmxlZEJ5RGVmYXVsdDoge1xyXG4gICAgICAgIGxhYmVsOiAnRW5hYmxlIGF1dG8gcmVzaXplIGJ5IGRlZmF1bHQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB0aGUgYXV0byByZXNpemUgZmVhdHVyZSB3aWxsIGJlIGVuYWJsZWQgYnkgZGVmYXVsdCBmb3IgYWxsIG5vZGVzLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGF1dG9SZXNpemVOb2RlTWF4SGVpZ2h0OiB7XHJcbiAgICAgICAgbGFiZWw6ICdNYXggaGVpZ2h0JyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXhpbXVtIGhlaWdodCBvZiB0aGUgbm9kZSB3aGVuIGF1dG8gcmVzaXppbmcgKC0xIGZvciB1bmxpbWl0ZWQpLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgtMSwgcGFyc2VJbnQodmFsdWUpID8/IC0xKVxyXG4gICAgICB9LFxyXG4gICAgICBhdXRvUmVzaXplTm9kZVNuYXBUb0dyaWQ6IHtcclxuICAgICAgICBsYWJlbDogJ1NuYXAgdG8gZ3JpZCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBoZWlnaHQgb2YgdGhlIG5vZGUgd2lsbCBzbmFwIHRvIHRoZSBncmlkLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGNvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQ6IHtcclxuICAgIGxhYmVsOiAnQ29sbGFwc2libGUgZ3JvdXBzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnR3JvdXAgbm9kZXMgY2FuIGJlIGNvbGxhcHNlZCBhbmQgZXhwYW5kZWQgdG8ga2VlcCB0aGUgY2FudmFzIG9yZ2FuaXplZC4nLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgY29sbGFwc2VkR3JvdXBQcmV2aWV3T25EcmFnOiB7XHJcbiAgICAgICAgbGFiZWw6ICdDb2xsYXBzZWQgZ3JvdXAgcHJldmlldyBvbiBkcmFnJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gZW5hYmxlZCwgYSBncm91cCB0aGF0IGlzIGNvbGxhcHNlZCBzaG93IGl0cyBib3JkZXIgd2hpbGUgZHJhZ2dpbmcgYSBub2RlLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGZvY3VzTW9kZUZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0ZvY3VzIG1vZGUnLFxyXG4gICAgZGVzY3JpcHRpb246ICdGb2N1cyBvbiBhIHNpbmdsZSBub2RlIGFuZCBibHVyIGFsbCBvdGhlciBub2Rlcy4nLFxyXG4gICAgY2hpbGRyZW46IHsgfVxyXG4gIH0sXHJcbiAgcHJlc2VudGF0aW9uRmVhdHVyZUVuYWJsZWQ6IHtcclxuICAgIGxhYmVsOiAnUHJlc2VudGF0aW9ucycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBhIHByZXNlbnRhdGlvbiBmcm9tIHlvdXIgY2FudmFzLicsXHJcbiAgICBjaGlsZHJlbjoge1xyXG4gICAgICBzaG93U2V0U3RhcnROb2RlSW5Qb3B1cDoge1xyXG4gICAgICAgIGxhYmVsOiAnU2hvdyBcIlNldCBTdGFydCBOb2RlXCIgaW4gbm9kZSBwb3B1cCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdJZiB0dXJuZWQgb2ZmLCB5b3UgY2FuIHN0aWxsIHNldCB0aGUgc3RhcnQgbm9kZSB1c2luZyB0aGUgY29ycmVzcG9uZGluZyBjb21tYW5kLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlZmF1bHRTbGlkZVNpemU6IHtcclxuICAgICAgICBsYWJlbDogJ0RlZmF1bHQgc2xpZGUgcmF0aW8nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlZmF1bHQgcmF0aW8gb2YgdGhlIHNsaWRlLiBGb3IgZXhhbXBsZSwgMTY6OSBpcyAxMjAweDY3NSBhbmQgMzoyIGlzIDEzNTB4OTAwLicsXHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH0sXHJcbiAgICAgIHdyYXBJblNsaWRlUGFkZGluZzoge1xyXG4gICAgICAgIGxhYmVsOiAnV3JhcCBpbiBzbGlkZSBwYWRkaW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWRkaW5nIG9mIHRoZSBzbGlkZSB3aGVuIHdyYXBwaW5nIHRoZSBjYW52YXMgaW4gYSBzbGlkZS4nLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT4gTWF0aC5tYXgoMCwgcGFyc2VJbnQodmFsdWUpIHx8IDApXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc2V0Vmlld3BvcnRPblByZXNlbnRhdGlvbkVuZDoge1xyXG4gICAgICAgIGxhYmVsOiAnUmVzZXQgdmlld3BvcnQgb24gcHJlc2VudGF0aW9uIGVuZCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSB2aWV3cG9ydCB3aWxsIGJlIHJlc2V0IHRvIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiBhZnRlciB0aGUgcHJlc2VudGF0aW9uIGVuZHMuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgdXNlQXJyb3dLZXlzVG9DaGFuZ2VTbGlkZXM6IHtcclxuICAgICAgICBsYWJlbDogJ1VzZSBhcnJvdyBrZXlzIHRvIGNoYW5nZSBzbGlkZXMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB5b3UgY2FuIHVzZSB0aGUgYXJyb3cga2V5cyB0byBjaGFuZ2Ugc2xpZGVzIGluIHByZXNlbnRhdGlvbiBtb2RlLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHVzZVBnVXBQZ0Rvd25LZXlzVG9DaGFuZ2VTbGlkZXM6IHtcclxuICAgICAgICBsYWJlbDogJ1VzZSBQZ1VwL1BnRG93biBrZXlzIHRvIGNoYW5nZSBzbGlkZXMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB5b3UgY2FuIHVzZSB0aGUgUGdVcC9QZ0Rvd24ga2V5cyB0byBjaGFuZ2Ugc2xpZGVzIGluIHByZXNlbnRhdGlvbiBtb2RlIChNYWtlcyB0aGUgcHJlc2VudGF0aW9uIG1vZGUgY29tcGF0aWJsZSB3aXRoIG1vc3QgcHJlc2VudGF0aW9uIHJlbW90ZXMpLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHpvb21Ub1NsaWRlV2l0aG91dFBhZGRpbmc6IHtcclxuICAgICAgICBsYWJlbDogJ1pvb20gdG8gc2xpZGUgd2l0aG91dCBwYWRkaW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gZW5hYmxlZCwgdGhlIGNhbnZhcyB3aWxsIHpvb20gdG8gdGhlIHNsaWRlIHdpdGhvdXQgcGFkZGluZy4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBzbGlkZVRyYW5zaXRpb25BbmltYXRpb25EdXJhdGlvbjoge1xyXG4gICAgICAgIGxhYmVsOiAnU2xpZGUgdHJhbnNpdGlvbiBhbmltYXRpb24gZHVyYXRpb24nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGR1cmF0aW9uIG9mIHRoZSBzbGlkZSB0cmFuc2l0aW9uIGFuaW1hdGlvbiBpbiBzZWNvbmRzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHRoZSBhbmltYXRpb24uJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDAsIHBhcnNlRmxvYXQodmFsdWUpIHx8IDApXHJcbiAgICAgIH0sXHJcbiAgICAgIHNsaWRlVHJhbnNpdGlvbkFuaW1hdGlvbkludGVuc2l0eToge1xyXG4gICAgICAgIGxhYmVsOiAnU2xpZGUgdHJhbnNpdGlvbiBhbmltYXRpb24gaW50ZW5zaXR5JyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBpbnRlbnNpdHkgb2YgdGhlIHNsaWRlIHRyYW5zaXRpb24gYW5pbWF0aW9uLiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSwgdGhlIG1vcmUgdGhlIGNhbnZhcyB3aWxsIHpvb20gb3V0IGJlZm9yZSB6b29taW5nIGluIG9uIHRoZSBuZXh0IHNsaWRlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgwLCBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBjYW52YXNFbmNhcHN1bGF0aW9uRW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdDYW52YXMgZW5jYXBzdWxhdGlvbicsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0VuY2Fwc3VsYXRlIGEgc2VsZWN0aW9uIG9mIG5vZGVzIGFuZCBlZGdlcyBpbnRvIGEgbmV3IGNhbnZhcy4nLFxyXG4gICAgY2hpbGRyZW46IHsgfVxyXG4gIH0sXHJcbiAgcG9ydGFsc0ZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ1BvcnRhbHMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGUgcG9ydGFscyB0byBvdGhlciBjYW52YXNlcy4nLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgbWFpbnRhaW5DbG9zZWRQb3J0YWxTaXplOiB7XHJcbiAgICAgICAgbGFiZWw6ICdNYWludGFpbiBjbG9zZWQgcG9ydGFsIHNpemUnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB0aGUgcG9ydGFsIHdpbGwgbWFpbnRhaW4gaXRzIHNpemUgd2hlbiBjbG9zZWQuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgc2hvd0VkZ2VzSW50b0Rpc2FibGVkUG9ydGFsczoge1xyXG4gICAgICAgIGxhYmVsOiAnU2hvdyBlZGdlcyBpbnRvIGRpc2FibGVkIHBvcnRhbHMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCBlZGdlcyBpbnRvIGRpc2FibGVkIHBvcnRhbHMgd2lsbCBiZSBzaG93bi4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59IGFzIGNvbnN0IHNhdGlzZmllcyB7XHJcbiAgW2tleSBpbiBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzXTogVmFsaWRTZXR0aW5nc0hlYWRpbmdcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1NfVkFMVUVTOiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzID0ge1xyXG4gIGRvd25sb2FkVGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICBhc2tlZEZvckRvbmF0aW9uOiBmYWxzZSxcclxuXHJcbiAgbm9kZVR5cGVPbkRvdWJsZUNsaWNrOiAndGV4dCcsXHJcbiAgYWxpZ25OZXdOb2Rlc1RvR3JpZDogdHJ1ZSxcclxuICBkZWZhdWx0VGV4dE5vZGVXaWR0aDogMjYwLFxyXG4gIGRlZmF1bHRUZXh0Tm9kZUhlaWdodDogNjAsXHJcbiAgZGVmYXVsdEZpbGVOb2RlV2lkdGg6IDQwMCxcclxuICBkZWZhdWx0RmlsZU5vZGVIZWlnaHQ6IDQwMCxcclxuICBtaW5Ob2RlU2l6ZTogNjAsXHJcbiAgZGlzYWJsZUZvbnRTaXplUmVsYXRpdmVUb1pvb206IGZhbHNlLFxyXG5cclxuICBjb21iaW5lQ3VzdG9tU3R5bGVzSW5Ecm9wZG93bjogZmFsc2UsXHJcblxyXG4gIG5vZGVTdHlsaW5nRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgY3VzdG9tTm9kZVN0eWxlQXR0cmlidXRlczogW10sXHJcbiAgZGVmYXVsdFRleHROb2RlU3R5bGVBdHRyaWJ1dGVzOiB7fSxcclxuXHJcbiAgZWRnZXNTdHlsaW5nRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgY3VzdG9tRWRnZVN0eWxlQXR0cmlidXRlczogW10sXHJcbiAgZGVmYXVsdEVkZ2VMaW5lRGlyZWN0aW9uOiAndW5pZGlyZWN0aW9uYWwnLFxyXG4gIGRlZmF1bHRFZGdlU3R5bGVBdHRyaWJ1dGVzOiB7fSxcclxuICBlZGdlU3R5bGVVcGRhdGVXaGlsZURyYWdnaW5nOiBmYWxzZSxcclxuICBlZGdlU3R5bGVEaXJlY3RSb3RhdGVBcnJvdzogZmFsc2UsXHJcbiAgZWRnZVN0eWxlUGF0aGZpbmRlckdyaWRSZXNvbHV0aW9uOiAxMCxcclxuICBlZGdlU3R5bGVQYXRoZmluZGVyUGF0aFJvdW5kZWQ6IHRydWUsXHJcblxyXG4gIHZhcmlhYmxlQnJlYWtwb2ludEZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG5cclxuICBjb21tYW5kc0ZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG4gIHpvb21Ub0Nsb25lZE5vZGU6IHRydWUsXHJcbiAgY2xvbmVOb2RlTWFyZ2luOiAyMCxcclxuICBleHBhbmROb2RlU3RlcFNpemU6IDIwLFxyXG5cclxuICBmbGlwRWRnZUZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG5cclxuICBiZXR0ZXJSZWFkb25seUVuYWJsZWQ6IHRydWUsXHJcbiAgZGlzYWJsZU5vZGVQb3B1cDogZmFsc2UsXHJcbiAgZGlzYWJsZVpvb206IGZhbHNlLFxyXG4gIGRpc2FibGVQYW46IGZhbHNlLFxyXG5cclxuICBhdXRvUmVzaXplTm9kZUZlYXR1cmVFbmFibGVkOiBmYWxzZSxcclxuICBhdXRvUmVzaXplTm9kZUVuYWJsZWRCeURlZmF1bHQ6IGZhbHNlLFxyXG4gIGF1dG9SZXNpemVOb2RlTWF4SGVpZ2h0OiAtMSxcclxuICBhdXRvUmVzaXplTm9kZVNuYXBUb0dyaWQ6IHRydWUsXHJcblxyXG4gIGNvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgY29sbGFwc2VkR3JvdXBQcmV2aWV3T25EcmFnOiB0cnVlLFxyXG5cclxuICBmb2N1c01vZGVGZWF0dXJlRW5hYmxlZDogdHJ1ZSxcclxuXHJcbiAgcHJlc2VudGF0aW9uRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgc2hvd1NldFN0YXJ0Tm9kZUluUG9wdXA6IGZhbHNlLFxyXG4gIGRlZmF1bHRTbGlkZVNpemU6ICcxMjAweDY3NScsXHJcbiAgd3JhcEluU2xpZGVQYWRkaW5nOiAyMCxcclxuICByZXNldFZpZXdwb3J0T25QcmVzZW50YXRpb25FbmQ6IHRydWUsXHJcbiAgdXNlQXJyb3dLZXlzVG9DaGFuZ2VTbGlkZXM6IHRydWUsXHJcbiAgdXNlUGdVcFBnRG93bktleXNUb0NoYW5nZVNsaWRlczogdHJ1ZSxcclxuICB6b29tVG9TbGlkZVdpdGhvdXRQYWRkaW5nOiB0cnVlLFxyXG4gIHNsaWRlVHJhbnNpdGlvbkFuaW1hdGlvbkR1cmF0aW9uOiAwLjUsXHJcbiAgc2xpZGVUcmFuc2l0aW9uQW5pbWF0aW9uSW50ZW5zaXR5OiAxLjI1LFxyXG5cclxuICBjYW52YXNFbmNhcHN1bGF0aW9uRW5hYmxlZDogdHJ1ZSxcclxuXHJcbiAgcG9ydGFsc0ZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG4gIG1haW50YWluQ2xvc2VkUG9ydGFsU2l6ZTogdHJ1ZSxcclxuICBzaG93RWRnZXNJbnRvRGlzYWJsZWRQb3J0YWxzOiB0cnVlXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XHJcbiAgc3RhdGljIFNFVFRJTkdTX0NIQU5HRURfRVZFTlQgPSAnYWR2YW5jZWQtY2FudmFzOnNldHRpbmdzLWNoYW5nZWQnXHJcblxyXG4gIHByaXZhdGUgcGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpblxyXG4gIHByaXZhdGUgc2V0dGluZ3M6IEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXNcclxuICBwcml2YXRlIHNldHRpbmdzVGFiOiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdUYWJcclxuXHJcbiAgY29uc3RydWN0b3IocGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbikge1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW5cclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTX1ZBTFVFUywgYXdhaXQgdGhpcy5wbHVnaW4ubG9hZERhdGEoKSlcclxuICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihTZXR0aW5nc01hbmFnZXIuU0VUVElOR1NfQ0hBTkdFRF9FVkVOVClcclxuICB9XHJcblxyXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpXHJcbiAgfVxyXG5cclxuICBnZXRTZXR0aW5nPFQgZXh0ZW5kcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzPihrZXk6IFQpOiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzW1RdIHtcclxuICAgIHJldHVybiB0aGlzLnNldHRpbmdzW2tleV1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNldFNldHRpbmcoZGF0YTogUGFydGlhbDxBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzPikge1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24odGhpcy5zZXR0aW5ncywgZGF0YSlcclxuICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKClcclxuICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihTZXR0aW5nc01hbmFnZXIuU0VUVElOR1NfQ0hBTkdFRF9FVkVOVClcclxuICB9XHJcblxyXG4gIGFkZFNldHRpbmdzVGFiKCkge1xyXG4gICAgdGhpcy5zZXR0aW5nc1RhYiA9IG5ldyBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdUYWIodGhpcy5wbHVnaW4sIHRoaXMpXHJcbiAgICB0aGlzLnBsdWdpbi5hZGRTZXR0aW5nVGFiKHRoaXMuc2V0dGluZ3NUYWIpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcbiAgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXJcclxuXHJcbiAgY29uc3RydWN0b3IocGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbiwgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXIpIHtcclxuICAgIHN1cGVyKHBsdWdpbi5hcHAsIHBsdWdpbilcclxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gc2V0dGluZ3NNYW5hZ2VyXHJcbiAgfVxyXG5cclxuICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgbGV0IHsgY29udGFpbmVyRWwgfSA9IHRoaXNcclxuICAgIGNvbnRhaW5lckVsLmVtcHR5KClcclxuXHJcbiAgICAvLyBHZW5lcmF0ZSBzZXR0aW5ncyBmcm9tIFNFVFRJTkdTIG9iamVjdFxyXG4gICAgZm9yIChjb25zdCBbaGVhZGluZ0lkLCBoZWFkaW5nXSBvZiBPYmplY3QuZW50cmllcyhTRVRUSU5HUykgYXMgW3N0cmluZywgU2V0dGluZ3NIZWFkaW5nXVtdKSB7XHJcbiAgICAgIHRoaXMuY3JlYXRlRmVhdHVyZUhlYWRpbmcoXHJcbiAgICAgICAgY29udGFpbmVyRWwsIFxyXG4gICAgICAgIGhlYWRpbmcubGFiZWwsIFxyXG4gICAgICAgIGhlYWRpbmcuZGVzY3JpcHRpb24sIFxyXG4gICAgICAgIGhlYWRpbmcuZGlzYWJsZVRvZ2dsZSA/IG51bGwgOiBoZWFkaW5nSWQgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlc1xyXG4gICAgICApXHJcblxyXG4gICAgICBmb3IgKGxldCBbc2V0dGluZ0lkLCBzZXR0aW5nXSBvZiBPYmplY3QuZW50cmllcyhoZWFkaW5nLmNoaWxkcmVuKSBhcyBba2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgU2V0dGluZ11bXSkge1xyXG4gICAgICAgIGlmICghKHNldHRpbmdJZCBpbiBERUZBVUxUX1NFVFRJTkdTX1ZBTFVFUykpIGNvbnRpbnVlXHJcblxyXG4gICAgICAgIHN3aXRjaCAoc2V0dGluZy50eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUZXh0U2V0dGluZyhjb250YWluZXJFbCwgc2V0dGluZ0lkLCBzZXR0aW5nIGFzIFRleHRTZXR0aW5nKVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOdW1iZXJTZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZylcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJvb2xlYW5TZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgQm9vbGVhblNldHRpbmcpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICdkcm9wZG93bic6XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRHJvcGRvd25TZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgRHJvcGRvd25TZXR0aW5nKVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnYnV0dG9uJzpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b25TZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgQnV0dG9uU2V0dGluZylcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ3N0eWxlcyc6XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU3R5bGVzU2V0dGluZyhjb250YWluZXJFbCwgc2V0dGluZ0lkLCBzZXR0aW5nIGFzIFN0eWxlQXR0cmlidXRlc1NldHRpbmcpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jcmVhdGVLb0ZpQmFkZ2UoY29udGFpbmVyRWwpXHJcblxyXG4gICAgY29uc3QgY3VycmVudFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICBpZiAoY3VycmVudFRpbWVzdGFtcCAtIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoJ2Rvd25sb2FkVGltZXN0YW1wJykgPiBBU0tfRk9SX0RPTkFUSU9OX0RFTEFZXHJcbiAgICAgICYmICF0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKCdhc2tlZEZvckRvbmF0aW9uJykpIHtcclxuXHJcbiAgICAgIHRoaXMuY3JlYXRlS29GaU92ZXJsYXkoY29udGFpbmVyRWwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUZlYXR1cmVIZWFkaW5nKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgbGFiZWw6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgc2V0dGluZ3NLZXk6IGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMgfCBudWxsKTogU2V0dGluZ0VsIHtcclxuICAgIGlmIChzZXR0aW5nc0tleSA9PT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgICAuc2V0SGVhZGluZygpXHJcbiAgICAgICAgLnNldENsYXNzKCdhYy1zZXR0aW5ncy1oZWFkaW5nJylcclxuICAgICAgICAuc2V0TmFtZShcIkdlbmVyYWxcIilcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgLnNldEhlYWRpbmcoKVxyXG4gICAgICAuc2V0Q2xhc3MoJ2FjLXNldHRpbmdzLWhlYWRpbmcnKVxyXG4gICAgICAuc2V0TmFtZShsYWJlbClcclxuICAgICAgLnNldERlc2MoZGVzY3JpcHRpb24pXHJcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cclxuICAgICAgICB0b2dnbGVcclxuICAgICAgICAgIC5zZXRUb29sdGlwKFwiUmVxdWlyZXMgYSByZWxvYWQgdG8gdGFrZSBlZmZlY3QuXCIpXHJcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyhzZXR0aW5nc0tleSkgYXMgYm9vbGVhbilcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7IFtzZXR0aW5nc0tleV06IHZhbHVlIH0pXHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJSZWxvYWQgb2JzaWRpYW4gdG8gYXBwbHkgdGhlIGNoYW5nZXMuXCIpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVRleHRTZXR0aW5nKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgc2V0dGluZ0lkOiBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzLCBzZXR0aW5nOiBUZXh0U2V0dGluZykge1xyXG4gICAgbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoc2V0dGluZy5sYWJlbClcclxuICAgICAgLnNldERlc2Moc2V0dGluZy5kZXNjcmlwdGlvbilcclxuICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ0lkKSBhcyBzdHJpbmcpXHJcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7IFtzZXR0aW5nSWRdOiBzZXR0aW5nLnBhcnNlID8gc2V0dGluZy5wYXJzZSh2YWx1ZSkgOiB2YWx1ZSB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlTnVtYmVyU2V0dGluZyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHNldHRpbmdJZDoga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgc2V0dGluZzogTnVtYmVyU2V0dGluZykge1xyXG4gICAgbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoc2V0dGluZy5sYWJlbClcclxuICAgICAgLnNldERlc2Moc2V0dGluZy5kZXNjcmlwdGlvbilcclxuICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ0lkKS50b1N0cmluZygpKVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dGluZ3NNYW5hZ2VyLnNldFNldHRpbmcoeyBbc2V0dGluZ0lkXTogc2V0dGluZy5wYXJzZSh2YWx1ZSkgfSlcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUJvb2xlYW5TZXR0aW5nKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgc2V0dGluZ0lkOiBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzLCBzZXR0aW5nOiBCb29sZWFuU2V0dGluZykge1xyXG4gICAgbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoc2V0dGluZy5sYWJlbClcclxuICAgICAgLnNldERlc2Moc2V0dGluZy5kZXNjcmlwdGlvbilcclxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ0lkKSBhcyBib29sZWFuKVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dGluZ3NNYW5hZ2VyLnNldFNldHRpbmcoeyBbc2V0dGluZ0lkXTogdmFsdWUgfSlcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZURyb3Bkb3duU2V0dGluZyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHNldHRpbmdJZDoga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgc2V0dGluZzogRHJvcGRvd25TZXR0aW5nKSB7XHJcbiAgICBuZXcgU2V0dGluZ0VsKGNvbnRhaW5lckVsKVxyXG4gICAgICAuc2V0TmFtZShzZXR0aW5nLmxhYmVsKVxyXG4gICAgICAuc2V0RGVzYyhzZXR0aW5nLmRlc2NyaXB0aW9uKVxyXG4gICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cclxuICAgICAgICAuYWRkT3B0aW9ucyhzZXR0aW5nLm9wdGlvbnMpXHJcbiAgICAgICAgLnNldFZhbHVlKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ0lkKSBhcyBzdHJpbmcpXHJcbiAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7IFtzZXR0aW5nSWRdOiB2YWx1ZSB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQnV0dG9uU2V0dGluZyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHNldHRpbmdJZDoga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgc2V0dGluZzogQnV0dG9uU2V0dGluZykge1xyXG4gICAgbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoc2V0dGluZy5sYWJlbClcclxuICAgICAgLnNldERlc2Moc2V0dGluZy5kZXNjcmlwdGlvbilcclxuICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXHJcbiAgICAgICAgLnNldEJ1dHRvblRleHQoJ09wZW4nKVxyXG4gICAgICAgIC5vbkNsaWNrKCgpID0+IHNldHRpbmcub25DbGljaygpKVxyXG4gICAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVN0eWxlc1NldHRpbmcoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBzZXR0aW5nSWQ6IGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMsIHNldHRpbmc6IFN0eWxlQXR0cmlidXRlc1NldHRpbmcpIHtcclxuICAgIGNvbnN0IG5lc3RlZENvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGV0YWlscycpXHJcbiAgICBuZXN0ZWRDb250YWluZXJFbC5jbGFzc0xpc3QuYWRkKCdzZXR0aW5nLWl0ZW0nKVxyXG4gICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQobmVzdGVkQ29udGFpbmVyRWwpXHJcblxyXG4gICAgY29uc3Qgc3VtbWFyeUVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3VtbWFyeScpXHJcbiAgICBzdW1tYXJ5RWwudGV4dENvbnRlbnQgPSBzZXR0aW5nLmxhYmVsXHJcbiAgICBuZXN0ZWRDb250YWluZXJFbC5hcHBlbmRDaGlsZChzdW1tYXJ5RWwpXHJcblxyXG4gICAgZm9yIChjb25zdCBzdHlsZUF0dHJpYnV0ZSBvZiBzZXR0aW5nLmdldFBhcmFtZXRlcnModGhpcy5zZXR0aW5nc01hbmFnZXIpKSB7XHJcbiAgICAgIG5ldyBTZXR0aW5nRWwobmVzdGVkQ29udGFpbmVyRWwpXHJcbiAgICAgICAgLnNldE5hbWUoc3R5bGVBdHRyaWJ1dGUubGFiZWwpXHJcbiAgICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcbiAgICAgICAgICAuYWRkT3B0aW9ucyhPYmplY3QuZnJvbUVudHJpZXMoc3R5bGVBdHRyaWJ1dGUub3B0aW9ucy5tYXAob3B0aW9uID0+IFtvcHRpb24udmFsdWUsIG9wdGlvbi52YWx1ZSA9PT0gbnVsbCA/IGAke29wdGlvbi5sYWJlbH0gKGRlZmF1bHQpYCA6IG9wdGlvbi5sYWJlbF0pKSlcclxuICAgICAgICAgIC5zZXRWYWx1ZSgodGhpcy5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyhzZXR0aW5nSWQpIGFzIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0pW3N0eWxlQXR0cmlidXRlLmRhdGFzZXRLZXldID8/ICdudWxsJylcclxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKHNldHRpbmdJZCkgYXMgeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnbnVsbCcpIGRlbGV0ZSBuZXdWYWx1ZVtzdHlsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5XVxyXG4gICAgICAgICAgICBlbHNlIG5ld1ZhbHVlW3N0eWxlQXR0cmlidXRlLmRhdGFzZXRLZXldID0gdmFsdWVcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dGluZ3NNYW5hZ2VyLnNldFNldHRpbmcoe1xyXG4gICAgICAgICAgICAgIFtzZXR0aW5nSWRdOiBuZXdWYWx1ZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGNyZWF0ZUtvRmlPdmVybGF5KGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3Qgc2lkZWJhcldpZHRoID0gY29udGFpbmVyRWwucGFyZW50RWxlbWVudD8ucHJldmlvdXNFbGVtZW50U2libGluZz8uY2xpZW50V2lkdGggPz8gMFxyXG4gICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2tvZmktb3ZlcmxheScpXHJcbiAgICBvdmVybGF5LnN0eWxlLmxlZnQgPSBgJHtzaWRlYmFyV2lkdGh9cHhgXHJcblxyXG4gICAgY29uc3QgZGlzbWlzcyA9ICgpID0+IHtcclxuICAgICAgb3ZlcmxheS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgYXNrZWRGb3JEb25hdGlvbjogdHJ1ZSB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKVxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnRW5qb3lpbmcgdGhlIHBsdWdpbj8nXHJcbiAgICBvdmVybGF5LmFwcGVuZENoaWxkKHRpdGxlKVxyXG5cclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXHJcbiAgICBkZXNjcmlwdGlvbi5pbm5lckhUTUwgPSBgQ3VycmVudGx5LCBBZHZhbmNlZCBDYW52YXMgaGFzIHJlY2VpdmVkIDxiPn4ke1JFQ0VJVkVEX0RPTkFUSU9OU30kPC9iPiBpbiBkb25hdGlvbnMgd2l0aCBhIHRvdGFsIG9mIDxiPn4ke1NQRU5UX0hPVVJTfSBob3VyczwvYj4gc3BlbnQgb24gZGV2ZWxvcG1lbnQuYFxyXG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbilcclxuXHJcbiAgICBjb25zdCBob3VybHlSYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncHJvZ3Jlc3MnKVxyXG4gICAgaG91cmx5UmF0ZS52YWx1ZSA9IFJFQ0VJVkVEX0RPTkFUSU9OUyAvIFNQRU5UX0hPVVJTXHJcbiAgICBob3VybHlSYXRlLm1heCA9IEhPVVJMWV9SQVRFX0dPQUxcclxuICAgIG92ZXJsYXkuYXBwZW5kQ2hpbGQoaG91cmx5UmF0ZSlcclxuXHJcbiAgICBjb25zdCB0YXJnZXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG4gICAgdGFyZ2V0RGVzY3JpcHRpb24uaW5uZXJIVE1MID0gYFBsZWFzZSBoZWxwIG1lIGRldmVsb3AgdGhpcyBwbHVnaW4gZnVydGhlciBieSByZWFjaGluZyB0aGUgZ29hbCBvZiA8Yj4ke0hPVVJMWV9SQVRFX0dPQUx9JC9ob3VyPC9iPi5gXHJcbiAgICBvdmVybGF5LmFwcGVuZENoaWxkKHRhcmdldERlc2NyaXB0aW9uKVxyXG5cclxuICAgIGNvbnN0IGtvRmlCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcclxuICAgIGtvRmlCdXR0b24uY2xhc3NMaXN0LmFkZCgna29maS1idXR0b24nKVxyXG4gICAga29GaUJ1dHRvbi5ocmVmID0gS09GSV9QQUdFX1VSTFxyXG4gICAga29GaUJ1dHRvbi50YXJnZXQgPSAnX2JsYW5rJ1xyXG4gICAga29GaUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRpc21pc3MpXHJcblxyXG4gICAgY29uc3Qga29GaUltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcclxuICAgIGtvRmlJbWFnZS5zcmMgPSBLT0ZJX0JBREdFX1VSSVxyXG5cclxuICAgIGtvRmlCdXR0b24uYXBwZW5kQ2hpbGQoa29GaUltYWdlKVxyXG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZChrb0ZpQnV0dG9uKVxyXG5cclxuICAgIGNvbnN0IG5vQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuICAgIG5vQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25vLWJ1dHRvbicpXHJcbiAgICBub0J1dHRvbi50ZXh0Q29udGVudCA9IFwiSSBkb24ndCB3YW50IHRvIGhlbHBcIlxyXG4gICAgbm9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkaXNtaXNzKVxyXG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZChub0J1dHRvbilcclxuXHJcbiAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChvdmVybGF5KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVLb0ZpQmFkZ2UoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBjb25zdCBrb0ZpQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXHJcbiAgICBrb0ZpQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2tvZmktYnV0dG9uJylcclxuICAgIGtvRmlCdXR0b24uY2xhc3NMaXN0LmFkZCgnc3RpY2t5JylcclxuICAgIGtvRmlCdXR0b24uaHJlZiA9IEtPRklfUEFHRV9VUkxcclxuICAgIGtvRmlCdXR0b24udGFyZ2V0ID0gJ19ibGFuaydcclxuXHJcbiAgICBjb25zdCBrb0ZpSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG4gICAga29GaUltYWdlLnNyYyA9IEtPRklfQkFER0VfVVJJXHJcblxyXG4gICAga29GaUJ1dHRvbi5hcHBlbmRDaGlsZChrb0ZpSW1hZ2UpXHJcbiAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChrb0ZpQnV0dG9uKVxyXG4gIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgQ2FudmFzTm9kZVR5cGUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdHlsZUF0dHJpYnV0ZU9wdGlvbiB7XHJcbiAgaWNvbjogc3RyaW5nXHJcbiAgbGFiZWw6IHN0cmluZ1xyXG4gIHZhbHVlOiBzdHJpbmcgfCBudWxsIC8vIFRoZSBlbGVtZW50IHdpdGggdGhlIG51bGwgdmFsdWUgaXMgdGhlIGRlZmF1bHRcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdHlsZUF0dHJpYnV0ZSB7XHJcbiAgZGF0YXNldEtleTogc3RyaW5nXHJcbiAgbGFiZWw6IHN0cmluZ1xyXG4gIG5vZGVUeXBlcz86IENhbnZhc05vZGVUeXBlW11cclxuICBvcHRpb25zOiBTdHlsZUF0dHJpYnV0ZU9wdGlvbltdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBCVUlMVElOX05PREVfU1RZTEVfQVRUUklCVVRFUyA9IFtcclxuICB7XHJcbiAgICBkYXRhc2V0S2V5OiAndGV4dEFsaWduJyxcclxuICAgIGxhYmVsOiAnVGV4dCBBbGlnbm1lbnQnLFxyXG4gICAgbm9kZVR5cGVzOiBbJ3RleHQnXSxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhbGlnbi1sZWZ0JyxcclxuICAgICAgICBsYWJlbDogJ0xlZnQnLFxyXG4gICAgICAgIHZhbHVlOiBudWxsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAnYWxpZ24tY2VudGVyJyxcclxuICAgICAgICBsYWJlbDogJ0NlbnRlcicsXHJcbiAgICAgICAgdmFsdWU6ICdjZW50ZXInXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAnYWxpZ24tcmlnaHQnLFxyXG4gICAgICAgIGxhYmVsOiAnUmlnaHQnLFxyXG4gICAgICAgIHZhbHVlOiAncmlnaHQnXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9LFxyXG4gIHtcclxuICAgIGRhdGFzZXRLZXk6ICdzaGFwZScsXHJcbiAgICBsYWJlbDogJ1NoYXBlJyxcclxuICAgIG5vZGVUeXBlczogWyd0ZXh0J10sXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAncmVjdGFuZ2xlLWhvcml6b250YWwnLFxyXG4gICAgICAgIGxhYmVsOiAnUm91bmQgUmVjdGFuZ2xlJyxcclxuICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3NoYXBlLXBpbGwnLFxyXG4gICAgICAgIGxhYmVsOiAnUGlsbCcsXHJcbiAgICAgICAgdmFsdWU6ICdwaWxsJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2RpYW1vbmQnLFxyXG4gICAgICAgIGxhYmVsOiAnRGlhbW9uZCcsXHJcbiAgICAgICAgdmFsdWU6ICdkaWFtb25kJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3NoYXBlLXBhcmFsbGVsb2dyYW0nLFxyXG4gICAgICAgIGxhYmVsOiAnUGFyYWxsZWxvZ3JhbScsXHJcbiAgICAgICAgdmFsdWU6ICdwYXJhbGxlbG9ncmFtJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2NpcmNsZScsXHJcbiAgICAgICAgbGFiZWw6ICdDaXJjbGUnLFxyXG4gICAgICAgIHZhbHVlOiAnY2lyY2xlJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3NoYXBlLXByZWRlZmluZWQtcHJvY2VzcycsXHJcbiAgICAgICAgbGFiZWw6ICdQcmVkZWZpbmVkIFByb2Nlc3MnLFxyXG4gICAgICAgIHZhbHVlOiAncHJlZGVmaW5lZC1wcm9jZXNzJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3NoYXBlLWRvY3VtZW50JyxcclxuICAgICAgICBsYWJlbDogJ0RvY3VtZW50JyxcclxuICAgICAgICB2YWx1ZTogJ2RvY3VtZW50J1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3NoYXBlLWRhdGFiYXNlJyxcclxuICAgICAgICBsYWJlbDogJ0RhdGFiYXNlJyxcclxuICAgICAgICB2YWx1ZTogJ2RhdGFiYXNlJ1xyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSxcclxuICB7XHJcbiAgICBkYXRhc2V0S2V5OiAnYm9yZGVyJyxcclxuICAgIGxhYmVsOiAnQm9yZGVyJyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdib3JkZXItc29saWQnLFxyXG4gICAgICAgIGxhYmVsOiAnU29saWQnLFxyXG4gICAgICAgIHZhbHVlOiBudWxsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAnYm9yZGVyLWRhc2hlZCcsXHJcbiAgICAgICAgbGFiZWw6ICdEYXNoZWQnLFxyXG4gICAgICAgIHZhbHVlOiAnZGFzaGVkJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2JvcmRlci1kb3R0ZWQnLFxyXG4gICAgICAgIGxhYmVsOiAnRG90dGVkJyxcclxuICAgICAgICB2YWx1ZTogJ2RvdHRlZCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdleWUtb2ZmJyxcclxuICAgICAgICBsYWJlbDogJ0ludmlzaWJsZScsXHJcbiAgICAgICAgdmFsdWU6ICdpbnZpc2libGUnXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9XHJcbl0gYXMgU3R5bGVBdHRyaWJ1dGVbXVxyXG5cclxuZXhwb3J0IGNvbnN0IEJVSUxUSU5fRURHRV9TVFlMRV9BVFRSSUJVVEVTID0gW1xyXG4gIHtcclxuICAgIGRhdGFzZXRLZXk6ICdwYXRoJyxcclxuICAgIGxhYmVsOiAnUGF0aCBTdHlsZScsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAncGF0aC1zb2xpZCcsXHJcbiAgICAgICAgbGFiZWw6ICdTb2xpZCcsXHJcbiAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdwYXRoLWRvdHRlZCcsXHJcbiAgICAgICAgbGFiZWw6ICdEb3R0ZWQnLFxyXG4gICAgICAgIHZhbHVlOiAnZG90dGVkJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3BhdGgtc2hvcnQtZGFzaGVkJyxcclxuICAgICAgICBsYWJlbDogJ1Nob3J0IERhc2hlZCcsXHJcbiAgICAgICAgdmFsdWU6ICdzaG9ydC1kYXNoZWQnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAncGF0aC1sb25nLWRhc2hlZCcsXHJcbiAgICAgICAgbGFiZWw6ICdMb25nIERhc2hlZCcsXHJcbiAgICAgICAgdmFsdWU6ICdsb25nLWRhc2hlZCdcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZGF0YXNldEtleTogJ2Fycm93JyxcclxuICAgIGxhYmVsOiAnQXJyb3cgU3R5bGUnLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LXRyaWFuZ2xlJyxcclxuICAgICAgICBsYWJlbDogJ1RyaWFuZ2xlJyxcclxuICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LXRyaWFuZ2xlLW91dGxpbmUnLFxyXG4gICAgICAgIGxhYmVsOiAnVHJpYW5nbGUgT3V0bGluZScsXHJcbiAgICAgICAgdmFsdWU6ICd0cmlhbmdsZS1vdXRsaW5lJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LXRoaW4tdHJpYW5nbGUnLFxyXG4gICAgICAgIGxhYmVsOiAnVGhpbiBUcmlhbmdsZScsXHJcbiAgICAgICAgdmFsdWU6ICd0aGluLXRyaWFuZ2xlJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LWhhbHZlZC10cmlhbmdsZScsXHJcbiAgICAgICAgbGFiZWw6ICdIYWx2ZWQgVHJpYW5nbGUnLFxyXG4gICAgICAgIHZhbHVlOiAnaGFsdmVkLXRyaWFuZ2xlJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LWRpYW1vbmQnLFxyXG4gICAgICAgIGxhYmVsOiAnRGlhbW9uZCcsXHJcbiAgICAgICAgdmFsdWU6ICdkaWFtb25kJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LWRpYW1vbmQtb3V0bGluZScsXHJcbiAgICAgICAgbGFiZWw6ICdEaWFtb25kIE91dGxpbmUnLFxyXG4gICAgICAgIHZhbHVlOiAnZGlhbW9uZC1vdXRsaW5lJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LWNpcmNsZScsXHJcbiAgICAgICAgbGFiZWw6ICdDaXJjbGUnLFxyXG4gICAgICAgIHZhbHVlOiAnY2lyY2xlJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2Fycm93LWNpcmNsZS1vdXRsaW5lJyxcclxuICAgICAgICBsYWJlbDogJ0NpcmNsZSBPdXRsaW5lJyxcclxuICAgICAgICB2YWx1ZTogJ2NpcmNsZS1vdXRsaW5lJ1xyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSxcclxuICB7XHJcbiAgICBkYXRhc2V0S2V5OiAncGF0aGZpbmRpbmdNZXRob2QnLFxyXG4gICAgbGFiZWw6ICdQYXRoZmluZGluZyBNZXRob2QnLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3BhdGhmaW5kaW5nLW1ldGhvZC1iZXppZXInLFxyXG4gICAgICAgIGxhYmVsOiAnQmV6aWVyJyxcclxuICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3NsYXNoJyxcclxuICAgICAgICBsYWJlbDogJ0RpcmVjdCcsXHJcbiAgICAgICAgdmFsdWU6ICdkaXJlY3QnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAncGF0aGZpbmRpbmctbWV0aG9kLXNxdWFyZScsXHJcbiAgICAgICAgbGFiZWw6ICdTcXVhcmUnLFxyXG4gICAgICAgIHZhbHVlOiAnc3F1YXJlJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ21hcCcsXHJcbiAgICAgICAgbGFiZWw6ICdBKicsXHJcbiAgICAgICAgdmFsdWU6ICdhLXN0YXInXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9XHJcbl0gYXMgU3R5bGVBdHRyaWJ1dGVbXSIsICJpbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuaW1wb3J0IHsgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcyB9IGZyb20gXCJzcmMvc2V0dGluZ3NcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcblxyXG4gIGFic3RyYWN0IGlzRW5hYmxlZCgpOiBib29sZWFuIHwga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlc1xyXG4gIGFic3RyYWN0IGluaXQoKTogdm9pZFxyXG5cclxuICBjb25zdHJ1Y3RvcihwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luKSB7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxyXG5cclxuICAgIGNvbnN0IGlzRW5hYmxlZCA9IHRoaXMuaXNFbmFibGVkKClcclxuICAgIFxyXG4gICAgaWYgKCEoaXNFbmFibGVkID09PSB0cnVlIHx8IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoaXNFbmFibGVkIGFzIGFueSkpKSByZXR1cm5cclxuXHJcbiAgICB0aGlzLmluaXQoKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc05vZGUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jb3JlL2NhbnZhcy1leHRlbnNpb25cIlxyXG5cclxuZXhwb3J0IGNvbnN0IFZBUklBQkxFX0JSRUFLUE9JTlRfQ1NTX1ZBUiA9ICctLXZhcmlhYmxlLWJyZWFrcG9pbnQnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYXJpYWJsZUJyZWFrcG9pbnRDYW52YXNFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuICd2YXJpYWJsZUJyZWFrcG9pbnRGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQnJlYWtwb2ludENoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSwgYnJlYWtwb2ludFJlZjogeyB2YWx1ZTogYm9vbGVhbiB9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUubm9kZUVsKVxyXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlQnJlYWtwb2ludFN0cmluZyA9IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShWQVJJQUJMRV9CUkVBS1BPSU5UX0NTU19WQVIpXHJcbiAgICAgICAgaWYgKHZhcmlhYmxlQnJlYWtwb2ludFN0cmluZy5sZW5ndGggPT09IDApIHJldHVyblxyXG5cclxuICAgICAgICBjb25zdCB2YXJpYWJsZUJyZWFrcG9pbnQgPSBwYXJzZUZsb2F0KHZhcmlhYmxlQnJlYWtwb2ludFN0cmluZylcclxuICAgICAgICBpZiAoaXNOYU4odmFyaWFibGVCcmVha3BvaW50KSkgcmV0dXJuXHJcblxyXG4gICAgICAgIGJyZWFrcG9pbnRSZWYudmFsdWUgPSBjYW52YXMuem9vbSA+IHZhcmlhYmxlQnJlYWtwb2ludFxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBhZGRJY29uIH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuXHJcbmNvbnN0IENVU1RPTV9JQ09OUyA9IHtcclxuICAnc2hhcGUtcGlsbCc6IGA8cmVjdCByeD1cIjMxLjI1XCIgaGVpZ2h0PVwiNjIuNVwiIHdpZHRoPVwiOTMuNzVcIiB5PVwiMTguNzVcIiB4PVwiMy4xMjVcIiBzdHJva2Utd2lkdGg9XCI4LjMzM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJ0cmFuc3BhcmVudFwiLz5gLFxyXG4gICdzaGFwZS1wYXJhbGxlbG9ncmFtJzogYDxyZWN0IHRyYW5zZm9ybT1cInNrZXdYKC0yMClcIiByeD1cIjVcIiBoZWlnaHQ9XCI1MFwiIHdpZHRoPVwiNzBcIiB5PVwiMjVcIiB4PVwiMzVcIiBzdHJva2Utd2lkdGg9XCI4LjMzM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJ0cmFuc3BhcmVudFwiLz5gLFxyXG4gICdzaGFwZS1wcmVkZWZpbmVkLXByb2Nlc3MnOiBgXHJcbiAgICA8ZyBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIiB0cmFuc2Zvcm09XCJtYXRyaXgoNC4xNjY2NjcsMCwwLDQuMTY2NjY3LDAsMClcIj5cclxuICAgICAgPHBhdGggZD1cIk0gNC45OTk2ODcgMyBMIDE5LjAwMDMxMiAzIEMgMjAuMTA0Njg4IDMgMjEgMy44OTUzMTIgMjEgNC45OTk2ODcgTCAyMSAxOS4wMDAzMTIgQyAyMSAyMC4xMDQ2ODggMjAuMTA0Njg4IDIxIDE5LjAwMDMxMiAyMSBMIDQuOTk5Njg3IDIxIEMgMy44OTUzMTIgMjEgMyAyMC4xMDQ2ODggMyAxOS4wMDAzMTIgTCAzIDQuOTk5Njg3IEMgMyAzLjg5NTMxMiAzLjg5NTMxMiAzIDQuOTk5Njg3IDMgWiBNIDQuOTk5Njg3IDMgXCIvPlxyXG4gICAgICA8cGF0aCBkPVwiTSA3IDMgTCA3IDIxIFwiLz5cclxuICAgICAgPHBhdGggZD1cIk0gMTcgMyBMIDE3IDIxIFwiLz5cclxuICAgIDwvZz5cclxuICBgLFxyXG4gICdzaGFwZS1kb2N1bWVudCc6IGA8cGF0aCB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMCwgNSlcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguMzMzXCIgZD1cIk04My43NSAyNUM4NS44MiAyNSA4Ny41IDI2LjY4IDg3LjUgMjguNzVMODcuNSA2NC4zNzVRNjguNzUgNTQuMjUgNTAgNjQuMzc1IDMxLjI1IDc0LjUgMTIuNSA2NC4zNzVMMTIuNSAzMC42MjUgMTIuNSAyOC43NUMxMi41IDI2LjY4IDE0LjE4IDI1IDE2LjI1IDI1WlwiLz5gLFxyXG4gICdzaGFwZS1kYXRhYmFzZSc6IGBcclxuICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgyMCwgMjApXCIgc3Ryb2tlLXdpZHRoPVwiOC4zMzNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiPlxyXG4gICAgICA8cGF0aCBkPVwiTSAxIDUxIEwgMSAxMSBDIDEgNS40OCAxNC40MyAxIDMxIDEgQyA0Ny41NyAxIDYxIDUuNDggNjEgMTEgTCA2MSA1MSBDIDYxIDU2LjUyIDQ3LjU3IDYxIDMxIDYxIEMgMTQuNDMgNjEgMSA1Ni41MiAxIDUxIFpcIi8+XHJcbiAgICAgIDxwYXRoIGQ9XCJNIDEgMTEgQyAxIDE2LjUyIDE0LjQzIDIxIDMxIDIxIEMgNDcuNTcgMjEgNjEgMTYuNTIgNjEgMTFcIi8+XHJcbiAgICA8L2c+XHJcbiAgYCxcclxuICBcclxuICAnYm9yZGVyLXNvbGlkJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiOC4zMzNcIiBkPVwiTTkxLjY2NjcgNDUuODMzM3Y0LjE2NjdjMCAyLjA4MzMtMi4wODMzIDQuMTY2Ny00LjE2NjcgNC4xNjY3SDEyLjVjLTIuMDgzMyAwLTQuMTY2Ny0yLjA4MzMtNC4xNjY3LTQuMTY2N3YtNC4xNjY3XCIvPmAsXHJcbiAgJ2JvcmRlci1kYXNoZWQnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCI4LjMzM1wiIHN0cm9rZS1kYXNoYXJyYXk9XCIxMy43XCIgZD1cIk05MS42NjY3IDQ1LjgzMzN2NC4xNjY3YzAgMi4wODMzLTIuMDgzMyA0LjE2NjctNC4xNjY3IDQuMTY2N0gxMi41Yy0yLjA4MzMgMC00LjE2NjctMi4wODMzLTQuMTY2Ny00LjE2Njd2LTQuMTY2N1wiLz5gLFxyXG4gICdib3JkZXItZG90dGVkJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiOC4zMzNcIiBzdHJva2UtZGFzaGFycmF5PVwiOC43XCIgZD1cIk05MS42NjY3IDQ1LjgzMzN2NC4xNjY3YzAgMi4wODMzLTIuMDgzMyA0LjE2NjctNC4xNjY3IDQuMTY2N0gxMi41Yy0yLjA4MzMgMC00LjE2NjctMi4wODMzLTQuMTY2Ny00LjE2Njd2LTQuMTY2N1wiLz5gLFxyXG5cclxuICAncGF0aC1zb2xpZCc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguNVwiIGQ9XCJNMzcuNSA3OS4xNjY3aDM1LjQxNjdhMTQuNTgzMyAxNC41ODMzIDkwIDAwMC0yOS4xNjY3aC00NS44MzMzYTE0LjU4MzMgMTQuNTgzMyA5MCAwMTAtMjkuMTY2N0g2Mi41XCIvPmAsXHJcbiAgJ3BhdGgtZG90dGVkJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiOC41XCIgc3Ryb2tlLWRhc2hhcnJheT1cIjguOFwiIGQ9XCJNMzcuNSA3OS4xNjY3aDM1LjQxNjdhMTQuNTgzMyAxNC41ODMzIDkwIDAwMC0yOS4xNjY3aC00NS44MzMzYTE0LjU4MzMgMTQuNTgzMyA5MCAwMTAtMjkuMTY2N0g2Mi41XCIvPmAsXHJcbiAgJ3BhdGgtc2hvcnQtZGFzaGVkJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiOC41XCIgc3Ryb2tlLWRhc2hhcnJheT1cIjE1XCIgZD1cIk0zNy41IDc5LjE2NjdoMzUuNDE2N2ExNC41ODMzIDE0LjU4MzMgOTAgMDAwLTI5LjE2NjdoLTQ1LjgzMzNhMTQuNTgzMyAxNC41ODMzIDkwIDAxMC0yOS4xNjY3SDYyLjVcIi8+YCxcclxuICAncGF0aC1sb25nLWRhc2hlZCc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguNVwiIHN0cm9rZS1kYXNoYXJyYXk9XCIyM1wiIGQ9XCJNMzcuNSA3OS4xNjY3aDM1LjQxNjdhMTQuNTgzMyAxNC41ODMzIDkwIDAwMC0yOS4xNjY3aC00NS44MzMzYTE0LjU4MzMgMTQuNTgzMyA5MCAwMTAtMjkuMTY2N0g2Mi41XCIvPmAsXHJcblxyXG4gICdhcnJvdy10cmlhbmdsZSc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0gMTUgMTAgTCA4NSA1MCBMIDE1IDkwIFpcIi8+YCxcclxuICAnYXJyb3ctdHJpYW5nbGUtb3V0bGluZSc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI4LjVcIiBmaWxsPVwibm9uZVwiIGQ9XCJNIDE1IDEwIEwgODUgNTAgTCAxNSA5MCBaXCIvPmAsXHJcbiAgJ2Fycm93LXRoaW4tdHJpYW5nbGUnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiOC41XCIgZmlsbD1cIm5vbmVcIiBkPVwiTSAxNSAxMCBMIDg1IDUwIEwgMTUgOTBcIi8+YCxcclxuICAnYXJyb3ctaGFsdmVkLXRyaWFuZ2xlJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTSAxNSA1MCBMIDg1IDUwIEwgMTUgOTAgWlwiLz5gLFxyXG4gICdhcnJvdy1kaWFtb25kJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTSA1MCAwIEwgMTAwIDUwIEwgNTAgMTAwIEwgMCA1MCBaXCIvPmAsXHJcbiAgJ2Fycm93LWRpYW1vbmQtb3V0bGluZSc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCI4LjVcIiBmaWxsPVwibm9uZVwiIGQ9XCJNIDUwIDAgTCAxMDAgNTAgTCA1MCAxMDAgTCAwIDUwIFpcIi8+YCxcclxuICAnYXJyb3ctY2lyY2xlJzogYDxjaXJjbGUgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGN4PVwiNTBcIiBjeT1cIjUwXCIgcj1cIjQ1XCIvPmAsXHJcbiAgJ2Fycm93LWNpcmNsZS1vdXRsaW5lJzogYDxjaXJjbGUgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiOC41XCIgZmlsbD1cIm5vbmVcIiBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI0NVwiLz5gLFxyXG5cclxuICAncGF0aGZpbmRpbmctbWV0aG9kLWJlemllcic6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguNVwiIGQ9XCJNMzcuNSA3OS4xNjY3aDM1LjQxNjdhMTQuNTgzMyAxNC41ODMzIDkwIDAwMC0yOS4xNjY3aC00NS44MzMzYTE0LjU4MzMgMTQuNTgzMyA5MCAwMTAtMjkuMTY2N0g2Mi41XCIvPmAsXHJcbiAgJ3BhdGhmaW5kaW5nLW1ldGhvZC1zcXVhcmUnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCI4LjVcIiBkPVwiTTcyLjkxNjcgNzkuMTY2NyA3Mi45MTY3IDUwIDI3LjA4MzMgNTAgMjcuMDgzMyAyMC44MzMzXCIvPmAsXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25zSGVscGVyIHtcclxuICBzdGF0aWMgYWRkSWNvbnMoKSB7XHJcbiAgICBmb3IgKGNvbnN0IFtpZCwgc3ZnXSBvZiBPYmplY3QuZW50cmllcyhDVVNUT01fSUNPTlMpKSB7XHJcbiAgICAgIGFkZEljb24oaWQsIHN2ZylcclxuICAgIH1cclxuICB9XHJcbn0iLCAiaW1wb3J0IEFkdmFuY2VkQ2FudmFzUGx1Z2luIGZyb20gXCJzcmMvbWFpblwiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcIi4uL2NvcmUvZXZlbnRzXCJcclxuaW1wb3J0IHsgQ2FudmFzLCBDYW52YXNOb2RlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlYnVnSGVscGVyIHtcclxuICBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcbiAgbG9nZ2luZyA9IHRydWVcclxuXHJcbiAgcHJpdmF0ZSBub2RlQWRkZWRDb3VudCA9IDBcclxuICBwcml2YXRlIG5vZGVDaGFuZ2VkQ291bnQgPSAwXHJcbiAgcHJpdmF0ZSBlZGdlQWRkZWRDb3VudCA9IDBcclxuICBwcml2YXRlIGVkZ2VDaGFuZ2VkQ291bnQgPSAwXHJcblxyXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4pIHtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5DYW52YXNDaGFuZ2VkLFxyXG4gICAgICAoX2NhbnZhczogQ2FudmFzKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ub2RlQWRkZWRDb3VudCA9IDBcclxuICAgICAgICB0aGlzLm5vZGVDaGFuZ2VkQ291bnQgPSAwXHJcbiAgICAgICAgdGhpcy5lZGdlQWRkZWRDb3VudCA9IDBcclxuICAgICAgICB0aGlzLmVkZ2VDaGFuZ2VkQ291bnQgPSAwXHJcbiAgICAgIH1cclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQWRkZWQsXHJcbiAgICAgIChfY2FudmFzOiBDYW52YXMsIF9ub2RlOiBDYW52YXNOb2RlKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9nZ2luZykgY29uc29sZS5jb3VudCgnXHVEODNEXHVERkUyIE5vZGVBZGRlZCcpXHJcbiAgICAgICAgdGhpcy5ub2RlQWRkZWRDb3VudCsrXHJcbiAgICAgIH1cclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQ2hhbmdlZCxcclxuICAgICAgKF9jYW52YXM6IENhbnZhcywgX25vZGU6IENhbnZhc05vZGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5sb2dnaW5nKSBjb25zb2xlLmNvdW50KCdcdUQ4M0RcdURGRTEgTm9kZUNoYW5nZWQnKVxyXG4gICAgICAgIHRoaXMubm9kZUNoYW5nZWRDb3VudCsrXHJcbiAgICAgIH1cclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5FZGdlQWRkZWQsXHJcbiAgICAgIChfY2FudmFzOiBDYW52YXMsIF9lZGdlOiBDYW52YXNOb2RlKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9nZ2luZykgY29uc29sZS5jb3VudCgnXHVEODNEXHVERkUyIEVkZ2VBZGRlZCcpXHJcbiAgICAgICAgdGhpcy5lZGdlQWRkZWRDb3VudCsrXHJcbiAgICAgIH1cclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5FZGdlQ2hhbmdlZCxcclxuICAgICAgKF9jYW52YXM6IENhbnZhcywgX2VkZ2U6IENhbnZhc05vZGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5sb2dnaW5nKSBjb25zb2xlLmNvdW50KCdcdUQ4M0RcdURGRTEgRWRnZUNoYW5nZWQnKVxyXG4gICAgICAgIHRoaXMuZWRnZUNoYW5nZWRDb3VudCsrXHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG5cclxuICByZXNldEVmZmljaWVuY3koKSB7XHJcbiAgICB0aGlzLm5vZGVBZGRlZENvdW50ID0gMFxyXG4gICAgdGhpcy5ub2RlQ2hhbmdlZENvdW50ID0gMFxyXG4gICAgdGhpcy5lZGdlQWRkZWRDb3VudCA9IDBcclxuICAgIHRoaXMuZWRnZUNoYW5nZWRDb3VudCA9IDBcclxuICB9XHJcblxyXG4gIGxvZ0VmZmljaWVuY3koKSB7XHJcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLnBsdWdpbi5nZXRDdXJyZW50Q2FudmFzKClcclxuICAgIGlmICghY2FudmFzKSByZXR1cm5cclxuXHJcbiAgICBjb25zb2xlLmxvZygnTm9kZUFkZGVkIEVmZmljaWVuY3k6JywgdGhpcy5ub2RlQWRkZWRDb3VudCAvIGNhbnZhcy5ub2Rlcy5zaXplKVxyXG4gICAgY29uc29sZS5sb2coJ05vZGVDaGFuZ2VkIEVmZmljaWVuY3k6JywgdGhpcy5ub2RlQ2hhbmdlZENvdW50IC8gY2FudmFzLm5vZGVzLnNpemUpXHJcblxyXG4gICAgY29uc29sZS5sb2coJ0VkZ2VBZGRlZCBFZmZpY2llbmN5OicsIHRoaXMuZWRnZUFkZGVkQ291bnQgLyBjYW52YXMuZWRnZXMuc2l6ZSlcclxuICAgIGNvbnNvbGUubG9nKCdFZGdlQ2hhbmdlZCBFZmZpY2llbmN5OicsIHRoaXMuZWRnZUNoYW5nZWRDb3VudCAvIGNhbnZhcy5lZGdlcy5zaXplKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pZ3JhdGlvbkhlbHBlciB7XHJcbiAgcHJpdmF0ZSBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcblxyXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4pIHtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luXHJcbiAgfVxyXG5cclxuICBhc3luYyBtaWdyYXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdGhpcy5taWdyYXRlTm9kZUFuZEVkZ2VTdHlsZXMoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBtaWdyYXRlTm9kZUFuZEVkZ2VTdHlsZXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjYW52YXMubm9kZXMudmFsdWVzKCkpIHtcclxuICAgICAgICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuXHJcbiAgICAgICAgICBjb25zdCBuZXdTdHlsZUF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVsbCB9ID0ge31cclxuXHJcbiAgICAgICAgICBpZiAobm9kZURhdGEuaXNTdGlja2VyKSBuZXdTdHlsZUF0dHJpYnV0ZXNbJ2JvcmRlciddID0gJ2ludmlzaWJsZSdcclxuICAgICAgICAgIGlmIChub2RlRGF0YS5ib3JkZXJTdHlsZSkgbmV3U3R5bGVBdHRyaWJ1dGVzWydib3JkZXInXSA9IG5vZGVEYXRhLmJvcmRlclN0eWxlXHJcbiAgICAgICAgICBpZiAobm9kZURhdGEuc2hhcGUpIHtcclxuICAgICAgICAgICAgbmV3U3R5bGVBdHRyaWJ1dGVzLnRleHRBbGlnbiA9ICdjZW50ZXInXHJcbiAgICAgICAgICAgIG5ld1N0eWxlQXR0cmlidXRlcy5zaGFwZSA9IG5vZGVEYXRhLnNoYXBlXHJcblxyXG4gICAgICAgICAgICBpZiAobmV3U3R5bGVBdHRyaWJ1dGVzPy5zaGFwZSA9PT0gJ2NlbnRlcmVkLXJlY3RhbmdsZScpIGRlbGV0ZSBuZXdTdHlsZUF0dHJpYnV0ZXMuc2hhcGVcclxuICAgICAgICAgICAgaWYgKG5ld1N0eWxlQXR0cmlidXRlcz8uc2hhcGUgPT09ICdvdmFsJykgbmV3U3R5bGVBdHRyaWJ1dGVzLnNoYXBlID0gJ3BpbGwnXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGVsZXRlIG5vZGVEYXRhLmlzU3RpY2tlclxyXG4gICAgICAgICAgZGVsZXRlIG5vZGVEYXRhLmJvcmRlclN0eWxlXHJcbiAgICAgICAgICBkZWxldGUgbm9kZURhdGEuc2hhcGVcclxuXHJcbiAgICAgICAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAgICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgICAgICAgc3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgLi4ubm9kZURhdGEuc3R5bGVBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgIC4uLm5ld1N0eWxlQXR0cmlidXRlc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBlZGdlIG9mIGNhbnZhcy5lZGdlcy52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgY29uc3QgZWRnZURhdGEgPSBlZGdlLmdldERhdGEoKVxyXG5cclxuICAgICAgICAgIGNvbnN0IG5ld1N0eWxlQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsIH0gPSB7fVxyXG5cclxuICAgICAgICAgIGlmIChlZGdlRGF0YS5lZGdlU3R5bGUpIG5ld1N0eWxlQXR0cmlidXRlcy5lZGdlID0gZWRnZURhdGEuZWRnZVN0eWxlXHJcbiAgICAgICAgICBpZiAoZWRnZURhdGEuZWRnZVBhdGhSb3V0ZSkgbmV3U3R5bGVBdHRyaWJ1dGVzLnBhdGhmaW5kaW5nTWV0aG9kID0gZWRnZURhdGEuZWRnZVBhdGhSb3V0ZVxyXG5cclxuICAgICAgICAgIGRlbGV0ZSBlZGdlRGF0YS5lZGdlU3R5bGVcclxuICAgICAgICAgIGRlbGV0ZSBlZGdlRGF0YS5lZGdlUGF0aFJvdXRlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBXb3Jrc3BhY2VXaW5kb3cgfSBmcm9tIFwib2JzaWRpYW5cIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcIi4vbWFpblwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaW5kb3dzTWFuYWdlciB7XHJcbiAgcGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpblxyXG4gIHdpbmRvd3M6IFdpbmRvd1tdID0gW3dpbmRvd11cclxuXHJcbiAgY29uc3RydWN0b3IocGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbikge1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW5cclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oJ3dpbmRvdy1vcGVuJywgXHJcbiAgICAgIChfd2luOiBXb3Jrc3BhY2VXaW5kb3csIHdpbmRvdzogV2luZG93KSA9PiB0aGlzLndpbmRvd3MucHVzaCh3aW5kb3cpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbignd2luZG93LWNsb3NlJywgXHJcbiAgICAgIChfd2luOiBXb3Jrc3BhY2VXaW5kb3csIHdpbmRvdzogV2luZG93KSA9PiB0aGlzLndpbmRvd3MgPSB0aGlzLndpbmRvd3MuZmlsdGVyKCh3KSA9PiB3ICE9PSB3aW5kb3cpXHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBzZXRJY29uLCBzZXRUb29sdGlwIH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuaW1wb3J0IHsgQkJveCwgQ2FudmFzLCBDYW52YXNOb2RlLCBDYW52YXNOb2RlRGF0YSwgUG9zaXRpb24sIFNpemUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBTdHlsZUF0dHJpYnV0ZSB9IGZyb20gXCJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYWR2YW5jZWQtc3R5bGVzL3N0eWxlLWNvbmZpZ1wiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwic3JjL21haW5cIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwiLi9iYm94LWhlbHBlclwiXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1lbnVPcHRpb24ge1xyXG4gIGlkPzogc3RyaW5nXHJcbiAgbGFiZWw6IHN0cmluZ1xyXG4gIGljb246IHN0cmluZ1xyXG4gIGNhbGxiYWNrPzogKCkgPT4gdm9pZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNIZWxwZXIge1xyXG4gIHN0YXRpYyByZWFkb25seSBHUklEX1NJWkUgPSAyMFxyXG5cclxuICBzdGF0aWMgY2FudmFzQ29tbWFuZChwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luLCBjaGVjazogKGNhbnZhczogQ2FudmFzKSA9PiBib29sZWFuLCBydW46IChjYW52YXM6IENhbnZhcykgPT4gdm9pZCk6IChjaGVja2luZzogYm9vbGVhbikgPT4gYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKGNoZWNraW5nOiBib29sZWFuKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhbnZhcyA9IHBsdWdpbi5nZXRDdXJyZW50Q2FudmFzKClcclxuICAgICAgaWYgKGNoZWNraW5nKSByZXR1cm4gY2FudmFzICE9PSBudWxsICYmIGNoZWNrKGNhbnZhcylcclxuXHJcbiAgICAgIGlmIChjYW52YXMpIHJ1bihjYW52YXMpXHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZUNvbnRyb2xNZW51QnV0dG9uKG1lbnVPcHRpb246IE1lbnVPcHRpb24pOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBxdWlja1NldHRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgaWYgKG1lbnVPcHRpb24uaWQpIHF1aWNrU2V0dGluZy5pZCA9IG1lbnVPcHRpb24uaWRcclxuICAgIHF1aWNrU2V0dGluZy5jbGFzc0xpc3QuYWRkKCdjYW52YXMtY29udHJvbC1pdGVtJylcclxuICAgIHNldEljb24ocXVpY2tTZXR0aW5nLCBtZW51T3B0aW9uLmljb24pXHJcbiAgICBzZXRUb29sdGlwKHF1aWNrU2V0dGluZywgbWVudU9wdGlvbi5sYWJlbCwgeyBwbGFjZW1lbnQ6ICdsZWZ0JyB9KVxyXG4gICAgcXVpY2tTZXR0aW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbWVudU9wdGlvbi5jYWxsYmFjaz8uKCkpXHJcblxyXG4gICAgcmV0dXJuIHF1aWNrU2V0dGluZ1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFkZENvbnRyb2xNZW51QnV0dG9uKGNvbnRyb2xHcm91cDogSFRNTEVsZW1lbnQsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAoZWxlbWVudC5pZCkgY29udHJvbEdyb3VwLnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCk/LnJlbW92ZSgpXHJcbiAgICBjb250cm9sR3JvdXAuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVDYXJkTWVudU9wdGlvbihjYW52YXM6IENhbnZhcywgbWVudU9wdGlvbjogTWVudU9wdGlvbiwgcHJldmlld05vZGVTaXplOiAoKSA9PiBTaXplLCBvblBsYWNlZDogKGNhbnZhczogQ2FudmFzLCBwb3M6IFBvc2l0aW9uKSA9PiB2b2lkKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbWVudU9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgaWYgKG1lbnVPcHRpb24uaWQpIG1lbnVPcHRpb25FbGVtZW50LmlkID0gbWVudU9wdGlvbi5pZFxyXG4gICAgbWVudU9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2FudmFzLWNhcmQtbWVudS1idXR0b24nKVxyXG4gICAgbWVudU9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbW9kLWRyYWdnYWJsZScpXHJcbiAgICBzZXRJY29uKG1lbnVPcHRpb25FbGVtZW50LCBtZW51T3B0aW9uLmljb24pXHJcbiAgICBzZXRUb29sdGlwKG1lbnVPcHRpb25FbGVtZW50LCBtZW51T3B0aW9uLmxhYmVsLCB7IHBsYWNlbWVudDogJ3RvcCcgfSlcclxuXHJcbiAgICBtZW51T3B0aW9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xyXG4gICAgICBvblBsYWNlZChjYW52YXMsIHRoaXMuZ2V0Q2VudGVyQ29vcmRpbmF0ZXMoY2FudmFzLCBwcmV2aWV3Tm9kZVNpemUoKSkpXHJcbiAgICB9KVxyXG5cclxuICAgIG1lbnVPcHRpb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgKGUpID0+IHtcclxuICAgICAgY2FudmFzLmRyYWdUZW1wTm9kZShlLCBwcmV2aWV3Tm9kZVNpemUoKSwgKHBvczogUG9zaXRpb24pID0+IHtcclxuICAgICAgICBjYW52YXMuZGVzZWxlY3RBbGwoKVxyXG4gICAgICAgIG9uUGxhY2VkKGNhbnZhcywgcG9zKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gbWVudU9wdGlvbkVsZW1lbnRcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhZGRDYXJkTWVudU9wdGlvbihjYW52YXM6IENhbnZhcywgZWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGlmIChlbGVtZW50LmlkKSBjYW52YXM/LmNhcmRNZW51RWwucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKT8ucmVtb3ZlKClcclxuICAgIGNhbnZhcz8uY2FyZE1lbnVFbC5hcHBlbmRDaGlsZChlbGVtZW50KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZVBvcHVwTWVudU9wdGlvbihtZW51T3B0aW9uOiBNZW51T3B0aW9uKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbWVudU9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG4gICAgaWYgKG1lbnVPcHRpb24uaWQpIG1lbnVPcHRpb25FbGVtZW50LmlkID0gbWVudU9wdGlvbi5pZFxyXG4gICAgbWVudU9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2xpY2thYmxlLWljb24nKVxyXG4gICAgc2V0SWNvbihtZW51T3B0aW9uRWxlbWVudCwgbWVudU9wdGlvbi5pY29uKVxyXG4gICAgc2V0VG9vbHRpcChtZW51T3B0aW9uRWxlbWVudCwgbWVudU9wdGlvbi5sYWJlbCwgeyBwbGFjZW1lbnQ6ICd0b3AnIH0pXHJcbiAgICBtZW51T3B0aW9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1lbnVPcHRpb24uY2FsbGJhY2s/LigpKVxyXG5cclxuICAgIHJldHVybiBtZW51T3B0aW9uRWxlbWVudFxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZUV4cGFuZGFibGVQb3B1cE1lbnVPcHRpb24obWVudU9wdGlvbjogTWVudU9wdGlvbiwgc3ViTWVudU9wdGlvbnM6IE1lbnVPcHRpb25bXSk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG1lbnVPcHRpb25FbGVtZW50ID0gdGhpcy5jcmVhdGVQb3B1cE1lbnVPcHRpb24oe1xyXG4gICAgICAuLi5tZW51T3B0aW9uLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN1Ym1lbnVJZCA9IGAke21lbnVPcHRpb24uaWR9LXN1Ym1lbnVgXHJcblxyXG4gICAgICAgIGlmIChtZW51T3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XHJcbiAgICAgICAgICBtZW51T3B0aW9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxyXG4gICAgICAgICAgbWVudU9wdGlvbkVsZW1lbnQucGFyZW50RWxlbWVudD8ucXVlcnlTZWxlY3RvcihgIyR7c3VibWVudUlkfWApPy5yZW1vdmUoKVxyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZW51T3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKVxyXG5cclxuICAgICAgICAvLyBBZGQgcG9wdXAgbWVudVxyXG4gICAgICAgIGNvbnN0IHN1Ym1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIHN1Ym1lbnUuaWQgPSBzdWJtZW51SWRcclxuICAgICAgICBzdWJtZW51LmNsYXNzTGlzdC5hZGQoJ2NhbnZhcy1zdWJtZW51JylcclxuICAgICAgXHJcbiAgICAgICAgLy8gQWRkIG5lc3RlZCBvcHRpb25zXHJcbiAgICAgICAgZm9yIChjb25zdCBzdWJNZW51T3B0aW9uIG9mIHN1Yk1lbnVPcHRpb25zKSB7XHJcbiAgICAgICAgICBjb25zdCBzdWJNZW51T3B0aW9uRWxlbWVudCA9IHRoaXMuY3JlYXRlUG9wdXBNZW51T3B0aW9uKHN1Yk1lbnVPcHRpb24pXHJcbiAgICAgICAgICBzdWJtZW51LmFwcGVuZENoaWxkKHN1Yk1lbnVPcHRpb25FbGVtZW50KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWVudU9wdGlvbkVsZW1lbnQucGFyZW50RWxlbWVudD8uYXBwZW5kQ2hpbGQoc3VibWVudSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gbWVudU9wdGlvbkVsZW1lbnRcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhZGRQb3B1cE1lbnVPcHRpb24oY2FudmFzOiBDYW52YXMsIGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBpbmRleDogbnVtYmVyID0gLTEpIHtcclxuICAgIGNvbnN0IHBvcHVwTWVudUVsID0gY2FudmFzPy5tZW51Py5tZW51RWxcclxuICAgIGlmICghcG9wdXBNZW51RWwpIHJldHVyblxyXG5cclxuICAgIGlmIChlbGVtZW50LmlkKSB7XHJcbiAgICAgIGNvbnN0IG9wdGlvblRvUmVwbGFjZSA9IHBvcHVwTWVudUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YClcclxuICAgICAgaWYgKG9wdGlvblRvUmVwbGFjZSAmJiBpbmRleCA9PT0gLTEpIGluZGV4ID0gQXJyYXkuZnJvbShwb3B1cE1lbnVFbC5jaGlsZHJlbikuaW5kZXhPZihvcHRpb25Ub1JlcGxhY2UpIC0gMVxyXG4gICAgICBvcHRpb25Ub1JlcGxhY2U/LnJlbW92ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc2lzdGVyRWxlbWVudCA9IGluZGV4ID49IDAgPyBwb3B1cE1lbnVFbC5jaGlsZHJlbltpbmRleF0gOiBwb3B1cE1lbnVFbC5jaGlsZHJlbltwb3B1cE1lbnVFbC5jaGlsZHJlbi5sZW5ndGggKyBpbmRleF1cclxuICAgIHBvcHVwTWVudUVsLmluc2VydEFmdGVyKGVsZW1lbnQsIHNpc3RlckVsZW1lbnQpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0Q2VudGVyQ29vcmRpbmF0ZXMoY2FudmFzOiBDYW52YXMsIG5vZGVTaXplOiBTaXplKTogUG9zaXRpb24ge1xyXG4gICAgY29uc3Qgdmlld0JvdW5kcyA9IGNhbnZhcy5nZXRWaWV3cG9ydEJCb3goKVxyXG5cclxuICAgIHJldHVybiB7IFxyXG4gICAgICB4OiAodmlld0JvdW5kcy5taW5YICsgdmlld0JvdW5kcy5tYXhYKSAvIDIgLSBub2RlU2l6ZS53aWR0aCAvIDIsXHJcbiAgICAgIHk6ICh2aWV3Qm91bmRzLm1pblkgKyB2aWV3Qm91bmRzLm1heFkpIC8gMiAtIG5vZGVTaXplLmhlaWdodCAvIDIsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0QkJveChjYW52YXNOb2RlczogKENhbnZhc05vZGUgfCBDYW52YXNOb2RlRGF0YSlbXSkge1xyXG4gICAgbGV0IG1pblggPSBJbmZpbml0eVxyXG4gICAgbGV0IG1pblkgPSBJbmZpbml0eVxyXG4gICAgbGV0IG1heFggPSAtSW5maW5pdHlcclxuICAgIGxldCBtYXhZID0gLUluZmluaXR5XHJcblxyXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGNhbnZhc05vZGVzKSB7XHJcbiAgICAgIGNvbnN0IG5vZGVEYXRhID0gKG5vZGUgYXMgYW55KS5nZXREYXRhID8gKG5vZGUgYXMgQ2FudmFzTm9kZSkuZ2V0RGF0YSgpIDogbm9kZVxyXG5cclxuICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIG5vZGVEYXRhLngpXHJcbiAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBub2RlRGF0YS55KVxyXG4gICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgbm9kZURhdGEueCArIG5vZGVEYXRhLndpZHRoKVxyXG4gICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgbm9kZURhdGEueSArIG5vZGVEYXRhLmhlaWdodClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyB6b29tVG9CQm94KGNhbnZhczogQ2FudmFzLCBiYm94OiBCQm94KSB7XHJcbiAgICAvKiBjb25zdCB6b29tWCA9IGNhbnZhcy5jYW52YXNSZWN0LndpZHRoIC8gKDEuMSAqIChiYm94Lm1heFggLSBiYm94Lm1pblgpKVxyXG4gICAgY29uc3Qgem9vbVkgPSBjYW52YXMuY2FudmFzUmVjdC5oZWlnaHQgLyAoMS4xICogKGJib3gubWF4WSAtIGJib3gubWluWSkpXHJcbiAgICBjb25zdCB6b29tID0gTWF0aC5jbGFtcChNYXRoLm1pbih6b29tWCwgem9vbVkpLCAtNCwgMSkgKi9cclxuXHJcbiAgICBjb25zdCBQQURESU5HX0NPUlJFQ1RJT05fRkFDVE9SID0gMSAvIDEuMVxyXG4gICAgY29uc3Qgem9vbWVkQkJveCA9IEJCb3hIZWxwZXIuc2NhbGVCQm94KGJib3gsIFBBRERJTkdfQ09SUkVDVElPTl9GQUNUT1IpXHJcblxyXG4gICAgY2FudmFzLnpvb21Ub0Jib3goem9vbWVkQkJveClcclxuICAgIFxyXG4gICAgLy8gQ2FsY3VsYXRlIHpvb20gZmFjdG9yIHdpdGhvdXQgY2xhbXBcclxuICAgIGNvbnN0IHNjYWxlRmFjdG9yID0gTWF0aC5taW4oXHJcbiAgICAgIGNhbnZhcy5jYW52YXNSZWN0LndpZHRoIC8gKGJib3gubWF4WCAtIGJib3gubWluWCksXHJcbiAgICAgIGNhbnZhcy5jYW52YXNSZWN0LmhlaWdodCAvIChiYm94Lm1heFkgLSBiYm94Lm1pblkpXHJcbiAgICApXHJcblxyXG4gICAgY2FudmFzLnRab29tID0gTWF0aC5sb2cyKHNjYWxlRmFjdG9yKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFkZFN0eWxlQXR0cmlidXRlc1RvUG9wdXAocGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbiwgY2FudmFzOiBDYW52YXMsIHN0eWxlQXR0cmlidXRlczogU3R5bGVBdHRyaWJ1dGVbXSwgY3VycmVudFN0eWxlQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsIH0sIHNldFN0eWxlQXR0cmlidXRlOiAoYXR0cmlidXRlOiBTdHlsZUF0dHJpYnV0ZSwgdmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQpIHtcclxuICAgIGlmICghcGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2NvbWJpbmVDdXN0b21TdHlsZXNJbkRyb3Bkb3duJykpIFxyXG4gICAgICB0aGlzLmFkZFN0eWxlQXR0cmlidXRlc0J1dHRvbnMoY2FudmFzLCBzdHlsZUF0dHJpYnV0ZXMsIGN1cnJlbnRTdHlsZUF0dHJpYnV0ZXMsIHNldFN0eWxlQXR0cmlidXRlKVxyXG4gICAgZWxzZSB0aGlzLmFkZFN0eWxlQXR0cmlidXRlc0Ryb3Bkb3duTWVudShjYW52YXMsIHN0eWxlQXR0cmlidXRlcywgY3VycmVudFN0eWxlQXR0cmlidXRlcywgc2V0U3R5bGVBdHRyaWJ1dGUpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYWRkU3R5bGVBdHRyaWJ1dGVzQnV0dG9ucyhjYW52YXM6IENhbnZhcywgc3R5bGFibGVBdHRyaWJ1dGVzOiBTdHlsZUF0dHJpYnV0ZVtdLCBjdXJyZW50U3R5bGVBdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bGwgfSwgc2V0U3R5bGVBdHRyaWJ1dGU6IChhdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZCkge1xyXG4gICAgZm9yIChjb25zdCBzdHlsYWJsZUF0dHJpYnV0ZSBvZiBzdHlsYWJsZUF0dHJpYnV0ZXMpIHtcclxuICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IHN0eWxhYmxlQXR0cmlidXRlLm9wdGlvbnNcclxuICAgICAgICAuZmluZChvcHRpb24gPT4gY3VycmVudFN0eWxlQXR0cmlidXRlc1tzdHlsYWJsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5XSA9PT0gb3B0aW9uLnZhbHVlKSA/P1xyXG4gICAgICAgIHN0eWxhYmxlQXR0cmlidXRlLm9wdGlvbnMuZmluZCh2YWx1ZSA9PiB2YWx1ZS52YWx1ZSA9PT0gbnVsbCkhIVxyXG5cclxuICAgICAgY29uc3QgbWVudU9wdGlvbiA9IENhbnZhc0hlbHBlci5jcmVhdGVFeHBhbmRhYmxlUG9wdXBNZW51T3B0aW9uKHtcclxuICAgICAgICBpZDogYG1lbnUtb3B0aW9uLSR7c3R5bGFibGVBdHRyaWJ1dGUuZGF0YXNldEtleX1gLFxyXG4gICAgICAgIGxhYmVsOiBzdHlsYWJsZUF0dHJpYnV0ZS5sYWJlbCxcclxuICAgICAgICBpY29uOiBzZWxlY3RlZFN0eWxlLmljb25cclxuICAgICAgfSwgc3R5bGFibGVBdHRyaWJ1dGUub3B0aW9ucy5tYXAoKHN0eWxlT3B0aW9uKSA9PiAoe1xyXG4gICAgICAgIGxhYmVsOiBzdHlsZU9wdGlvbi5sYWJlbCxcclxuICAgICAgICBpY29uOiBzdHlsZU9wdGlvbi5pY29uLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAvLyBTZXQgc3R5bGUgYXR0cmlidXRlXHJcbiAgICAgICAgICBzZXRTdHlsZUF0dHJpYnV0ZShzdHlsYWJsZUF0dHJpYnV0ZSwgc3R5bGVPcHRpb24udmFsdWUpXHJcblxyXG4gICAgICAgICAgLy8gS2VlcCBjb3JyZWN0IHJlZmVyZW5jZVxyXG4gICAgICAgICAgY3VycmVudFN0eWxlQXR0cmlidXRlc1tzdHlsYWJsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5XSA9IHN0eWxlT3B0aW9uLnZhbHVlXHJcblxyXG4gICAgICAgICAgLy8gVXBkYXRlIGljb25cclxuICAgICAgICAgIHNldEljb24obWVudU9wdGlvbiwgc3R5bGVPcHRpb24uaWNvbilcclxuXHJcbiAgICAgICAgICAvLyBDbG9zZSBtZW51XHJcbiAgICAgICAgICBtZW51T3B0aW9uLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjbGljaycpKVxyXG4gICAgICAgIH1cclxuICAgICAgfSkpKVxyXG5cclxuICAgICAgLy8gQWRkIG1lbnUgb3B0aW9uIHRvIG1lbnUgYmFyXHJcbiAgICAgIENhbnZhc0hlbHBlci5hZGRQb3B1cE1lbnVPcHRpb24oY2FudmFzLCBtZW51T3B0aW9uKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFkZFN0eWxlQXR0cmlidXRlc0Ryb3Bkb3duTWVudShjYW52YXM6IENhbnZhcywgc3R5bGFibGVBdHRyaWJ1dGVzOiBTdHlsZUF0dHJpYnV0ZVtdLCBjdXJyZW50U3R5bGVBdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bGwgfSwgc2V0U3R5bGVBdHRyaWJ1dGU6IChhdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZCkge1xyXG4gICAgY29uc3QgU1RZTEVfTUVOVV9JRCA9ICdzdHlsZS1tZW51J1xyXG4gICAgY29uc3QgU1RZTEVfTUVOVV9EUk9QRE9XTl9JRCA9ICdzdHlsZS1tZW51LWRyb3Bkb3duJ1xyXG4gICAgY29uc3QgU1RZTEVfTUVOVV9EUk9QRE9XTl9TVUJNRU5VX0lEID0gJ3N0eWxlLW1lbnUtZHJvcGRvd24tc3VibWVudSdcclxuXHJcbiAgICAvLyBDaGVjayBpZiBwb3B1cCBtZW51IGV4aXN0c1xyXG4gICAgY29uc3QgcG9wdXBNZW51RWxlbWVudCA9IGNhbnZhcz8ubWVudT8ubWVudUVsXHJcbiAgICBpZiAoIXBvcHVwTWVudUVsZW1lbnQpIHJldHVyblxyXG4gICAgXHJcbiAgICAvLyBSZW1vdmUgcHJldmlvdXMgc3R5bGUgbWVudVxyXG4gICAgcG9wdXBNZW51RWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtTVFlMRV9NRU5VX0lEfWApPy5yZW1vdmUoKVxyXG5cclxuICAgIGNvbnN0IHN0eWxlTWVudUJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG4gICAgc3R5bGVNZW51QnV0dG9uRWxlbWVudC5pZCA9IFNUWUxFX01FTlVfSURcclxuICAgIHN0eWxlTWVudUJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY2xpY2thYmxlLWljb24nKVxyXG5cclxuICAgIHNldEljb24oc3R5bGVNZW51QnV0dG9uRWxlbWVudCwgJ3BhaW50YnJ1c2gnKVxyXG4gICAgc2V0VG9vbHRpcChzdHlsZU1lbnVCdXR0b25FbGVtZW50LCAnU3R5bGUnLCB7IHBsYWNlbWVudDogJ3RvcCcgfSlcclxuICAgIFxyXG4gICAgLy8gQWRkIHN0eWxlIG1lbnUgdG8gcG9wdXAgbWVudVxyXG4gICAgcG9wdXBNZW51RWxlbWVudC5hcHBlbmRDaGlsZChzdHlsZU1lbnVCdXR0b25FbGVtZW50KVxyXG5cclxuICAgIC8vIEFkZCBjbGljayBldmVudFxyXG4gICAgc3R5bGVNZW51QnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgY29uc3QgaXNPcGVuID0gc3R5bGVNZW51QnV0dG9uRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdoYXMtYWN0aXZlLW1lbnUnKVxyXG4gICAgICBpZiAoIWlzT3Blbikge1xyXG4gICAgICAgIHBvcHVwTWVudUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7U1RZTEVfTUVOVV9EUk9QRE9XTl9JRH1gKT8ucmVtb3ZlKClcclxuICAgICAgICBwb3B1cE1lbnVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke1NUWUxFX01FTlVfRFJPUERPV05fU1VCTUVOVV9JRH1gKT8ucmVtb3ZlKClcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LmlkID0gU1RZTEVfTUVOVV9EUk9QRE9XTl9JRFxyXG4gICAgICBzdHlsZU1lbnVEcm9wZG93bkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudScpXHJcblxyXG4gICAgICAvLyBQb3NpdGlvbiBjb3JyZWN0bHlcclxuICAgICAgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xyXG4gICAgICBzdHlsZU1lbnVEcm9wZG93bkVsZW1lbnQuc3R5bGUubWF4SGVpZ2h0ID0gJ2luaXRpYWwnXHJcblxyXG4gICAgICBzdHlsZU1lbnVEcm9wZG93bkVsZW1lbnQuc3R5bGUudG9wID0gYCR7cG9wdXBNZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR9cHhgXHJcblxyXG4gICAgICBjb25zdCBjYW52YXNXcmFwcGVyQ2VudGVyWCA9IGNhbnZhcy53cmFwcGVyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIGNhbnZhcy53cmFwcGVyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggLyAyXHJcblxyXG4gICAgICBjb25zdCBsZWZ0UG9zaXRpb24gPSBzdHlsZU1lbnVCdXR0b25FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLSBwb3B1cE1lbnVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnRcclxuICAgICAgY29uc3QgcmlnaHRQb3NpdGlvbiA9IHBvcHVwTWVudUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgLSBzdHlsZU1lbnVCdXR0b25FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0XHJcblxyXG4gICAgICAvLyBTd2FwIHNpZGVzIGlmIGl0IGlzIHRvbyBjbG9zZSB0byB0aGUgZWRnZVxyXG4gICAgICBpZiAocG9wdXBNZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgbGVmdFBvc2l0aW9uIDwgY2FudmFzV3JhcHBlckNlbnRlclgpXHJcbiAgICAgICAgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtsZWZ0UG9zaXRpb259cHhgXHJcbiAgICAgIGVsc2Ugc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LnN0eWxlLnJpZ2h0ID0gYCR7cmlnaHRQb3NpdGlvbn1weGBcclxuXHJcbiAgICAgIC8vIEFkZCBzdHlsZSBvcHRpb25zXHJcbiAgICAgIGZvciAoY29uc3Qgc3R5bGFibGVBdHRyaWJ1dGUgb2Ygc3R5bGFibGVBdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBzdHlsYWJsZUF0dHJpYnV0ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtJylcclxuICAgICAgICBzdHlsYWJsZUF0dHJpYnV0ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndGFwcGFibGUnKVxyXG5cclxuICAgICAgICAvLyBBZGQgaWNvblxyXG4gICAgICAgIGNvbnN0IGljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBpY29uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0taWNvbicpXHJcblxyXG4gICAgICAgIGxldCBzZWxlY3RlZFN0eWxlID0gc3R5bGFibGVBdHRyaWJ1dGUub3B0aW9uc1xyXG4gICAgICAgICAgLmZpbmQob3B0aW9uID0+IGN1cnJlbnRTdHlsZUF0dHJpYnV0ZXNbc3R5bGFibGVBdHRyaWJ1dGUuZGF0YXNldEtleV0gPT09IG9wdGlvbi52YWx1ZSkgPz9cclxuICAgICAgICAgIHN0eWxhYmxlQXR0cmlidXRlLm9wdGlvbnMuZmluZCh2YWx1ZSA9PiB2YWx1ZS52YWx1ZSA9PT0gbnVsbCkhIVxyXG4gICAgICAgIHNldEljb24oaWNvbkVsZW1lbnQsIHNlbGVjdGVkU3R5bGUuaWNvbilcclxuXHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmFwcGVuZENoaWxkKGljb25FbGVtZW50KVxyXG5cclxuICAgICAgICAvLyBBZGQgbGFiZWxcclxuICAgICAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGxhYmVsRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0tdGl0bGUnKVxyXG4gICAgICAgIGxhYmVsRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxhYmxlQXR0cmlidXRlLmxhYmVsXHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsRWxlbWVudClcclxuXHJcbiAgICAgICAgLy8gQWRkIGV4cGFuZCBpY29uXHJcbiAgICAgICAgY29uc3QgZXhwYW5kSWNvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGV4cGFuZEljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1pY29uJylcclxuICAgICAgICBzZXRJY29uKGV4cGFuZEljb25FbGVtZW50LCAnY2hldnJvbi1yaWdodCcpXHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmFwcGVuZENoaWxkKGV4cGFuZEljb25FbGVtZW50KVxyXG5cclxuICAgICAgICAvLyBBcHBlbmQgdG8gZHJvcGRvd25cclxuICAgICAgICBzdHlsZU1lbnVEcm9wZG93bkVsZW1lbnQuYXBwZW5kQ2hpbGQoc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50KVxyXG5cclxuICAgICAgICAvLyBBZGQgaG92ZXIgZWZmZWN0XHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsICgpID0+IHtcclxuICAgICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsICgpID0+IHtcclxuICAgICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gQWRkIGNsaWNrIGV2ZW50XHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgLy8gUmVtb3ZlIHByZXZpb3VzIHN1Ym1lbnVcclxuICAgICAgICAgIHBvcHVwTWVudUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7U1RZTEVfTUVOVV9EUk9QRE9XTl9TVUJNRU5VX0lEfWApPy5yZW1vdmUoKVxyXG5cclxuICAgICAgICAgIGNvbnN0IHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgICAgc3R5bGVNZW51RHJvcGRvd25TdWJtZW51RWxlbWVudC5pZCA9IFNUWUxFX01FTlVfRFJPUERPV05fU1VCTUVOVV9JRFxyXG4gICAgICAgICAgc3R5bGVNZW51RHJvcGRvd25TdWJtZW51RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtZW51JylcclxuICAgICAgXHJcbiAgICAgICAgICAvLyBQb3NpdGlvbiBjb3JyZWN0bHlcclxuICAgICAgICAgIHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXHJcbiAgICAgICAgICBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVFbGVtZW50LnN0eWxlLm1heEhlaWdodCA9ICdpbml0aWFsJ1xyXG5cclxuICAgICAgICAgIGNvbnN0IHRvcE9mZnNldCA9IHBhcnNlRmxvYXQod2luZG93LmdldENvbXB1dGVkU3R5bGUoc3R5bGVNZW51RHJvcGRvd25FbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLXRvcCcpKSArIChzdHlsZU1lbnVEcm9wZG93bkVsZW1lbnQub2Zmc2V0SGVpZ2h0IC0gc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LmNsaWVudEhlaWdodCkgLyAyXHJcbiAgICAgICAgICBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVFbGVtZW50LnN0eWxlLnRvcCA9IGAke3N0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSB0b3BPZmZzZXQgLSBwb3B1cE1lbnVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcH1weGBcclxuXHJcbiAgICAgICAgICAvLyBTd2FwIHNpZGVzIGlmIGl0IGlzIHRvbyBjbG9zZSB0byB0aGUgZWRnZVxyXG4gICAgICAgICAgY29uc3QgbGVmdFBvc2l0aW9uID0gc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0IC0gcG9wdXBNZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0XHJcbiAgICAgICAgICBjb25zdCByaWdodFBvc2l0aW9uID0gcG9wdXBNZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCAtIHN0eWxlTWVudURyb3Bkb3duRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0XHJcblxyXG4gICAgICAgICAgLy8gU3dhcCBzaWRlcyBpZiBpdCBpcyB0b28gY2xvc2UgdG8gdGhlIGVkZ2VcclxuICAgICAgICAgIGlmIChwb3B1cE1lbnVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyBsZWZ0UG9zaXRpb24gPCBjYW52YXNXcmFwcGVyQ2VudGVyWClcclxuICAgICAgICAgICAgc3R5bGVNZW51RHJvcGRvd25TdWJtZW51RWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc2l0aW9ufXB4YFxyXG4gICAgICAgICAgZWxzZSBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVFbGVtZW50LnN0eWxlLnJpZ2h0ID0gYCR7cmlnaHRQb3NpdGlvbn1weGBcclxuXHJcbiAgICAgICAgICAvLyBBZGQgc3R5bGUgb3B0aW9uc1xyXG4gICAgICAgICAgZm9yIChjb25zdCBzdHlsZU9wdGlvbiBvZiBzdHlsYWJsZUF0dHJpYnV0ZS5vcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlTWVudURyb3Bkb3duU3VibWVudU9wdGlvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZURyb3Bkb3duT3B0aW9uRWxlbWVudCh7XHJcbiAgICAgICAgICAgICAgbGFiZWw6IHN0eWxlT3B0aW9uLmxhYmVsLFxyXG4gICAgICAgICAgICAgIGljb246IHN0eWxlT3B0aW9uLmljb24sXHJcbiAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBzdHlsZSBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgICAgIHNldFN0eWxlQXR0cmlidXRlKHN0eWxhYmxlQXR0cmlidXRlLCBzdHlsZU9wdGlvbi52YWx1ZSlcclxuICBcclxuICAgICAgICAgICAgICAgIC8vIEtlZXAgY29ycmVjdCByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZUF0dHJpYnV0ZXNbc3R5bGFibGVBdHRyaWJ1dGUuZGF0YXNldEtleV0gPSBzdHlsZU9wdGlvbi52YWx1ZVxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTdHlsZSA9IHN0eWxlT3B0aW9uXHJcbiAgXHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgaWNvblxyXG4gICAgICAgICAgICAgICAgc2V0SWNvbihpY29uRWxlbWVudCwgc3R5bGVPcHRpb24uaWNvbilcclxuICBcclxuICAgICAgICAgICAgICAgIC8vIENsb3NlIG1lbnVcclxuICAgICAgICAgICAgICAgIHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQucmVtb3ZlKClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgc2VsZWN0ZWQgaWNvblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRTdHlsZSA9PT0gc3R5bGVPcHRpb24pIHtcclxuICAgICAgICAgICAgICBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVPcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZC1zZWxlY3RlZCcpXHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSWNvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkSWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWljb24nKVxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkSWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbW9kLXNlbGVjdGVkJylcclxuXHJcbiAgICAgICAgICAgICAgc2V0SWNvbihzZWxlY3RlZEljb25FbGVtZW50LCAnY2hlY2snKVxyXG4gICAgICAgICAgICAgIHN0eWxlTWVudURyb3Bkb3duU3VibWVudU9wdGlvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoc2VsZWN0ZWRJY29uRWxlbWVudClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRvIGRyb3Bkb3duIHN1Ym1lbnVcclxuICAgICAgICAgICAgc3R5bGVNZW51RHJvcGRvd25TdWJtZW51RWxlbWVudC5hcHBlbmRDaGlsZChzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVPcHRpb25FbGVtZW50KVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEFwcGVuZCB0byBib2R5XHJcbiAgICAgICAgICBwb3B1cE1lbnVFbGVtZW50LmFwcGVuZENoaWxkKHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQXBwZW5kIHRvIGJvZHlcclxuICAgICAgcG9wdXBNZW51RWxlbWVudC5hcHBlbmRDaGlsZChzdHlsZU1lbnVEcm9wZG93bkVsZW1lbnQpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZURyb3Bkb3duT3B0aW9uRWxlbWVudChtZW51T3B0aW9uOiBNZW51T3B0aW9uKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbWVudURyb3Bkb3duT3B0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbScpXHJcbiAgICBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RhcHBhYmxlJylcclxuXHJcbiAgICAvLyBBZGQgaWNvblxyXG4gICAgY29uc3QgaWNvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgaWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWljb24nKVxyXG4gICAgc2V0SWNvbihpY29uRWxlbWVudCwgbWVudU9wdGlvbi5pY29uKVxyXG4gICAgbWVudURyb3Bkb3duT3B0aW9uRWxlbWVudC5hcHBlbmRDaGlsZChpY29uRWxlbWVudClcclxuXHJcbiAgICAvLyBBZGQgbGFiZWxcclxuICAgIGNvbnN0IGxhYmVsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBsYWJlbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLXRpdGxlJylcclxuICAgIGxhYmVsRWxlbWVudC50ZXh0Q29udGVudCA9IG1lbnVPcHRpb24ubGFiZWxcclxuICAgIG1lbnVEcm9wZG93bk9wdGlvbkVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KVxyXG5cclxuICAgIC8vIEFkZCBob3ZlciBlZmZlY3RcclxuICAgIG1lbnVEcm9wZG93bk9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmVudGVyJywgKCkgPT4ge1xyXG4gICAgICBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcclxuICAgIH0pXHJcblxyXG4gICAgbWVudURyb3Bkb3duT3B0aW9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgIG1lbnVEcm9wZG93bk9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBBZGQgY2xpY2sgZXZlbnRcclxuICAgIG1lbnVEcm9wZG93bk9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIG1lbnVPcHRpb24uY2FsbGJhY2s/LigpXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlRHJvcGRvd25TZXBhcmF0b3JFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHNlcGFyYXRvckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgc2VwYXJhdG9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtZW51LXNlcGFyYXRvcicpXHJcblxyXG4gICAgcmV0dXJuIHNlcGFyYXRvckVsZW1lbnRcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQkJveCwgQ2FudmFzTm9kZURhdGEsIFBvc2l0aW9uLCBTaWRlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJCb3hIZWxwZXIge1xyXG4gIHN0YXRpYyBjb21iaW5lQkJveGVzKGJib3hlczogQkJveFtdKTogQkJveCB7XHJcbiAgICBsZXQgbWluWCA9IEluZmluaXR5XHJcbiAgICBsZXQgbWluWSA9IEluZmluaXR5XHJcbiAgICBsZXQgbWF4WCA9IC1JbmZpbml0eVxyXG4gICAgbGV0IG1heFkgPSAtSW5maW5pdHlcclxuXHJcbiAgICBmb3IgKGxldCBiYm94IG9mIGJib3hlcykge1xyXG4gICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgYmJveC5taW5YKVxyXG4gICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgYmJveC5taW5ZKVxyXG4gICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgYmJveC5tYXhYKVxyXG4gICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgYmJveC5tYXhZKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IG1pblgsIG1pblksIG1heFgsIG1heFkgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNjYWxlQkJveChiYm94OiBCQm94LCBzY2FsZTogbnVtYmVyKTogQkJveCB7XHJcbiAgICBsZXQgZGlmZlggPSAoc2NhbGUgLSAxKSAqIChiYm94Lm1heFggLSBiYm94Lm1pblgpXHJcbiAgICBsZXQgZGlmZlkgPSAoc2NhbGUgLSAxKSAqIChiYm94Lm1heFkgLSBiYm94Lm1pblkpXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbWluWDogYmJveC5taW5YIC0gZGlmZlggLyAyLFxyXG4gICAgICBtYXhYOiBiYm94Lm1heFggKyBkaWZmWCAvIDIsXHJcbiAgICAgIG1pblk6IGJib3gubWluWSAtIGRpZmZZIC8gMixcclxuICAgICAgbWF4WTogYmJveC5tYXhZICsgZGlmZlkgLyAyXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaXNDb2xsaWRpbmcoYmJveDE6IEJCb3gsIGJib3gyOiBCQm94KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gYmJveDEubWluWCA8PSBiYm94Mi5tYXhYICYmIGJib3gxLm1heFggPj0gYmJveDIubWluWCAmJiBiYm94MS5taW5ZIDw9IGJib3gyLm1heFkgJiYgYmJveDEubWF4WSA+PSBiYm94Mi5taW5ZXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaW5zaWRlQkJveChwb3NpdGlvbjogUG9zaXRpb258QkJveCwgYmJveDogQkJveCwgY2FuVG91Y2hFZGdlOiBCb29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBwcm92aWRlZEJCb3ggPSB7XHJcbiAgICAgIG1pblg6IChwb3NpdGlvbiBhcyBCQm94KS5taW5YID8/IChwb3NpdGlvbiBhcyBQb3NpdGlvbikueCxcclxuICAgICAgbWluWTogKHBvc2l0aW9uIGFzIEJCb3gpLm1pblkgPz8gKHBvc2l0aW9uIGFzIFBvc2l0aW9uKS55LFxyXG4gICAgICBtYXhYOiAocG9zaXRpb24gYXMgQkJveCkubWF4WCA/PyAocG9zaXRpb24gYXMgUG9zaXRpb24pLngsXHJcbiAgICAgIG1heFk6IChwb3NpdGlvbiBhcyBCQm94KS5tYXhZID8/IChwb3NpdGlvbiBhcyBQb3NpdGlvbikueVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gY2FuVG91Y2hFZGdlID8gcHJvdmlkZWRCQm94Lm1pblggPj0gYmJveC5taW5YICYmIHByb3ZpZGVkQkJveC5tYXhYIDw9IGJib3gubWF4WCAmJiBwcm92aWRlZEJCb3gubWluWSA+PSBiYm94Lm1pblkgJiYgcHJvdmlkZWRCQm94Lm1heFkgPD0gYmJveC5tYXhZIDpcclxuICAgICAgcHJvdmlkZWRCQm94Lm1pblggPiBiYm94Lm1pblggJiYgcHJvdmlkZWRCQm94Lm1heFggPCBiYm94Lm1heFggJiYgcHJvdmlkZWRCQm94Lm1pblkgPiBiYm94Lm1pblkgJiYgcHJvdmlkZWRCQm94Lm1heFkgPCBiYm94Lm1heFlcclxuICB9XHJcblxyXG4gIHN0YXRpYyBlbmxhcmdlQkJveChiYm94OiBCQm94LCBwYWRkaW5nOiBudW1iZXIpOiBCQm94IHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1pblg6IGJib3gubWluWCAtIHBhZGRpbmcsXHJcbiAgICAgIG1pblk6IGJib3gubWluWSAtIHBhZGRpbmcsXHJcbiAgICAgIG1heFg6IGJib3gubWF4WCArIHBhZGRpbmcsXHJcbiAgICAgIG1heFk6IGJib3gubWF4WSArIHBhZGRpbmdcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBtb3ZlSW5EaXJlY3Rpb24ocG9zaXRpb246IFBvc2l0aW9uLCBzaWRlOiBTaWRlLCBkaXN0YW5jZTogbnVtYmVyKTogUG9zaXRpb24ge1xyXG4gICAgc3dpdGNoIChzaWRlKSB7XHJcbiAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueSAtIGRpc3RhbmNlIH1cclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHJldHVybiB7IHg6IHBvc2l0aW9uLnggKyBkaXN0YW5jZSwgeTogcG9zaXRpb24ueSB9XHJcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueSArIGRpc3RhbmNlIH1cclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogcG9zaXRpb24ueCAtIGRpc3RhbmNlLCB5OiBwb3NpdGlvbi55IH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRDZW50ZXJPZkJCb3hTaWRlKGJib3g6IEJCb3gsIHNpZGU6IFNpZGUpOiBQb3NpdGlvbiB7XHJcbiAgICBzd2l0Y2ggKHNpZGUpIHtcclxuICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICByZXR1cm4geyB4OiAoYmJveC5taW5YICsgYmJveC5tYXhYKSAvIDIsIHk6IGJib3gubWluWSB9XHJcbiAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICByZXR1cm4geyB4OiBiYm94Lm1heFgsIHk6IChiYm94Lm1pblkgKyBiYm94Lm1heFkpIC8gMiB9XHJcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogKGJib3gubWluWCArIGJib3gubWF4WCkgLyAyLCB5OiBiYm94Lm1heFkgfVxyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICByZXR1cm4geyB4OiBiYm94Lm1pblgsIHk6IChiYm94Lm1pblkgKyBiYm94Lm1heFkpIC8gMiB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0U2lkZVZlY3RvcihzaWRlPzogU2lkZSk6IFBvc2l0aW9uIHtcclxuICAgIHN3aXRjaCAoc2lkZSkge1xyXG4gICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDEgfVxyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogMSwgeTogMCB9XHJcbiAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogLTEgfVxyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICByZXR1cm4geyB4OiAtMSwgeTogMCB9XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0T3Bwb3NpdGVTaWRlKHNpZGU6IFNpZGUpOiBTaWRlIHtcclxuICAgIHN3aXRjaCAoc2lkZSkge1xyXG4gICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgIHJldHVybiAnYm90dG9tJ1xyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgcmV0dXJuICdsZWZ0J1xyXG4gICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgIHJldHVybiAndG9wJ1xyXG4gICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICByZXR1cm4gJ3JpZ2h0J1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzSG9yaXpvbnRhbChzaWRlOiBTaWRlKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICdyaWdodCdcclxuICB9XHJcblxyXG4gIHN0YXRpYyBkaXJlY3Rpb24oc2lkZTogU2lkZSk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKHNpZGUgPT09ICdyaWdodCcgfHwgc2lkZSA9PT0gJ2JvdHRvbScpID8gMSA6IC0xXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgUG9zaXRpb24gfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvY2FudmFzLWhlbHBlclwiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9jb3JlL2V2ZW50c1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4uL2NvcmUvY2FudmFzLWV4dGVuc2lvblwiXHJcblxyXG5jb25zdCBHUk9VUF9OT0RFX1NJWkUgPSB7IHdpZHRoOiAzMDAsIGhlaWdodDogMzAwIH1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyb3VwQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiB0cnVlIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuQ2FudmFzQ2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB7XHJcbiAgICAgICAgQ2FudmFzSGVscGVyLmFkZENhcmRNZW51T3B0aW9uKFxyXG4gICAgICAgICAgY2FudmFzLFxyXG4gICAgICAgICAgQ2FudmFzSGVscGVyLmNyZWF0ZUNhcmRNZW51T3B0aW9uKFxyXG4gICAgICAgICAgICBjYW52YXMsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogJ2NyZWF0ZS1ncm91cCcsXHJcbiAgICAgICAgICAgICAgbGFiZWw6ICdEcmFnIHRvIGFkZCBncm91cCcsXHJcbiAgICAgICAgICAgICAgaWNvbjogJ2dyb3VwJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKSA9PiBHUk9VUF9OT0RFX1NJWkUsXHJcbiAgICAgICAgICAgIChjYW52YXM6IENhbnZhcywgcG9zOiBQb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgIGNhbnZhcy5jcmVhdGVHcm91cE5vZGUoe1xyXG4gICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICBzaXplOiBHUk9VUF9OT0RFX1NJWkVcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBNZW51LCBOb3RpY2UgfSBmcm9tICdvYnNpZGlhbidcclxuaW1wb3J0IHsgQkJveCwgQ2FudmFzLCBDYW52YXNFZGdlLCBDYW52YXNFbGVtZW50LCBDYW52YXNOb2RlLCBQb3NpdGlvbiwgU2l6ZSB9IGZyb20gJ3NyYy9AdHlwZXMvQ2FudmFzJ1xyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gJ3NyYy9jb3JlL2V2ZW50cydcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tICcuLi9jb3JlL2NhbnZhcy1leHRlbnNpb24nXHJcblxyXG5jb25zdCBTVEFSVF9TTElERV9OQU1FID0gJ1N0YXJ0IFNsaWRlJ1xyXG5jb25zdCBERUZBVUxUX1NMSURFX05BTUUgPSAnTmV3IFNsaWRlJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlc2VudGF0aW9uQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBzYXZlZFZpZXdwb3J0OiBhbnkgPSBudWxsXHJcbiAgaXNQcmVzZW50YXRpb25Nb2RlOiBib29sZWFuID0gZmFsc2VcclxuICB2aXNpdGVkTm9kZUlkczogc3RyaW5nW10gPSBbXVxyXG4gIGZ1bGxzY3JlZW5Nb2RhbE9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ3ByZXNlbnRhdGlvbkZlYXR1cmVFbmFibGVkJyBhcyBjb25zdCB9XHJcbiAgXHJcbiAgaW5pdCgpIHtcclxuICAgIC8qIEFkZCB3cmFwIGluIHNsaWRlIG9wdGlvbiB0byBjb250ZXh0IG1lbnUgKi9cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuU2VsZWN0aW9uQ29udGV4dE1lbnUsXHJcbiAgICAgIChtZW51OiBNZW51LCBjYW52YXM6IENhbnZhcykgPT4ge1xyXG4gICAgICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgLnNldFRpdGxlKCdXcmFwIGluIHNsaWRlJylcclxuICAgICAgICAgICAgLnNldEljb24oJ2dhbGxlcnktdmVydGljYWwnKVxyXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB0aGlzLmFkZFNsaWRlKGNhbnZhcywgdW5kZWZpbmVkLCBcclxuICAgICAgICAgICAgICBCQm94SGVscGVyLmVubGFyZ2VCQm94KEJCb3hIZWxwZXIuY29tYmluZUJCb3hlcyhcclxuICAgICAgICAgICAgICAgIFsuLi5jYW52YXMuc2VsZWN0aW9uLnZhbHVlcygpXS5tYXAoKGVsZW1lbnQ6IENhbnZhc0VsZW1lbnQpID0+IGVsZW1lbnQuZ2V0QkJveCgpKVxyXG4gICAgICAgICAgICAgICksIHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ3dyYXBJblNsaWRlUGFkZGluZycpKVxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjcmVhdGUtbmV3LXNsaWRlJyxcclxuXHRcdFx0bmFtZTogJ0NyZWF0ZSBuZXcgc2xpZGUnLFxyXG5cdFx0XHRjaGVja0NhbGxiYWNrOiBDYW52YXNIZWxwZXIuY2FudmFzQ29tbWFuZChcclxuICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+ICFjYW52YXMucmVhZG9ubHkgJiYgIXRoaXMuaXNQcmVzZW50YXRpb25Nb2RlLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5hZGRTbGlkZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnc2V0LXN0YXJ0LW5vZGUnLFxyXG5cdFx0XHRuYW1lOiAnU2V0IHN0YXJ0IG5vZGUnLFxyXG5cdFx0XHRjaGVja0NhbGxiYWNrOiBDYW52YXNIZWxwZXIuY2FudmFzQ29tbWFuZChcclxuICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+ICFjYW52YXMucmVhZG9ubHkgJiYgIXRoaXMuaXNQcmVzZW50YXRpb25Nb2RlICYmIGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXMubGVuZ3RoID09PSAxLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5zZXRTdGFydE5vZGUoY2FudmFzLCBjYW52YXMubm9kZXMuZ2V0KGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXNbMF0uaWQpKVxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3N0YXJ0LXByZXNlbnRhdGlvbicsXHJcbiAgICAgIG5hbWU6ICdTdGFydCBwcmVzZW50YXRpb24nLFxyXG4gICAgICBjaGVja0NhbGxiYWNrOiBDYW52YXNIZWxwZXIuY2FudmFzQ29tbWFuZChcclxuICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAoX2NhbnZhczogQ2FudmFzKSA9PiAhdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLnN0YXJ0UHJlc2VudGF0aW9uKGNhbnZhcylcclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjb250aW51ZS1wcmVzZW50YXRpb24nLFxyXG4gICAgICBuYW1lOiAnQ29udGludWUgcHJlc2VudGF0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gIXRoaXMuaXNQcmVzZW50YXRpb25Nb2RlLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5zdGFydFByZXNlbnRhdGlvbihjYW52YXMsIHRydWUpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnZW5kLXByZXNlbnRhdGlvbicsXHJcbiAgICAgIG5hbWU6ICdFbmQgcHJlc2VudGF0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmVuZFByZXNlbnRhdGlvbihjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAncHJldmlvdXMtbm9kZScsXHJcbiAgICAgIG5hbWU6ICdQcmV2aW91cyBub2RlJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLnByZXZpb3VzTm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnbmV4dC1ub2RlJyxcclxuICAgICAgbmFtZTogJ05leHQgbm9kZScsXHJcbiAgICAgIGNoZWNrQ2FsbGJhY2s6IENhbnZhc0hlbHBlci5jYW52YXNDb21tYW5kKFxyXG4gICAgICAgIHRoaXMucGx1Z2luLFxyXG4gICAgICAgIChfY2FudmFzOiBDYW52YXMpID0+IHRoaXMuaXNQcmVzZW50YXRpb25Nb2RlLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5uZXh0Tm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgLy8gUmVnaXN0ZXIgZXZlbnRzXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5vbkNhbnZhc0NoYW5nZWQoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlBvcHVwTWVudUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5vblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVNb3ZlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLm9uTm9kZU1vdmVkKGNhbnZhcywgbm9kZSlcclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBvbkNhbnZhc0NoYW5nZWQoY2FudmFzOiBDYW52YXMpOiB2b2lkIHtcclxuICAgIENhbnZhc0hlbHBlci5hZGRDYXJkTWVudU9wdGlvbihcclxuICAgICAgY2FudmFzLFxyXG4gICAgICBDYW52YXNIZWxwZXIuY3JlYXRlQ2FyZE1lbnVPcHRpb24oXHJcbiAgICAgICAgY2FudmFzLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAnbmV3LXNsaWRlJyxcclxuICAgICAgICAgIGxhYmVsOiAnRHJhZyB0byBhZGQgc2xpZGUnLFxyXG4gICAgICAgICAgaWNvbjogJ2dhbGxlcnktdmVydGljYWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAoKSA9PiB0aGlzLmdldERlZmF1bHRTbGlkZVNpemUoKSxcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMsIHBvczogUG9zaXRpb24pID0+IHRoaXMuYWRkU2xpZGUoY2FudmFzLCBwb3MpXHJcbiAgICAgIClcclxuICAgIClcclxuICB9XHJcblxyXG4gIG9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXM6IENhbnZhcyk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdzaG93U2V0U3RhcnROb2RlSW5Qb3B1cCcpKSByZXR1cm5cclxuXHJcbiAgICAvLyBJZiB0aGUgY2FudmFzIGlzIHJlYWRvbmx5IG9yIHRoZXJlIGFyZSBtdWx0aXBsZS9ubyBub2RlcyBzZWxlY3RlZCwgcmV0dXJuXHJcbiAgICBjb25zdCBzZWxlY3RlZE5vZGVzRGF0YSA9IGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXNcclxuICAgIGlmIChjYW52YXMucmVhZG9ubHkgfHwgc2VsZWN0ZWROb2Rlc0RhdGEubGVuZ3RoICE9PSAxIHx8IGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSA+IDEpIHJldHVyblxyXG4gICAgXHJcbiAgICBjb25zdCBzZWxlY3RlZE5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KHNlbGVjdGVkTm9kZXNEYXRhWzBdLmlkKVxyXG4gICAgaWYgKCFzZWxlY3RlZE5vZGUpIHJldHVyblxyXG4gICAgXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkUG9wdXBNZW51T3B0aW9uKFxyXG4gICAgICBjYW52YXMsXHJcbiAgICAgIENhbnZhc0hlbHBlci5jcmVhdGVQb3B1cE1lbnVPcHRpb24oe1xyXG4gICAgICAgIGlkOiAnc3RhcnQtbm9kZScsIFxyXG4gICAgICAgIGxhYmVsOiAnU2V0IGFzIHN0YXJ0IHNsaWRlJywgXHJcbiAgICAgICAgaWNvbjogJ3BsYXknLCBcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5zZXRTdGFydE5vZGUoY2FudmFzLCBzZWxlY3RlZE5vZGUpXHJcbiAgICAgIH0pXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTm9kZU1vdmVkKF9jYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG4gICAgaWYgKCFub2RlRGF0YS5zaWRlUmF0aW8pIHJldHVyblxyXG5cclxuICAgIGNvbnN0IG5vZGVCQm94ID0gbm9kZS5nZXRCQm94KClcclxuICAgIGNvbnN0IG5vZGVTaXplID0ge1xyXG4gICAgICB3aWR0aDogbm9kZUJCb3gubWF4WCAtIG5vZGVCQm94Lm1pblgsXHJcbiAgICAgIGhlaWdodDogbm9kZUJCb3gubWF4WSAtIG5vZGVCQm94Lm1pbllcclxuICAgIH1cclxuICAgIGNvbnN0IG5vZGVBc3BlY3RSYXRpbyA9IG5vZGVTaXplLndpZHRoIC8gbm9kZVNpemUuaGVpZ2h0XHJcblxyXG4gICAgaWYgKG5vZGVBc3BlY3RSYXRpbyA8IG5vZGVEYXRhLnNpZGVSYXRpbylcclxuICAgICAgbm9kZVNpemUud2lkdGggPSBub2RlU2l6ZS5oZWlnaHQgKiBub2RlRGF0YS5zaWRlUmF0aW9cclxuICAgIGVsc2Ugbm9kZVNpemUuaGVpZ2h0ID0gbm9kZVNpemUud2lkdGggLyBub2RlRGF0YS5zaWRlUmF0aW9cclxuXHJcbiAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgd2lkdGg6IG5vZGVTaXplLndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IG5vZGVTaXplLmhlaWdodFxyXG4gICAgfSlcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBnZXRTdGFydE5vZGUoY2FudmFzOiBDYW52YXMpOiBDYW52YXNOb2RlfHVuZGVmaW5lZCB7XHJcbiAgICBmb3IgKGNvbnN0IFtfLCBub2RlXSBvZiBjYW52YXMubm9kZXMpIHtcclxuICAgICAgaWYgKG5vZGUuZ2V0RGF0YSgpLmlzU3RhcnROb2RlKSByZXR1cm4gbm9kZVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1bmRlZmluZWRcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0U3RhcnROb2RlKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlfHVuZGVmaW5lZCkge1xyXG4gICAgaWYgKCFub2RlKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBzdGFydE5vZGUgPSB0aGlzLmdldFN0YXJ0Tm9kZShjYW52YXMpXHJcbiAgICBpZiAoc3RhcnROb2RlKSBzdGFydE5vZGUuc2V0RGF0YSh7IC4uLnN0YXJ0Tm9kZS5nZXREYXRhKCksIGlzU3RhcnROb2RlOiBmYWxzZSB9KVxyXG5cclxuICAgIGlmIChub2RlICE9PSBzdGFydE5vZGUpIG5vZGUuc2V0RGF0YSh7IC4uLm5vZGUuZ2V0RGF0YSgpLCBpc1N0YXJ0Tm9kZTogdHJ1ZSB9LCB0cnVlKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXREZWZhdWx0U2xpZGVTaXplKCk6IFNpemUge1xyXG4gICAgY29uc3Qgc2xpZGVTaXplU3RyaW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGVmYXVsdFNsaWRlU2l6ZScpXHJcbiAgICBjb25zdCBzbGlkZVNpemVBcnJheSA9IHNsaWRlU2l6ZVN0cmluZy5zcGxpdCgneCcpLm1hcCgodmFsdWU6IHN0cmluZykgPT4gcGFyc2VJbnQodmFsdWUpKVxyXG4gICAgcmV0dXJuIHsgd2lkdGg6IHNsaWRlU2l6ZUFycmF5WzBdLCBoZWlnaHQ6IHNsaWRlU2l6ZUFycmF5WzFdIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U2xpZGVBc3BlY3RSYXRpbygpOiBudW1iZXIge1xyXG4gICAgY29uc3Qgc2xpZGVTaXplID0gdGhpcy5nZXREZWZhdWx0U2xpZGVTaXplKClcclxuICAgIHJldHVybiBzbGlkZVNpemUud2lkdGggLyBzbGlkZVNpemUuaGVpZ2h0XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFNsaWRlKGNhbnZhczogQ2FudmFzLCBwb3M/OiBQb3NpdGlvbiwgYmJveD86IEJCb3gpIHtcclxuICAgIGNvbnN0IGlzU3RhcnROb2RlID0gdGhpcy5nZXRTdGFydE5vZGUoY2FudmFzKSA9PSBudWxsXHJcbiAgICBjb25zdCBzbGlkZVNpemUgPSB0aGlzLmdldERlZmF1bHRTbGlkZVNpemUoKVxyXG4gICAgY29uc3Qgc2xpZGVBc3BlY3RSYXRpbyA9IHRoaXMuZ2V0U2xpZGVBc3BlY3RSYXRpbygpXHJcblxyXG4gICAgaWYgKGJib3gpIHtcclxuICAgICAgY29uc3QgYmJveFdpZHRoID0gYmJveC5tYXhYIC0gYmJveC5taW5YXHJcbiAgICAgIGNvbnN0IGJib3hIZWlnaHQgPSBiYm94Lm1heFkgLSBiYm94Lm1pbllcclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgbm9kZXMgZml0IGluc2lkZSB0aGUgYm91bmRpbmcgYm94IHdoaWxlIGtlZXBpbmcgdGhlIGFzcGVjdCByYXRpb1xyXG4gICAgICBpZiAoYmJveFdpZHRoIC8gYmJveEhlaWdodCA+IHNsaWRlQXNwZWN0UmF0aW8pIHtcclxuICAgICAgICBzbGlkZVNpemUud2lkdGggPSBiYm94V2lkdGhcclxuICAgICAgICBzbGlkZVNpemUuaGVpZ2h0ID0gYmJveFdpZHRoIC8gc2xpZGVBc3BlY3RSYXRpb1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNsaWRlU2l6ZS5oZWlnaHQgPSBiYm94SGVpZ2h0XHJcbiAgICAgICAgc2xpZGVTaXplLndpZHRoID0gYmJveEhlaWdodCAqIHNsaWRlQXNwZWN0UmF0aW9cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcG9zID0geyBcclxuICAgICAgICB4OiBiYm94Lm1pblgsXHJcbiAgICAgICAgeTogYmJveC5taW5ZXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBubyBwb3NpdGlvbiBpcyBwcm92aWRlZCwgdXNlIHRoZSBjZW50ZXIgb2YgdGhlIGNhbnZhc1xyXG4gICAgaWYgKCFwb3MpIHBvcyA9IENhbnZhc0hlbHBlci5nZXRDZW50ZXJDb29yZGluYXRlcyhjYW52YXMsIHRoaXMuZ2V0RGVmYXVsdFNsaWRlU2l6ZSgpKVxyXG5cclxuICAgIGNvbnN0IGdyb3VwTm9kZSA9IGNhbnZhcy5jcmVhdGVHcm91cE5vZGUoe1xyXG4gICAgICBwb3M6IHBvcyxcclxuICAgICAgc2l6ZTogc2xpZGVTaXplLFxyXG4gICAgICBsYWJlbDogaXNTdGFydE5vZGUgPyBTVEFSVF9TTElERV9OQU1FIDogREVGQVVMVF9TTElERV9OQU1FLFxyXG4gICAgICBmb2N1czogZmFsc2UsXHJcbiAgICB9KVxyXG5cclxuICAgIGdyb3VwTm9kZS5zZXREYXRhKHsgXHJcbiAgICAgIC4uLmdyb3VwTm9kZS5nZXREYXRhKCksIFxyXG4gICAgICBzaWRlUmF0aW86IHNsaWRlQXNwZWN0UmF0aW8sXHJcbiAgICAgIGlzU3RhcnROb2RlOiBpc1N0YXJ0Tm9kZSA/IHRydWUgOiB1bmRlZmluZWQsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhbmltYXRlTm9kZVRyYW5zaXRpb24oY2FudmFzOiBDYW52YXMsIGZyb21Ob2RlOiBDYW52YXNOb2RlfHVuZGVmaW5lZCwgdG9Ob2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCB1c2VDdXN0b21ab29tRnVuY3Rpb24gPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCd6b29tVG9TbGlkZVdpdGhvdXRQYWRkaW5nJylcclxuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uTXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdzbGlkZVRyYW5zaXRpb25BbmltYXRpb25EdXJhdGlvbicpICogMTAwMFxyXG4gICAgXHJcbiAgICBpZiAoYW5pbWF0aW9uRHVyYXRpb25NcyA+IDAgJiYgZnJvbU5vZGUpIHtcclxuICAgICAgY29uc3QgYW5pbWF0aW9uSW50ZW5zaXR5ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnc2xpZGVUcmFuc2l0aW9uQW5pbWF0aW9uSW50ZW5zaXR5JylcclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnROb2RlQkJveEVubGFyZ2VkID0gQkJveEhlbHBlci5zY2FsZUJCb3goZnJvbU5vZGUuZ2V0QkJveCgpLCBhbmltYXRpb25JbnRlbnNpdHkpXHJcbiAgICAgIGlmICh1c2VDdXN0b21ab29tRnVuY3Rpb24pIENhbnZhc0hlbHBlci56b29tVG9CQm94KGNhbnZhcywgY3VycmVudE5vZGVCQm94RW5sYXJnZWQpXHJcbiAgICAgIGVsc2UgY2FudmFzLnpvb21Ub0Jib3goY3VycmVudE5vZGVCQm94RW5sYXJnZWQpXHJcblxyXG4gICAgICBhd2FpdCBzbGVlcChhbmltYXRpb25EdXJhdGlvbk1zIC8gMilcclxuXHJcbiAgICAgIGlmIChmcm9tTm9kZS5nZXREYXRhKCkuaWQgIT09IHRvTm9kZS5nZXREYXRhKCkuaWQpIHtcclxuICAgICAgICAvLyBBZGQgMC4xIHRvIGZpeCBvYnNpZGlhbiBidWcgdGhhdCBjYXVzZXMgdGhlIGFuaW1hdGlvbiB0byBza2lwIGlmIHRoZSBiYm94IGlzIHRoZSBzYW1lXHJcbiAgICAgICAgY29uc3QgbmV4dE5vZGVCQm94RW5sYXJnZWQgPSBCQm94SGVscGVyLnNjYWxlQkJveCh0b05vZGUuZ2V0QkJveCgpLCBhbmltYXRpb25JbnRlbnNpdHkgKyAwLjEpXHJcbiAgICAgICAgaWYgKHVzZUN1c3RvbVpvb21GdW5jdGlvbikgQ2FudmFzSGVscGVyLnpvb21Ub0JCb3goY2FudmFzLCBuZXh0Tm9kZUJCb3hFbmxhcmdlZClcclxuICAgICAgICBlbHNlIGNhbnZhcy56b29tVG9CYm94KG5leHROb2RlQkJveEVubGFyZ2VkKVxyXG5cclxuICAgICAgICBhd2FpdCBzbGVlcChhbmltYXRpb25EdXJhdGlvbk1zIC8gMilcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBub2RlQkJveCA9IHRvTm9kZS5nZXRCQm94KClcclxuICAgIGlmICh1c2VDdXN0b21ab29tRnVuY3Rpb24pIENhbnZhc0hlbHBlci56b29tVG9CQm94KGNhbnZhcywgbm9kZUJCb3gpXHJcbiAgICBlbHNlIGNhbnZhcy56b29tVG9CYm94KG5vZGVCQm94KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBzdGFydFByZXNlbnRhdGlvbihjYW52YXM6IENhbnZhcywgdHJ5Q29udGludWU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgLy8gT25seSByZXNldCB2aXNpdGVkIG5vZGVzIGlmIHdlIGFyZSBub3QgdHJ5aW5nIHRvIGNvbnRpbnVlXHJcbiAgICBpZiAoIXRyeUNvbnRpbnVlIHx8IHRoaXMudmlzaXRlZE5vZGVJZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0Tm9kZSA9IHRoaXMuZ2V0U3RhcnROb2RlKGNhbnZhcylcclxuICAgICAgaWYgKCFzdGFydE5vZGUpIHtcclxuICAgICAgICBuZXcgTm90aWNlKCdObyBzdGFydCBub2RlIGZvdW5kLiBQbGVhc2UgbWFyayBhIG5vZGUgYXMgYSBzdGFydCBub2RlIHRyb3VnaCB0aGUgcG9wdXAgbWVudS4nKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnZpc2l0ZWROb2RlSWRzID0gW3N0YXJ0Tm9kZS5nZXREYXRhKCkuaWRdXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2F2ZSBjdXJyZW50IHZpZXdwb3J0XHJcbiAgICB0aGlzLnNhdmVkVmlld3BvcnQgPSB7XHJcbiAgICAgIHg6IGNhbnZhcy50eCxcclxuICAgICAgeTogY2FudmFzLnR5LFxyXG4gICAgICB6b29tOiBjYW52YXMudFpvb20sXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW50ZXIgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICBjYW52YXMud3JhcHBlckVsLmZvY3VzKClcclxuICAgIGNhbnZhcy53cmFwcGVyRWwucmVxdWVzdEZ1bGxzY3JlZW4oKVxyXG4gICAgY2FudmFzLndyYXBwZXJFbC5jbGFzc0xpc3QuYWRkKCdwcmVzZW50YXRpb24tbW9kZScpXHJcblxyXG4gICAgLy8gTG9jayBjYW52YXNcclxuICAgIGNhbnZhcy5zZXRSZWFkb25seSh0cnVlKVxyXG5cclxuICAgIC8vIFJlZ2lzdGVyIGV2ZW50IGhhbmRsZXIgZm9yIGtleWJvYXJkIG5hdmlnYXRpb25cclxuICAgIGNhbnZhcy53cmFwcGVyRWwub25rZXlkb3duID0gKGU6IGFueSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygndXNlQXJyb3dLZXlzVG9DaGFuZ2VTbGlkZXMnKSkge1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB0aGlzLm5leHROb2RlKGNhbnZhcylcclxuICAgICAgICBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcpIHRoaXMucHJldmlvdXNOb2RlKGNhbnZhcylcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ3VzZVBnVXBQZ0Rvd25LZXlzVG9DaGFuZ2VTbGlkZXMnKSkge1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gJ1BhZ2VEb3duJykgdGhpcy5uZXh0Tm9kZShjYW52YXMpXHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09ICdQYWdlVXAnKSB0aGlzLnByZXZpb3VzTm9kZShjYW52YXMpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBLZWVwIG1vZGFscyB3aGlsZSBpbiBmdWxsc2NyZWVuIG1vZGVcclxuICAgIHRoaXMuZnVsbHNjcmVlbk1vZGFsT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25SZWNvcmRzKSA9PiB7XHJcbiAgICAgIG11dGF0aW9uUmVjb3Jkcy5mb3JFYWNoKChtdXRhdGlvblJlY29yZCkgPT4ge1xyXG4gICAgICAgIG11dGF0aW9uUmVjb3JkLmFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKVxyXG4gICAgICAgICAgZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ/LmFwcGVuZENoaWxkKG5vZGUpXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50fG51bGxcclxuICAgICAgaWYgKGlucHV0RmllbGQpIGlucHV0RmllbGQuZm9jdXMoKVxyXG4gICAgfSlcclxuICAgIHRoaXMuZnVsbHNjcmVlbk1vZGFsT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSB9KVxyXG5cclxuICAgIC8vIFJlZ2lzdGVyIGV2ZW50IGhhbmRsZXIgZm9yIGV4aXRpbmcgcHJlc2VudGF0aW9uIG1vZGVcclxuICAgIGNhbnZhcy53cmFwcGVyRWwub25mdWxsc2NyZWVuY2hhbmdlID0gKF9lOiBhbnkpID0+IHtcclxuICAgICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSByZXR1cm5cclxuICAgICAgdGhpcy5lbmRQcmVzZW50YXRpb24oY2FudmFzKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaXNQcmVzZW50YXRpb25Nb2RlID0gdHJ1ZVxyXG5cclxuICAgIC8vIFdhaXQgZm9yIGZ1bGxzY3JlZW4gdG8gYmUgZW5hYmxlZFxyXG4gICAgYXdhaXQgc2xlZXAoNTAwKVxyXG5cclxuICAgIC8vIFpvb20gdG8gZmlyc3Qgbm9kZVxyXG4gICAgY29uc3Qgc3RhcnROb2RlSWQgPSB0aGlzLnZpc2l0ZWROb2RlSWRzLmZpcnN0KClcclxuICAgIGlmICghc3RhcnROb2RlSWQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHN0YXJ0Tm9kZSA9IGNhbnZhcy5ub2Rlcy5nZXQoc3RhcnROb2RlSWQpXHJcbiAgICBpZiAoIXN0YXJ0Tm9kZSkgcmV0dXJuXHJcblxyXG4gICAgdGhpcy5hbmltYXRlTm9kZVRyYW5zaXRpb24oY2FudmFzLCB1bmRlZmluZWQsIHN0YXJ0Tm9kZSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZW5kUHJlc2VudGF0aW9uKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICAvLyBVbnJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICB0aGlzLmZ1bGxzY3JlZW5Nb2RhbE9ic2VydmVyPy5kaXNjb25uZWN0KClcclxuICAgIHRoaXMuZnVsbHNjcmVlbk1vZGFsT2JzZXJ2ZXIgPSBudWxsXHJcbiAgICBjYW52YXMud3JhcHBlckVsLm9ua2V5ZG93biA9IG51bGxcclxuICAgIGNhbnZhcy53cmFwcGVyRWwub25mdWxsc2NyZWVuY2hhbmdlID0gbnVsbFxyXG5cclxuICAgIC8vIFVubG9jayBjYW52YXNcclxuICAgIGNhbnZhcy5zZXRSZWFkb25seShmYWxzZSlcclxuXHJcbiAgICAvLyBFeGl0IGZ1bGxzY3JlZW4gbW9kZVxyXG4gICAgY2FudmFzLndyYXBwZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdwcmVzZW50YXRpb24tbW9kZScpXHJcbiAgICBpZiAoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKClcclxuXHJcbiAgICAvLyBSZXNldCB2aWV3cG9ydFxyXG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ3Jlc2V0Vmlld3BvcnRPblByZXNlbnRhdGlvbkVuZCcpKVxyXG4gICAgICBjYW52YXMuc2V0Vmlld3BvcnQodGhpcy5zYXZlZFZpZXdwb3J0LngsIHRoaXMuc2F2ZWRWaWV3cG9ydC55LCB0aGlzLnNhdmVkVmlld3BvcnQuem9vbSlcclxuICAgIFxyXG4gICAgdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBuZXh0Tm9kZShjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3QgZnJvbU5vZGVJZCA9IHRoaXMudmlzaXRlZE5vZGVJZHMubGFzdCgpXHJcbiAgICBpZiAoIWZyb21Ob2RlSWQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGZyb21Ob2RlID0gY2FudmFzLm5vZGVzLmdldChmcm9tTm9kZUlkKVxyXG4gICAgaWYgKCFmcm9tTm9kZSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgb3V0Z29pbmdFZGdlcyA9IGNhbnZhcy5nZXRFZGdlc0Zvck5vZGUoZnJvbU5vZGUpLmZpbHRlcigoZWRnZTogQ2FudmFzRWRnZSkgPT4gZWRnZS5mcm9tLm5vZGUuZ2V0RGF0YSgpLmlkID09PSBmcm9tTm9kZUlkKVxyXG4gICAgbGV0IHRvTm9kZSA9IG91dGdvaW5nRWRnZXMuZmlyc3QoKT8udG8ubm9kZVxyXG5cclxuICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBvdXRnb2luZyBlZGdlcywgd2UgbmVlZCB0byBsb29rIGF0IHRoZSBlZGdlIGxhYmVsXHJcbiAgICBpZiAob3V0Z29pbmdFZGdlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIC8vIENyZWF0ZSBtYXAgb2YgZWRnZSBsYWJlbHMgdG8gbm9kZXNcclxuICAgICAgY29uc3Qgc29ydGVkRWRnZXMgPSBvdXRnb2luZ0VkZ2VzXHJcbiAgICAgICAgLnNvcnQoKGE6IENhbnZhc0VkZ2UsIGI6IENhbnZhc0VkZ2UpID0+IHtcclxuICAgICAgICAgIGlmICghYS5sYWJlbCkgcmV0dXJuIDFcclxuICAgICAgICAgIGlmICghYi5sYWJlbCkgcmV0dXJuIC0xXHJcblxyXG4gICAgICAgICAgcmV0dXJuIGEubGFiZWwubG9jYWxlQ29tcGFyZShiLmxhYmVsKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAvLyBGaW5kIHdoaWNoIGVkZ2VzIGFscmVhZHkgaGF2ZSBiZWVuIHRyYXZlcnNlZFxyXG4gICAgICBjb25zdCB0cmF2ZXJzZWRFZGdlc0NvdW50ID0gdGhpcy52aXNpdGVkTm9kZUlkc1xyXG4gICAgICAgIC5maWx0ZXIoKHZpc2l0ZWROb2RlSWQ6IHN0cmluZykgPT4gdmlzaXRlZE5vZGVJZCA9PT0gZnJvbU5vZGVJZCkubGVuZ3RoIC0gMVxyXG5cclxuICAgICAgLy8gU2VsZWN0IG5leHQgZWRnZVxyXG4gICAgICBjb25zdCBuZXh0RWRnZSA9IHNvcnRlZEVkZ2VzW3RyYXZlcnNlZEVkZ2VzQ291bnRdXHJcbiAgICAgIHRvTm9kZSA9IG5leHRFZGdlLnRvLm5vZGVcclxuICAgIH1cclxuXHJcbiAgICBpZiAodG9Ob2RlKSB7XHJcbiAgICAgIHRoaXMudmlzaXRlZE5vZGVJZHMucHVzaCh0b05vZGUuZ2V0RGF0YSgpLmlkKVxyXG4gICAgICB0aGlzLmFuaW1hdGVOb2RlVHJhbnNpdGlvbihjYW52YXMsIGZyb21Ob2RlLCB0b05vZGUpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBObyBtb3JlIG5vZGVzIGxlZnQsIGFuaW1hdGUgdG8gc2FtZSBub2RlXHJcbiAgICAgIHRoaXMuYW5pbWF0ZU5vZGVUcmFuc2l0aW9uKGNhbnZhcywgZnJvbU5vZGUsIGZyb21Ob2RlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcmV2aW91c05vZGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IGZyb21Ob2RlSWQgPSB0aGlzLnZpc2l0ZWROb2RlSWRzLnBvcCgpXHJcbiAgICBpZiAoIWZyb21Ob2RlSWQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGZyb21Ob2RlID0gY2FudmFzLm5vZGVzLmdldChmcm9tTm9kZUlkKVxyXG4gICAgaWYgKCFmcm9tTm9kZSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgdG9Ob2RlSWQgPSB0aGlzLnZpc2l0ZWROb2RlSWRzLmxhc3QoKVxyXG4gICAgaWYgKCF0b05vZGVJZCkgcmV0dXJuXHJcblxyXG4gICAgbGV0IHRvTm9kZSA9IGNhbnZhcy5ub2Rlcy5nZXQodG9Ob2RlSWQpXHJcbiAgICBpZiAoIXRvTm9kZSkgcmV0dXJuXHJcblxyXG4gICAgLy8gRmFsbCBiYWNrIHRvIHNhbWUgbm9kZSBpZiB0aGVyZSBhcmUgbm8gbW9yZSBub2RlcyBiZWZvcmVcclxuICAgIGlmICghdG9Ob2RlKSB7XHJcbiAgICAgIHRvTm9kZSA9IGZyb21Ob2RlXHJcbiAgICAgIHRoaXMudmlzaXRlZE5vZGVJZHMucHVzaChmcm9tTm9kZUlkKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYW5pbWF0ZU5vZGVUcmFuc2l0aW9uKGNhbnZhcywgZnJvbU5vZGUsIHRvTm9kZSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciwgeyBNZW51T3B0aW9uIH0gZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2NvcmUvZXZlbnRzXCJcclxuaW1wb3J0IHsgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcyB9IGZyb20gXCJzcmMvc2V0dGluZ3NcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jb3JlL2NhbnZhcy1leHRlbnNpb25cIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmV0dGVyUmVhZG9ubHlDYW52YXNFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuICdiZXR0ZXJSZWFkb25seUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIC8qIFBvcHVwIGxpc3RlbmVyICovXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlBvcHVwTWVudUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgX25vZGU6IGFueSkgPT4gdGhpcy51cGRhdGVQb3B1cE1lbnUoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICAvKiBab29tIGFuZCBQYW4gbGlzdGVuZXIgKi9cclxuICAgIGxldCBtb3ZpbmdUb0JCb3ggPSBmYWxzZVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuVmlld3BvcnRDaGFuZ2VkLkJlZm9yZSxcclxuICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB7XHJcbiAgICAgICAgLy8gT25seSBhbGxvdyB2aWV3cG9ydCBjaGFuZ2Ugb25jZSB3aGVuIHVzaW5nIHpvb20gdG8gYmJveFxyXG4gICAgICAgIGlmIChtb3ZpbmdUb0JCb3gpIHtcclxuICAgICAgICAgIG1vdmluZ1RvQkJveCA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgdGhpcy51cGRhdGVMb2NrZWRab29tKGNhbnZhcylcclxuICAgICAgICAgIHRoaXMudXBkYXRlTG9ja2VkUGFuKGNhbnZhcylcclxuXHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2FudmFzLnJlYWRvbmx5KSByZXR1cm5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2Rpc2FibGVab29tJykpIHtcclxuICAgICAgICAgIGNhbnZhcy56b29tID0gY2FudmFzLmxvY2tlZFpvb20gPz8gY2FudmFzLnpvb21cclxuICAgICAgICAgIGNhbnZhcy50Wm9vbSA9IGNhbnZhcy5sb2NrZWRab29tID8/IGNhbnZhcy50Wm9vbVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2Rpc2FibGVQYW4nKSkge1xyXG4gICAgICAgICAgY2FudmFzLnggPSBjYW52YXMubG9ja2VkWCA/PyBjYW52YXMueFxyXG4gICAgICAgICAgY2FudmFzLnR4ID0gY2FudmFzLmxvY2tlZFggPz8gY2FudmFzLnR4XHJcbiAgICAgICAgICBjYW52YXMueSA9IGNhbnZhcy5sb2NrZWRZID8/IGNhbnZhcy55XHJcbiAgICAgICAgICBjYW52YXMudHkgPSBjYW52YXMubG9ja2VkWSA/PyBjYW52YXMudHlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICkpXHJcblxyXG4gICAgLy8gQWxsb3cgdmlld3BvcnQgY2hhbmdlIHdoZW4gdXNpbmcgem9vbSB0byBiYm94XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Llpvb21Ub0Jib3guQmVmb3JlLFxyXG4gICAgICAoKSA9PiBtb3ZpbmdUb0JCb3ggPSB0cnVlXHJcbiAgICApKVxyXG5cclxuICAgIC8qIFJlYWRvbmx5IGxpc3RlbmVyICovXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlJlYWRvbmx5Q2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBfcmVhZG9ubHk6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVBvcHVwTWVudShjYW52YXMpXHJcbiAgICAgICAgdGhpcy51cGRhdGVMb2NrZWRab29tKGNhbnZhcylcclxuICAgICAgICB0aGlzLnVwZGF0ZUxvY2tlZFBhbihjYW52YXMpXHJcbiAgICAgIH1cclxuICAgICkpXHJcblxyXG4gICAgLyogQWRkIHNldHRpbmdzICovXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5hZGRRdWlja1NldHRpbmdzKGNhbnZhcylcclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBhZGRRdWlja1NldHRpbmdzKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBjb25zdCBzZXR0aW5nc0NvbnRhaW5lciA9IGNhbnZhcy5xdWlja1NldHRpbmdzQnV0dG9uPy5wYXJlbnRFbGVtZW50XHJcbiAgICBpZiAoIXNldHRpbmdzQ29udGFpbmVyKSByZXR1cm5cclxuXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkQ29udHJvbE1lbnVCdXR0b24oXHJcbiAgICAgIHNldHRpbmdzQ29udGFpbmVyLFxyXG4gICAgICB0aGlzLmNyZWF0ZVRvZ2dsZSh7XHJcbiAgICAgICAgaWQ6ICdkaXNhYmxlLW5vZGUtcG9wdXAnLFxyXG4gICAgICAgIGxhYmVsOiAnRGlzYWJsZSBub2RlIHBvcHVwJyxcclxuICAgICAgICBpY29uOiAnYXJyb3ctdXAtcmlnaHQtZnJvbS1jaXJjbGUnLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnVwZGF0ZVBvcHVwTWVudShjYW52YXMpXHJcbiAgICAgIH0sICdkaXNhYmxlTm9kZVBvcHVwJylcclxuICAgIClcclxuXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkQ29udHJvbE1lbnVCdXR0b24oXHJcbiAgICAgIHNldHRpbmdzQ29udGFpbmVyLFxyXG4gICAgICB0aGlzLmNyZWF0ZVRvZ2dsZSh7XHJcbiAgICAgICAgaWQ6ICdkaXNhYmxlLXpvb20nLFxyXG4gICAgICAgIGxhYmVsOiAnRGlzYWJsZSB6b29tJyxcclxuICAgICAgICBpY29uOiAnem9vbS1pbicsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMudXBkYXRlTG9ja2VkWm9vbShjYW52YXMpXHJcbiAgICAgIH0sICdkaXNhYmxlWm9vbScpXHJcbiAgICApXHJcblxyXG4gICAgQ2FudmFzSGVscGVyLmFkZENvbnRyb2xNZW51QnV0dG9uKFxyXG4gICAgICBzZXR0aW5nc0NvbnRhaW5lcixcclxuICAgICAgdGhpcy5jcmVhdGVUb2dnbGUoe1xyXG4gICAgICAgIGlkOiAnZGlzYWJsZS1wYW4nLFxyXG4gICAgICAgIGxhYmVsOiAnRGlzYWJsZSBwYW4nLFxyXG4gICAgICAgIGljb246ICdtb3ZlJyxcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy51cGRhdGVMb2NrZWRQYW4oY2FudmFzKVxyXG4gICAgICB9LCAnZGlzYWJsZVBhbicpXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZVRvZ2dsZShtZW51T3B0aW9uOiBNZW51T3B0aW9uLCBzZXR0aW5nS2V5OiBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgdG9nZ2xlID0gQ2FudmFzSGVscGVyLmNyZWF0ZUNvbnRyb2xNZW51QnV0dG9uKHtcclxuICAgICAgLi4ubWVudU9wdGlvbixcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSAhdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZyhzZXR0aW5nS2V5KVxyXG4gICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNldHRpbmdzLnNldFNldHRpbmcoeyBbc2V0dGluZ0tleV06IG5ld1ZhbHVlIH0pXHJcblxyXG4gICAgICAgIHRvZ2dsZS5kYXRhc2V0LnRvZ2dsZWQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKHNldHRpbmdLZXkpLnRvU3RyaW5nKClcclxuICAgICAgICBtZW51T3B0aW9uLmNhbGxiYWNrPy5jYWxsKHRoaXMpXHJcbiAgICAgIH0pKClcclxuICAgIH0pXHJcbiAgICB0b2dnbGUuY2xhc3NMaXN0LmFkZCgnc2hvdy13aGlsZS1yZWFkb25seScpXHJcblxyXG4gICAgdG9nZ2xlLmRhdGFzZXQudG9nZ2xlZCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoc2V0dGluZ0tleSkudG9TdHJpbmcoKVxyXG5cclxuICAgIHJldHVybiB0b2dnbGVcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlUG9wdXBNZW51KGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBjb25zdCBoaWRkZW4gPSBjYW52YXMucmVhZG9ubHkgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGlzYWJsZU5vZGVQb3B1cCcpXHJcbiAgICBjYW52YXMubWVudS5tZW51RWwuc3R5bGUudmlzaWJpbGl0eSA9IGhpZGRlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUxvY2tlZFpvb20oY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNhbnZhcy5sb2NrZWRab29tID0gY2FudmFzLnRab29tXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUxvY2tlZFBhbihjYW52YXM6IENhbnZhcykge1xyXG4gICAgY2FudmFzLmxvY2tlZFggPSBjYW52YXMudHhcclxuICAgIGNhbnZhcy5sb2NrZWRZID0gY2FudmFzLnR5XHJcbiAgfVxyXG59IiwgImltcG9ydCBBcHAsIHsgU3VnZ2VzdE1vZGFsLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJ1xyXG5pbXBvcnQgUGF0aEhlbHBlciBmcm9tICdzcmMvdXRpbHMvcGF0aC1oZWxwZXInXHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZU5hbWVNb2RhbCBleHRlbmRzIFN1Z2dlc3RNb2RhbDxzdHJpbmc+IHtcclxuICBwYXJlbnRQYXRoOiBzdHJpbmdcclxuICBmaWxlRXh0ZW5zaW9uOiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBhcmVudFBhdGg6IHN0cmluZywgZmlsZUV4dGVuc2lvbjogc3RyaW5nKSB7XHJcbiAgICBzdXBlcihhcHApXHJcblxyXG4gICAgdGhpcy5wYXJlbnRQYXRoID0gcGFyZW50UGF0aFxyXG4gICAgdGhpcy5maWxlRXh0ZW5zaW9uID0gZmlsZUV4dGVuc2lvblxyXG4gIH1cclxuXHJcbiAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IHF1ZXJ5V2l0aG91dEV4dGVuc2lvbiA9IHF1ZXJ5LnJlcGxhY2UobmV3IFJlZ0V4cChgXFxcXC4ke3RoaXMuZmlsZUV4dGVuc2lvbn0kYCksICcnKVxyXG4gICAgaWYgKHF1ZXJ5V2l0aG91dEV4dGVuc2lvbiA9PT0gJycpIHJldHVybiBbXVxyXG5cclxuICAgIGNvbnN0IHF1ZXJ5V2l0aEV4dGVuc2lvbiA9IHF1ZXJ5V2l0aG91dEV4dGVuc2lvbiArICcuJyArIHRoaXMuZmlsZUV4dGVuc2lvblxyXG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSBbYCR7dGhpcy5wYXJlbnRQYXRofS8ke3F1ZXJ5V2l0aEV4dGVuc2lvbn1gLCBxdWVyeVdpdGhFeHRlbnNpb25dXHJcbiAgICAgIC8vIEZpbHRlciBvdXQgc3VnZ2VzdGlvbnMgZm9yIGZpbGVzIHRoYXQgYWxyZWFkeSBleGlzdFxyXG4gICAgICAuZmlsdGVyKHMgPT4gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHMpID09PSBudWxsKVxyXG5cclxuICAgIHJldHVybiBzdWdnZXN0aW9uc1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyU3VnZ2VzdGlvbih0ZXh0OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgZWwuc2V0VGV4dCh0ZXh0KVxyXG4gIH1cclxuXHJcbiAgb25DaG9vc2VTdWdnZXN0aW9uKF90ZXh0OiBzdHJpbmcsIF9ldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7fVxyXG5cclxuICBhd2FpdElucHV0KCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIF9yZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5vbkNob29zZVN1Z2dlc3Rpb24gPSAodGV4dDogc3RyaW5nKSA9PiB7IHJlc29sdmUodGV4dCkgfVxyXG4gICAgICB0aGlzLm9wZW4oKVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlU2VsZWN0TW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcbiAgZmlsZXM6IHN0cmluZ1tdXHJcbiAgc3VnZ2VzdE5ld0ZpbGU6IGJvb2xlYW5cclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGV4dGVuc2lvbnNSZWdleD86IFJlZ0V4cCwgc3VnZ2VzdE5ld0ZpbGU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgc3VwZXIoYXBwKVxyXG5cclxuICAgIHRoaXMuZmlsZXMgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlcygpXHJcbiAgICAgIC5tYXAoZmlsZSA9PiBmaWxlLnBhdGgpXHJcbiAgICAgIC5maWx0ZXIocGF0aCA9PiBQYXRoSGVscGVyLmV4dGVuc2lvbihwYXRoKT8ubWF0Y2goZXh0ZW5zaW9uc1JlZ2V4ID8/IC8uKi8pKVxyXG4gICAgdGhpcy5zdWdnZXN0TmV3RmlsZSA9IHN1Z2dlc3ROZXdGaWxlXHJcblxyXG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlcignVHlwZSB0byBzZWFyY2guLi4nKVxyXG4gICAgdGhpcy5zZXRJbnN0cnVjdGlvbnMoW3tcclxuICAgICAgICBjb21tYW5kOiAnXHUyMTkxXHUyMTkzJyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gbmF2aWdhdGUnXHJcbiAgICB9LCB7XHJcbiAgICAgICAgY29tbWFuZDogJ1x1MjFCNScsXHJcbiAgICAgICAgcHVycG9zZTogJ3RvIG9wZW4nXHJcbiAgICB9LCB7XHJcbiAgICAgICAgY29tbWFuZDogJ3NoaWZ0IFx1MjFCNScsXHJcbiAgICAgICAgcHVycG9zZTogJ3RvIGNyZWF0ZSdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnZXNjJyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZGlzbWlzcydcclxuICAgIH1dKVxyXG5cclxuICAgIHRoaXMuc2NvcGUucmVnaXN0ZXIoWydTaGlmdCddLCAnRW50ZXInLCAoKGUpID0+IHtcclxuICAgICAgdGhpcy5vbkNob29zZVN1Z2dlc3Rpb24odGhpcy5pbnB1dEVsLnZhbHVlLCBlKVxyXG4gICAgICB0aGlzLmNsb3NlKClcclxuICAgIH0pKVxyXG4gIH1cclxuXHJcbiAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gdGhpcy5maWxlcy5maWx0ZXIocGF0aCA9PiBwYXRoLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkpXHJcbiAgICBpZiAoc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwICYmIHRoaXMuc3VnZ2VzdE5ld0ZpbGUpIHN1Z2dlc3Rpb25zLnB1c2gocXVlcnkpXHJcblxyXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zXHJcbiAgfVxyXG5cclxuICByZW5kZXJTdWdnZXN0aW9uKHBhdGg6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBjb25zdCBzaW1wbGlmaWVkUGF0aCA9IHBhdGgucmVwbGFjZSgvXFwubWQkLywgJycpXHJcbiAgICBlbC5zZXRUZXh0KHNpbXBsaWZpZWRQYXRoKVxyXG4gIH1cclxuXHJcbiAgb25DaG9vc2VTdWdnZXN0aW9uKF9wYXRoOiBzdHJpbmcsIF9ldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7fVxyXG5cclxuICBhd2FpdElucHV0KCk6IFByb21pc2U8VEZpbGU+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xyXG4gICAgICB0aGlzLm9uQ2hvb3NlU3VnZ2VzdGlvbiA9IChwYXRoOiBzdHJpbmcsIF9ldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmlsZSA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKVxyXG5cclxuICAgICAgICBpZiAoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKVxyXG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmlsZSlcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnN1Z2dlc3ROZXdGaWxlKSByZXR1cm5cclxuXHJcbiAgICAgICAgaWYgKFBhdGhIZWxwZXIuZXh0ZW5zaW9uKHBhdGgpID09PSB1bmRlZmluZWQpIHBhdGggKz0gJy5tZCdcclxuICAgICAgICBjb25zdCBuZXdGaWxlID0gdGhpcy5hcHAudmF1bHQuY3JlYXRlKHBhdGgsICcnKVxyXG4gICAgICAgIHJlc29sdmUobmV3RmlsZSlcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5vcGVuKClcclxuICAgIH0pXHJcbiAgfVxyXG59IiwgImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdGhIZWxwZXIge1xyXG4gIHN0YXRpYyBleHRlbnNpb24ocGF0aDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiBwYXRoLmluY2x1ZGVzKCcuJykgPyBwYXRoLnNwbGl0KCcuJykucG9wKCkgOiB1bmRlZmluZWRcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgTWVudSB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCB7IENhbnZhcyB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IEZpbGVOYW1lTW9kYWwgfSBmcm9tIFwic3JjL3V0aWxzL21vZGFsLWhlbHBlclwiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2NvcmUvZXZlbnRzXCJcclxuXHJcbmNvbnN0IEVOQ0FQU1VMQVRFRF9GSUxFX05PREVfU0laRSA9IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAzMDAgfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW5jYXBzdWxhdGVDYW52YXNFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuICdjYW52YXNFbmNhcHN1bGF0aW9uRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgLyogQWRkIGNvbW1hbmQgdG8gZW5jYXBzdWxhdGUgc2VsZWN0aW9uICovXHJcbiAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6ICdlbmNhcHN1bGF0ZS1zZWxlY3Rpb24nLFxyXG4gICAgICBuYW1lOiAnRW5jYXBzdWxhdGUgc2VsZWN0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5ICYmIGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSA+IDAsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmVuY2Fwc3VsYXRlU2VsZWN0aW9uKGNhbnZhcylcclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICAvKiBBZGQgZW5jYXBzdWxhdGUgb3B0aW9uIHRvIGNvbnRleHQgbWVudSAqL1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5TZWxlY3Rpb25Db250ZXh0TWVudSxcclxuICAgICAgKG1lbnU6IE1lbnUsIGNhbnZhczogQ2FudmFzKSA9PiB7XHJcbiAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG4gICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUoJ0VuY2Fwc3VsYXRlJylcclxuICAgICAgICAgICAgLnNldEljb24oJ2ZpbGUtcGx1cycpXHJcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHRoaXMuZW5jYXBzdWxhdGVTZWxlY3Rpb24oY2FudmFzKSlcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBhc3luYyBlbmNhcHN1bGF0ZVNlbGVjdGlvbihjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gY2FudmFzLmdldFNlbGVjdGlvbkRhdGEoKVxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgZmlsZVxyXG4gICAgY29uc3Qgc291cmNlRmlsZUZvbGRlciA9IGNhbnZhcy52aWV3LmZpbGUucGFyZW50Py5wYXRoXHJcbiAgICBpZiAoIXNvdXJjZUZpbGVGb2xkZXIpIHJldHVybiAvLyBTaG91bGQgbmV2ZXIgaGFwcGVuXHJcblxyXG4gICAgY29uc3QgdGFyZ2V0RmlsZVBhdGggPSBhd2FpdCBuZXcgRmlsZU5hbWVNb2RhbChcclxuICAgICAgdGhpcy5wbHVnaW4uYXBwLFxyXG4gICAgICBzb3VyY2VGaWxlRm9sZGVyLFxyXG4gICAgICAnY2FudmFzJ1xyXG4gICAgKS5hd2FpdElucHV0KClcclxuXHJcbiAgICBjb25zdCBuZXdGaWxlRGF0YSA9IHsgbm9kZXM6IHNlbGVjdGlvbi5ub2RlcywgZWRnZXM6IHNlbGVjdGlvbi5lZGdlcyB9XHJcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZSh0YXJnZXRGaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkobmV3RmlsZURhdGEsIG51bGwsIDIpKVxyXG5cclxuICAgIC8vIFJlbW92ZSBmcm9tIGN1cnJlbnQgY2FudmFzXHJcbiAgICBmb3IgKGNvbnN0IG5vZGVEYXRhIG9mIHNlbGVjdGlvbi5ub2Rlcykge1xyXG4gICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGVzLmdldChub2RlRGF0YS5pZClcclxuICAgICAgaWYgKG5vZGUpIGNhbnZhcy5yZW1vdmVOb2RlKG5vZGUpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGxpbmsgdG8gbmV3IGZpbGUgaW4gY3VycmVudCBjYW52YXNcclxuICAgIGNhbnZhcy5jcmVhdGVGaWxlTm9kZSh7XHJcbiAgICAgIHBvczoge1xyXG4gICAgICAgIHg6IHNlbGVjdGlvbi5jZW50ZXIueCAtIEVOQ0FQU1VMQVRFRF9GSUxFX05PREVfU0laRS53aWR0aCAvIDIsXHJcbiAgICAgICAgeTogc2VsZWN0aW9uLmNlbnRlci55IC0gRU5DQVBTVUxBVEVEX0ZJTEVfTk9ERV9TSVpFLmhlaWdodCAvIDJcclxuICAgICAgfSxcclxuICAgICAgc2l6ZTogRU5DQVBTVUxBVEVEX0ZJTEVfTk9ERV9TSVpFLFxyXG4gICAgICBmaWxlOiBmaWxlXHJcbiAgICB9KVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc0VkZ2UsIENhbnZhc0VkZ2VEYXRhLCBDYW52YXNOb2RlRGF0YSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IHsgRmlsZVNlbGVjdE1vZGFsIH0gZnJvbSBcInNyYy91dGlscy9tb2RhbC1oZWxwZXJcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jb3JlL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuXHJcbnR5cGUgRGlyZWN0aW9uID0gJ3VwJyB8ICdkb3duJyB8ICdsZWZ0JyB8ICdyaWdodCdcclxuY29uc3QgRElSRUNUSU9OUyA9IFsndXAnLCAnZG93bicsICdsZWZ0JywgJ3JpZ2h0J10gYXMgRGlyZWN0aW9uW11cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1hbmRzQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnY29tbWFuZHNGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnY3JlYXRlLXRleHQtbm9kZScsXHJcbiAgICAgIG5hbWU6ICdDcmVhdGUgdGV4dCBub2RlJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5LFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5jcmVhdGVUZXh0Tm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnY3JlYXRlLWZpbGUtbm9kZScsXHJcbiAgICAgIG5hbWU6ICdDcmVhdGUgZmlsZSBub2RlJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5LFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5jcmVhdGVGaWxlTm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnc2VsZWN0LWFsbC1lZGdlcycsXHJcbiAgICAgIG5hbWU6ICdTZWxlY3QgYWxsIGVkZ2VzJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gdHJ1ZSxcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+IGNhbnZhcy51cGRhdGVTZWxlY3Rpb24oKCkgPT4gXHJcbiAgICAgICAgICBjYW52YXMuc2VsZWN0aW9uID0gbmV3IFNldChjYW52YXMuZWRnZXMudmFsdWVzKCkpXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgICBpZDogJ3pvb20tdG8tc2VsZWN0aW9uJyxcclxuICAgICAgbmFtZTogJ1pvb20gdG8gc2VsZWN0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiBjYW52YXMuc2VsZWN0aW9uLnNpemUgPiAwLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gY2FudmFzLnpvb21Ub1NlbGVjdGlvbigpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgZm9yIChjb25zdCBkaXJlY3Rpb24gb2YgRElSRUNUSU9OUykge1xyXG4gICAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgICAgICBpZDogYGNsb25lLW5vZGUtJHtkaXJlY3Rpb259YCxcclxuICAgICAgICBuYW1lOiBgQ2xvbmUgbm9kZSAke2RpcmVjdGlvbn1gLFxyXG4gICAgICAgIGNoZWNrQ2FsbGJhY2s6IENhbnZhc0hlbHBlci5jYW52YXNDb21tYW5kKFxyXG4gICAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+ICFjYW52YXMucmVhZG9ubHkgJiYgY2FudmFzLnNlbGVjdGlvbi5zaXplID09PSAxICYmIGNhbnZhcy5zZWxlY3Rpb24udmFsdWVzKCkubmV4dCgpLnZhbHVlPy5nZXREYXRhKCkudHlwZSA9PT0gJ3RleHQnLFxyXG4gICAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmNsb25lTm9kZShjYW52YXMsIGRpcmVjdGlvbilcclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgICAgICBpZDogYGV4cGFuZC1ub2RlLSR7ZGlyZWN0aW9ufWAsXHJcbiAgICAgICAgbmFtZTogYEV4cGFuZCBub2RlICR7ZGlyZWN0aW9ufWAsXHJcbiAgICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gIWNhbnZhcy5yZWFkb25seSAmJiBjYW52YXMuc2VsZWN0aW9uLnNpemUgPT09IDEsXHJcbiAgICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMuZXhwYW5kTm9kZShjYW52YXMsIGRpcmVjdGlvbilcclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnZmxpcC1zZWxlY3Rpb24taG9yaXpvbnRhbGx5JyxcclxuICAgICAgbmFtZTogJ0ZsaXAgc2VsZWN0aW9uIGhvcml6b250YWxseScsXHJcbiAgICAgIGNoZWNrQ2FsbGJhY2s6IENhbnZhc0hlbHBlci5jYW52YXNDb21tYW5kKFxyXG4gICAgICAgIHRoaXMucGx1Z2luLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gIWNhbnZhcy5yZWFkb25seSAmJiBjYW52YXMuc2VsZWN0aW9uLnNpemUgPiAwLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5mbGlwU2VsZWN0aW9uKGNhbnZhcywgdHJ1ZSBcclxuICAgICAgKSlcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnZmxpcC1zZWxlY3Rpb24tdmVydGljYWxseScsXHJcbiAgICAgIG5hbWU6ICdGbGlwIHNlbGVjdGlvbiB2ZXJ0aWNhbGx5JyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5ICYmIGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSA+IDAsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmZsaXBTZWxlY3Rpb24oY2FudmFzLCBmYWxzZSlcclxuICAgICAgKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlVGV4dE5vZGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IHNpemUgPSBjYW52YXMuY29uZmlnLmRlZmF1bHRUZXh0Tm9kZURpbWVuc2lvbnNcclxuICAgIGNvbnN0IHBvcyA9IENhbnZhc0hlbHBlci5nZXRDZW50ZXJDb29yZGluYXRlcyhjYW52YXMsIHNpemUpXHJcblxyXG4gICAgY2FudmFzLmNyZWF0ZVRleHROb2RlKHsgcG9zOiBwb3MsIHNpemU6IHNpemUgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlRmlsZU5vZGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IHNpemUgPSBjYW52YXMuY29uZmlnLmRlZmF1bHRGaWxlTm9kZURpbWVuc2lvbnNcclxuICAgIGNvbnN0IHBvcyA9IENhbnZhc0hlbHBlci5nZXRDZW50ZXJDb29yZGluYXRlcyhjYW52YXMsIHNpemUpXHJcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgbmV3IEZpbGVTZWxlY3RNb2RhbCh0aGlzLnBsdWdpbi5hcHAsIHVuZGVmaW5lZCwgdHJ1ZSkuYXdhaXRJbnB1dCgpXHJcblxyXG4gICAgY2FudmFzLmNyZWF0ZUZpbGVOb2RlKHsgcG9zOiBwb3MsIHNpemU6IHNpemUsIGZpbGU6IGZpbGUgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2xvbmVOb2RlKGNhbnZhczogQ2FudmFzLCBjbG9uZURpcmVjdGlvbjogRGlyZWN0aW9uKSB7XHJcbiAgICBjb25zdCBzb3VyY2VOb2RlID0gY2FudmFzLnNlbGVjdGlvbi52YWx1ZXMoKS5uZXh0KCkudmFsdWVcclxuICAgIGlmICghc291cmNlTm9kZSkgcmV0dXJuXHJcbiAgICBjb25zdCBzb3VyY2VOb2RlRGF0YSA9IHNvdXJjZU5vZGUuZ2V0RGF0YSgpXHJcblxyXG4gICAgY29uc3Qgbm9kZU1hcmdpbiA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2Nsb25lTm9kZU1hcmdpbicpXHJcbiAgICBjb25zdCBvZmZzZXQgPSB7IFxyXG4gICAgICB4OiAoc291cmNlTm9kZS53aWR0aCArIG5vZGVNYXJnaW4pICogKGNsb25lRGlyZWN0aW9uID09PSAnbGVmdCcgPyAtMSA6IChjbG9uZURpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IDEgOiAwKSksXHJcbiAgICAgIHk6IChzb3VyY2VOb2RlLmhlaWdodCArIG5vZGVNYXJnaW4pICogKGNsb25lRGlyZWN0aW9uID09PSAndXAnID8gLTEgOiAoY2xvbmVEaXJlY3Rpb24gPT09ICdkb3duJyA/IDEgOiAwKSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjbG9uZWROb2RlID0gY2FudmFzLmNyZWF0ZVRleHROb2RlKHtcclxuICAgICAgcG9zOiB7XHJcbiAgICAgICAgeDogc291cmNlTm9kZS54ICsgb2Zmc2V0LngsXHJcbiAgICAgICAgeTogc291cmNlTm9kZS55ICsgb2Zmc2V0LnlcclxuICAgICAgfSxcclxuICAgICAgc2l6ZToge1xyXG4gICAgICAgIHdpZHRoOiBzb3VyY2VOb2RlLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogc291cmNlTm9kZS5oZWlnaHRcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjbG9uZWROb2RlLnNldERhdGEoeyBcclxuICAgICAgLi4uY2xvbmVkTm9kZS5nZXREYXRhKCksIFxyXG4gICAgICBjb2xvcjogc291cmNlTm9kZURhdGEuY29sb3IsXHJcbiAgICAgIHN0eWxlQXR0cmlidXRlczogc291cmNlTm9kZURhdGEuc3R5bGVBdHRyaWJ1dGVzXHJcbiAgICB9KVxyXG5cclxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCd6b29tVG9DbG9uZWROb2RlJykpXHJcbiAgICAgIGNhbnZhcy56b29tVG9CYm94KGNsb25lZE5vZGUuZ2V0QkJveCgpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBleHBhbmROb2RlKGNhbnZhczogQ2FudmFzLCBleHBhbmREaXJlY3Rpb246IERpcmVjdGlvbikge1xyXG4gICAgY29uc3Qgbm9kZSA9IGNhbnZhcy5zZWxlY3Rpb24udmFsdWVzKCkubmV4dCgpLnZhbHVlXHJcbiAgICBpZiAoIW5vZGUpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGV4cGFuZE5vZGVTdGVwU2l6ZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2V4cGFuZE5vZGVTdGVwU2l6ZScpXHJcbiAgICBjb25zdCBleHBhbmQgPSB7XHJcbiAgICAgIHg6IGV4cGFuZERpcmVjdGlvbiA9PT0gJ2xlZnQnID8gLTEgOiAoZXhwYW5kRGlyZWN0aW9uID09PSAncmlnaHQnID8gMSA6IDApLFxyXG4gICAgICB5OiBleHBhbmREaXJlY3Rpb24gPT09ICd1cCcgPyAtMSA6IChleHBhbmREaXJlY3Rpb24gPT09ICdkb3duJyA/IDEgOiAwKVxyXG4gICAgfVxyXG5cclxuICAgIG5vZGUuc2V0RGF0YSh7XHJcbiAgICAgIC4uLm5vZGUuZ2V0RGF0YSgpLFxyXG4gICAgICB3aWR0aDogbm9kZS53aWR0aCArIGV4cGFuZC54ICogZXhwYW5kTm9kZVN0ZXBTaXplLFxyXG4gICAgICBoZWlnaHQ6IG5vZGUuaGVpZ2h0ICsgZXhwYW5kLnkgKiBleHBhbmROb2RlU3RlcFNpemVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZsaXBTZWxlY3Rpb24oY2FudmFzOiBDYW52YXMsIGhvcml6b250YWxseTogYm9vbGVhbikge1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uRGF0YSA9IGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKClcclxuICAgIGlmIChzZWxlY3Rpb25EYXRhLm5vZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgbm9kZUlkcyA9IG5ldyBTZXQoKVxyXG5cclxuICAgIC8vIEZsaXAgbm9kZXNcclxuICAgIGZvciAoY29uc3Qgbm9kZURhdGEgb2Ygc2VsZWN0aW9uRGF0YS5ub2Rlcykge1xyXG4gICAgICBub2RlSWRzLmFkZChub2RlRGF0YS5pZClcclxuXHJcbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KG5vZGVEYXRhLmlkKVxyXG4gICAgICBpZiAoIW5vZGUpIGNvbnRpbnVlXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBuZXdYID0gaG9yaXpvbnRhbGx5ID9cclxuICAgICAgICAyICogc2VsZWN0aW9uRGF0YS5jZW50ZXIueCAtIG5vZGVEYXRhLnggLSBub2RlRGF0YS53aWR0aCA6XHJcbiAgICAgICAgbm9kZURhdGEueFxyXG5cclxuICAgICAgY29uc3QgbmV3WSA9IGhvcml6b250YWxseSA/XHJcbiAgICAgICAgbm9kZURhdGEueSA6XHJcbiAgICAgICAgMiAqIHNlbGVjdGlvbkRhdGEuY2VudGVyLnkgLSBub2RlRGF0YS55IC0gbm9kZURhdGEuaGVpZ2h0XHJcblxyXG4gICAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICAgIHg6IG5ld1gsXHJcbiAgICAgICAgeTogbmV3WVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZsaXAgZWRnZXNcclxuICAgIGZvciAoY29uc3QgZWRnZSBvZiBjYW52YXMuZWRnZXMudmFsdWVzKCkpIHtcclxuICAgICAgY29uc3QgZWRnZURhdGEgPSBlZGdlLmdldERhdGEoKSBhcyBDYW52YXNFZGdlRGF0YVxyXG5cclxuICAgICAgbGV0IG5ld0Zyb21TaWRlID0gZWRnZURhdGEuZnJvbVNpZGVcclxuICAgICAgaWYgKG5vZGVJZHMuaGFzKGVkZ2VEYXRhLmZyb21Ob2RlKSAmJiBCQm94SGVscGVyLmlzSG9yaXpvbnRhbChlZGdlRGF0YS5mcm9tU2lkZSkgPT09IGhvcml6b250YWxseSlcclxuICAgICAgICBuZXdGcm9tU2lkZSA9IEJCb3hIZWxwZXIuZ2V0T3Bwb3NpdGVTaWRlKGVkZ2VEYXRhLmZyb21TaWRlKVxyXG5cclxuICAgICAgbGV0IG5ld1RvU2lkZSA9IGVkZ2VEYXRhLnRvU2lkZVxyXG4gICAgICBpZiAobm9kZUlkcy5oYXMoZWRnZURhdGEudG9Ob2RlKSAmJiBCQm94SGVscGVyLmlzSG9yaXpvbnRhbChlZGdlRGF0YS50b1NpZGUpID09PSBob3Jpem9udGFsbHkpXHJcbiAgICAgICAgbmV3VG9TaWRlID0gQkJveEhlbHBlci5nZXRPcHBvc2l0ZVNpZGUoZWRnZURhdGEudG9TaWRlKVxyXG5cclxuICAgICAgZWRnZS5zZXREYXRhKHtcclxuICAgICAgICAuLi5lZGdlRGF0YSxcclxuICAgICAgICBmcm9tU2lkZTogbmV3RnJvbVNpZGUsXHJcbiAgICAgICAgdG9TaWRlOiBuZXdUb1NpZGVcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMucHVzaEhpc3RvcnkoY2FudmFzLmdldERhdGEoKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzLCBDYW52YXNOb2RlLCBDYW52YXNOb2RlRGF0YSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9jb3JlL2V2ZW50c1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4uL2NvcmUvY2FudmFzLWV4dGVuc2lvblwiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IHsgVmlld1VwZGF0ZSB9IGZyb20gXCJAY29kZW1pcnJvci92aWV3XCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dG9SZXNpemVOb2RlQ2FudmFzRXh0ZW5zaW9uICBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ2F1dG9SZXNpemVOb2RlRmVhdHVyZUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4gdGhpcy5vbk5vZGVDcmVhdGVkKGNhbnZhcywgbm9kZSlcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMub25Qb3B1cE1lbnVDcmVhdGVkKGNhbnZhcylcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlRWRpdGluZ1N0YXRlQ2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlLCBlZGl0aW5nOiBib29sZWFuKSA9PiB0aGlzLm9uTm9kZUVkaXRpbmdTdGF0ZUNoYW5nZWQoY2FudmFzLCBub2RlLCBlZGl0aW5nKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVUZXh0Q29udGVudENoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSwgdmlld1VwZGF0ZTogVmlld1VwZGF0ZSkgPT4gdGhpcy5vbk5vZGVUZXh0Q29udGVudENoYW5nZWQoY2FudmFzLCBub2RlLCB2aWV3VXBkYXRlLnZpZXcuZG9tKVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaXNWYWxpZE5vZGVUeXBlKG5vZGVEYXRhOiBDYW52YXNOb2RlRGF0YSkge1xyXG4gICAgcmV0dXJuIG5vZGVEYXRhLnR5cGUgPT09ICd0ZXh0JyB8fCAobm9kZURhdGEudHlwZSA9PT0gJ2ZpbGUnICYmIG5vZGVEYXRhLmZpbGU/LmVuZHNXaXRoKCcubWQnKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Ob2RlQ3JlYXRlZChfY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgIGNvbnN0IGF1dG9SZXNpemVOb2RlRW5hYmxlZEJ5RGVmYXVsdCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2F1dG9SZXNpemVOb2RlRW5hYmxlZEJ5RGVmYXVsdCcpXHJcbiAgICBpZiAoIWF1dG9SZXNpemVOb2RlRW5hYmxlZEJ5RGVmYXVsdCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG4gICAgaWYgKG5vZGVEYXRhLnR5cGUgIT09ICd0ZXh0JyAmJiBub2RlRGF0YS50eXBlICE9PSAnZmlsZScpIHJldHVybiAvLyBGaWxlIGV4dGVuc2lvbiBjYW4gc3RpbGwgYmUgY2hhbmdlZCBpbiB0aGUgZnV0dXJlXHJcblxyXG4gICAgbm9kZS5zZXREYXRhKHtcclxuICAgICAgLi4ubm9kZS5nZXREYXRhKCksXHJcbiAgICAgIGF1dG9SZXNpemVIZWlnaHQ6IHRydWVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXM6IENhbnZhcykge1xyXG4gICAgaWYgKGNhbnZhcy5yZWFkb25seSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlcyA9IGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXNcclxuICAgICAgLmZpbHRlcihub2RlRGF0YSA9PiB0aGlzLmlzVmFsaWROb2RlVHlwZShub2RlRGF0YSkpXHJcbiAgICAgIC5tYXAobm9kZURhdGEgPT4gY2FudmFzLm5vZGVzLmdldChub2RlRGF0YS5pZCkpXHJcbiAgICAgIC5maWx0ZXIobm9kZSA9PiBub2RlICE9PSB1bmRlZmluZWQpIGFzIENhbnZhc05vZGVbXVxyXG4gICAgaWYgKHNlbGVjdGVkTm9kZXMubGVuZ3RoID09PSAwKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBhdXRvUmVzaXplSGVpZ2h0RW5hYmxlZCA9IHNlbGVjdGVkTm9kZXMuc29tZShub2RlID0+IG5vZGUuZ2V0RGF0YSgpLmF1dG9SZXNpemVIZWlnaHQpXHJcbiAgICBcclxuICAgIENhbnZhc0hlbHBlci5hZGRQb3B1cE1lbnVPcHRpb24oXHJcbiAgICAgIGNhbnZhcyxcclxuICAgICAgQ2FudmFzSGVscGVyLmNyZWF0ZVBvcHVwTWVudU9wdGlvbih7XHJcbiAgICAgICAgaWQ6ICdhdXRvLXJlc2l6ZS1oZWlnaHQnLFxyXG4gICAgICAgIGxhYmVsOiBhdXRvUmVzaXplSGVpZ2h0RW5hYmxlZCA/ICdEaXNhYmxlIGF1dG8tcmVzaXplJyA6ICdFbmFibGUgYXV0by1yZXNpemUnLFxyXG4gICAgICAgIGljb246IGF1dG9SZXNpemVIZWlnaHRFbmFibGVkID8gJ3NjYW4tdGV4dCcgOiAnbG9jaycsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMudG9nZ2xlQXV0b1Jlc2l6ZUhlaWdodEVuYWJsZWQoY2FudmFzLCBzZWxlY3RlZE5vZGVzLCBhdXRvUmVzaXplSGVpZ2h0RW5hYmxlZClcclxuICAgICAgfSlcclxuICAgIClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdG9nZ2xlQXV0b1Jlc2l6ZUhlaWdodEVuYWJsZWQoY2FudmFzOiBDYW52YXMsIG5vZGVzOiBDYW52YXNOb2RlW10sIGF1dG9SZXNpemVIZWlnaHQ6IGJvb2xlYW4pIHtcclxuICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiBub2RlLnNldERhdGEoe1xyXG4gICAgICAuLi5ub2RlLmdldERhdGEoKSxcclxuICAgICAgYXV0b1Jlc2l6ZUhlaWdodDogIWF1dG9SZXNpemVIZWlnaHRcclxuICAgIH0pKVxyXG5cclxuICAgIHRoaXMub25Qb3B1cE1lbnVDcmVhdGVkKGNhbnZhcylcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2FuQmVSZXNpemVkKG5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgIHJldHVybiBub2RlRGF0YS5hdXRvUmVzaXplSGVpZ2h0XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIG9uTm9kZUVkaXRpbmdTdGF0ZUNoYW5nZWQoX2NhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlLCBlZGl0aW5nOiBib29sZWFuKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNWYWxpZE5vZGVUeXBlKG5vZGUuZ2V0RGF0YSgpKSkgcmV0dXJuXHJcbiAgICBpZiAoIXRoaXMuY2FuQmVSZXNpemVkKG5vZGUpKSByZXR1cm5cclxuXHJcbiAgICBhd2FpdCBzbGVlcCgxMClcclxuXHJcbiAgICBpZiAoZWRpdGluZykge1xyXG4gICAgICB0aGlzLm9uTm9kZVRleHRDb250ZW50Q2hhbmdlZChfY2FudmFzLCBub2RlLCBub2RlLmNoaWxkLmVkaXRNb2RlLmNtLmRvbSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVuZGVyZWRNYXJrZG93bkNvbnRhaW5lciA9IG5vZGUubm9kZUVsLnF1ZXJ5U2VsZWN0b3IoXCIubWFya2Rvd24tcHJldmlldy12aWV3Lm1hcmtkb3duLXJlbmRlcmVkXCIpIGFzIEhUTUxFbGVtZW50IHwgbnVsbFxyXG4gICAgaWYgKCFyZW5kZXJlZE1hcmtkb3duQ29udGFpbmVyKSByZXR1cm5cclxuXHJcbiAgICByZW5kZXJlZE1hcmtkb3duQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwibWluLWNvbnRlbnRcIlxyXG4gICAgbGV0IG5ld0hlaWdodCA9IHJlbmRlcmVkTWFya2Rvd25Db250YWluZXIuY2xpZW50SGVpZ2h0XHJcbiAgICByZW5kZXJlZE1hcmtkb3duQ29udGFpbmVyLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiaGVpZ2h0XCIpXHJcblxyXG4gICAgdGhpcy5zZXROb2RlSGVpZ2h0KG5vZGUsIG5ld0hlaWdodClcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBhc3luYyBvbk5vZGVUZXh0Q29udGVudENoYW5nZWQoX2NhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlLCBkb206IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAoIXRoaXMuaXNWYWxpZE5vZGVUeXBlKG5vZGUuZ2V0RGF0YSgpKSkgcmV0dXJuXHJcbiAgICBpZiAoIXRoaXMuY2FuQmVSZXNpemVkKG5vZGUpKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBjbVNjcm9sbGVyID0gZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tc2Nyb2xsZXJcIikgYXMgSFRNTEVsZW1lbnQgfCBudWxsXHJcbiAgICBpZiAoIWNtU2Nyb2xsZXIpIHJldHVyblxyXG5cclxuICAgIGNtU2Nyb2xsZXIuc3R5bGUuaGVpZ2h0ID0gXCJtaW4tY29udGVudFwiXHJcbiAgICBjb25zdCBuZXdIZWlnaHQgPSBjbVNjcm9sbGVyLnNjcm9sbEhlaWdodFxyXG4gICAgY21TY3JvbGxlci5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKVxyXG5cclxuICAgIHRoaXMuc2V0Tm9kZUhlaWdodChub2RlLCBuZXdIZWlnaHQpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldE5vZGVIZWlnaHQobm9kZTogQ2FudmFzTm9kZSwgaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgIGlmIChoZWlnaHQgPT09IDApIHJldHVyblxyXG4gICAgXHJcbiAgICAvLyBMaW1pdCB0aGUgaGVpZ2h0IHRvIHRoZSBtYXhpbXVtIGFsbG93ZWRcclxuICAgIGNvbnN0IG1heEhlaWdodCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2F1dG9SZXNpemVOb2RlTWF4SGVpZ2h0JylcclxuICAgIGlmIChtYXhIZWlnaHQgIT0gLTEgJiYgaGVpZ2h0ID4gbWF4SGVpZ2h0KSBoZWlnaHQgPSBtYXhIZWlnaHRcclxuXHJcbiAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcblxyXG4gICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBub2RlLmNhbnZhcy5jb25maWcubWluQ29udGFpbmVyRGltZW5zaW9uKVxyXG5cclxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdhdXRvUmVzaXplTm9kZVNuYXBUb0dyaWQnKSlcclxuICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAvIENhbnZhc0hlbHBlci5HUklEX1NJWkUpICogQ2FudmFzSGVscGVyLkdSSURfU0laRVxyXG5cclxuICAgIG5vZGUuc2V0RGF0YSh7XHJcbiAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgfSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIlxyXG5pbXBvcnQgeyBCQm94LCBDYW52YXMsIENhbnZhc0RhdGEsIENhbnZhc0VkZ2UsIENhbnZhc0VsZW1lbnQsIENhbnZhc05vZGUsIENhbnZhc05vZGVEYXRhLCBDYW52YXNWaWV3IH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2NvcmUvZXZlbnRzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jb3JlL2NhbnZhcy1leHRlbnNpb25cIlxyXG5cclxuY29uc3QgUE9SVEFMX1BBRERJTkcgPSA1MFxyXG5jb25zdCBNSU5fT1BFTl9QT1JUQUxfU0laRSA9IHsgd2lkdGg6IDIwMCwgaGVpZ2h0OiAyMDAgfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9ydGFsc0NhbnZhc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ3BvcnRhbHNGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAudmF1bHQub24oJ21vZGlmeScsIChmaWxlOiBURmlsZSkgPT4ge1xyXG4gICAgICBjb25zdCBjYW52YXNlcyA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdjYW52YXMnKS5tYXAobGVhZiA9PiAobGVhZi52aWV3IGFzIENhbnZhc1ZpZXcpLmNhbnZhcylcclxuXHJcbiAgICAgIGZvciAoY29uc3QgY2FudmFzIG9mIGNhbnZhc2VzKSB7XHJcbiAgICAgICAgaWYgKGNhbnZhcyA9PT0gdW5kZWZpbmVkKSBjb250aW51ZVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGhhc1BvcnRhbHNUb0ZpbGUgPSBjYW52YXMuZ2V0RGF0YSgpLm5vZGVzLmZpbHRlcihub2RlRGF0YSA9PiBcclxuICAgICAgICAgIG5vZGVEYXRhLnR5cGUgPT09ICdmaWxlJyAmJiBcclxuICAgICAgICAgIG5vZGVEYXRhLnBvcnRhbFRvRmlsZSA9PT0gZmlsZS5wYXRoXHJcbiAgICAgICAgKS5sZW5ndGggPiAwXHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB3aG9sZSBjYW52YXMgZGF0YVxyXG4gICAgICAgIGlmIChoYXNQb3J0YWxzVG9GaWxlKSB7XHJcbiAgICAgICAgICBjYW52YXMuc2V0RGF0YShjYW52YXMuZ2V0RGF0YSgpKVxyXG5cclxuICAgICAgICAgIC8vIE1haW50YWluIGhpc3RvcnlcclxuICAgICAgICAgIGNhbnZhcy5oaXN0b3J5LmN1cnJlbnQtLVxyXG4gICAgICAgICAgY2FudmFzLmhpc3RvcnkuZGF0YS5wb3AoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMudXBkYXRlUG9wdXBNZW51KGNhbnZhcylcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlUmVtb3ZlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLm9uTm9kZVJlbW92ZWQoY2FudmFzLCBub2RlKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVNb3ZlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLm9uTm9kZU1vdmVkKGNhbnZhcywgbm9kZSlcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5EcmFnZ2luZ1N0YXRlQ2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBzdGFydGVkRHJhZ2dpbmc6IGJvb2xlYW4pID0+IHRoaXMub25EcmFnZ2luZ1N0YXRlQ2hhbmdlZChjYW52YXMsIHN0YXJ0ZWREcmFnZ2luZylcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Db250YWluaW5nTm9kZXNSZXF1ZXN0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgYmJveDogQkJveCwgbm9kZXM6IENhbnZhc05vZGVbXSkgPT4gdGhpcy5vbkNvbnRhaW5pbmdOb2Rlc1JlcXVlc3RlZChjYW52YXMsIGJib3gsIG5vZGVzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlNlbGVjdGlvbkNoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgb2xkU2VsZWN0aW9uOiBTZXQ8Q2FudmFzRWxlbWVudD4sIHVwZGF0ZVNlbGVjdGlvbjogKHVwZGF0ZTogKCkgPT4gdm9pZCkgPT4gdm9pZCkgPT4gdGhpcy5vblNlbGVjdGlvbkNoYW5nZWQoY2FudmFzLCBvbGRTZWxlY3Rpb24sIHVwZGF0ZVNlbGVjdGlvbilcclxuICAgICkpXHJcbiAgICBcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuRGF0YVJlcXVlc3RlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBkYXRhOiBDYW52YXNEYXRhKSA9PiB0aGlzLnJlbW92ZVBvcnRhbENhbnZhc0RhdGEoY2FudmFzLCBkYXRhKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkxvYWREYXRhLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIGRhdGE6IENhbnZhc0RhdGEsIHNldERhdGE6IChkYXRhOiBDYW52YXNEYXRhKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5nZXRDYW52YXNEYXRhV2l0aFBvcnRhbHMoY2FudmFzLCBkYXRhKVxyXG4gICAgICAgICAgLnRoZW4oKG5ld0RhdGE6IENhbnZhc0RhdGEpID0+IHtcclxuICAgICAgICAgICAgLy8gU2tpcCBpZiB0aGUgZGF0YSBkaWRuJ3QgY2hhbmdlXHJcbiAgICAgICAgICAgIGlmIChuZXdEYXRhLm5vZGVzLmxlbmd0aCA9PT0gZGF0YS5ub2Rlcy5sZW5ndGggJiYgbmV3RGF0YS5lZGdlcy5sZW5ndGggPT09IGRhdGEuZWRnZXMubGVuZ3RoKSByZXR1cm5cclxuICAgICAgICAgICAgc2V0RGF0YShuZXdEYXRhKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlUG9wdXBNZW51KGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBpZiAoY2FudmFzLnJlYWRvbmx5KSByZXR1cm5cclxuXHJcbiAgICAvLyBPbmx5IHNlYXJjaCBmb3IgdmFsaWQgbm9kZXNcclxuICAgIGNvbnN0IHNlbGVjdGVkRmlsZU5vZGVzID0gY2FudmFzLmdldFNlbGVjdGlvbkRhdGEoKS5ub2Rlcy5tYXAobm9kZURhdGEgPT4ge1xyXG4gICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGVzLmdldChub2RlRGF0YS5pZClcclxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gbnVsbFxyXG5cclxuICAgICAgaWYgKG5vZGVEYXRhLnR5cGUgIT09ICdmaWxlJykgcmV0dXJuIG51bGxcclxuICAgICAgaWYgKG5vZGUuZmlsZT8uZXh0ZW5zaW9uID09PSAnY2FudmFzJykgcmV0dXJuIG5vZGVcclxuICAgICAgXHJcbiAgICAgIC8vIENsb3NlIHBvcnRhbCBvZiBub24tY2FudmFzIGZpbGVcclxuICAgICAgaWYgKG5vZGVEYXRhLnBvcnRhbFRvRmlsZSkgdGhpcy5zZXRQb3J0YWxPcGVuKGNhbnZhcywgbm9kZSwgZmFsc2UpXHJcblxyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfSkuZmlsdGVyKG5vZGUgPT4gbm9kZSAhPT0gbnVsbCkgYXMgQ2FudmFzTm9kZVtdXHJcbiAgICBcclxuICAgIGlmIChzZWxlY3RlZEZpbGVOb2Rlcy5sZW5ndGggIT09IDEpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHBvcnRhbE5vZGUgPSBzZWxlY3RlZEZpbGVOb2Rlc1swXVxyXG4gICAgY29uc3QgcG9ydGFsTm9kZURhdGEgPSBwb3J0YWxOb2RlLmdldERhdGEoKVxyXG5cclxuICAgIC8vIElmIGZpbGUgY2hhbmdlZFxyXG4gICAgaWYgKHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSAmJiBwb3J0YWxOb2RlRGF0YS5maWxlICE9PSBwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUpIHtcclxuICAgICAgdGhpcy5zZXRQb3J0YWxPcGVuKGNhbnZhcywgcG9ydGFsTm9kZSwgdHJ1ZSlcclxuICAgIH1cclxuXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkUG9wdXBNZW51T3B0aW9uKFxyXG4gICAgICBjYW52YXMsXHJcbiAgICAgIENhbnZhc0hlbHBlci5jcmVhdGVQb3B1cE1lbnVPcHRpb24oe1xyXG4gICAgICAgIGlkOiAndG9nZ2xlLXBvcnRhbCcsXHJcbiAgICAgICAgbGFiZWw6IHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSA/ICdDbG9zZSBwb3J0YWwnIDogJ09wZW4gcG9ydGFsJyxcclxuICAgICAgICBpY29uOiBwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUgPyAnZG9vci1vcGVuJyA6ICdkb29yLWNsb3NlZCcsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0UG9ydGFsT3BlbihjYW52YXMsIHBvcnRhbE5vZGUsIHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgdGhpcy51cGRhdGVQb3B1cE1lbnUoY2FudmFzKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0UG9ydGFsT3BlbihjYW52YXM6IENhbnZhcywgcG9ydGFsTm9kZTogQ2FudmFzTm9kZSwgb3BlbjogYm9vbGVhbikge1xyXG4gICAgY29uc3QgcG9ydGFsTm9kZURhdGEgPSBwb3J0YWxOb2RlLmdldERhdGEoKVxyXG4gICAgcG9ydGFsTm9kZS5zZXREYXRhKHtcclxuICAgICAgLi4ucG9ydGFsTm9kZURhdGEsXHJcbiAgICAgIHBvcnRhbFRvRmlsZTogb3BlbiA/IHBvcnRhbE5vZGVEYXRhLmZpbGUgOiB1bmRlZmluZWRcclxuICAgIH0pXHJcblxyXG4gICAgLy8gVXBkYXRlIHdob2xlIGNhbnZhcyBkYXRhXHJcbiAgICBjYW52YXMuc2V0RGF0YShjYW52YXMuZ2V0RGF0YSgpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbk5vZGVSZW1vdmVkKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcbiAgICBpZiAobm9kZURhdGEudHlwZSAhPT0gJ2ZpbGUnIHx8ICFub2RlRGF0YS5wb3J0YWxUb0ZpbGUpIHJldHVyblxyXG5cclxuICAgIC8vIFJlbW92ZSBuZXN0ZWQgbm9kZXMgYW5kIGVkZ2VzXHJcbiAgICBPYmplY3Qua2V5cyhub2RlRGF0YS5wb3J0YWxJZE1hcHM/Lm5vZGVJZE1hcCA/PyB7fSkubWFwKHJlZk5vZGVJZCA9PiBjYW52YXMubm9kZXMuZ2V0KHJlZk5vZGVJZCkpXHJcbiAgICAgIC5maWx0ZXIobm9kZSA9PiBub2RlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgIC5mb3JFYWNoKG5vZGUgPT4gY2FudmFzLnJlbW92ZU5vZGUobm9kZSEpKVxyXG5cclxuICAgIE9iamVjdC5rZXlzKG5vZGVEYXRhLnBvcnRhbElkTWFwcz8uZWRnZUlkTWFwID8/IHt9KS5tYXAocmVmRWRnZUlkID0+IGNhbnZhcy5lZGdlcy5nZXQocmVmRWRnZUlkKSlcclxuICAgICAgLmZpbHRlcihlZGdlID0+IGVkZ2UgIT09IHVuZGVmaW5lZClcclxuICAgICAgLmZvckVhY2goZWRnZSA9PiBjYW52YXMucmVtb3ZlRWRnZShlZGdlISkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uQ29udGFpbmluZ05vZGVzUmVxdWVzdGVkKF9jYW52YXM6IENhbnZhcywgX2Jib3g6IEJCb3gsIG5vZGVzOiBDYW52YXNOb2RlW10pIHtcclxuICAgIC8vIFJlbW92ZSBub2RlcyBmcm9tIHBvcnRhbHMgZnJvbSB0aGUgbGlzdFxyXG4gICAgbm9kZXMuc3BsaWNlKDAsIG5vZGVzLmxlbmd0aCwgLi4ubm9kZXMuZmlsdGVyKG5vZGUgPT4gbm9kZS5nZXREYXRhKCkucG9ydGFsSWQgPT09IHVuZGVmaW5lZCkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uU2VsZWN0aW9uQ2hhbmdlZChjYW52YXM6IENhbnZhcywgb2xkU2VsZWN0aW9uOiBTZXQ8Q2FudmFzRWxlbWVudD4sIHVwZGF0ZVNlbGVjdGlvbjogKHVwZGF0ZTogKCkgPT4gdm9pZCkgPT4gdm9pZCkge1xyXG4gICAgLy8gVW5zZWxlY3Qgbm9kZXMgZnJvbSBwb3J0YWxzXHJcbiAgICB1cGRhdGVTZWxlY3Rpb24oKCkgPT4ge1xyXG4gICAgICBjb25zdCB1cGRhdGVkU2VsZWN0aW9uID0gQXJyYXkuZnJvbShjYW52YXMuc2VsZWN0aW9uKVxyXG4gICAgICAgIC5maWx0ZXIobm9kZSA9PiBub2RlLmdldERhdGEoKS5wb3J0YWxJZCA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICBjYW52YXMuc2VsZWN0aW9uID0gbmV3IFNldCh1cGRhdGVkU2VsZWN0aW9uKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBNb3ZlIHByZXZpb3VzbHkgc2VsZWN0ZWQgcG9ydGFscyB0byB0aGUgYmFja1xyXG4gICAgY29uc3QgcHJldmlvdXNseVNlbGVjdGVkUG9ydGFsTm9kZXNJZHMgPSBBcnJheS5mcm9tKG9sZFNlbGVjdGlvbilcclxuICAgICAgLmZpbHRlcihub2RlID0+IChub2RlLmdldERhdGEoKSBhcyBhbnkpLnBvcnRhbFRvRmlsZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAuZmxhdE1hcChub2RlID0+IHtcclxuICAgICAgICBjb25zdCBwb3J0YWxOb2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcbiAgICAgICAgY29uc3QgbmVzdGVkUG9ydGFsc0lkcyA9IHRoaXMuZ2V0TmVzdGVkUG9ydGFsc0lkcyhjYW52YXMsIHBvcnRhbE5vZGVEYXRhLmlkKVxyXG5cclxuICAgICAgICByZXR1cm4gW3BvcnRhbE5vZGVEYXRhLmlkLCAuLi5uZXN0ZWRQb3J0YWxzSWRzXVxyXG4gICAgICB9KVxyXG5cclxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjYW52YXMubm9kZXMudmFsdWVzKCkpIHtcclxuICAgICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG5cclxuICAgICAgLy8gTm90IGZyb20gdW5zZWxlY3RlZCBwb3J0YWxcclxuICAgICAgaWYgKG5vZGVEYXRhLnBvcnRhbElkID09PSB1bmRlZmluZWQgfHwgIXByZXZpb3VzbHlTZWxlY3RlZFBvcnRhbE5vZGVzSWRzLmluY2x1ZGVzKG5vZGVEYXRhLnBvcnRhbElkKSkgY29udGludWVcclxuXHJcbiAgICAgIC8vIE1vdmUgdG8gZnJvbnRcclxuICAgICAgbm9kZS51cGRhdGVaSW5kZXgoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXROZXN0ZWRQb3J0YWxzSWRzKGNhbnZhczogQ2FudmFzLCBwb3J0YWxJZDogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gICAgY29uc3QgbmVzdGVkUG9ydGFsc0lkczogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjYW52YXMubm9kZXMudmFsdWVzKCkpIHtcclxuICAgICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG5cclxuICAgICAgaWYgKG5vZGVEYXRhLnBvcnRhbElkID09PSBwb3J0YWxJZCkge1xyXG4gICAgICAgIG5lc3RlZFBvcnRhbHNJZHMucHVzaChub2RlRGF0YS5pZClcclxuICAgICAgICBuZXN0ZWRQb3J0YWxzSWRzLnB1c2goLi4udGhpcy5nZXROZXN0ZWRQb3J0YWxzSWRzKGNhbnZhcywgbm9kZURhdGEuaWQpKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5lc3RlZFBvcnRhbHNJZHNcclxuICB9XHJcblxyXG4gIHJlc3RvcmVPYmplY3RTbmFwcGluZ1N0YXRlOiAoKSA9PiB2b2lkXHJcbiAgcHJpdmF0ZSBvbkRyYWdnaW5nU3RhdGVDaGFuZ2VkKGNhbnZhczogQ2FudmFzLCBzdGFydGVkRHJhZ2dpbmc6IGJvb2xlYW4pIHtcclxuICAgIC8vIElmIG5vIG9wZW4gcG9ydGFsIGdldHMgZHJhZ2dlZCwgcmV0dXJuXHJcbiAgICBpZiAoIWNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXMuc29tZShub2RlID0+IG5vZGUudHlwZSA9PT0gJ2ZpbGUnICYmIG5vZGUucG9ydGFsVG9GaWxlKSkgcmV0dXJuXHJcblxyXG4gICAgLy8gRGlzYWJsZSBvYmplY3Qgc25hcHBpbmcgdG8gZml4IHNlbGYtYWxpZ25pbmdcclxuICAgIGlmIChzdGFydGVkRHJhZ2dpbmcpIHtcclxuICAgICAgY29uc3Qgb2JqZWN0U25hcHBpbmdFbmFibGVkID0gY2FudmFzLm9wdGlvbnMuc25hcFRvT2JqZWN0c1xyXG4gICAgICB0aGlzLnJlc3RvcmVPYmplY3RTbmFwcGluZ1N0YXRlID0gKCkgPT4gY2FudmFzLnRvZ2dsZU9iamVjdFNuYXBwaW5nKG9iamVjdFNuYXBwaW5nRW5hYmxlZClcclxuXHJcbiAgICAgIGlmIChvYmplY3RTbmFwcGluZ0VuYWJsZWQpIGNhbnZhcy50b2dnbGVPYmplY3RTbmFwcGluZyhmYWxzZSlcclxuICAgIH0gZWxzZSB0aGlzLnJlc3RvcmVPYmplY3RTbmFwcGluZ1N0YXRlPy4oKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbk5vZGVNb3ZlZChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG4gICAgaWYgKG5vZGVEYXRhLnR5cGUgIT09ICdmaWxlJyB8fCAhbm9kZURhdGEucG9ydGFsVG9GaWxlKSByZXR1cm5cclxuXHJcbiAgICB0aGlzLm9uT3BlblBvcnRhbE1vdmVkKGNhbnZhcywgbm9kZSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25PcGVuUG9ydGFsTW92ZWQoY2FudmFzOiBDYW52YXMsIHBvcnRhbE5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgIGxldCBwb3J0YWxOb2RlRGF0YSA9IHBvcnRhbE5vZGUuZ2V0RGF0YSgpXHJcblxyXG4gICAgLy8gVXBkYXRlIG5lc3RlZCBub2RlcyBwb3NpdGlvbnNcclxuICAgIGNvbnN0IG5lc3RlZE5vZGVzSWRNYXAgPSBwb3J0YWxOb2RlLmdldERhdGEoKS5wb3J0YWxJZE1hcHM/Lm5vZGVJZE1hcFxyXG4gICAgaWYgKCFuZXN0ZWROb2Rlc0lkTWFwKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBuZXN0ZWROb2RlcyA9IE9iamVjdC5rZXlzKG5lc3RlZE5vZGVzSWRNYXApLm1hcChyZWZOb2RlSWQgPT4gY2FudmFzLm5vZGVzLmdldChyZWZOb2RlSWQpKVxyXG4gICAgICAuZmlsdGVyKG5vZGUgPT4gbm9kZSAhPT0gdW5kZWZpbmVkKSBhcyBDYW52YXNOb2RlW11cclxuICAgIGNvbnN0IHNvdXJjZUJCb3ggPSBDYW52YXNIZWxwZXIuZ2V0QkJveChuZXN0ZWROb2RlcylcclxuXHJcbiAgICAvLyBSZXNpemUgcG9ydGFsXHJcbiAgICBjb25zdCB0YXJnZXRTaXplID0gdGhpcy5nZXRQb3J0YWxTaXplKHNvdXJjZUJCb3gpXHJcbiAgICBpZiAocG9ydGFsTm9kZURhdGEud2lkdGggIT09IHRhcmdldFNpemUud2lkdGggfHwgcG9ydGFsTm9kZURhdGEuaGVpZ2h0ICE9PSB0YXJnZXRTaXplLmhlaWdodCkge1xyXG4gICAgICBwb3J0YWxOb2RlLnNldERhdGEoe1xyXG4gICAgICAgIC4uLnBvcnRhbE5vZGVEYXRhLFxyXG4gICAgICAgIHdpZHRoOiB0YXJnZXRTaXplLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogdGFyZ2V0U2l6ZS5oZWlnaHRcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmUgbmVzdGVkIG5vZGVzXHJcbiAgICBjb25zdCBwb3J0YWxPZmZzZXQgPSB7XHJcbiAgICAgIHg6IHBvcnRhbE5vZGVEYXRhLnggLSBzb3VyY2VCQm94Lm1pblggKyBQT1JUQUxfUEFERElORyxcclxuICAgICAgeTogcG9ydGFsTm9kZURhdGEueSAtIHNvdXJjZUJCb3gubWluWSArIFBPUlRBTF9QQURESU5HXHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChjb25zdCBuZXN0ZWROb2RlIG9mIG5lc3RlZE5vZGVzKSB7XHJcbiAgICAgIGNvbnN0IG5lc3RlZE5vZGVEYXRhID0gbmVzdGVkTm9kZS5nZXREYXRhKClcclxuXHJcbiAgICAgIG5lc3RlZE5vZGUuc2V0RGF0YSh7XHJcbiAgICAgICAgLi4ubmVzdGVkTm9kZURhdGEsXHJcbiAgICAgICAgeDogbmVzdGVkTm9kZURhdGEueCArIHBvcnRhbE9mZnNldC54LFxyXG4gICAgICAgIHk6IG5lc3RlZE5vZGVEYXRhLnkgKyBwb3J0YWxPZmZzZXQueVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW1vdmVQb3J0YWxDYW52YXNEYXRhKF9jYW52YXM6IENhbnZhcywgZGF0YTogQ2FudmFzRGF0YSkge1xyXG4gICAgZGF0YS5lZGdlcyA9IGRhdGEuZWRnZXMuZmlsdGVyKGVkZ2VEYXRhID0+IHtcclxuICAgICAgaWYgKGVkZ2VEYXRhLnBvcnRhbElkICE9PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZVxyXG5cclxuICAgICAgY29uc3QgZnJvbU5vZGVEYXRhID0gZGF0YS5ub2Rlcy5maW5kKG5vZGVEYXRhID0+IG5vZGVEYXRhLmlkID09PSBlZGdlRGF0YS5mcm9tTm9kZSlcclxuICAgICAgY29uc3QgdG9Ob2RlRGF0YSA9IGRhdGEubm9kZXMuZmluZChub2RlRGF0YSA9PiBub2RlRGF0YS5pZCA9PT0gZWRnZURhdGEudG9Ob2RlKVxyXG4gICAgICBpZiAoIWZyb21Ob2RlRGF0YSB8fCAhdG9Ob2RlRGF0YSkgcmV0dXJuIHRydWVcclxuXHJcbiAgICAgIGlmIChmcm9tTm9kZURhdGEucG9ydGFsSWQgPT09IHVuZGVmaW5lZCAmJiB0b05vZGVEYXRhLnBvcnRhbElkID09PSB1bmRlZmluZWQpIHsgLy8gTm9ybWFsIGVkZ2VcclxuICAgICAgICByZXR1cm4gdHJ1ZSBcclxuICAgICAgfSBlbHNlIGlmIChmcm9tTm9kZURhdGEucG9ydGFsSWQgIT09IHVuZGVmaW5lZCAmJiB0b05vZGVEYXRhLnBvcnRhbElkICE9PSB1bmRlZmluZWQpIHsgLy8gQ29tcGxldGVseSBmcm9tIHBvcnRhbFxyXG4gICAgICAgIC8vIFNhdmUgdG8gcG9ydGFsIGZpbGU/IE9SIGRlbGV0ZSFcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgfSBlbHNlIHsgLy8gUGFydGlhbGx5IGZyb20gcG9ydGFsXHJcbiAgICAgICAgY29uc3QgZnJvbVBvcnRhbE5vZGVEYXRhID0gZnJvbU5vZGVEYXRhLnBvcnRhbElkICE9PSB1bmRlZmluZWQgPyBmcm9tTm9kZURhdGEgOiB0b05vZGVEYXRhXHJcbiAgICAgICAgY29uc3Qgbm90RnJvbVBvcnRhbE5vZGVEYXRhID0gZnJvbU5vZGVEYXRhLnBvcnRhbElkICE9PSB1bmRlZmluZWQgPyB0b05vZGVEYXRhIDogZnJvbU5vZGVEYXRhXHJcblxyXG4gICAgICAgIG5vdEZyb21Qb3J0YWxOb2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWwgPSBub3RGcm9tUG9ydGFsTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsID8/IHt9XHJcbiAgICAgICAgbm90RnJvbVBvcnRhbE5vZGVEYXRhLmVkZ2VzVG9Ob2RlRnJvbVBvcnRhbFtmcm9tUG9ydGFsTm9kZURhdGEucG9ydGFsSWQhXSA9IG5vdEZyb21Qb3J0YWxOb2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWxbZnJvbVBvcnRhbE5vZGVEYXRhLnBvcnRhbElkIV0gPz8gW11cclxuICAgICAgICBub3RGcm9tUG9ydGFsTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsW2Zyb21Qb3J0YWxOb2RlRGF0YS5wb3J0YWxJZCFdLnB1c2goZWRnZURhdGEpXHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGRhdGEubm9kZXMgPSBkYXRhLm5vZGVzLmZpbHRlcihub2RlRGF0YSA9PiBub2RlRGF0YS5wb3J0YWxJZCA9PT0gdW5kZWZpbmVkKVxyXG5cclxuICAgIGZvciAoY29uc3QgcG9ydGFsTm9kZURhdGEgb2YgZGF0YS5ub2Rlcykge1xyXG4gICAgICBpZiAocG9ydGFsTm9kZURhdGEudHlwZSAhPT0gJ2ZpbGUnKSBjb250aW51ZVxyXG5cclxuICAgICAgLy8gUmVzZXQgcG9ydGFsIHNpemVcclxuICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ21haW50YWluQ2xvc2VkUG9ydGFsU2l6ZScpKSB7XHJcbiAgICAgICAgcG9ydGFsTm9kZURhdGEud2lkdGggPSBwb3J0YWxOb2RlRGF0YS5jbG9zZWRQb3J0YWxXaWR0aCA/PyBwb3J0YWxOb2RlRGF0YS53aWR0aFxyXG4gICAgICAgIHBvcnRhbE5vZGVEYXRhLmhlaWdodCA9IHBvcnRhbE5vZGVEYXRhLmNsb3NlZFBvcnRhbEhlaWdodCA/PyBwb3J0YWxOb2RlRGF0YS5oZWlnaHRcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIHJlZmVyZW5jZXMgdG8gcG9ydGFsIG5vZGVzIGFuZCBlZGdlc1xyXG4gICAgICBkZWxldGUgcG9ydGFsTm9kZURhdGEuY2xvc2VkUG9ydGFsV2lkdGhcclxuICAgICAgZGVsZXRlIHBvcnRhbE5vZGVEYXRhLmNsb3NlZFBvcnRhbEhlaWdodFxyXG4gICAgICBkZWxldGUgcG9ydGFsTm9kZURhdGEucG9ydGFsSWRNYXBzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGdldENhbnZhc0RhdGFXaXRoUG9ydGFscyhjYW52YXM6IENhbnZhcywgZGF0YVJlZjogQ2FudmFzRGF0YSk6IFByb21pc2U8Q2FudmFzRGF0YT4ge1xyXG4gICAgLy8gRGVlcCBjb3B5IGRhdGEgLSBJZiBhbm90aGVyIGZpbGUgZ2V0cyBvcGVuZWQgaW4gdGhlIHNhbWUgdmlldywgdGhlIGRhdGEgd291bGQgZ2V0IG92ZXJ3cml0dGVuXHJcbiAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhUmVmKSkgYXMgQ2FudmFzRGF0YVxyXG5cclxuICAgIC8vIE9wZW4gcG9ydGFsc1xyXG4gICAgdGhpcy5uZXN0ZWRQb3J0YWxzID0ge31cclxuICAgIGNvbnN0IGFkZGVkRGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKGRhdGEubm9kZXMubWFwKG5vZGVEYXRhID0+IHRoaXMudHJ5T3BlblBvcnRhbChjYW52YXMsIG5vZGVEYXRhKSkpXHJcbiAgICBmb3IgKGNvbnN0IG5ld0RhdGEgb2YgYWRkZWREYXRhKSB7XHJcbiAgICAgIGRhdGEubm9kZXMucHVzaCguLi5uZXdEYXRhLm5vZGVzKVxyXG4gICAgICBkYXRhLmVkZ2VzLnB1c2goLi4ubmV3RGF0YS5lZGdlcylcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgY3Jvc3MtcG9ydGFsIGVkZ2VzXHJcbiAgICBmb3IgKGNvbnN0IG9yaWdpbk5vZGVEYXRhIG9mIGRhdGEubm9kZXMpIHtcclxuICAgICAgaWYgKG9yaWdpbk5vZGVEYXRhLmVkZ2VzVG9Ob2RlRnJvbVBvcnRhbCA9PT0gdW5kZWZpbmVkKSBjb250aW51ZVxyXG5cclxuICAgICAgZm9yIChjb25zdCBbcmVsYXRpdmVQb3J0YWxJZCwgZWRnZXNdIG9mIE9iamVjdC5lbnRyaWVzKG9yaWdpbk5vZGVEYXRhLmVkZ2VzVG9Ob2RlRnJvbVBvcnRhbCkpIHtcclxuICAgICAgICBjb25zdCBpZFByZWZpeCA9IG9yaWdpbk5vZGVEYXRhLnBvcnRhbElkID8gYCR7b3JpZ2luTm9kZURhdGEucG9ydGFsSWR9LWAgOiAnJ1xyXG5cclxuICAgICAgICBjb25zdCBwb3J0YWxJZCA9IGAke2lkUHJlZml4fSR7cmVsYXRpdmVQb3J0YWxJZH1gXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UG9ydGFsRGF0YSA9IGRhdGEubm9kZXMuZmluZChub2RlRGF0YSA9PiBub2RlRGF0YS5pZCA9PT0gcG9ydGFsSWQpXHJcblxyXG4gICAgICAgIC8vIElmIHRhcmdldCBwb3J0YWwgaXMgZGVsZXRlZCwgcmVtb3ZlIGVkZ2VzXHJcbiAgICAgICAgaWYgKCF0YXJnZXRQb3J0YWxEYXRhKSB7XHJcbiAgICAgICAgICBkZWxldGUgb3JpZ2luTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsIVtwb3J0YWxJZF1cclxuICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBwb3J0YWwgaXMgb3BlbiwgYWRkIGVkZ2VzXHJcbiAgICAgICAgaWYgKHRhcmdldFBvcnRhbERhdGEucG9ydGFsVG9GaWxlKSB7XHJcbiAgICAgICAgICAvLyBQdXNoIGVkZ2VzIHdpdGggdXBkYXRlZCBmcm9tIGFuZCB0byBpZHNcclxuICAgICAgICAgIGRhdGEuZWRnZXMucHVzaCguLi5lZGdlcy5tYXAoZWRnZSA9PiAoe1xyXG4gICAgICAgICAgICAuLi5lZGdlLFxyXG4gICAgICAgICAgICBwb3J0YWxJZDogb3JpZ2luTm9kZURhdGEucG9ydGFsSWQsXHJcbiAgICAgICAgICAgIGZyb21Ob2RlOiBgJHtpZFByZWZpeH0ke2VkZ2UuZnJvbU5vZGV9YCxcclxuICAgICAgICAgICAgdG9Ob2RlOiBgJHtpZFByZWZpeH0ke2VkZ2UudG9Ob2RlfWBcclxuICAgICAgICAgIH0pKSlcclxuXHJcbiAgICAgICAgICBkZWxldGUgb3JpZ2luTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsIVtwb3J0YWxJZF1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ3Nob3dFZGdlc0ludG9EaXNhYmxlZFBvcnRhbHMnKSkge1xyXG4gICAgICAgICAgLy8gSWYgcG9ydGFsIGlzIGNsb3NlZCwgYWRkIGFsdGVybmF0aXZlIGVkZ2VzIGRpcmVjdGx5IHRvIHBvcnRhbFxyXG4gICAgICAgICAgLy8gQnV0IGRvbid0IGRlbGV0ZSB0aGUgZWRnZXNcclxuXHJcbiAgICAgICAgICBkYXRhLmVkZ2VzLnB1c2goLi4uZWRnZXMubWFwKGVkZ2UgPT4ge1xyXG4gICAgICAgICAgICAvLyBXaGljaCBlbmQgaXMgZnJvbSBwb3J0YWw/XHJcbiAgICAgICAgICAgIGNvbnN0IGZyb21Ob2RlSWQgPSBgJHtpZFByZWZpeH0ke2VkZ2UuZnJvbU5vZGV9YFxyXG4gICAgICAgICAgICBjb25zdCBmcm9tTm9kZSA9IGRhdGEubm9kZXMuZmluZChub2RlRGF0YSA9PiBub2RlRGF0YS5pZCA9PT0gZnJvbU5vZGVJZClcclxuICAgICAgICAgICAgY29uc3QgdG9Ob2RlSWQgPSBgJHtpZFByZWZpeH0ke2VkZ2UudG9Ob2RlfWBcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgLi4uZWRnZSxcclxuICAgICAgICAgICAgICBmcm9tTm9kZTogZnJvbU5vZGUgPyBmcm9tTm9kZUlkIDogcG9ydGFsSWQsXHJcbiAgICAgICAgICAgICAgdG9Ob2RlOiBmcm9tTm9kZSA/IHBvcnRhbElkIDogdG9Ob2RlSWQsXHJcbiAgICAgICAgICAgICAgcG9ydGFsSWQ6IHBvcnRhbElkIC8vIE1hcmsgaXQgYXMgdGVtcG9yYXJ5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgbm8gbW9yZSBlZGdlcywgZGVsZXRlIHRoZSBwcm9wZXJ0eVxyXG4gICAgICBpZiAoT2JqZWN0LmtleXMob3JpZ2luTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsISkubGVuZ3RoID09PSAwKVxyXG4gICAgICAgIGRlbGV0ZSBvcmlnaW5Ob2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWxcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBuZXN0ZWRQb3J0YWxzOiB7IFtwb3J0YWxJZDogc3RyaW5nXTogc3RyaW5nW10gfSA9IHt9XHJcbiAgcHJpdmF0ZSBhc3luYyB0cnlPcGVuUG9ydGFsKGNhbnZhczogQ2FudmFzLCBwb3J0YWxOb2RlRGF0YTogQ2FudmFzTm9kZURhdGEsIHBhcmVudFBvcnRhbElkPzogc3RyaW5nKTogUHJvbWlzZTxDYW52YXNEYXRhPiB7XHJcbiAgICBjb25zdCBhZGRlZERhdGE6IENhbnZhc0RhdGEgPSB7IG5vZGVzOiBbXSwgZWRnZXM6IFtdIH1cclxuICAgIGlmIChwb3J0YWxOb2RlRGF0YS50eXBlICE9PSAnZmlsZScgfHwgIXBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSkgcmV0dXJuIGFkZGVkRGF0YVxyXG5cclxuICAgIC8vIFVwZGF0ZSBwb3J0YWwgZmlsZVxyXG4gICAgcG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlID0gcG9ydGFsTm9kZURhdGEuZmlsZVxyXG5cclxuICAgIC8vIEZpeCBkaXJlY3QgcmVjdXJzaW9uXHJcbiAgICBpZiAocG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlID09PSBjYW52YXMudmlldy5maWxlLnBhdGgpIHtcclxuICAgICAgcG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlID0gdW5kZWZpbmVkXHJcbiAgICAgIHJldHVybiBhZGRlZERhdGFcclxuICAgIH1cclxuXHJcbiAgICAvLyBGaXggaW5kaXJlY3QgcmVjdXJzaW9uXHJcbiAgICBpZiAocGFyZW50UG9ydGFsSWQpIHtcclxuICAgICAgaWYgKHRoaXMubmVzdGVkUG9ydGFsc1twYXJlbnRQb3J0YWxJZF0/LmluY2x1ZGVzKHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSEpKSB7XHJcbiAgICAgICAgcG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlID0gdW5kZWZpbmVkXHJcbiAgICAgICAgcmV0dXJuIGFkZGVkRGF0YVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLm5lc3RlZFBvcnRhbHNbcGFyZW50UG9ydGFsSWRdID0gdGhpcy5uZXN0ZWRQb3J0YWxzW3BhcmVudFBvcnRhbElkXSA/PyBbXVxyXG4gICAgICB0aGlzLm5lc3RlZFBvcnRhbHNbcGFyZW50UG9ydGFsSWRdLnB1c2gocG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlISlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwb3J0YWxGaWxlID0gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwb3J0YWxOb2RlRGF0YS5maWxlISlcclxuICAgIGlmICghKHBvcnRhbEZpbGUgaW5zdGFuY2VvZiBURmlsZSkgfHwgcG9ydGFsRmlsZS5leHRlbnNpb24gIT09ICdjYW52YXMnKSB7XHJcbiAgICAgIHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSA9IHVuZGVmaW5lZFxyXG4gICAgICByZXR1cm4gYWRkZWREYXRhXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcG9ydGFsRmlsZURhdGFTdHJpbmcgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZChwb3J0YWxGaWxlKVxyXG4gICAgaWYgKHBvcnRhbEZpbGVEYXRhU3RyaW5nID09PSAnJykgcmV0dXJuIGFkZGVkRGF0YVxyXG5cclxuICAgIGNvbnN0IHBvcnRhbEZpbGVEYXRhID0gSlNPTi5wYXJzZShwb3J0YWxGaWxlRGF0YVN0cmluZykgYXMgQ2FudmFzRGF0YVxyXG4gICAgaWYgKCFwb3J0YWxGaWxlRGF0YSkge1xyXG4gICAgICBwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUgPSB1bmRlZmluZWRcclxuICAgICAgcmV0dXJuIGFkZGVkRGF0YVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBwb3J0YWwgbm9kZXMgYW5kIGVkZ2VzIGlkIG1hcFxyXG4gICAgcG9ydGFsTm9kZURhdGEucG9ydGFsSWRNYXBzID0ge1xyXG4gICAgICBub2RlSWRNYXA6IHt9LFxyXG4gICAgICBlZGdlSWRNYXA6IHt9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIG5lc3RlZCBub2RlIG9mZnNldFxyXG4gICAgY29uc3Qgc291cmNlTWluQ29vcmRpbmF0ZXMgPSBDYW52YXNIZWxwZXIuZ2V0QkJveChwb3J0YWxGaWxlRGF0YS5ub2RlcylcclxuICAgIGNvbnN0IHBvcnRhbE9mZnNldCA9IHtcclxuICAgICAgeDogcG9ydGFsTm9kZURhdGEueCAtIHNvdXJjZU1pbkNvb3JkaW5hdGVzLm1pblggKyBQT1JUQUxfUEFERElORyxcclxuICAgICAgeTogcG9ydGFsTm9kZURhdGEueSAtIHNvdXJjZU1pbkNvb3JkaW5hdGVzLm1pblkgKyBQT1JUQUxfUEFERElOR1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBub2RlcyBmcm9tIHBvcnRhbFxyXG4gICAgZm9yIChjb25zdCBub2RlRGF0YUZyb21Qb3J0YWwgb2YgcG9ydGFsRmlsZURhdGEubm9kZXMpIHtcclxuICAgICAgY29uc3QgcmVmTm9kZUlkID0gYCR7cG9ydGFsTm9kZURhdGEuaWR9LSR7bm9kZURhdGFGcm9tUG9ydGFsLmlkfWBcclxuICAgICAgcG9ydGFsTm9kZURhdGEucG9ydGFsSWRNYXBzLm5vZGVJZE1hcFtyZWZOb2RlSWRdID0gbm9kZURhdGFGcm9tUG9ydGFsLmlkXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhZGRlZE5vZGUgPSB7XHJcbiAgICAgICAgLi4ubm9kZURhdGFGcm9tUG9ydGFsLFxyXG4gICAgICAgIGlkOiByZWZOb2RlSWQsXHJcbiAgICAgICAgeDogbm9kZURhdGFGcm9tUG9ydGFsLnggKyBwb3J0YWxPZmZzZXQueCxcclxuICAgICAgICB5OiBub2RlRGF0YUZyb21Qb3J0YWwueSArIHBvcnRhbE9mZnNldC55LFxyXG4gICAgICAgIHBvcnRhbElkOiBwb3J0YWxOb2RlRGF0YS5pZFxyXG4gICAgICB9XHJcblxyXG4gICAgICBhZGRlZERhdGEubm9kZXMucHVzaChhZGRlZE5vZGUpXHJcblxyXG4gICAgICBjb25zdCBuZXN0ZWROb2RlcyA9IGF3YWl0IHRoaXMudHJ5T3BlblBvcnRhbChjYW52YXMsIGFkZGVkTm9kZSwgcGFyZW50UG9ydGFsSWQgPz8gcG9ydGFsTm9kZURhdGEuaWQpXHJcbiAgICAgIGFkZGVkRGF0YS5ub2Rlcy5wdXNoKC4uLm5lc3RlZE5vZGVzLm5vZGVzKVxyXG4gICAgICBhZGRlZERhdGEuZWRnZXMucHVzaCguLi5uZXN0ZWROb2Rlcy5lZGdlcylcclxuICAgIH1cclxuXHJcbiAgICAvLyBBZGQgZWRnZXMgZnJvbSBwb3J0YWxcclxuICAgIGZvciAoY29uc3QgZWRnZURhdGFGcm9tUG9ydGFsIG9mIHBvcnRhbEZpbGVEYXRhLmVkZ2VzKSB7XHJcbiAgICAgIGNvbnN0IHJlZkVkZ2VJZCA9IGAke3BvcnRhbE5vZGVEYXRhLmlkfS0ke2VkZ2VEYXRhRnJvbVBvcnRhbC5pZH1gXHJcbiAgICAgIHBvcnRhbE5vZGVEYXRhLnBvcnRhbElkTWFwcy5lZGdlSWRNYXBbcmVmRWRnZUlkXSA9IGVkZ2VEYXRhRnJvbVBvcnRhbC5pZFxyXG5cclxuICAgICAgY29uc3QgZnJvbVJlZk5vZGUgPSBPYmplY3QuZW50cmllcyhwb3J0YWxOb2RlRGF0YS5wb3J0YWxJZE1hcHMubm9kZUlkTWFwKVxyXG4gICAgICAgIC5maW5kKChbX3JlZk5vZGVJZCwgbm9kZUlkXSkgPT4gbm9kZUlkID09PSBlZGdlRGF0YUZyb21Qb3J0YWwuZnJvbU5vZGUpPy5bMF1cclxuICAgICAgY29uc3QgdG9SZWZOb2RlID0gT2JqZWN0LmVudHJpZXMocG9ydGFsTm9kZURhdGEucG9ydGFsSWRNYXBzLm5vZGVJZE1hcClcclxuICAgICAgICAuZmluZCgoW19yZWZOb2RlSWQsIG5vZGVJZF0pID0+IG5vZGVJZCA9PT0gZWRnZURhdGFGcm9tUG9ydGFsLnRvTm9kZSk/LlswXVxyXG5cclxuICAgICAgaWYgKCFmcm9tUmVmTm9kZSB8fCAhdG9SZWZOb2RlKSBjb250aW51ZVxyXG5cclxuICAgICAgYWRkZWREYXRhLmVkZ2VzLnB1c2goe1xyXG4gICAgICAgIC4uLmVkZ2VEYXRhRnJvbVBvcnRhbCxcclxuICAgICAgICBpZDogcmVmRWRnZUlkLFxyXG4gICAgICAgIGZyb21Ob2RlOiBmcm9tUmVmTm9kZSxcclxuICAgICAgICB0b05vZGU6IHRvUmVmTm9kZSxcclxuICAgICAgICBwb3J0YWxJZDogcG9ydGFsTm9kZURhdGEuaWRcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNpemUgcG9ydGFsXHJcbiAgICBjb25zdCBuZXN0ZWROb2Rlc0JCb3ggPSBDYW52YXNIZWxwZXIuZ2V0QkJveChhZGRlZERhdGEubm9kZXMpXHJcbiAgICBjb25zdCB0YXJnZXRTaXplID0gdGhpcy5nZXRQb3J0YWxTaXplKG5lc3RlZE5vZGVzQkJveClcclxuXHJcbiAgICAvLyBTYXZlIGNsb3NlZCBwb3J0YWwgc2l6ZVxyXG4gICAgcG9ydGFsTm9kZURhdGEuY2xvc2VkUG9ydGFsV2lkdGggPSBwb3J0YWxOb2RlRGF0YS53aWR0aFxyXG4gICAgcG9ydGFsTm9kZURhdGEuY2xvc2VkUG9ydGFsSGVpZ2h0ID0gcG9ydGFsTm9kZURhdGEuaGVpZ2h0XHJcblxyXG4gICAgLy8gU2V0IG9wZW4gcG9ydGFsIHNpemVcclxuICAgIHBvcnRhbE5vZGVEYXRhLndpZHRoID0gdGFyZ2V0U2l6ZS53aWR0aFxyXG4gICAgcG9ydGFsTm9kZURhdGEuaGVpZ2h0ID0gdGFyZ2V0U2l6ZS5oZWlnaHRcclxuXHJcbiAgICByZXR1cm4gYWRkZWREYXRhXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFBvcnRhbFNpemUoc291cmNlQkJveDogQkJveCkge1xyXG4gICAgY29uc3Qgc291cmNlU2l6ZSA9IHtcclxuICAgICAgd2lkdGg6IHNvdXJjZUJCb3gubWF4WCAtIHNvdXJjZUJCb3gubWluWCxcclxuICAgICAgaGVpZ2h0OiBzb3VyY2VCQm94Lm1heFkgLSBzb3VyY2VCQm94Lm1pbllcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0YXJnZXRTaXplID0ge1xyXG4gICAgICB3aWR0aDogTWF0aC5tYXgoc291cmNlU2l6ZS53aWR0aCArIFBPUlRBTF9QQURESU5HICogMiwgTUlOX09QRU5fUE9SVEFMX1NJWkUud2lkdGgpLFxyXG4gICAgICBoZWlnaHQ6IE1hdGgubWF4KHNvdXJjZVNpemUuaGVpZ2h0ICsgUE9SVEFMX1BBRERJTkcgKiAyLCBNSU5fT1BFTl9QT1JUQUxfU0laRS5oZWlnaHQpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGFyZ2V0U2l6ZS53aWR0aCkpIHRhcmdldFNpemUud2lkdGggPSBNSU5fT1BFTl9QT1JUQUxfU0laRS53aWR0aFxyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGFyZ2V0U2l6ZS5oZWlnaHQpKSB0YXJnZXRTaXplLmhlaWdodCA9IE1JTl9PUEVOX1BPUlRBTF9TSVpFLmhlaWdodFxyXG5cclxuICAgIHJldHVybiB0YXJnZXRTaXplXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgQ2FudmFzRWRnZSwgQ2FudmFzTm9kZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9jb3JlL2V2ZW50c1wiXHJcbmltcG9ydCBTZXR0aW5nc01hbmFnZXIgZnJvbSBcInNyYy9zZXR0aW5nc1wiXHJcbmltcG9ydCB7IEZpbGVTZWxlY3RNb2RhbCB9IGZyb20gXCJzcmMvdXRpbHMvbW9kYWwtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmV0dGVyRGVmYXVsdFNldHRpbmdzQ2FudmFzRXh0ZW5zaW9uICBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gdHJ1ZSB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLm1vZGlmeUNhbnZhc1NldHRpbmdzKHRoaXMucGx1Z2luLmdldEN1cnJlbnRDYW52YXMoKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIFNldHRpbmdzTWFuYWdlci5TRVRUSU5HU19DSEFOR0VEX0VWRU5ULFxyXG4gICAgICAoKSA9PiB0aGlzLm1vZGlmeUNhbnZhc1NldHRpbmdzKHRoaXMucGx1Z2luLmdldEN1cnJlbnRDYW52YXMoKSlcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5DYW52YXNDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMubW9kaWZ5Q2FudmFzU2V0dGluZ3MoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkRvdWJsZUNsaWNrLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIGV2ZW50OiBNb3VzZUV2ZW50LCBwcmV2ZW50RGVmYXVsdDogeyB2YWx1ZTogYm9vbGVhbiB9KSA9PiB0aGlzLm9uRG91YmxlQ2xpY2soY2FudmFzLCBldmVudCwgcHJldmVudERlZmF1bHQpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZW5mb3JjZU5vZGVHcmlkQWxpZ25tZW50KGNhbnZhcywgbm9kZSlcclxuICAgICAgICB0aGlzLmFwcGx5RGVmYXVsdE5vZGVTdHlsZXMoY2FudmFzLCBub2RlKVxyXG4gICAgICB9XHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuRWRnZUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgZWRnZTogQ2FudmFzRWRnZSkgPT4gdGhpcy5hcHBseURlZmF1bHRFZGdlU3R5bGVzKGNhbnZhcywgZWRnZSlcclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vZGlmeUNhbnZhc1NldHRpbmdzKGNhbnZhczogQ2FudmFzIHwgbnVsbCkge1xyXG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxyXG5cclxuICAgIGNhbnZhcy5jb25maWcuZGVmYXVsdFRleHROb2RlRGltZW5zaW9ucyA9IHtcclxuICAgICAgd2lkdGg6IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2RlZmF1bHRUZXh0Tm9kZVdpZHRoJyksXHJcbiAgICAgIGhlaWdodDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGVmYXVsdFRleHROb2RlSGVpZ2h0JylcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMuY29uZmlnLmRlZmF1bHRGaWxlTm9kZURpbWVuc2lvbnMgPSB7XHJcbiAgICAgIHdpZHRoOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdkZWZhdWx0RmlsZU5vZGVXaWR0aCcpLFxyXG4gICAgICBoZWlnaHQ6IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2RlZmF1bHRGaWxlTm9kZUhlaWdodCcpXHJcbiAgICB9XHJcblxyXG4gICAgY2FudmFzLmNvbmZpZy5taW5Db250YWluZXJEaW1lbnNpb24gPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdtaW5Ob2RlU2l6ZScpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIG9uRG91YmxlQ2xpY2soY2FudmFzOiBDYW52YXMsIGV2ZW50OiBNb3VzZUV2ZW50LCBwcmV2ZW50RGVmYXVsdDogeyB2YWx1ZTogYm9vbGVhbiB9KSB7XHJcbiAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCB8fCBldmVudC50YXJnZXQgIT09IGNhbnZhcy53cmFwcGVyRWwgfHwgY2FudmFzLmlzRHJhZ2dpbmcgfHwgY2FudmFzLnJlYWRvbmx5KSByZXR1cm5cclxuICAgIHByZXZlbnREZWZhdWx0LnZhbHVlID0gdHJ1ZVxyXG5cclxuICAgIGxldCBwb3MgPSBjYW52YXMucG9zRnJvbUV2dChldmVudClcclxuXHJcbiAgICBzd2l0Y2ggKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ25vZGVUeXBlT25Eb3VibGVDbGljaycpKSB7XHJcbiAgICAgIGNhc2UgJ2ZpbGUnOlxyXG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBuZXcgRmlsZVNlbGVjdE1vZGFsKHRoaXMucGx1Z2luLmFwcCwgdW5kZWZpbmVkLCB0cnVlKS5hd2FpdElucHV0KClcclxuICAgICAgICBjYW52YXMuY3JlYXRlRmlsZU5vZGUoe1xyXG4gICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICBwb3NpdGlvbjogJ2NlbnRlcicsXHJcbiAgICAgICAgICBmaWxlOiBmaWxlXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBjYW52YXMuY3JlYXRlVGV4dE5vZGUoe1xyXG4gICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICBwb3NpdGlvbjogJ2NlbnRlcidcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBlbmZvcmNlTm9kZUdyaWRBbGlnbm1lbnQoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnYWxpZ25OZXdOb2Rlc1RvR3JpZCcpKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcbiAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgeDogTWF0aC5yb3VuZChub2RlRGF0YS54IC8gQ2FudmFzSGVscGVyLkdSSURfU0laRSkgKiBDYW52YXNIZWxwZXIuR1JJRF9TSVpFLFxyXG4gICAgICB5OiBNYXRoLnJvdW5kKG5vZGVEYXRhLnkgLyBDYW52YXNIZWxwZXIuR1JJRF9TSVpFKSAqIENhbnZhc0hlbHBlci5HUklEX1NJWkVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFwcGx5RGVmYXVsdE5vZGVTdHlsZXMoX2NhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcbiAgICBpZiAobm9kZURhdGEudHlwZSAhPT0gJ3RleHQnKSByZXR1cm5cclxuXHJcbiAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgc3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgLi4ubm9kZURhdGEuc3R5bGVBdHRyaWJ1dGVzLFxyXG4gICAgICAgIC4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2RlZmF1bHRUZXh0Tm9kZVN0eWxlQXR0cmlidXRlcycpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGFwcGx5RGVmYXVsdEVkZ2VTdHlsZXMoY2FudmFzOiBDYW52YXMsIGVkZ2U6IENhbnZhc0VkZ2UpIHtcclxuICAgIGNvbnN0IGVkZ2VEYXRhID0gZWRnZS5nZXREYXRhKClcclxuXHJcbiAgICBlZGdlLnNldERhdGEoe1xyXG4gICAgICAuLi5lZGdlRGF0YSxcclxuICAgICAgc3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgLi4uZWRnZURhdGEuc3R5bGVBdHRyaWJ1dGVzLFxyXG4gICAgICAgIC4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2RlZmF1bHRFZGdlU3R5bGVBdHRyaWJ1dGVzJylcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBXYWl0IHVudGlsIHRoZSBjb25uZWN0aW5nIGNsYXNzIGlzIHJlbW92ZWQgKGVsc2UsIHRoZSBkaXJlY3Rpb24gd2lsbCBiZSByZXNldCBvbiBtb3VzZW1vdmUgKG9uQ29ubmVjdGlvblBvaW50ZXJkb3duKSlcclxuICAgIGlmIChjYW52YXMuY2FudmFzRWwuaGFzQ2xhc3MoJ2lzLWNvbm5lY3RpbmcnKSkge1xyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcclxuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWNhbnZhcy5jYW52YXNFbC5oYXNDbGFzcygnaXMtY29ubmVjdGluZycpKSByZXNvbHZlKClcclxuICAgICAgICB9KS5vYnNlcnZlKGNhbnZhcy5jYW52YXNFbCwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFsnY2xhc3MnXSB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGxpbmVEaXJlY3Rpb24gPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdkZWZhdWx0RWRnZUxpbmVEaXJlY3Rpb24nKVxyXG4gICAgZWRnZS5zZXREYXRhKHtcclxuICAgICAgLi4uZWRnZS5nZXREYXRhKCksXHJcbiAgICAgIGZyb21FbmQ6IGxpbmVEaXJlY3Rpb24gPT09ICdiaWRpcmVjdGlvbmFsJyA/ICdhcnJvdycgOiAnbm9uZScsXHJcbiAgICAgIHRvRW5kOiBsaW5lRGlyZWN0aW9uID09PSAnbm9uZGlyZWN0aW9uYWwnID8gJ25vbmUnIDogJ2Fycm93JyxcclxuICAgIH0pXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IFdvcmtzcGFjZVdpbmRvdyB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCB7IENhbnZhcyB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9jb3JlL2V2ZW50c1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4uL2NvcmUvY2FudmFzLWV4dGVuc2lvblwiXHJcblxyXG5jb25zdCBERUZBVUxUX0NPTE9SU19DT1VOVCA9IDZcclxuY29uc3QgQ1VTVE9NX0NPTE9SU19NT0RfU1RZTEVTX0lEID0gJ21vZC1jdXN0b20tY29sb3JzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sb3JQYWxldHRlQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcnxudWxsID0gbnVsbFxyXG4gIFxyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG4gIFxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgICd3aW5kb3ctb3BlbicsXHJcbiAgICAgIChfd2luOiBXb3Jrc3BhY2VXaW5kb3csIF93aW5kb3c6IFdpbmRvdykgPT4gdGhpcy51cGRhdGVDdXN0b21Db2xvck1vZFN0eWxlQ2xhc3NlcygpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgJ2Nzcy1jaGFuZ2UnLFxyXG4gICAgICAoKSA9PiB0aGlzLnVwZGF0ZUN1c3RvbUNvbG9yTW9kU3R5bGVDbGFzc2VzKClcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy51cGRhdGVDdXN0b21Db2xvck1vZFN0eWxlQ2xhc3NlcygpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMucGF0Y2hDb2xvclNlbGVjdGlvbihjYW52YXMpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyKCgpID0+IHRoaXMub2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlQ3VzdG9tQ29sb3JNb2RTdHlsZUNsYXNzZXMoKSB7XHJcbiAgICBjb25zdCBjdXN0b21Dc3MgPSB0aGlzLmdldEN1c3RvbUNvbG9ycygpLm1hcCgoY29sb3JJZCkgPT4gYFxyXG4gICAgICAubW9kLWNhbnZhcy1jb2xvci0ke2NvbG9ySWR9IHtcclxuICAgICAgICAtLWNhbnZhcy1jb2xvcjogdmFyKC0tY2FudmFzLWNvbG9yLSR7Y29sb3JJZH0pO1xyXG4gICAgICB9XHJcbiAgICBgKS5qb2luKCcnKVxyXG5cclxuICAgIGZvciAoY29uc3Qgd2luIG9mIHRoaXMucGx1Z2luLndpbmRvd3NNYW5hZ2VyLndpbmRvd3MpIHtcclxuICAgICAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50XHJcbiAgICAgIFxyXG4gICAgICBkb2MuZ2V0RWxlbWVudEJ5SWQoQ1VTVE9NX0NPTE9SU19NT0RfU1RZTEVTX0lEKT8ucmVtb3ZlKClcclxuXHJcbiAgICAgIGNvbnN0IGN1c3RvbUNvbG9yTW9kU3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxyXG4gICAgICBjdXN0b21Db2xvck1vZFN0eWxlLmlkID0gQ1VTVE9NX0NPTE9SU19NT0RfU1RZTEVTX0lEXHJcbiAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKGN1c3RvbUNvbG9yTW9kU3R5bGUpXHJcblxyXG4gICAgICBjdXN0b21Db2xvck1vZFN0eWxlLnRleHRDb250ZW50ID0gY3VzdG9tQ3NzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBhdGNoQ29sb3JTZWxlY3Rpb24oY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGlmICh0aGlzLm9ic2VydmVyKSB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4ge1xyXG4gICAgICBjb25zdCBjb2xvck1lbnVPcGVuZWQgPSBtdXRhdGlvbnMuc29tZShtdXRhdGlvbiA9PiBcclxuICAgICAgICBPYmplY3QudmFsdWVzKG11dGF0aW9uLmFkZGVkTm9kZXMpLnNvbWUoKG5vZGU6IE5vZGUpID0+IFxyXG4gICAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYW52YXMtc3VibWVudScpICYmIE9iamVjdC52YWx1ZXMobm9kZS5jaGlsZE5vZGVzKS5zb21lKChub2RlOiBOb2RlKSA9PlxyXG4gICAgICAgICAgICBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhbnZhcy1jb2xvci1waWNrZXItaXRlbScpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICAgIGlmICghY29sb3JNZW51T3BlbmVkKSByZXR1cm5cclxuXHJcbiAgICAgIGNvbnN0IHN1Ym1lbnUgPSBjYW52YXMubWVudS5tZW51RWwucXVlcnlTZWxlY3RvcignLmNhbnZhcy1zdWJtZW51JylcclxuICAgICAgaWYgKCFzdWJtZW51KSByZXR1cm5cclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnROb2RlQ29sb3IgPSBjYW52YXMuZ2V0U2VsZWN0aW9uRGF0YSgpLm5vZGVzLm1hcChub2RlID0+IG5vZGUuY29sb3IpLmxhc3QoKVxyXG4gICAgICBmb3IgKGNvbnN0IGNvbG9ySWQgb2YgdGhpcy5nZXRDdXN0b21Db2xvcnMoKSkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUNvbG9yTWVudUl0ZW0gPSB0aGlzLmNyZWF0ZUNvbG9yTWVudUl0ZW0oY2FudmFzLCBjb2xvcklkKVxyXG4gICAgICAgIGlmIChjdXJyZW50Tm9kZUNvbG9yID09PSBjb2xvcklkKSBjdXN0b21Db2xvck1lbnVJdGVtLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpXHJcbiAgICAgICAgXHJcbiAgICAgICAgc3VibWVudS5pbnNlcnRCZWZvcmUoY3VzdG9tQ29sb3JNZW51SXRlbSwgc3VibWVudS5sYXN0Q2hpbGQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKGNhbnZhcy5tZW51Lm1lbnVFbCwgeyBjaGlsZExpc3Q6IHRydWUgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQ29sb3JNZW51SXRlbShjYW52YXM6IENhbnZhcywgY29sb3JJZDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBtZW51SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBtZW51SXRlbS5jbGFzc0xpc3QuYWRkKCdjYW52YXMtY29sb3ItcGlja2VyLWl0ZW0nKVxyXG4gICAgbWVudUl0ZW0uY2xhc3NMaXN0LmFkZChgbW9kLWNhbnZhcy1jb2xvci0ke2NvbG9ySWR9YClcclxuXHJcbiAgICBtZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgbWVudUl0ZW0uY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJylcclxuXHJcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjYW52YXMuc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgaXRlbS5zZXRDb2xvcihjb2xvcklkKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjYW52YXMucmVxdWVzdFNhdmUoKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gbWVudUl0ZW1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q3VzdG9tQ29sb3JzKCk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IGNvbG9yczogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgIGNvbnN0IGNvbG9ySWQgPSAoREVGQVVMVF9DT0xPUlNfQ09VTlQgKyBjb2xvcnMubGVuZ3RoICsgMSkudG9TdHJpbmcoKVxyXG4gICAgICBpZiAoIWdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZShgLS1jYW52YXMtY29sb3ItJHtjb2xvcklkfWApKSBicmVha1xyXG5cclxuICAgICAgY29sb3JzLnB1c2goY29sb3JJZClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29sb3JzXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IHNldEljb24gfSBmcm9tIFwib2JzaWRpYW5cIlxyXG5pbXBvcnQgeyBCQm94LCBDYW52YXMsIENhbnZhc0RhdGEsIENhbnZhc05vZGUsIFNlbGVjdGlvbkRhdGEgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5cclxuY29uc3QgQ09MTEFQU0VfQlVUVE9OX0lEID0gJ2dyb3VwLWNvbGxhcHNlLWJ1dHRvbidcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxhcHNpYmxlR3JvdXBzQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnY29sbGFwc2libGVHcm91cHNGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQ2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLm9uTm9kZUNoYW5nZWQoY2FudmFzLCBub2RlKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVCQm94UmVxdWVzdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUsIGJib3g6IEJCb3gpID0+IHRoaXMub25Ob2RlQkJveFJlcXVlc3RlZChjYW52YXMsIG5vZGUsIGJib3gpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuT25Db3B5LFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIHNlbGVjdGlvbkRhdGE6IFNlbGVjdGlvbkRhdGEpID0+IHRoaXMub25Db3B5KGNhbnZhcywgc2VsZWN0aW9uRGF0YSlcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5EYXRhUmVxdWVzdGVkLFxyXG4gICAgICAoX2NhbnZhczogQ2FudmFzLCBkYXRhOiBDYW52YXNEYXRhKSA9PiB0aGlzLmV4cGFuZENvbGxhcHNlZE5vZGVzKGRhdGEpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTG9hZERhdGEsXHJcbiAgICAgIChfY2FudmFzOiBDYW52YXMsIGRhdGE6IENhbnZhc0RhdGEsIF9zZXREYXRhOiAoZGF0YTogQ2FudmFzRGF0YSkgPT4gdm9pZCkgPT4gdGhpcy5jb2xsYXBzZU5vZGVzKGRhdGEpXHJcbiAgICApKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbk5vZGVDaGFuZ2VkKGNhbnZhczogQ2FudmFzLCBncm91cE5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgIGNvbnN0IGdyb3VwTm9kZURhdGEgPSBncm91cE5vZGUuZ2V0RGF0YSgpXHJcbiAgICBpZiAoZ3JvdXBOb2RlRGF0YS50eXBlICE9PSAnZ3JvdXAnKSByZXR1cm5cclxuXHJcbiAgICAvLyBSZW1vdmUgdGhlIGNvbGxhcHNlL2V4cGFuZCBidXR0b25cclxuICAgIGdyb3VwTm9kZS5ub2RlRWw/LnF1ZXJ5U2VsZWN0b3JBbGwoYCMke0NPTExBUFNFX0JVVFRPTl9JRH1gKS5mb3JFYWNoKChlbCkgPT4gZWwucmVtb3ZlKCkpXHJcblxyXG4gICAgLy8gQWRkIGNvbGxhcHNlL2V4cGFuZCBidXR0b24gbmV4dCB0byB0aGUgbGFiZWxcclxuICAgIGNvbnN0IGNvbGxhcHNlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcbiAgICBjb2xsYXBzZUJ1dHRvbi5pZCA9IENPTExBUFNFX0JVVFRPTl9JRFxyXG4gICAgc2V0SWNvbihjb2xsYXBzZUJ1dHRvbiwgZ3JvdXBOb2RlRGF0YS5pc0NvbGxhcHNlZCA/ICdwbHVzLWNpcmNsZScgOiAnbWludXMtY2lyY2xlJylcclxuXHJcbiAgICBjb2xsYXBzZUJ1dHRvbi5vbmNsaWNrID0gKCkgPT4geyBcclxuICAgICAgdGhpcy5zZXRDb2xsYXBzZWQoY2FudmFzLCBncm91cE5vZGUsIGdyb3VwTm9kZS5nZXREYXRhKCkuaXNDb2xsYXBzZWQgPyB1bmRlZmluZWQgOiB0cnVlKVxyXG4gICAgICBjYW52YXMubWFya01vdmVkKGdyb3VwTm9kZSlcclxuICAgIH1cclxuXHJcbiAgICBncm91cE5vZGUubGFiZWxFbD8uaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGNvbGxhcHNlQnV0dG9uKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkNvcHkoX2NhbnZhczogQ2FudmFzLCBzZWxlY3Rpb25EYXRhOiBTZWxlY3Rpb25EYXRhKSB7XHJcbiAgICBmb3IgKGNvbnN0IGNvbGxhcHNlZEdyb3VwRGF0YSBvZiBzZWxlY3Rpb25EYXRhLm5vZGVzKSB7XHJcbiAgICAgIGlmIChjb2xsYXBzZWRHcm91cERhdGEudHlwZSAhPT0gJ2dyb3VwJyB8fCAhY29sbGFwc2VkR3JvdXBEYXRhLmlzQ29sbGFwc2VkIHx8ICFjb2xsYXBzZWRHcm91cERhdGEuY29sbGFwc2VkRGF0YSkgY29udGludWVcclxuXHJcbiAgICAgIHNlbGVjdGlvbkRhdGEubm9kZXMucHVzaCguLi5jb2xsYXBzZWRHcm91cERhdGEuY29sbGFwc2VkRGF0YS5ub2Rlcy5tYXAobm9kZURhdGEgPT4gKHsgXHJcbiAgICAgICAgLi4ubm9kZURhdGEsXHJcbiAgICAgICAgLy8gUmVzdG9yZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIG5vZGUgdG8gdGhlIGdyb3VwXHJcbiAgICAgICAgeDogbm9kZURhdGEueCArIGNvbGxhcHNlZEdyb3VwRGF0YS54LFxyXG4gICAgICAgIHk6IG5vZGVEYXRhLnkgKyBjb2xsYXBzZWRHcm91cERhdGEueVxyXG4gICAgICB9KSkpXHJcbiAgICAgIHNlbGVjdGlvbkRhdGEuZWRnZXMucHVzaCguLi5jb2xsYXBzZWRHcm91cERhdGEuY29sbGFwc2VkRGF0YS5lZGdlcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0Q29sbGFwc2VkKGNhbnZhczogQ2FudmFzLCBncm91cE5vZGU6IENhbnZhc05vZGUsIGNvbGxhcHNlZDogYm9vbGVhbiB8IHVuZGVmaW5lZCkge1xyXG4gICAgZ3JvdXBOb2RlLnNldERhdGEoeyAuLi5ncm91cE5vZGUuZ2V0RGF0YSgpLCBpc0NvbGxhcHNlZDogY29sbGFwc2VkIH0pXHJcbiAgICBjYW52YXMuc2V0RGF0YShjYW52YXMuZ2V0RGF0YSgpKVxyXG5cclxuICAgIGNhbnZhcy5oaXN0b3J5LmN1cnJlbnQtLVxyXG4gICAgY2FudmFzLnB1c2hIaXN0b3J5KGNhbnZhcy5nZXREYXRhKCkpXHJcbiAgfVxyXG5cclxuICBvbk5vZGVCQm94UmVxdWVzdGVkKF9jYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSwgYmJveDogQkJveCkge1xyXG4gICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG4gICAgaWYgKG5vZGVEYXRhLnR5cGUgIT09ICdncm91cCcgfHwgIW5vZGVEYXRhLmlzQ29sbGFwc2VkKSByZXR1cm5cclxuXHJcbiAgICAvLyBTZXQgd2lkdGggdG8gbGFiZWwgd2lkdGhcclxuICAgIGJib3gubWF4WCA9IGJib3gubWluWCArIChub2RlLm5vZGVFbD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggPz8gMClcclxuICAgIFxyXG4gICAgLy8gU2V0IGhlaWdodCBvZiB0byAwIChEb24ndCBkcmFnIGFueSBub2RlcyB3aXRoIGl0KVxyXG4gICAgYmJveC5tYXhZID0gYmJveC5taW5ZXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGV4cGFuZENvbGxhcHNlZE5vZGVzKGRhdGE6IENhbnZhc0RhdGEpIHtcclxuICAgIGRhdGEubm9kZXMgPSBkYXRhLm5vZGVzLmZsYXRNYXAoKGdyb3VwTm9kZURhdGEpID0+IHtcclxuICAgICAgY29uc3QgY29sbGFwc2VkRGF0YSA9IGdyb3VwTm9kZURhdGEuY29sbGFwc2VkRGF0YVxyXG4gICAgICBpZiAoY29sbGFwc2VkRGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gW2dyb3VwTm9kZURhdGFdXHJcblxyXG4gICAgICBncm91cE5vZGVEYXRhLmNvbGxhcHNlZERhdGEgPSB1bmRlZmluZWRcclxuXHJcbiAgICAgIGRhdGEuZWRnZXMucHVzaCguLi5jb2xsYXBzZWREYXRhLmVkZ2VzKVxyXG4gICAgICByZXR1cm4gW2dyb3VwTm9kZURhdGEsIC4uLmNvbGxhcHNlZERhdGEubm9kZXMubWFwKChub2RlRGF0YSkgPT4gKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICAgICAgLy8gUmVzdG9yZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIG5vZGUgdG8gdGhlIGdyb3VwXHJcbiAgICAgICAgICB4OiBub2RlRGF0YS54ICsgZ3JvdXBOb2RlRGF0YS54LFxyXG4gICAgICAgICAgeTogbm9kZURhdGEueSArIGdyb3VwTm9kZURhdGEueVxyXG4gICAgICAgIH1cclxuICAgICAgKSldXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb2xsYXBzZU5vZGVzKGRhdGE6IENhbnZhc0RhdGEpIHtcclxuICAgIGRhdGEubm9kZXMuZm9yRWFjaCgoZ3JvdXBOb2RlRGF0YSkgPT4ge1xyXG4gICAgICBpZiAoIWdyb3VwTm9kZURhdGEuaXNDb2xsYXBzZWQpIHJldHVyblxyXG5cclxuICAgICAgY29uc3QgZ3JvdXBOb2RlQkJveCA9IENhbnZhc0hlbHBlci5nZXRCQm94KFtncm91cE5vZGVEYXRhXSlcclxuICAgICAgY29uc3QgY29udGFpbmVkTm9kZXNEYXRhID0gZGF0YS5ub2Rlcy5maWx0ZXIoKG5vZGVEYXRhKSA9PlxyXG4gICAgICAgIG5vZGVEYXRhLmlkICE9PSBncm91cE5vZGVEYXRhLmlkICYmIEJCb3hIZWxwZXIuaW5zaWRlQkJveChDYW52YXNIZWxwZXIuZ2V0QkJveChbbm9kZURhdGFdKSwgZ3JvdXBOb2RlQkJveCwgZmFsc2UpXHJcbiAgICAgIClcclxuICAgICAgY29uc3QgY29udGFpbmVkRWRnZXNEYXRhID0gZGF0YS5lZGdlcy5maWx0ZXIoKGVkZ2VEYXRhKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lZE5vZGVzRGF0YS5zb21lKChub2RlRGF0YSkgPT4gbm9kZURhdGEuaWQgPT09IGVkZ2VEYXRhLmZyb21Ob2RlKSB8fCBcclxuICAgICAgICAgIGNvbnRhaW5lZE5vZGVzRGF0YS5zb21lKChub2RlRGF0YSkgPT4gbm9kZURhdGEuaWQgPT09IGVkZ2VEYXRhLnRvTm9kZSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGRhdGEubm9kZXMgPSBkYXRhLm5vZGVzLmZpbHRlcigobm9kZURhdGEpID0+ICFjb250YWluZWROb2Rlc0RhdGEuaW5jbHVkZXMobm9kZURhdGEpKVxyXG4gICAgICBkYXRhLmVkZ2VzID0gZGF0YS5lZGdlcy5maWx0ZXIoKGVkZ2VEYXRhKSA9PiAhY29udGFpbmVkRWRnZXNEYXRhLmluY2x1ZGVzKGVkZ2VEYXRhKSlcclxuXHJcbiAgICAgIGdyb3VwTm9kZURhdGEuY29sbGFwc2VkRGF0YSA9IHtcclxuICAgICAgICBub2RlczogY29udGFpbmVkTm9kZXNEYXRhLm1hcCgobm9kZURhdGEpID0+IChcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgLi4ubm9kZURhdGEsXHJcbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgbm9kZSB0byB0aGUgZ3JvdXBcclxuICAgICAgICAgICAgeDogbm9kZURhdGEueCAtIGdyb3VwTm9kZURhdGEueCxcclxuICAgICAgICAgICAgeTogbm9kZURhdGEueSAtIGdyb3VwTm9kZURhdGEueVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICkpLFxyXG4gICAgICAgIGVkZ2VzOiBjb250YWluZWRFZGdlc0RhdGFcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jb3JlL2NhbnZhcy1leHRlbnNpb25cIlxyXG5cclxuY29uc3QgQ09OVFJPTF9NRU5VX0ZPQ1VTX1RPR0dMRV9JRCA9ICdmb2N1cy1tb2RlLXRvZ2dsZSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvY3VzTW9kZUNhbnZhc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ2ZvY3VzTW9kZUZlYXR1cmVFbmFibGVkJyBhcyBjb25zdCB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6ICd0b2dnbGUtZm9jdXMtbW9kZScsXHJcbiAgICAgIG5hbWU6ICdUb2dnbGUgRm9jdXMgTW9kZScsXHJcbiAgICAgIGNoZWNrQ2FsbGJhY2s6IENhbnZhc0hlbHBlci5jYW52YXNDb21tYW5kKFxyXG4gICAgICAgIHRoaXMucGx1Z2luLFxyXG4gICAgICAgIChfY2FudmFzOiBDYW52YXMpID0+IHRydWUsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLnRvZ2dsZUZvY3VzTW9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5DYW52YXNDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMuYWRkQ29udHJvbE1lbnVUb2dnbGUoY2FudmFzKVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkQ29udHJvbE1lbnVUb2dnbGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IHNldHRpbmdzQ29udGFpbmVyID0gY2FudmFzLnF1aWNrU2V0dGluZ3NCdXR0b24/LnBhcmVudEVsZW1lbnRcclxuICAgIGlmICghc2V0dGluZ3NDb250YWluZXIpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGNvbnRyb2xNZW51Rm9jdXNUb2dnbGUgPSBDYW52YXNIZWxwZXIuY3JlYXRlQ29udHJvbE1lbnVCdXR0b24oe1xyXG4gICAgICBpZDogQ09OVFJPTF9NRU5VX0ZPQ1VTX1RPR0dMRV9JRCxcclxuICAgICAgbGFiZWw6ICdGb2N1cyBNb2RlJyxcclxuICAgICAgaWNvbjogJ2ZvY3VzJyxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMudG9nZ2xlRm9jdXNNb2RlKGNhbnZhcylcclxuICAgIH0pXHJcblxyXG4gICAgQ2FudmFzSGVscGVyLmFkZENvbnRyb2xNZW51QnV0dG9uKHNldHRpbmdzQ29udGFpbmVyLCBjb250cm9sTWVudUZvY3VzVG9nZ2xlKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0b2dnbGVGb2N1c01vZGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IGNvbnRyb2xNZW51Rm9jdXNUb2dnbGUgPSBjYW52YXMucXVpY2tTZXR0aW5nc0J1dHRvbj8ucGFyZW50RWxlbWVudD8ucXVlcnlTZWxlY3RvcihgIyR7Q09OVFJPTF9NRU5VX0ZPQ1VTX1RPR0dMRV9JRH1gKSBhcyBIVE1MRWxlbWVudFxyXG4gICAgaWYgKCFjb250cm9sTWVudUZvY3VzVG9nZ2xlKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBuZXdWYWx1ZSA9IGNvbnRyb2xNZW51Rm9jdXNUb2dnbGUuZGF0YXNldC50b2dnbGVkICE9PSAndHJ1ZSdcclxuXHJcbiAgICBjYW52YXMud3JhcHBlckVsLmRhdGFzZXQuZm9jdXNNb2RlRW5hYmxlZCA9IG5ld1ZhbHVlLnRvU3RyaW5nKClcclxuICAgIGNvbnRyb2xNZW51Rm9jdXNUb2dnbGUuZGF0YXNldC50b2dnbGVkID0gbmV3VmFsdWUudG9TdHJpbmcoKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc0VkZ2UgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jb3JlL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvY2FudmFzLWhlbHBlclwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbGlwRWRnZUNhbnZhc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ2ZsaXBFZGdlRmVhdHVyZUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuUG9wdXBNZW51Q3JlYXRlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLm9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXMpXHJcbiAgICApKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IHBvcHVwTWVudUVsID0gY2FudmFzPy5tZW51Py5tZW51RWxcclxuICAgIGlmICghcG9wdXBNZW51RWwpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IFBPU1NJQkxFX0lDT05TID0gWydsdWNpZGUtYXJyb3ctcmlnaHQnLCAnbHVjaWRlLW1vdmUtaG9yaXpvbnRhbCcsICdsaW5lLWhvcml6b250YWwnXVxyXG4gICAgbGV0IGVkZ2VEaXJlY3Rpb25CdXR0b24gPSBudWxsXHJcbiAgICBmb3IgKGNvbnN0IGljb24gb2YgUE9TU0lCTEVfSUNPTlMpIHtcclxuICAgICAgZWRnZURpcmVjdGlvbkJ1dHRvbiA9IHBvcHVwTWVudUVsLnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbjpub3QoW2lkXSkgPiAuc3ZnLWljb24uJHtpY29ufWApPy5wYXJlbnRFbGVtZW50XHJcbiAgICAgIGlmIChlZGdlRGlyZWN0aW9uQnV0dG9uKSBicmVha1xyXG4gICAgfVxyXG4gICAgaWYgKCFlZGdlRGlyZWN0aW9uQnV0dG9uKSByZXR1cm5cclxuXHJcbiAgICBlZGdlRGlyZWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5vbkVkZ2VEaXJlY3Rpb25Ecm9wZG93bkNyZWF0ZWQoY2FudmFzKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25FZGdlRGlyZWN0aW9uRHJvcGRvd25DcmVhdGVkKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBjb25zdCBkcm9wZG93bkVsID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCdkaXYubWVudScpXHJcbiAgICBpZiAoIWRyb3Bkb3duRWwpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHNlcGFyYXRvckVsID0gQ2FudmFzSGVscGVyLmNyZWF0ZURyb3Bkb3duU2VwYXJhdG9yRWxlbWVudCgpXHJcbiAgICBkcm9wZG93bkVsLmFwcGVuZENoaWxkKHNlcGFyYXRvckVsKVxyXG5cclxuICAgIGNvbnN0IGZsaXBFZGdlQnV0dG9uID0gQ2FudmFzSGVscGVyLmNyZWF0ZURyb3Bkb3duT3B0aW9uRWxlbWVudCh7XHJcbiAgICAgIGljb246ICdmbGlwLWhvcml6b250YWwtMicsXHJcbiAgICAgIGxhYmVsOiAnRmxpcCBFZGdlJyxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZmxpcEVkZ2UoY2FudmFzKVxyXG4gICAgfSlcclxuICAgIGRyb3Bkb3duRWwuYXBwZW5kQ2hpbGQoZmxpcEVkZ2VCdXR0b24pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZsaXBFZGdlKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZEVkZ2VzID0gWy4uLmNhbnZhcy5zZWxlY3Rpb25dLmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLnBhdGggIT09IHVuZGVmaW5lZCkgYXMgQ2FudmFzRWRnZVtdXHJcbiAgICBpZiAoc2VsZWN0ZWRFZGdlcy5sZW5ndGggPT09IDApIHJldHVyblxyXG5cclxuICAgIGZvciAoY29uc3QgZWRnZSBvZiBzZWxlY3RlZEVkZ2VzKSB7XHJcbiAgICAgIGNvbnN0IGVkZ2VEYXRhID0gZWRnZS5nZXREYXRhKClcclxuXHJcbiAgICAgIGVkZ2Uuc2V0RGF0YSh7XHJcbiAgICAgICAgLi4uZWRnZURhdGEsXHJcbiAgICAgICAgZnJvbU5vZGU6IGVkZ2VEYXRhLnRvTm9kZSxcclxuICAgICAgICBmcm9tU2lkZTogZWRnZURhdGEudG9TaWRlLFxyXG5cclxuICAgICAgICB0b05vZGU6IGVkZ2VEYXRhLmZyb21Ob2RlLFxyXG4gICAgICAgIHRvU2lkZTogZWRnZURhdGEuZnJvbVNpZGVcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMucHVzaEhpc3RvcnkoY2FudmFzLmdldERhdGEoKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi8uLi9jb3JlL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgeyBCVUlMVElOX05PREVfU1RZTEVfQVRUUklCVVRFUywgU3R5bGVBdHRyaWJ1dGUgfSBmcm9tIFwiLi9zdHlsZS1jb25maWdcIlxyXG5pbXBvcnQgU2V0dGluZ3NNYW5hZ2VyIGZyb20gXCJzcmMvc2V0dGluZ3NcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9kZVN0eWxlc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgYWxsTm9kZVN0eWxlczogU3R5bGVBdHRyaWJ1dGVbXVxyXG5cclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnbm9kZVN0eWxpbmdGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5hbGxOb2RlU3R5bGVzID0gWy4uLkJVSUxUSU5fTk9ERV9TVFlMRV9BVFRSSUJVVEVTLCAuLi50aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdjdXN0b21Ob2RlU3R5bGVBdHRyaWJ1dGVzJyldXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIFNldHRpbmdzTWFuYWdlci5TRVRUSU5HU19DSEFOR0VEX0VWRU5ULFxyXG4gICAgICAoKSA9PiB0aGlzLmFsbE5vZGVTdHlsZXMgPSBbLi4uQlVJTFRJTl9OT0RFX1NUWUxFX0FUVFJJQlVURVMsIC4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2N1c3RvbU5vZGVTdHlsZUF0dHJpYnV0ZXMnKV1cclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMub25Qb3B1cE1lbnVDcmVhdGVkKGNhbnZhcylcclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXM6IENhbnZhcyk6IHZvaWQge1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uTm9kZURhdGEgPSBjYW52YXMuZ2V0U2VsZWN0aW9uRGF0YSgpLm5vZGVzXHJcbiAgICBpZiAoY2FudmFzLnJlYWRvbmx5IHx8IHNlbGVjdGlvbk5vZGVEYXRhLmxlbmd0aCA9PT0gMCB8fCBzZWxlY3Rpb25Ob2RlRGF0YS5sZW5ndGggIT09IGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSlcclxuICAgICAgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlVHlwZXMgPSBuZXcgU2V0KHNlbGVjdGlvbk5vZGVEYXRhLm1hcChub2RlID0+IG5vZGUudHlwZSkpXHJcbiAgICBjb25zdCBhdmFpbGFibGVOb2RlU3R5bGVzID0gdGhpcy5hbGxOb2RlU3R5bGVzLmZpbHRlcihzdHlsZSA9PiAhc3R5bGUubm9kZVR5cGVzIHx8IHN0eWxlLm5vZGVUeXBlcy5zb21lKHR5cGUgPT4gc2VsZWN0ZWROb2RlVHlwZXMuaGFzKHR5cGUpKSlcclxuXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkU3R5bGVBdHRyaWJ1dGVzVG9Qb3B1cChcclxuICAgICAgdGhpcy5wbHVnaW4sIGNhbnZhcywgYXZhaWxhYmxlTm9kZVN0eWxlcyxcclxuICAgICAgc2VsZWN0aW9uTm9kZURhdGFbMF0uc3R5bGVBdHRyaWJ1dGVzID8/IHt9LFxyXG4gICAgICAoYXR0cmlidXRlLCB2YWx1ZSkgPT4gdGhpcy5zZXRTdHlsZUF0dHJpYnV0ZUZvclNlbGVjdGlvbihjYW52YXMsIGF0dHJpYnV0ZSwgdmFsdWUpXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFN0eWxlQXR0cmlidXRlRm9yU2VsZWN0aW9uKGNhbnZhczogQ2FudmFzLCBhdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uTm9kZURhdGEgPSBjYW52YXMuZ2V0U2VsZWN0aW9uRGF0YSgpLm5vZGVzXHJcbiAgICBmb3IgKGNvbnN0IG5vZGVEYXRhIG9mIHNlbGVjdGlvbk5vZGVEYXRhKSB7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KG5vZGVEYXRhLmlkKVxyXG4gICAgICBpZiAoIW5vZGUpIGNvbnRpbnVlXHJcblxyXG4gICAgICAvLyBPbmx5IGFwcGx5IHRoZSBhdHRyaWJ1dGUgaWYgdGhlIG5vZGUgdHlwZSBpcyBhbGxvd2VkXHJcbiAgICAgIGlmIChhdHRyaWJ1dGUubm9kZVR5cGVzICYmICFhdHRyaWJ1dGUubm9kZVR5cGVzLmluY2x1ZGVzKG5vZGVEYXRhLnR5cGUpKSBjb250aW51ZVxyXG5cclxuICAgICAgbm9kZS5zZXREYXRhKHtcclxuICAgICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgICBzdHlsZUF0dHJpYnV0ZXM6IHtcclxuICAgICAgICAgIC4uLm5vZGVEYXRhLnN0eWxlQXR0cmlidXRlcyxcclxuICAgICAgICAgIFthdHRyaWJ1dGUuZGF0YXNldEtleV06IHZhbHVlXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjYW52YXMucHVzaEhpc3RvcnkoY2FudmFzLmdldERhdGEoKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzLCBQb3NpdGlvbiwgU2lkZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwic3JjL21haW5cIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgRWRnZVBhdGhmaW5kaW5nTWV0aG9kIHtcclxuICBhYnN0cmFjdCBnZXRQYXRoKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4sIGNhbnZhczogQ2FudmFzLCBmcm9tUG9zOiBQb3NpdGlvbiwgZnJvbUJCb3hTaWRlUG9zOiBQb3NpdGlvbiwgZnJvbVNpZGU6IFNpZGUsIHRvUG9zOiBQb3NpdGlvbiwgdG9CQm94U2lkZVBvczogUG9zaXRpb24sIHRvU2lkZTogU2lkZSk6IEVkZ2VQYXRoIHwgbnVsbFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVkZ2VQYXRoIHtcclxuICBzdmdQYXRoOiBzdHJpbmdcclxuICBjZW50ZXI6IFBvc2l0aW9uXHJcbiAgcm90YXRlQXJyb3dzOiBib29sZWFuXHJcbn0iLCAiaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ZnUGF0aEhlbHBlciB7XHJcbiAgc3RhdGljIHBhdGhBcnJheVRvU3ZnUGF0aChwb3NpdGlvbnM6IFBvc2l0aW9uW10sIHJvdW5kZWQgPSBmYWxzZSk6IHN0cmluZyB7XHJcbiAgICBjb25zdCB0ZW5zaW9uID0gMC4yXHJcbiAgICBsZXQgbmV3UG9zaXRpb25zID0gWy4uLnBvc2l0aW9uc11cclxuXHJcbiAgICBpZiAocm91bmRlZCAmJiBwb3NpdGlvbnMubGVuZ3RoID4gMikge1xyXG4gICAgICBuZXdQb3NpdGlvbnMgPSBbcG9zaXRpb25zWzBdXVxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBwb3NpdGlvbnMubGVuZ3RoIC0gMjsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgcDEgPSBwb3NpdGlvbnNbaV1cclxuICAgICAgICBjb25zdCBwMiA9IHBvc2l0aW9uc1tpICsgMV1cclxuICAgICAgICBjb25zdCBwMyA9IHBvc2l0aW9uc1tpICsgMl1cclxuXHJcbiAgICAgICAgY29uc3QgdDEgPSAoMSAtIHRlbnNpb24pIC8gMlxyXG4gICAgICAgIGNvbnN0IHQyID0gMSAtIHQxXHJcblxyXG4gICAgICAgIGNvbnN0IHggPVxyXG4gICAgICAgICAgdDIgKiB0MiAqIHQyICogcDEueCArXHJcbiAgICAgICAgICAzICogdDIgKiB0MiAqIHQxICogcDIueCArXHJcbiAgICAgICAgICAzICogdDIgKiB0MSAqIHQxICogcDMueCArXHJcbiAgICAgICAgICB0MSAqIHQxICogdDEgKiBwMi54XHJcblxyXG4gICAgICAgIGNvbnN0IHkgPVxyXG4gICAgICAgICAgdDIgKiB0MiAqIHQyICogcDEueSArXHJcbiAgICAgICAgICAzICogdDIgKiB0MiAqIHQxICogcDIueSArXHJcbiAgICAgICAgICAzICogdDIgKiB0MSAqIHQxICogcDMueSArXHJcbiAgICAgICAgICB0MSAqIHQxICogdDEgKiBwMi55XHJcblxyXG4gICAgICAgIG5ld1Bvc2l0aW9ucy5wdXNoKHsgeDogeCwgeTogeSB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBsYXN0UG9pbnQgPSBwb3NpdGlvbnNbcG9zaXRpb25zLmxlbmd0aCAtIDFdXHJcbiAgICAgIG5ld1Bvc2l0aW9ucy5wdXNoKGxhc3RQb2ludClcclxuICAgIH1cclxuICAgICAgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1Bvc2l0aW9ucy5sZW5ndGggLSAyOyBpKyspIHtcclxuICAgICAgY29uc3QgcDEgPSBuZXdQb3NpdGlvbnNbaV1cclxuICAgICAgY29uc3QgcDIgPSBuZXdQb3NpdGlvbnNbaSArIDFdXHJcbiAgICAgIGNvbnN0IHAzID0gbmV3UG9zaXRpb25zW2kgKyAyXVxyXG5cclxuICAgICAgY29uc3QgY3VycmVudERpcmVjdGlvbiA9IHtcclxuICAgICAgICB4OiBwMi54IC0gcDEueCxcclxuICAgICAgICB5OiBwMi55IC0gcDEueVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBuZXh0RGlyZWN0aW9uID0ge1xyXG4gICAgICAgIHg6IHAzLnggLSBwMi54LFxyXG4gICAgICAgIHk6IHAzLnkgLSBwMi55XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjdXJyZW50RGlyZWN0aW9uLnggIT09IG5leHREaXJlY3Rpb24ueCAmJiBjdXJyZW50RGlyZWN0aW9uLnkgIT09IG5leHREaXJlY3Rpb24ueSkgY29udGludWVcclxuXHJcbiAgICAgIG5ld1Bvc2l0aW9ucy5zcGxpY2UoaSArIDEsIDEpXHJcbiAgICAgIGktLVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdQb3NpdGlvbnMubWFwKChwb3NpdGlvbiwgaW5kZXgpID0+IFxyXG4gICAgICBgJHtpbmRleCA9PT0gMCA/ICdNJyA6ICdMJ30gJHtwb3NpdGlvbi54fSAke3Bvc2l0aW9uLnl9YFxyXG4gICAgKS5qb2luKCcgJylcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzLCBQb3NpdGlvbiwgU2lkZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCBFZGdlUGF0aGZpbmRpbmdNZXRob2QsIHsgRWRnZVBhdGggfSBmcm9tIFwiLi9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZFwiXHJcbmltcG9ydCBTdmdQYXRoSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvc3ZnLXBhdGgtaGVscGVyXCJcclxuaW1wb3J0IEFkdmFuY2VkQ2FudmFzUGx1Z2luIGZyb20gXCJzcmMvbWFpblwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGdlUGF0aGZpbmRpbmdEaXJlY3QgZXh0ZW5kcyBFZGdlUGF0aGZpbmRpbmdNZXRob2Qge1xyXG4gIGdldFBhdGgoX3BsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4sIF9jYW52YXM6IENhbnZhcywgZnJvbVBvczogUG9zaXRpb24sIF9mcm9tQkJveFNpZGVQb3M6IFBvc2l0aW9uLCBfZnJvbVNpZGU6IFNpZGUsIHRvUG9zOiBQb3NpdGlvbiwgX3RvQkJveFNpZGVQb3M6IFBvc2l0aW9uLCBfdG9TaWRlOiBTaWRlKTogRWRnZVBhdGgge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3ZnUGF0aDogU3ZnUGF0aEhlbHBlci5wYXRoQXJyYXlUb1N2Z1BhdGgoW2Zyb21Qb3MsIHRvUG9zXSwgZmFsc2UpLFxyXG4gICAgICBjZW50ZXI6IHtcclxuICAgICAgICB4OiAoZnJvbVBvcy54ICsgdG9Qb3MueCkgLyAyLFxyXG4gICAgICAgIHk6IChmcm9tUG9zLnkgKyB0b1Bvcy55KSAvIDJcclxuICAgICAgfSxcclxuICAgICAgcm90YXRlQXJyb3dzOiB0cnVlXHJcbiAgICB9XHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgUG9zaXRpb24sIFNpZGUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgRWRnZVBhdGhmaW5kaW5nTWV0aG9kLCB7IEVkZ2VQYXRoIH0gZnJvbSBcIi4vZWRnZS1wYXRoZmluZGluZy1tZXRob2RcIlxyXG5pbXBvcnQgU3ZnUGF0aEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL3N2Zy1wYXRoLWhlbHBlclwiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwic3JjL21haW5cIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRnZVBhdGhmaW5kaW5nU3F1YXJlIGV4dGVuZHMgRWRnZVBhdGhmaW5kaW5nTWV0aG9kIHtcclxuICBnZXRQYXRoKF9wbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luLCBfY2FudmFzOiBDYW52YXMsIGZyb21Qb3M6IFBvc2l0aW9uLCBmcm9tQkJveFNpZGVQb3M6IFBvc2l0aW9uLCBmcm9tU2lkZTogU2lkZSwgdG9Qb3M6IFBvc2l0aW9uLCB0b0JCb3hTaWRlUG9zOiBQb3NpdGlvbiwgdG9TaWRlOiBTaWRlKTogRWRnZVBhdGgge1xyXG4gICAgbGV0IHBhdGhBcnJheTogUG9zaXRpb25bXSA9IFtdXHJcbiAgICBsZXQgY2VudGVyOiBQb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9XHJcblxyXG4gICAgaWYgKGZyb21TaWRlID09PSB0b1NpZGUpIHtcclxuICAgICAgLy8gU2FtZSBzaWRlIC0+IE1ha2UgYSBVXHJcbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IEJCb3hIZWxwZXIuZGlyZWN0aW9uKGZyb21TaWRlKVxyXG5cclxuICAgICAgaWYgKEJCb3hIZWxwZXIuaXNIb3Jpem9udGFsKGZyb21TaWRlKSkge1xyXG4gICAgICAgIHBhdGhBcnJheSA9IFtcclxuICAgICAgICAgIGZyb21Qb3MsXHJcbiAgICAgICAgICB7IHg6IE1hdGgubWF4KGZyb21CQm94U2lkZVBvcy54LCB0b0JCb3hTaWRlUG9zLngpICsgZGlyZWN0aW9uICogQ2FudmFzSGVscGVyLkdSSURfU0laRSwgeTogZnJvbUJCb3hTaWRlUG9zLnkgfSxcclxuICAgICAgICAgIHsgeDogTWF0aC5tYXgoZnJvbUJCb3hTaWRlUG9zLngsIHRvQkJveFNpZGVQb3MueCkgKyBkaXJlY3Rpb24gKiBDYW52YXNIZWxwZXIuR1JJRF9TSVpFLCB5OiB0b0JCb3hTaWRlUG9zLnkgfSxcclxuICAgICAgICAgIHRvUG9zXHJcbiAgICAgICAgXVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhdGhBcnJheSA9IFtcclxuICAgICAgICAgIGZyb21Qb3MsXHJcbiAgICAgICAgICB7IHg6IGZyb21CQm94U2lkZVBvcy54LCB5OiBNYXRoLm1heChmcm9tQkJveFNpZGVQb3MueSwgdG9CQm94U2lkZVBvcy55KSArIGRpcmVjdGlvbiAqIENhbnZhc0hlbHBlci5HUklEX1NJWkUgfSxcclxuICAgICAgICAgIHsgeDogdG9CQm94U2lkZVBvcy54LCB5OiBNYXRoLm1heChmcm9tQkJveFNpZGVQb3MueSwgdG9CQm94U2lkZVBvcy55KSArIGRpcmVjdGlvbiAqIENhbnZhc0hlbHBlci5HUklEX1NJWkUgfSxcclxuICAgICAgICAgIHRvUG9zXHJcbiAgICAgICAgXVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjZW50ZXIgPSB7IFxyXG4gICAgICAgIHg6IChwYXRoQXJyYXlbMV0ueCArIHBhdGhBcnJheVsyXS54KSAvIDIsXHJcbiAgICAgICAgeTogKHBhdGhBcnJheVsxXS55ICsgcGF0aEFycmF5WzJdLnkpIC8gMlxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKEJCb3hIZWxwZXIuaXNIb3Jpem9udGFsKGZyb21TaWRlKSA9PT0gQkJveEhlbHBlci5pc0hvcml6b250YWwodG9TaWRlKSkge1xyXG4gICAgICAvLyBTYW1lIGF4aXMsIGRpZmZlcmVudCBzaWRlIC0+IE1ha2UgYSBaXHJcbiAgICAgIGlmIChCQm94SGVscGVyLmlzSG9yaXpvbnRhbChmcm9tU2lkZSkpIHtcclxuICAgICAgICBwYXRoQXJyYXkgPSBbXHJcbiAgICAgICAgICBmcm9tUG9zLFxyXG4gICAgICAgICAgeyB4OiBmcm9tQkJveFNpZGVQb3MueCArICh0b0JCb3hTaWRlUG9zLnggLSBmcm9tQkJveFNpZGVQb3MueCkgLyAyLCB5OiBmcm9tQkJveFNpZGVQb3MueSB9LFxyXG4gICAgICAgICAgeyB4OiBmcm9tQkJveFNpZGVQb3MueCArICh0b0JCb3hTaWRlUG9zLnggLSBmcm9tQkJveFNpZGVQb3MueCkgLyAyLCB5OiB0b0JCb3hTaWRlUG9zLnkgfSxcclxuICAgICAgICAgIHRvUG9zXHJcbiAgICAgICAgXVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhdGhBcnJheSA9IFtcclxuICAgICAgICAgIGZyb21Qb3MsXHJcbiAgICAgICAgICB7IHg6IGZyb21CQm94U2lkZVBvcy54LCB5OiBmcm9tQkJveFNpZGVQb3MueSArICh0b0JCb3hTaWRlUG9zLnkgLSBmcm9tQkJveFNpZGVQb3MueSkgLyAyIH0sXHJcbiAgICAgICAgICB7IHg6IHRvQkJveFNpZGVQb3MueCwgeTogZnJvbUJCb3hTaWRlUG9zLnkgKyAodG9CQm94U2lkZVBvcy55IC0gZnJvbUJCb3hTaWRlUG9zLnkpIC8gMiB9LFxyXG4gICAgICAgICAgdG9Qb3NcclxuICAgICAgICBdXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNlbnRlciA9IHsgXHJcbiAgICAgICAgeDogKGZyb21CQm94U2lkZVBvcy54ICsgdG9CQm94U2lkZVBvcy54KSAvIDIsIFxyXG4gICAgICAgIHk6IChmcm9tQkJveFNpZGVQb3MueSArIHRvQkJveFNpZGVQb3MueSkgLyAyIFxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBEaWZmZXJlbnQgYXhpcyAtPiBNYWtlIGEgTFxyXG4gICAgICBpZiAoQkJveEhlbHBlci5pc0hvcml6b250YWwoZnJvbVNpZGUpKSB7XHJcbiAgICAgICAgcGF0aEFycmF5ID0gW1xyXG4gICAgICAgICAgZnJvbVBvcyxcclxuICAgICAgICAgIHsgeDogdG9CQm94U2lkZVBvcy54LCB5OiBmcm9tQkJveFNpZGVQb3MueSB9LFxyXG4gICAgICAgICAgdG9Qb3NcclxuICAgICAgICBdXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGF0aEFycmF5ID0gW1xyXG4gICAgICAgICAgZnJvbVBvcyxcclxuICAgICAgICAgIHsgeDogZnJvbUJCb3hTaWRlUG9zLngsIHk6IHRvQkJveFNpZGVQb3MueSB9LFxyXG4gICAgICAgICAgdG9Qb3NcclxuICAgICAgICBdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNlbnRlciA9IHsgXHJcbiAgICAgICAgeDogcGF0aEFycmF5WzFdLngsXHJcbiAgICAgICAgeTogcGF0aEFycmF5WzFdLnlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN2Z1BhdGg6IFN2Z1BhdGhIZWxwZXIucGF0aEFycmF5VG9TdmdQYXRoKHBhdGhBcnJheSwgZmFsc2UpLFxyXG4gICAgICBjZW50ZXI6IGNlbnRlcixcclxuICAgICAgcm90YXRlQXJyb3dzOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBCQm94LCBDYW52YXMsIFBvc2l0aW9uLCBTaWRlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IEVkZ2VQYXRoZmluZGluZ01ldGhvZCwgeyBFZGdlUGF0aCB9IGZyb20gXCIuL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kXCJcclxuaW1wb3J0IFN2Z1BhdGhIZWxwZXIgZnJvbSBcInNyYy91dGlscy9zdmctcGF0aC1oZWxwZXJcIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuaW1wb3J0IEJCb3hIZWxwZXIgZnJvbSBcInNyYy91dGlscy9iYm94LWhlbHBlclwiXHJcblxyXG5jb25zdCBNQVhfTVNfQ0FMQ1VMQVRJT04gPSAxMDBcclxuY29uc3QgRElSRUNUSU9OUyA9IFtcclxuICB7IGR4OiAxLCBkeTogMCB9LCB7IGR4OiAtMSwgZHk6IDAgfSwgeyBkeDogMCwgZHk6IDEgfSwgeyBkeDogMCwgZHk6IC0xIH0sXHJcbiAgeyBkeDogMSwgZHk6IDEgfSwgeyBkeDogLTEsIGR5OiAxIH0sIHsgZHg6IDEsIGR5OiAtMSB9LCB7IGR4OiAtMSwgZHk6IC0xIH0sXHJcbl0gYXMgY29uc3RcclxuY29uc3QgRElBR09OQUxfQ09TVCA9IE1hdGguc3FydCgyKVxyXG5cclxuY2xhc3MgTm9kZSB7XHJcbiAgeDogbnVtYmVyXHJcbiAgeTogbnVtYmVyXHJcbiAgZ0Nvc3Q6IG51bWJlclxyXG4gIGhDb3N0OiBudW1iZXJcclxuICBmQ29zdDogbnVtYmVyXHJcbiAgcGFyZW50OiBOb2RlfG51bGxcclxuXHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIHRoaXMueCA9IHhcclxuICAgIHRoaXMueSA9IHlcclxuXHJcbiAgICB0aGlzLmdDb3N0ID0gMFxyXG4gICAgdGhpcy5oQ29zdCA9IDBcclxuICAgIHRoaXMuZkNvc3QgPSAwXHJcbiAgICB0aGlzLnBhcmVudCA9IG51bGxcclxuICB9XHJcblxyXG4gIC8vIE9ubHkgY2hlY2sgZm9yIHggYW5kIHksIG5vdCBnQ29zdCwgaENvc3QsIGZDb3N0LCBvciBwYXJlbnRcclxuICBpbkxpc3Qobm9kZXM6IE5vZGVbXSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIG5vZGVzLnNvbWUobiA9PiBuLnggPT09IHRoaXMueCAmJiBuLnkgPT09IHRoaXMueSlcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkZ2VQYXRoZmluZGluZ0FTdGFyIGV4dGVuZHMgRWRnZVBhdGhmaW5kaW5nTWV0aG9kIHtcclxuICBnZXRQYXRoKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4sIGNhbnZhczogQ2FudmFzLCBmcm9tUG9zOiBQb3NpdGlvbiwgX2Zyb21CQm94U2lkZVBvczogUG9zaXRpb24sIGZyb21TaWRlOiBTaWRlLCB0b1BvczogUG9zaXRpb24sIF90b0JCb3hTaWRlUG9zOiBQb3NpdGlvbiwgdG9TaWRlOiBTaWRlKTogRWRnZVBhdGggfCBudWxsIHsgICAgICAgIFxyXG4gICAgY29uc3Qgbm9kZUJCb3hlcyA9IFsuLi5jYW52YXMubm9kZXMudmFsdWVzKCldXHJcbiAgICAgIC5maWx0ZXIobm9kZSA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGlzR3JvdXAgPSBub2RlRGF0YS50eXBlID09PSAnZ3JvdXAnIC8vIEV4Y2x1ZGUgZ3JvdXAgbm9kZXNcclxuICAgICAgICBjb25zdCBpc09wZW5Qb3J0YWwgPSBub2RlRGF0YS5wb3J0YWxUb0ZpbGUgIT09IHVuZGVmaW5lZCAvLyBFeGNsdWRlIG9wZW4gcG9ydGFsc1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiAhaXNHcm91cCAmJiAhaXNPcGVuUG9ydGFsXHJcbiAgICAgIH0pLm1hcChub2RlID0+IG5vZGUuZ2V0QkJveCgpKVxyXG4gICAgXHJcbiAgICBjb25zdCBmcm9tUG9zV2l0aE1hcmdpbiA9IEJCb3hIZWxwZXIubW92ZUluRGlyZWN0aW9uKGZyb21Qb3MsIGZyb21TaWRlLCAxMClcclxuICAgIGNvbnN0IHRvUG9zV2l0aE1hcmdpbiA9IEJCb3hIZWxwZXIubW92ZUluRGlyZWN0aW9uKHRvUG9zLCB0b1NpZGUsIDEwKVxyXG5cclxuICAgIGNvbnN0IGdyaWRSZXNvbHV0aW9uID0gcGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2VkZ2VTdHlsZVBhdGhmaW5kZXJHcmlkUmVzb2x1dGlvbicpXHJcbiAgICBjb25zdCBwYXRoQXJyYXkgPSB0aGlzLmFTdGFyQWxnb3JpdGhtKGZyb21Qb3NXaXRoTWFyZ2luLCBmcm9tU2lkZSwgdG9Qb3NXaXRoTWFyZ2luLCB0b1NpZGUsIG5vZGVCQm94ZXMsIGdyaWRSZXNvbHV0aW9uKVxyXG4gICAgaWYgKCFwYXRoQXJyYXkpIHJldHVybiBudWxsIC8vIE5vIHBhdGggZm91bmQgLSB1c2UgZGVmYXVsdCBwYXRoXHJcblxyXG4gICAgLy8gTWFrZSBjb25uZWN0aW9uIHBvaW50cyB0byB0aGUgbm9kZSByZW1vdmluZyB0aGUgbWFyZ2luXHJcbiAgICBwYXRoQXJyYXkuc3BsaWNlKDAsIDAsIGZyb21Qb3MpXHJcbiAgICBwYXRoQXJyYXkuc3BsaWNlKHBhdGhBcnJheS5sZW5ndGgsIDAsIHRvUG9zKVxyXG5cclxuICAgIGNvbnN0IHJvdW5kZWRQYXRoID0gcGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2VkZ2VTdHlsZVBhdGhmaW5kZXJQYXRoUm91bmRlZCcpXHJcbiAgICBjb25zdCBzdmdQYXRoID0gU3ZnUGF0aEhlbHBlci5wYXRoQXJyYXlUb1N2Z1BhdGgocGF0aEFycmF5LCByb3VuZGVkUGF0aClcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdmdQYXRoOiBzdmdQYXRoLFxyXG4gICAgICBjZW50ZXI6IHBhdGhBcnJheVtNYXRoLmZsb29yKHBhdGhBcnJheS5sZW5ndGggLyAyKV0sXHJcbiAgICAgIHJvdGF0ZUFycm93czogZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYVN0YXJBbGdvcml0aG0oZnJvbVBvczogUG9zaXRpb24sIGZyb21TaWRlOiBTaWRlLCB0b1BvczogUG9zaXRpb24sIHRvU2lkZTogU2lkZSwgb2JzdGFjbGVzOiBCQm94W10sIGdyaWRSZXNvbHV0aW9uOiBudW1iZXIpOiBQb3NpdGlvbltdIHwgbnVsbCB7XHJcbiAgICBjb25zdCBzdGFydDogTm9kZSA9IG5ldyBOb2RlKFxyXG4gICAgICBNYXRoLmZsb29yKGZyb21Qb3MueCAvIGdyaWRSZXNvbHV0aW9uKSAqIGdyaWRSZXNvbHV0aW9uLFxyXG4gICAgICBNYXRoLmZsb29yKGZyb21Qb3MueSAvIGdyaWRSZXNvbHV0aW9uKSAqIGdyaWRSZXNvbHV0aW9uXHJcbiAgICApXHJcbiAgICAvLyBSb3VuZCBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucyB0byB0aGUgbmVhcmVzdCBncmlkIGNlbGwgb3V0c2lkZSBvZiB0aGUgbm9kZXMgdG8gY29ubmVjdFxyXG4gICAgaWYgKGZyb21TaWRlID09PSAncmlnaHQnICYmIGZyb21Qb3MueCAhPT0gc3RhcnQueCkgc3RhcnQueCArPSBncmlkUmVzb2x1dGlvblxyXG4gICAgaWYgKGZyb21TaWRlID09PSAnYm90dG9tJyAmJiBmcm9tUG9zLnkgIT09IHN0YXJ0LnkpIHN0YXJ0LnkgKz0gZ3JpZFJlc29sdXRpb25cclxuICBcclxuICAgIGNvbnN0IGVuZDogTm9kZSA9IG5ldyBOb2RlKFxyXG4gICAgICBNYXRoLmZsb29yKHRvUG9zLnggLyBncmlkUmVzb2x1dGlvbikgKiBncmlkUmVzb2x1dGlvbixcclxuICAgICAgTWF0aC5mbG9vcih0b1Bvcy55IC8gZ3JpZFJlc29sdXRpb24pICogZ3JpZFJlc29sdXRpb25cclxuICAgIClcclxuICAgIC8vIFJvdW5kIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIHRvIHRoZSBuZWFyZXN0IGdyaWQgY2VsbCBvdXRzaWRlIG9mIHRoZSBub2RlcyB0byBjb25uZWN0XHJcbiAgICBpZiAodG9TaWRlID09PSAncmlnaHQnICYmIHRvUG9zLnggIT09IGVuZC54KSBlbmQueCArPSBncmlkUmVzb2x1dGlvblxyXG4gICAgaWYgKHRvU2lkZSA9PT0gJ2JvdHRvbScgJiYgdG9Qb3MueSAhPT0gZW5kLnkpIGVuZC55ICs9IGdyaWRSZXNvbHV0aW9uXHJcbiAgICBcclxuICAgIC8vIENoZWNrIGlmIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIGFyZSB2YWxpZFxyXG4gICAgaWYgKHRoaXMuaXNJbnNpZGVPYnN0YWNsZShzdGFydCwgb2JzdGFjbGVzKSB8fCB0aGlzLmlzSW5zaWRlT2JzdGFjbGUoZW5kLCBvYnN0YWNsZXMpKSByZXR1cm4gbnVsbFxyXG4gIFxyXG4gICAgY29uc3Qgb3BlblNldDogTm9kZVtdID0gW3N0YXJ0XVxyXG4gICAgY29uc3QgY2xvc2VkU2V0OiBOb2RlW10gPSBbXVxyXG5cclxuICAgIGNvbnN0IHN0YXJ0VGltZXN0YW1wID0gcGVyZm9ybWFuY2Uubm93KClcclxuICBcclxuICAgIHdoaWxlIChvcGVuU2V0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgLy8gRmluZCB0aGUgbm9kZSB3aXRoIHRoZSBsb3dlc3QgZkNvc3QgaW4gdGhlIG9wZW4gc2V0XHJcbiAgICAgIGxldCBjdXJyZW50OiBOb2RlfG51bGwgPSBudWxsXHJcbiAgICAgIGxldCBsb3dlc3RGQ29zdCA9IEluZmluaXR5XHJcbiAgXHJcbiAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBvcGVuU2V0KSB7XHJcbiAgICAgICAgaWYgKG5vZGUuZkNvc3QgPCBsb3dlc3RGQ29zdCkge1xyXG4gICAgICAgICAgY3VycmVudCA9IG5vZGVcclxuICAgICAgICAgIGxvd2VzdEZDb3N0ID0gbm9kZS5mQ29zdFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNhbGN1bGF0aW9uIGlzIHRha2luZyB0b28gbG9uZ1xyXG4gICAgICBpZiAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWVzdGFtcCA+IE1BWF9NU19DQUxDVUxBVElPTilcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gIFxyXG4gICAgICAvLyBObyBwYXRoIGZvdW5kXHJcbiAgICAgIGlmICghY3VycmVudClcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gIFxyXG4gICAgICAvLyBSZW1vdmUgdGhlIGN1cnJlbnQgbm9kZSBmcm9tIHRoZSBvcGVuIHNldCBhbmQgYWRkIGl0IHRvIHRoZSBjbG9zZWQgc2V0XHJcbiAgICAgIG9wZW5TZXQuc3BsaWNlKG9wZW5TZXQuaW5kZXhPZihjdXJyZW50KSwgMSlcclxuICAgICAgY2xvc2VkU2V0LnB1c2goY3VycmVudClcclxuICBcclxuICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSByZWFjaGVkIHRoZSBlbmRcclxuICAgICAgaWYgKGN1cnJlbnQueCA9PT0gZW5kLnggJiYgY3VycmVudC55ID09PSBlbmQueSlcclxuICAgICAgICByZXR1cm4gW2Zyb21Qb3MsIC4uLnRoaXMucmVjb25zdHJ1Y3RQYXRoKGN1cnJlbnQpLCB0b1Bvc10ubWFwKG5vZGUgPT4gKHsgeDogbm9kZS54LCB5OiBub2RlLnkgfSkpXHJcbiAgXHJcbiAgICAgIC8vIExvY2F0aW9uIGlzIG5vdCBzdGFydCBvciBlbmQsIGFsbCB0b3VjaGluZyBwb3NpdGlvbnMgYXJlIGludmFsaWRcclxuICAgICAgaWYgKCEoY3VycmVudC54ID09PSBzdGFydC54ICYmIGN1cnJlbnQueSA9PT0gc3RhcnQueSkgJiYgdGhpcy5pc1RvdWNoaW5nT2JzdGFjbGUoY3VycmVudCwgb2JzdGFjbGVzKSlcclxuICAgICAgICBjb250aW51ZVxyXG4gIFxyXG4gICAgICAvLyBFeHBhbmQgbmVpZ2hib3JzXHJcbiAgICAgIGZvciAoY29uc3QgbmVpZ2hib3Igb2YgdGhpcy5nZXRQb3NzaWJsZU5laWdoYm9ycyhjdXJyZW50LCBvYnN0YWNsZXMsIGdyaWRSZXNvbHV0aW9uKSkge1xyXG4gICAgICAgIC8vIFNraXAgaWYgYWxyZWFkeSBwcm9jZXNzZWRcclxuICAgICAgICBpZiAobmVpZ2hib3IuaW5MaXN0KGNsb3NlZFNldCkpXHJcbiAgICAgICAgICBjb250aW51ZVxyXG4gIFxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0ZW50YXRpdmUgZ0Nvc3RcclxuICAgICAgICBjb25zdCB0ZW50YXRpdmVHQ29zdCA9IGN1cnJlbnQuZ0Nvc3QgKyB0aGlzLmdldE1vdmVtZW50Q29zdCh7XHJcbiAgICAgICAgICBkeDogbmVpZ2hib3IueCAtIGN1cnJlbnQueCxcclxuICAgICAgICAgIGR5OiBuZWlnaGJvci55IC0gY3VycmVudC55LFxyXG4gICAgICAgIH0pXHJcbiAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgbmVpZ2hib3IgaXMgbm90IGFscmVhZHkgaW4gdGhlIG9wZW4gc2V0IG9yIGlmIHRoZSBuZXcgZ0Nvc3QgaXMgbG93ZXJcclxuICAgICAgICBpZiAoIW5laWdoYm9yLmluTGlzdChvcGVuU2V0KSB8fCB0ZW50YXRpdmVHQ29zdCA8IG5laWdoYm9yLmdDb3N0KSB7XHJcbiAgICAgICAgICBuZWlnaGJvci5wYXJlbnQgPSBjdXJyZW50XHJcbiAgICAgICAgICBuZWlnaGJvci5nQ29zdCA9IHRlbnRhdGl2ZUdDb3N0XHJcbiAgICAgICAgICBuZWlnaGJvci5oQ29zdCA9IHRoaXMuaGV1cmlzdGljKG5laWdoYm9yLCBlbmQpXHJcbiAgICAgICAgICBuZWlnaGJvci5mQ29zdCA9IG5laWdoYm9yLmdDb3N0ICsgbmVpZ2hib3IuaENvc3RcclxuICBcclxuICAgICAgICAgIC8vIEFkZCBuZWlnaGJvciB0byB0aGUgb3BlbiBzZXRcclxuICAgICAgICAgIG9wZW5TZXQucHVzaChuZWlnaGJvcilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIC8vIE5vIHBhdGggZm91bmRcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG4gIFxyXG4gIC8vIE1hbmhhdHRhbiBkaXN0YW5jZVxyXG4gIHByaXZhdGUgaGV1cmlzdGljKG5vZGU6IE5vZGUsIGVuZDogTm9kZSk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnMobm9kZS54IC0gZW5kLngpICsgTWF0aC5hYnMobm9kZS55IC0gZW5kLnkpXHJcbiAgfVxyXG4gIFxyXG4gIC8vIERlZmluZSBhIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGEgcG9zaXRpb24gaXNuJ3QgaW5zaWRlIGFueSBvYnN0YWNsZVxyXG4gIHByaXZhdGUgaXNUb3VjaGluZ09ic3RhY2xlKG5vZGU6IFBvc2l0aW9uLCBvYnN0YWNsZXM6IEJCb3hbXSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIG9ic3RhY2xlcy5zb21lKG9ic3RhY2xlID0+IEJCb3hIZWxwZXIuaW5zaWRlQkJveChub2RlLCBvYnN0YWNsZSwgdHJ1ZSkpXHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgaXNJbnNpZGVPYnN0YWNsZShub2RlOiBQb3NpdGlvbiwgb2JzdGFjbGVzOiBCQm94W10pOiBib29sZWFuIHtcclxuICAgIHJldHVybiBvYnN0YWNsZXMuc29tZShvYnN0YWNsZSA9PiBCQm94SGVscGVyLmluc2lkZUJCb3gobm9kZSwgb2JzdGFjbGUsIGZhbHNlKSlcclxuICB9XHJcbiAgXHJcbiAgLy8gRGVmaW5lIGEgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIG1vdmVtZW50IGNvc3QgYmFzZWQgb24gZGlyZWN0aW9uXHJcbiAgcHJpdmF0ZSBnZXRNb3ZlbWVudENvc3QoZGlyZWN0aW9uOiB7IGR4OiBudW1iZXI7IGR5OiBudW1iZXIgfSk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gZGlyZWN0aW9uLmR4ICE9PSAwICYmIGRpcmVjdGlvbi5keSAhPT0gMCA/IERJQUdPTkFMX0NPU1QgOiAxXHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgZ2V0UG9zc2libGVOZWlnaGJvcnMobm9kZTogTm9kZSwgb2JzdGFjbGVzOiBCQm94W10sIGdyaWRSZXNvbHV0aW9uOiBudW1iZXIpOiBOb2RlW10ge1xyXG4gICAgY29uc3QgbmVpZ2hib3JzOiBOb2RlW10gPSBbXVxyXG4gICAgXHJcbiAgICBmb3IgKGNvbnN0IGRpcmVjdGlvbiBvZiBESVJFQ1RJT05TKSB7XHJcbiAgICAgIGNvbnN0IG5laWdoYm9yID0gbmV3IE5vZGUoXHJcbiAgICAgICAgbm9kZS54ICsgZGlyZWN0aW9uLmR4ICogZ3JpZFJlc29sdXRpb24sIFxyXG4gICAgICAgIG5vZGUueSArIGRpcmVjdGlvbi5keSAqIGdyaWRSZXNvbHV0aW9uXHJcbiAgICAgIClcclxuICAgICAgbmVpZ2hib3IuZ0Nvc3QgPSBub2RlLmdDb3N0ICsgdGhpcy5nZXRNb3ZlbWVudENvc3QoZGlyZWN0aW9uKVxyXG4gIFxyXG4gICAgICBpZiAodGhpcy5pc0luc2lkZU9ic3RhY2xlKG5laWdoYm9yLCBvYnN0YWNsZXMpKSBjb250aW51ZVxyXG4gIFxyXG4gICAgICBuZWlnaGJvcnMucHVzaChuZWlnaGJvcilcclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBuZWlnaGJvcnNcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSByZWNvbnN0cnVjdFBhdGgobm9kZTogTm9kZSk6IE5vZGVbXSB7XHJcbiAgICBjb25zdCBwYXRoOiBOb2RlW10gPSBbXVxyXG4gICAgd2hpbGUgKG5vZGUpIHtcclxuICAgICAgcGF0aC5wdXNoKG5vZGUpXHJcbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudCFcclxuICAgIH1cclxuICAgIHJldHVybiBwYXRoLnJldmVyc2UoKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBCQm94LCBDYW52YXMsIENhbnZhc0VkZ2UsIENhbnZhc0VsZW1lbnQsIENhbnZhc05vZGUsIFBvc2l0aW9uLCBTaWRlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuaW1wb3J0IHsgQlVJTFRJTl9FREdFX1NUWUxFX0FUVFJJQlVURVMsIFN0eWxlQXR0cmlidXRlIH0gZnJvbSBcIi4vc3R5bGUtY29uZmlnXCJcclxuaW1wb3J0IFNldHRpbmdzTWFuYWdlciBmcm9tIFwic3JjL3NldHRpbmdzXCJcclxuaW1wb3J0IEVkZ2VQYXRoZmluZGluZ01ldGhvZCBmcm9tIFwiLi9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZHMvZWRnZS1wYXRoZmluZGluZy1tZXRob2RcIlxyXG5pbXBvcnQgRWRnZVBhdGhmaW5kaW5nRGlyZWN0IGZyb20gXCIuL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kcy9wYXRoZmluZGluZy1kaXJlY3RcIlxyXG5pbXBvcnQgRWRnZVBhdGhmaW5kaW5nU3F1YXJlIGZyb20gXCIuL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kcy9wYXRoZmluZGluZy1zcXVhcmVcIlxyXG5pbXBvcnQgRWRnZVBhdGhmaW5kaW5nQVN0YXIgZnJvbSBcIi4vZWRnZS1wYXRoZmluZGluZy1tZXRob2RzL3BhdGhmaW5kaW5nLWEtc3RhclwiXHJcblxyXG5jb25zdCBFREdFX1BBVEhGSU5ESU5HX01FVEhPRFM6IHsgW2tleTogc3RyaW5nXTogbmV3KCkgPT4gRWRnZVBhdGhmaW5kaW5nTWV0aG9kIH0gPSB7XHJcbiAgJ2RpcmVjdCc6IEVkZ2VQYXRoZmluZGluZ0RpcmVjdCxcclxuICAnc3F1YXJlJzogRWRnZVBhdGhmaW5kaW5nU3F1YXJlLFxyXG4gICdhLXN0YXInOiBFZGdlUGF0aGZpbmRpbmdBU3RhclxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGdlU3R5bGVzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBhbGxFZGdlU3R5bGVBdHRyaWJ1dGVzOiBTdHlsZUF0dHJpYnV0ZVtdXHJcblxyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuICdlZGdlc1N0eWxpbmdGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5hbGxFZGdlU3R5bGVBdHRyaWJ1dGVzID0gWy4uLkJVSUxUSU5fRURHRV9TVFlMRV9BVFRSSUJVVEVTLCAuLi50aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdjdXN0b21FZGdlU3R5bGVBdHRyaWJ1dGVzJyldXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIFNldHRpbmdzTWFuYWdlci5TRVRUSU5HU19DSEFOR0VEX0VWRU5ULFxyXG4gICAgICAoKSA9PiB0aGlzLmFsbEVkZ2VTdHlsZUF0dHJpYnV0ZXMgPSBbLi4uQlVJTFRJTl9FREdFX1NUWUxFX0FUVFJJQlVURVMsIC4uLnRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2N1c3RvbUVkZ2VTdHlsZUF0dHJpYnV0ZXMnKV1cclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMub25Qb3B1cE1lbnVDcmVhdGVkKGNhbnZhcylcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5FZGdlQ2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBlZGdlOiBDYW52YXNFZGdlKSA9PiB0aGlzLm9uRWRnZUNoYW5nZWQoY2FudmFzLCBlZGdlKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkVkZ2VDZW50ZXJSZXF1ZXN0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgZWRnZTogQ2FudmFzRWRnZSwgY2VudGVyOiBQb3NpdGlvbikgPT4gdGhpcy5vbkVkZ2VDZW50ZXJSZXF1ZXN0ZWQoY2FudmFzLCBlZGdlLCBjZW50ZXIpXHJcbiAgICApKVxyXG5cclxuICAgIC8vIFRPRE86IENvdWxkIGJlIG9wdGltaXplZCBhbmQgaWdub3JlIGluaXRpYWwgbm9kZSBjcmVhdGlvblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQWRkZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4gdGhpcy51cGRhdGVBbGxFZGdlc0luQXJlYShjYW52YXMsIG5vZGUuZ2V0QkJveCgpKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVNb3ZlZCxcclxuICAgICAgLy8gT25seSB1cGRhdGUgZWRnZXMgdGhpcyB3YXkgaWYgYSBub2RlIGdvdCBtb3ZlZCB3aXRoIHRoZSBhcnJvdyBrZXlzXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4gbm9kZS5pbml0aWFsaXplZCAmJiAhY2FudmFzLmlzRHJhZ2dpbmcgPyB0aGlzLnVwZGF0ZUFsbEVkZ2VzSW5BcmVhKGNhbnZhcywgbm9kZS5nZXRCQm94KCkpIDogdm9pZCAwXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZVJlbW92ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4gdGhpcy51cGRhdGVBbGxFZGdlc0luQXJlYShjYW52YXMsIG5vZGUuZ2V0QkJveCgpKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkRyYWdnaW5nU3RhdGVDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIGlzRHJhZ2dpbmc6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBpZiAoaXNEcmFnZ2luZykgcmV0dXJuXHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTm9kZXMgPSBjYW52YXMuZ2V0U2VsZWN0aW9uRGF0YSgpLm5vZGVzXHJcbiAgICAgICAgICAubWFwKG5vZGVEYXRhID0+IGNhbnZhcy5ub2Rlcy5nZXQobm9kZURhdGEuaWQpKVxyXG4gICAgICAgICAgLmZpbHRlcihub2RlID0+IG5vZGUgIT09IHVuZGVmaW5lZCkgYXMgQ2FudmFzTm9kZVtdXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWROb2RlQkJveGVzID0gc2VsZWN0ZWROb2Rlcy5tYXAobm9kZSA9PiBub2RlLmdldEJCb3goKSlcclxuICAgICAgICBjb25zdCBzZWxlY3RlZE5vZGVCQm94ID0gQkJveEhlbHBlci5jb21iaW5lQkJveGVzKHNlbGVjdGVkTm9kZUJCb3hlcylcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVBbGxFZGdlc0luQXJlYShjYW52YXMsIHNlbGVjdGVkTm9kZUJCb3gpXHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG5cclxuICAvLyBTa2lwIGlmIGlzRHJhZ2dpbmcgYW5kIHNldHRpbmcgaXNuJ3QgZW5hYmxlZFxyXG4gIHByaXZhdGUgc2hvdWxkVXBkYXRlRWRnZShjYW52YXM6IENhbnZhcyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICFjYW52YXMuaXNEcmFnZ2luZyB8fCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdlZGdlU3R5bGVVcGRhdGVXaGlsZURyYWdnaW5nJykgfHwgY2FudmFzLmNhbnZhc0VsLmhhc0NsYXNzKCdpcy1jb25uZWN0aW5nJylcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Qb3B1cE1lbnVDcmVhdGVkKGNhbnZhczogQ2FudmFzKTogdm9pZCB7XHJcbiAgICBjb25zdCBzZWxlY3RlZEVkZ2VzID0gWy4uLmNhbnZhcy5zZWxlY3Rpb25dLmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLnBhdGggIT09IHVuZGVmaW5lZCkgYXMgQ2FudmFzRWRnZVtdXHJcbiAgICBpZiAoY2FudmFzLnJlYWRvbmx5IHx8IHNlbGVjdGVkRWRnZXMubGVuZ3RoID09PSAwIHx8IHNlbGVjdGVkRWRnZXMubGVuZ3RoICE9PSBjYW52YXMuc2VsZWN0aW9uLnNpemUpXHJcbiAgICAgIHJldHVyblxyXG5cclxuICAgIENhbnZhc0hlbHBlci5hZGRTdHlsZUF0dHJpYnV0ZXNUb1BvcHVwKFxyXG4gICAgICB0aGlzLnBsdWdpbiwgY2FudmFzLCB0aGlzLmFsbEVkZ2VTdHlsZUF0dHJpYnV0ZXMsXHJcbiAgICAgIHNlbGVjdGVkRWRnZXNbMF0uZ2V0RGF0YSgpLnN0eWxlQXR0cmlidXRlcyA/PyB7fSxcclxuICAgICAgKGF0dHJpYnV0ZSwgdmFsdWUpID0+IHRoaXMuc2V0U3R5bGVBdHRyaWJ1dGVGb3JTZWxlY3Rpb24oY2FudmFzLCBhdHRyaWJ1dGUsIHZhbHVlKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRTdHlsZUF0dHJpYnV0ZUZvclNlbGVjdGlvbihjYW52YXM6IENhbnZhcywgYXR0cmlidXRlOiBTdHlsZUF0dHJpYnV0ZSwgdmFsdWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkRWRnZXMgPSBbLi4uY2FudmFzLnNlbGVjdGlvbl0uZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0ucGF0aCAhPT0gdW5kZWZpbmVkKSBhcyBDYW52YXNFZGdlW11cclxuXHJcbiAgICBmb3IgKGNvbnN0IGVkZ2Ugb2Ygc2VsZWN0ZWRFZGdlcykge1xyXG4gICAgICBjb25zdCBlZGdlRGF0YSA9IGVkZ2UuZ2V0RGF0YSgpXHJcblxyXG4gICAgICBlZGdlLnNldERhdGEoe1xyXG4gICAgICAgIC4uLmVkZ2VEYXRhLFxyXG4gICAgICAgIHN0eWxlQXR0cmlidXRlczoge1xyXG4gICAgICAgICAgLi4uZWRnZURhdGEuc3R5bGVBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgW2F0dHJpYnV0ZS5kYXRhc2V0S2V5XTogdmFsdWVcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNhbnZhcy5wdXNoSGlzdG9yeShjYW52YXMuZ2V0RGF0YSgpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVBbGxFZGdlc0luQXJlYShjYW52YXM6IENhbnZhcywgYmJveDogQkJveCkge1xyXG4gICAgaWYgKCF0aGlzLnNob3VsZFVwZGF0ZUVkZ2UoY2FudmFzKSkgcmV0dXJuXHJcblxyXG4gICAgZm9yIChjb25zdCBlZGdlIG9mIGNhbnZhcy5lZGdlcy52YWx1ZXMoKSkge1xyXG4gICAgICBpZiAoIUJCb3hIZWxwZXIuaXNDb2xsaWRpbmcoZWRnZS5nZXRCQm94KCksIGJib3gpKSBjb250aW51ZVxyXG5cclxuICAgICAgY2FudmFzLm1hcmtEaXJ0eShlZGdlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkVkZ2VDaGFuZ2VkKGNhbnZhczogQ2FudmFzLCBlZGdlOiBDYW52YXNFZGdlKSB7XHJcbiAgICAvLyBTa2lwIGlmIGVkZ2UgaXNuJ3QgZGlydHkgb3Igc2VsZWN0ZWRcclxuICAgIGlmICghY2FudmFzLmRpcnR5LmhhcyhlZGdlKSAmJiAhY2FudmFzLnNlbGVjdGlvbi5oYXMoZWRnZSkpIHJldHVyblxyXG5cclxuICAgIGlmICghdGhpcy5zaG91bGRVcGRhdGVFZGdlKGNhbnZhcykpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGVkZ2VEYXRhID0gZWRnZS5nZXREYXRhKClcclxuICAgIFxyXG4gICAgLy8gUmVzZXQgcGF0aCB0byBkZWZhdWx0XHJcbiAgICBpZiAoIWVkZ2UuYmV6aWVyKSByZXR1cm5cclxuICAgIGVkZ2UuY2VudGVyID0gdW5kZWZpbmVkXHJcbiAgICBlZGdlLnVwZGF0ZVBhdGgoKVxyXG5cclxuICAgIC8vIFNldCBwYXRoZmluZGluZyBtZXRob2RcclxuICAgIGNvbnN0IHBhdGhmaW5kaW5nTWV0aG9kID0gZWRnZURhdGEuc3R5bGVBdHRyaWJ1dGVzPy5wYXRoZmluZGluZ01ldGhvZFxyXG4gICAgaWYgKHBhdGhmaW5kaW5nTWV0aG9kKSB7XHJcbiAgICAgIGNvbnN0IGZyb21CQm94U2lkZVBvcyA9IEJCb3hIZWxwZXIuZ2V0Q2VudGVyT2ZCQm94U2lkZShlZGdlLmZyb20ubm9kZS5nZXRCQm94KCksIGVkZ2UuZnJvbS5zaWRlKVxyXG4gICAgICBjb25zdCBmcm9tUG9zID0gZWRnZS5mcm9tLmVuZCA9PT0gJ25vbmUnID8gXHJcbiAgICAgICAgZnJvbUJCb3hTaWRlUG9zIDpcclxuICAgICAgICBlZGdlLmJlemllci5mcm9tXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0b0JCb3hTaWRlUG9zID0gQkJveEhlbHBlci5nZXRDZW50ZXJPZkJCb3hTaWRlKGVkZ2UudG8ubm9kZS5nZXRCQm94KCksIGVkZ2UudG8uc2lkZSlcclxuICAgICAgY29uc3QgdG9Qb3MgPSBlZGdlLnRvLmVuZCA9PT0gJ25vbmUnID8gXHJcbiAgICAgICAgdG9CQm94U2lkZVBvcyA6XHJcbiAgICAgICAgZWRnZS5iZXppZXIudG9cclxuXHJcbiAgICAgIGNvbnN0IHBhdGggPSBuZXcgRURHRV9QQVRIRklORElOR19NRVRIT0RTW3BhdGhmaW5kaW5nTWV0aG9kXSgpLmdldFBhdGgodGhpcy5wbHVnaW4sIGNhbnZhcywgZnJvbVBvcywgZnJvbUJCb3hTaWRlUG9zLCBlZGdlLmZyb20uc2lkZSwgdG9Qb3MsIHRvQkJveFNpZGVQb3MsIGVkZ2UudG8uc2lkZSlcclxuICAgICAgaWYgKCFwYXRoKSByZXR1cm5cclxuXHJcbiAgICAgIGVkZ2UuY2VudGVyID0gcGF0aC5jZW50ZXJcclxuICAgICAgZWRnZS5wYXRoLmludGVyYWN0aW9uLnNldEF0dHIoXCJkXCIsIHBhdGg/LnN2Z1BhdGgpXHJcbiAgICAgIGVkZ2UucGF0aC5kaXNwbGF5LnNldEF0dHIoXCJkXCIsIHBhdGg/LnN2Z1BhdGgpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXBkYXRlIGxhYmVsIHBvc2l0aW9uXHJcbiAgICBlZGdlLmxhYmVsRWxlbWVudD8ucmVuZGVyKClcclxuXHJcbiAgICAvLyBTZXQgYXJyb3cgcG9seWdvblxyXG4gICAgY29uc3QgYXJyb3dQb2x5Z29uUG9pbnRzID0gdGhpcy5nZXRBcnJvd1BvbHlnb25Qb2ludHMoZWRnZURhdGEuc3R5bGVBdHRyaWJ1dGVzPy5hcnJvdylcclxuICAgIGlmIChlZGdlLmZyb21MaW5lRW5kPy5lbCkgZWRnZS5mcm9tTGluZUVuZC5lbC5xdWVyeVNlbGVjdG9yKCdwb2x5Z29uJyk/LnNldEF0dHJpYnV0ZSgncG9pbnRzJywgYXJyb3dQb2x5Z29uUG9pbnRzKVxyXG4gICAgaWYgKGVkZ2UudG9MaW5lRW5kPy5lbCkgZWRnZS50b0xpbmVFbmQuZWwucXVlcnlTZWxlY3RvcigncG9seWdvbicpPy5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIGFycm93UG9seWdvblBvaW50cylcclxuXHJcbiAgICAvLyBSb3RhdGUgYXJyb3dzIGFjY29yZGluZ2x5XHJcbiAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZWRnZVN0eWxlRGlyZWN0Um90YXRlQXJyb3cnKSkge1xyXG4gICAgICB0aGlzLnJvdGF0ZUFycm93cyhlZGdlLCBwYXRoZmluZGluZ01ldGhvZClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25FZGdlQ2VudGVyUmVxdWVzdGVkKF9jYW52YXM6IENhbnZhcywgZWRnZTogQ2FudmFzRWRnZSwgY2VudGVyOiBQb3NpdGlvbikge1xyXG4gICAgY2VudGVyLnggPSBlZGdlLmNlbnRlcj8ueCA/PyBjZW50ZXIueFxyXG4gICAgY2VudGVyLnkgPSBlZGdlLmNlbnRlcj8ueSA/PyBjZW50ZXIueVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRBcnJvd1BvbHlnb25Qb2ludHMoYXJyb3dTdHlsZT86IHN0cmluZyB8IG51bGwpOiBzdHJpbmcge1xyXG4gICAgaWYgKGFycm93U3R5bGUgPT09ICdoYWx2ZWQtdHJpYW5nbGUnKVxyXG4gICAgICByZXR1cm4gYC0yLDAgNy41LDEyIC0yLDEyYFxyXG4gICAgZWxzZSBpZiAoYXJyb3dTdHlsZSA9PT0gJ3RoaW4tdHJpYW5nbGUnKVxyXG4gICAgICByZXR1cm4gYDAsMCA3LDEwIDAsMCAwLDEwIDAsMCAtNywxMGBcclxuICAgIGVsc2UgaWYgKGFycm93U3R5bGUgPT09ICdkaWFtb25kJyB8fCBhcnJvd1N0eWxlID09PSAnZGlhbW9uZC1vdXRsaW5lJylcclxuICAgICAgcmV0dXJuIGAwLDAgNSwxMCAwLDIwIC01LDEwYFxyXG4gICAgZWxzZSBpZiAoYXJyb3dTdHlsZSA9PT0gJ2NpcmNsZScgfHwgYXJyb3dTdHlsZSA9PT0gJ2NpcmNsZS1vdXRsaW5lJylcclxuICAgICAgcmV0dXJuIGAwIDAsIDQuOTUgMS44LCA3LjUgNi40NSwgNi42IDExLjcsIDIuNyAxNSwgLTIuNyAxNSwgLTYuNiAxMS43LCAtNy41IDYuNDUsIC00Ljk1IDEuOGBcclxuICAgIGVsc2UgLy8gRGVmYXVsdCB0cmlhbmdsZVxyXG4gICAgICByZXR1cm4gYDAsMCA2LjUsMTAuNCAtNi41LDEwLjRgXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJvdGF0ZUFycm93cyhlZGdlOiBDYW52YXNFZGdlLCBwYXRoUm91dGVUeXBlPzogc3RyaW5nIHwgbnVsbCkge1xyXG4gICAgLy8gUmVzZXQgYXJyb3cgcm90YXRpb25cclxuICAgIGlmIChwYXRoUm91dGVUeXBlICE9PSAnZGlyZWN0Jykge1xyXG4gICAgICBpZiAoZWRnZS5mcm9tTGluZUVuZD8uZWwpIGVkZ2UuZnJvbUxpbmVFbmQuZWwuc3R5bGUudHJhbnNsYXRlID0gXCJcIlxyXG4gICAgICBpZiAoZWRnZS50b0xpbmVFbmQ/LmVsKSBlZGdlLnRvTGluZUVuZC5lbC5zdHlsZS50cmFuc2xhdGUgPSBcIlwiXHJcblxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3Qgc2V0QXJyb3dSb3RhdGlvbiA9IChlbGVtZW50OiBIVE1MRWxlbWVudCwgc2lkZTogU2lkZSwgcm90YXRpb246IG51bWJlcikgPT4ge1xyXG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtXHJcbiAgICAgICAgLnJlcGxhY2UoL3JvdGF0ZVxcKFstXFxkXSsoZGVnfHJhZClcXCkvZywgYHJvdGF0ZSgke3JvdGF0aW9ufXJhZClgKVxyXG5cclxuICAgICAgY29uc3Qgb2Zmc2V0ID0gQkJveEhlbHBlci5nZXRTaWRlVmVjdG9yKHNpZGUpXHJcbiAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNsYXRlID0gYCR7b2Zmc2V0LnggKiA3fXB4ICR7b2Zmc2V0LnkgKiAtN31weGBcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBlZGdlUm90YXRpb24gPSBNYXRoLmF0YW4yKGVkZ2UuYmV6aWVyLnRvLnkgLSBlZGdlLmJlemllci5mcm9tLnksIGVkZ2UuYmV6aWVyLnRvLnggLSBlZGdlLmJlemllci5mcm9tLngpIC0gKE1hdGguUEkgLyAyKVxyXG5cclxuICAgIGlmIChlZGdlLmZyb21MaW5lRW5kPy5lbCkgc2V0QXJyb3dSb3RhdGlvbihlZGdlLmZyb21MaW5lRW5kLmVsLCBlZGdlLmZyb20uc2lkZSwgZWRnZVJvdGF0aW9uKVxyXG4gICAgaWYgKGVkZ2UudG9MaW5lRW5kPy5lbCkgc2V0QXJyb3dSb3RhdGlvbihlZGdlLnRvTGluZUVuZC5lbCwgZWRnZS50by5zaWRlLCBlZGdlUm90YXRpb24gLSBNYXRoLlBJKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc05vZGUsIENhbnZhc05vZGVEYXRhIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2NvcmUvZXZlbnRzXCJcclxuaW1wb3J0IFNldHRpbmdzTWFuYWdlciBmcm9tIFwic3JjL3NldHRpbmdzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBvc2VkTm9kZURhdGEoc2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlcik6IChrZXlvZiBDYW52YXNOb2RlRGF0YSlbXSB7XHJcbiAgY29uc3QgZXhwb3NlZERhdGE6IChrZXlvZiBDYW52YXNOb2RlRGF0YSlbXSA9IFtdXHJcblxyXG4gIGlmIChzZXR0aW5ncy5nZXRTZXR0aW5nKCdub2RlU3R5bGluZ0ZlYXR1cmVFbmFibGVkJykpIGV4cG9zZWREYXRhLnB1c2goJ3N0eWxlQXR0cmlidXRlcycpXHJcbiAgaWYgKHNldHRpbmdzLmdldFNldHRpbmcoJ2NvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQnKSkgZXhwb3NlZERhdGEucHVzaCgnaXNDb2xsYXBzZWQnKVxyXG4gIGlmIChzZXR0aW5ncy5nZXRTZXR0aW5nKCdwcmVzZW50YXRpb25GZWF0dXJlRW5hYmxlZCcpKSBleHBvc2VkRGF0YS5wdXNoKCdpc1N0YXJ0Tm9kZScpXHJcbiAgaWYgKHNldHRpbmdzLmdldFNldHRpbmcoJ3BvcnRhbHNGZWF0dXJlRW5hYmxlZCcpKSBleHBvc2VkRGF0YS5wdXNoKCdwb3J0YWxUb0ZpbGUnLCAncG9ydGFsSWQnKVxyXG5cclxuICByZXR1cm4gZXhwb3NlZERhdGFcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9kZUV4cG9zZXJFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQ2hhbmdlZCxcclxuICAgICAgKF9jYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZT8uZ2V0RGF0YSgpXHJcbiAgICAgICAgaWYgKCFub2RlRGF0YSkgcmV0dXJuXHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZXhwb3NlZERhdGFLZXkgb2YgZ2V0RXhwb3NlZE5vZGVEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKSkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YXNldFBhaXJzID0gbm9kZURhdGFbZXhwb3NlZERhdGFLZXldIGluc3RhbmNlb2YgT2JqZWN0XHJcbiAgICAgICAgICAgID8gT2JqZWN0LmVudHJpZXMobm9kZURhdGFbZXhwb3NlZERhdGFLZXldKVxyXG4gICAgICAgICAgICA6IFtbZXhwb3NlZERhdGFLZXksIG5vZGVEYXRhW2V4cG9zZWREYXRhS2V5XV1dXHJcblxyXG4gICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZGF0YXNldFBhaXJzKSB7XHJcbiAgICAgICAgICAgIGlmICghdmFsdWUpIGRlbGV0ZSBub2RlLm5vZGVFbC5kYXRhc2V0W2tleV1cclxuICAgICAgICAgICAgZWxzZSBub2RlLm5vZGVFbC5kYXRhc2V0W2tleV0gPSB2YWx1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzLCBDYW52YXNOb2RlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgZ2V0RXhwb3NlZE5vZGVEYXRhIH0gZnJvbSBcIi4vbm9kZS1leHBvc2VyXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2NvcmUvZXZlbnRzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmV4cG9ydCBjb25zdCBUQVJHRVRfTk9ERV9EQVRBU0VUX1BSRUZJWCA9IFwidGFyZ2V0XCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vZGVJbnRlcmFjdGlvbkV4cG9zZXJFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlSW50ZXJhY3Rpb24sXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZT8uZ2V0RGF0YSgpXHJcbiAgICAgICAgaWYgKCFub2RlRGF0YSkgcmV0dXJuXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FbCA9IGNhbnZhcy5ub2RlSW50ZXJhY3Rpb25MYXllci5pbnRlcmFjdGlvbkVsXHJcbiAgICAgICAgaWYgKCFpbnRlcmFjdGlvbkVsKSByZXR1cm5cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBleHBvc2VkRGF0YUtleSBvZiBnZXRFeHBvc2VkTm9kZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpKSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhc2V0UGFpcnMgPSBub2RlRGF0YVtleHBvc2VkRGF0YUtleV0gaW5zdGFuY2VvZiBPYmplY3RcclxuICAgICAgICAgICAgPyBPYmplY3QuZW50cmllcyhub2RlRGF0YVtleHBvc2VkRGF0YUtleV0pXHJcbiAgICAgICAgICAgIDogW1tleHBvc2VkRGF0YUtleSwgbm9kZURhdGFbZXhwb3NlZERhdGFLZXldXV1cclxuXHJcbiAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBkYXRhc2V0UGFpcnMpIHtcclxuICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRLZXkgPSBUQVJHRVRfTk9ERV9EQVRBU0VUX1BSRUZJWCArIGtleS50b1N0cmluZygpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnRvU3RyaW5nKCkuc2xpY2UoMSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghdmFsdWUpIGRlbGV0ZSBpbnRlcmFjdGlvbkVsLmRhdGFzZXRbbW9kaWZpZWRLZXldXHJcbiAgICAgICAgICAgIGVsc2UgaW50ZXJhY3Rpb25FbC5kYXRhc2V0W21vZGlmaWVkS2V5XSA9IHZhbHVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc0VkZ2UsIENhbnZhc0VkZ2VEYXRhIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2NvcmUvZXZlbnRzXCJcclxuaW1wb3J0IFNldHRpbmdzTWFuYWdlciBmcm9tIFwic3JjL3NldHRpbmdzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHBvc2VkRWRnZURhdGEoc2V0dGluZ3M6IFNldHRpbmdzTWFuYWdlcik6IChrZXlvZiBDYW52YXNFZGdlRGF0YSlbXSB7XHJcbiAgY29uc3QgZXhwb3NlZERhdGE6IChrZXlvZiBDYW52YXNFZGdlRGF0YSlbXSA9IFtdXHJcblxyXG4gIGlmIChzZXR0aW5ncy5nZXRTZXR0aW5nKCdlZGdlc1N0eWxpbmdGZWF0dXJlRW5hYmxlZCcpKSBleHBvc2VkRGF0YS5wdXNoKCdzdHlsZUF0dHJpYnV0ZXMnKVxyXG5cclxuICByZXR1cm4gZXhwb3NlZERhdGFcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRnZUV4cG9zZXJFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5FZGdlQ2hhbmdlZCxcclxuICAgICAgKF9jYW52YXM6IENhbnZhcywgZWRnZTogQ2FudmFzRWRnZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVkZ2VEYXRhID0gZWRnZT8uZ2V0RGF0YSgpXHJcbiAgICAgICAgaWYgKCFlZGdlRGF0YSkgcmV0dXJuXHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZXhwb3NlZERhdGFLZXkgb2YgZ2V0RXhwb3NlZEVkZ2VEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0UGFpcnMgPSBlZGdlRGF0YVtleHBvc2VkRGF0YUtleV0gaW5zdGFuY2VvZiBPYmplY3RcclxuICAgICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKGVkZ2VEYXRhW2V4cG9zZWREYXRhS2V5XSlcclxuICAgICAgICAgICAgICA6IFtbZXhwb3NlZERhdGFLZXksIGVkZ2VEYXRhW2V4cG9zZWREYXRhS2V5XV1dXHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBkYXRhc2V0UGFpcnMpIHtcclxuICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgZWRnZS5wYXRoLmRpc3BsYXkuZGF0YXNldFtrZXldXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UuZnJvbUxpbmVFbmQ/LmVsKSBkZWxldGUgZWRnZS5mcm9tTGluZUVuZC5lbC5kYXRhc2V0W2tleV1cclxuICAgICAgICAgICAgICAgIGlmIChlZGdlLnRvTGluZUVuZD8uZWwpIGRlbGV0ZSBlZGdlLnRvTGluZUVuZC5lbC5kYXRhc2V0W2tleV1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWRnZS5wYXRoLmRpc3BsYXkuZGF0YXNldFtrZXldID0gdmFsdWVcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWRnZS5mcm9tTGluZUVuZD8uZWwpIGVkZ2UuZnJvbUxpbmVFbmQuZWwuZGF0YXNldFtrZXldID0gdmFsdWVcclxuICAgICAgICAgICAgICAgIGlmIChlZGdlLnRvTGluZUVuZD8uZWwpIGVkZ2UudG9MaW5lRW5kLmVsLmRhdGFzZXRba2V5XSA9IHZhbHVlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvY29yZS9ldmVudHNcIlxyXG5pbXBvcnQgU2V0dGluZ3NNYW5hZ2VyLCB7IEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMgfSBmcm9tIFwic3JjL3NldHRpbmdzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vLi4vY29yZS9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmNvbnN0IEVYUE9TRURfU0VUVElOR1M6IChrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzKVtdID0gW1xyXG4gICdkaXNhYmxlRm9udFNpemVSZWxhdGl2ZVRvWm9vbScsXHJcbiAgJ2NvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQnLFxyXG4gICdjb2xsYXBzZWRHcm91cFByZXZpZXdPbkRyYWcnLFxyXG5dXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNXcmFwcGVyRXhwb3NlckV4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gdHJ1ZSB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIFNldHRpbmdzTWFuYWdlci5TRVRUSU5HU19DSEFOR0VEX0VWRU5ULFxyXG4gICAgICAoKSA9PiB0aGlzLnVwZGF0ZUV4cG9zZWRTZXR0aW5ncyh0aGlzLnBsdWdpbi5nZXRDdXJyZW50Q2FudmFzKCkpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuQ2FudmFzQ2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLnVwZGF0ZUV4cG9zZWRTZXR0aW5ncyhjYW52YXMpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuRHJhZ2dpbmdTdGF0ZUNoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgZHJhZ2dpbmc6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBpZiAoZHJhZ2dpbmcpIGNhbnZhcy53cmFwcGVyRWwuZGF0YXNldC5pc0RyYWdnaW5nID0gJ3RydWUnXHJcbiAgICAgICAgZWxzZSBkZWxldGUgY2FudmFzLndyYXBwZXJFbC5kYXRhc2V0LmlzRHJhZ2dpbmdcclxuICAgICAgfVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlRXhwb3NlZFNldHRpbmdzKGNhbnZhczogQ2FudmFzIHwgbnVsbCkge1xyXG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxyXG5cclxuICAgIGZvciAoY29uc3Qgc2V0dGluZyBvZiBFWFBPU0VEX1NFVFRJTkdTKSB7XHJcbiAgICAgIGNhbnZhcy53cmFwcGVyRWwuZGF0YXNldFtzZXR0aW5nXSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoc2V0dGluZykudG9TdHJpbmcoKVxyXG4gICAgfVxyXG4gIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLCtDQUFBQSxTQUFBO0FBQUE7QUFFQSxRQUFJO0FBQ0osUUFBSTtBQUNKLFFBQUksVUFBVTtBQUFBLE1BQ2IsS0FBSztBQUFBLE1BQ0wsTUFBTTtBQUFBLE1BQ04sS0FBSztBQUFBLE1BQ0wsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLElBQ0o7QUFDQSxRQUFJO0FBR0osYUFBUyxNQUFNLEdBQUc7QUFDakIsWUFBTTtBQUFBLFFBQ0wsTUFBTTtBQUFBLFFBQ04sU0FBUztBQUFBLFFBQ1Q7QUFBQSxRQUNBO0FBQUEsTUFDRDtBQUFBLElBQ0Q7QUFFQSxhQUFTLEtBQUssR0FBRztBQUVoQixVQUFJLEtBQUssTUFBTSxJQUFJO0FBQ2xCLGNBQU0sZUFBZSxJQUFJLG1CQUFtQixLQUFLLEdBQUc7QUFBQSxNQUNyRDtBQUlBLFdBQUssS0FBSyxPQUFPLEVBQUU7QUFDbkIsWUFBTTtBQUNOLGFBQU87QUFBQSxJQUNSO0FBRUEsYUFBUyxTQUFTO0FBRWpCLFVBQUk7QUFDSixVQUFJLE1BQU07QUFFVixVQUFJLE9BQU8sS0FBSztBQUNmLGNBQU07QUFDTixhQUFLLEdBQUc7QUFBQSxNQUNUO0FBQ0EsYUFBTyxNQUFNLE9BQU8sTUFBTSxLQUFLO0FBQzlCLGVBQU87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QU87QUFBQSxNQUNUO0FBQUEsTUFDQTtBQUFBLFFBQ0UsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLE1BQ1Q7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBLEVBQ0E7QUFBQSxJQUNFLFlBQVk7QUFBQSxJQUNaLE9BQU87QUFBQSxJQUNQLFdBQVcsQ0FBQyxNQUFNO0FBQUEsSUFDbEIsU0FBUztBQUFBLE1BQ1A7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQTtBQUFBLFFBQ0UsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUNBO0FBQUEsUUFDRSxNQUFNO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0E7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQTtBQUFBLFFBQ0UsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLE1BQ1Q7QUFBQSxNQUNBO0FBQUEsUUFDRSxNQUFNO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0E7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxNQUNUO0FBQUEsTUFDQTtBQUFBLFFBQ0UsTUFBTTtBQUFBLFFBQ04sT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLE1BQ1Q7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBLEVBQ0E7QUFBQSxJQUNFLFlBQVk7QUFBQSxJQUNaLE9BQU87QUFBQSxJQUNQLFNBQVM7QUFBQSxNQUNQO0FBQUEsUUFDRSxNQUFNO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0E7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLE9BQU87QUFBQSxN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VDtBQUFBLEVBRUEsbUJBQWtDO0FBMUdwQztBQTJHSSxhQUFPLFVBQUsscUJBQXFCLE1BQTFCLG1CQUE2QixXQUFVO0FBQUEsRUFDaEQ7QUFBQSxFQUVBLG1CQUFtQixNQUFjLFNBQWlCO0FBOUdwRDtBQStHSSxVQUFNLHNCQUFxQixVQUFLLElBQUksZ0JBQWdCLFFBQVEsZUFBZSxNQUFoRCxtQkFBbUQ7QUFDOUUsUUFBSSxDQUFDO0FBQW9CO0FBRXpCLHVCQUFtQixTQUFTLE1BQU0sT0FBTztBQUFBLEVBQzNDO0FBQUE7QUFBQSxFQUdBLGtCQUFrQjtBQUNoQixRQUFJLEtBQUs7QUFBYTtBQUN0QixTQUFLLGNBQWMsSUFBSSxZQUFZLElBQUk7QUFBQSxFQUN6QztBQUNGOyIsCiAgIm5hbWVzIjogWyJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJpc05hTiIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgInJlcXVpcmVfaW1wbGVtZW50YXRpb24iLCAibW9kdWxlIiwgImNvbmNhdHR5IiwgInNsaWN5IiwgIkVtcHR5IiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJ1bmRlZmluZWQiLCAiZG9FdmFsIiwgInN0cmluZ1RvUGF0aCIsICJnZXRCYXNlSW50cmluc2ljIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAiaGFzUHJvcGVydHlEZXNjcmlwdG9ycyIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgImdldCIsICJpbXBvcnRfb2JzaWRpYW4iLCAicmVzdWx0IiwgIkpTT05TUyIsICJlIiwgInVwZGF0ZSIsICJkYXRhIiwgImNhbnZhc1ZpZXciLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJTZXR0aW5nRWwiLCAiX2tleSIsICJ2YWx1ZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAid2luZG93IiwgImltcG9ydF9vYnNpZGlhbiIsICJfYSIsICJfYiIsICJsZWZ0UG9zaXRpb24iLCAicmlnaHRQb3NpdGlvbiIsICJjYW52YXMiLCAiaW1wb3J0X29ic2lkaWFuIiwgImNhbnZhcyIsICJzdGFydE5vZGUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJub2RlIiwgIl9hIiwgIl9iIiwgIm5vZGUiLCAiaW1wb3J0X29ic2lkaWFuIiwgIkRJUkVDVElPTlMiXQp9Cg==
