/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/jsonify/lib/parse.js
var require_parse = __commonJS({
  "node_modules/jsonify/lib/parse.js"(exports, module2) {
    "use strict";
    var at;
    var ch;
    var escapee = {
      '"': '"',
      "\\": "\\",
      "/": "/",
      b: "\b",
      f: "\f",
      n: "\n",
      r: "\r",
      t: "	"
    };
    var text;
    function error(m) {
      throw {
        name: "SyntaxError",
        message: m,
        at,
        text
      };
    }
    function next(c) {
      if (c && c !== ch) {
        error("Expected '" + c + "' instead of '" + ch + "'");
      }
      ch = text.charAt(at);
      at += 1;
      return ch;
    }
    function number() {
      var num;
      var str = "";
      if (ch === "-") {
        str = "-";
        next("-");
      }
      while (ch >= "0" && ch <= "9") {
        str += ch;
        next();
      }
      if (ch === ".") {
        str += ".";
        while (next() && ch >= "0" && ch <= "9") {
          str += ch;
        }
      }
      if (ch === "e" || ch === "E") {
        str += ch;
        next();
        if (ch === "-" || ch === "+") {
          str += ch;
          next();
        }
        while (ch >= "0" && ch <= "9") {
          str += ch;
          next();
        }
      }
      num = Number(str);
      if (!isFinite(num)) {
        error("Bad number");
      }
      return num;
    }
    function string() {
      var hex;
      var i;
      var str = "";
      var uffff;
      if (ch === '"') {
        while (next()) {
          if (ch === '"') {
            next();
            return str;
          } else if (ch === "\\") {
            next();
            if (ch === "u") {
              uffff = 0;
              for (i = 0; i < 4; i += 1) {
                hex = parseInt(next(), 16);
                if (!isFinite(hex)) {
                  break;
                }
                uffff = uffff * 16 + hex;
              }
              str += String.fromCharCode(uffff);
            } else if (typeof escapee[ch] === "string") {
              str += escapee[ch];
            } else {
              break;
            }
          } else {
            str += ch;
          }
        }
      }
      error("Bad string");
    }
    function white() {
      while (ch && ch <= " ") {
        next();
      }
    }
    function word() {
      switch (ch) {
        case "t":
          next("t");
          next("r");
          next("u");
          next("e");
          return true;
        case "f":
          next("f");
          next("a");
          next("l");
          next("s");
          next("e");
          return false;
        case "n":
          next("n");
          next("u");
          next("l");
          next("l");
          return null;
        default:
          error("Unexpected '" + ch + "'");
      }
    }
    function array() {
      var arr = [];
      if (ch === "[") {
        next("[");
        white();
        if (ch === "]") {
          next("]");
          return arr;
        }
        while (ch) {
          arr.push(value());
          white();
          if (ch === "]") {
            next("]");
            return arr;
          }
          next(",");
          white();
        }
      }
      error("Bad array");
    }
    function object() {
      var key;
      var obj = {};
      if (ch === "{") {
        next("{");
        white();
        if (ch === "}") {
          next("}");
          return obj;
        }
        while (ch) {
          key = string();
          white();
          next(":");
          if (Object.prototype.hasOwnProperty.call(obj, key)) {
            error('Duplicate key "' + key + '"');
          }
          obj[key] = value();
          white();
          if (ch === "}") {
            next("}");
            return obj;
          }
          next(",");
          white();
        }
      }
      error("Bad object");
    }
    function value() {
      white();
      switch (ch) {
        case "{":
          return object();
        case "[":
          return array();
        case '"':
          return string();
        case "-":
          return number();
        default:
          return ch >= "0" && ch <= "9" ? number() : word();
      }
    }
    module2.exports = function(source, reviver) {
      var result;
      text = source;
      at = 0;
      ch = " ";
      result = value();
      white();
      if (ch) {
        error("Syntax error");
      }
      return typeof reviver === "function" ? function walk(holder, key) {
        var k;
        var v;
        var val = holder[key];
        if (val && typeof val === "object") {
          for (k in value) {
            if (Object.prototype.hasOwnProperty.call(val, k)) {
              v = walk(val, k);
              if (typeof v === "undefined") {
                delete val[k];
              } else {
                val[k] = v;
              }
            }
          }
        }
        return reviver.call(holder, key, val);
      }({ "": result }, "") : result;
    };
  }
});

// node_modules/jsonify/lib/stringify.js
var require_stringify = __commonJS({
  "node_modules/jsonify/lib/stringify.js"(exports, module2) {
    "use strict";
    var escapable = /[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
    var gap;
    var indent;
    var meta = {
      // table of character substitutions
      "\b": "\\b",
      "	": "\\t",
      "\n": "\\n",
      "\f": "\\f",
      "\r": "\\r",
      '"': '\\"',
      "\\": "\\\\"
    };
    var rep;
    function quote(string) {
      escapable.lastIndex = 0;
      return escapable.test(string) ? '"' + string.replace(escapable, function(a) {
        var c = meta[a];
        return typeof c === "string" ? c : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4);
      }) + '"' : '"' + string + '"';
    }
    function str(key, holder) {
      var i;
      var k;
      var v;
      var length;
      var mind = gap;
      var partial;
      var value = holder[key];
      if (value && typeof value === "object" && typeof value.toJSON === "function") {
        value = value.toJSON(key);
      }
      if (typeof rep === "function") {
        value = rep.call(holder, key, value);
      }
      switch (typeof value) {
        case "string":
          return quote(value);
        case "number":
          return isFinite(value) ? String(value) : "null";
        case "boolean":
        case "null":
          return String(value);
        case "object":
          if (!value) {
            return "null";
          }
          gap += indent;
          partial = [];
          if (Object.prototype.toString.apply(value) === "[object Array]") {
            length = value.length;
            for (i = 0; i < length; i += 1) {
              partial[i] = str(i, value) || "null";
            }
            v = partial.length === 0 ? "[]" : gap ? "[\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "]" : "[" + partial.join(",") + "]";
            gap = mind;
            return v;
          }
          if (rep && typeof rep === "object") {
            length = rep.length;
            for (i = 0; i < length; i += 1) {
              k = rep[i];
              if (typeof k === "string") {
                v = str(k, value);
                if (v) {
                  partial.push(quote(k) + (gap ? ": " : ":") + v);
                }
              }
            }
          } else {
            for (k in value) {
              if (Object.prototype.hasOwnProperty.call(value, k)) {
                v = str(k, value);
                if (v) {
                  partial.push(quote(k) + (gap ? ": " : ":") + v);
                }
              }
            }
          }
          v = partial.length === 0 ? "{}" : gap ? "{\n" + gap + partial.join(",\n" + gap) + "\n" + mind + "}" : "{" + partial.join(",") + "}";
          gap = mind;
          return v;
        default:
      }
    }
    module2.exports = function(value, replacer, space) {
      var i;
      gap = "";
      indent = "";
      if (typeof space === "number") {
        for (i = 0; i < space; i += 1) {
          indent += " ";
        }
      } else if (typeof space === "string") {
        indent = space;
      }
      rep = replacer;
      if (replacer && typeof replacer !== "function" && (typeof replacer !== "object" || typeof replacer.length !== "number")) {
        throw new Error("JSON.stringify");
      }
      return str("", { "": value });
    };
  }
});

// node_modules/jsonify/index.js
var require_jsonify = __commonJS({
  "node_modules/jsonify/index.js"(exports) {
    "use strict";
    exports.parse = require_parse();
    exports.stringify = require_stringify();
  }
});

// node_modules/isarray/index.js
var require_isarray = __commonJS({
  "node_modules/isarray/index.js"(exports, module2) {
    var toString = {}.toString;
    module2.exports = Array.isArray || function(arr) {
      return toString.call(arr) == "[object Array]";
    };
  }
});

// node_modules/object-keys/isArguments.js
var require_isArguments = __commonJS({
  "node_modules/object-keys/isArguments.js"(exports, module2) {
    "use strict";
    var toStr = Object.prototype.toString;
    module2.exports = function isArguments(value) {
      var str = toStr.call(value);
      var isArgs = str === "[object Arguments]";
      if (!isArgs) {
        isArgs = str !== "[object Array]" && value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && toStr.call(value.callee) === "[object Function]";
      }
      return isArgs;
    };
  }
});

// node_modules/object-keys/implementation.js
var require_implementation = __commonJS({
  "node_modules/object-keys/implementation.js"(exports, module2) {
    "use strict";
    var keysShim;
    if (!Object.keys) {
      has = Object.prototype.hasOwnProperty;
      toStr = Object.prototype.toString;
      isArgs = require_isArguments();
      isEnumerable = Object.prototype.propertyIsEnumerable;
      hasDontEnumBug = !isEnumerable.call({ toString: null }, "toString");
      hasProtoEnumBug = isEnumerable.call(function() {
      }, "prototype");
      dontEnums = [
        "toString",
        "toLocaleString",
        "valueOf",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "constructor"
      ];
      equalsConstructorPrototype = function(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };
      excludedKeys = {
        $applicationCache: true,
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $onmozfullscreenchange: true,
        $onmozfullscreenerror: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };
      hasAutomationEqualityBug = function() {
        if (typeof window === "undefined") {
          return false;
        }
        for (var k in window) {
          try {
            if (!excludedKeys["$" + k] && has.call(window, k) && window[k] !== null && typeof window[k] === "object") {
              try {
                equalsConstructorPrototype(window[k]);
              } catch (e) {
                return true;
              }
            }
          } catch (e) {
            return true;
          }
        }
        return false;
      }();
      equalsConstructorPrototypeIfNotBuggy = function(o) {
        if (typeof window === "undefined" || !hasAutomationEqualityBug) {
          return equalsConstructorPrototype(o);
        }
        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };
      keysShim = function keys(object) {
        var isObject = object !== null && typeof object === "object";
        var isFunction = toStr.call(object) === "[object Function]";
        var isArguments = isArgs(object);
        var isString = isObject && toStr.call(object) === "[object String]";
        var theKeys = [];
        if (!isObject && !isFunction && !isArguments) {
          throw new TypeError("Object.keys called on a non-object");
        }
        var skipProto = hasProtoEnumBug && isFunction;
        if (isString && object.length > 0 && !has.call(object, 0)) {
          for (var i = 0; i < object.length; ++i) {
            theKeys.push(String(i));
          }
        }
        if (isArguments && object.length > 0) {
          for (var j = 0; j < object.length; ++j) {
            theKeys.push(String(j));
          }
        } else {
          for (var name in object) {
            if (!(skipProto && name === "prototype") && has.call(object, name)) {
              theKeys.push(String(name));
            }
          }
        }
        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
          for (var k = 0; k < dontEnums.length; ++k) {
            if (!(skipConstructor && dontEnums[k] === "constructor") && has.call(object, dontEnums[k])) {
              theKeys.push(dontEnums[k]);
            }
          }
        }
        return theKeys;
      };
    }
    var has;
    var toStr;
    var isArgs;
    var isEnumerable;
    var hasDontEnumBug;
    var hasProtoEnumBug;
    var dontEnums;
    var equalsConstructorPrototype;
    var excludedKeys;
    var hasAutomationEqualityBug;
    var equalsConstructorPrototypeIfNotBuggy;
    module2.exports = keysShim;
  }
});

// node_modules/object-keys/index.js
var require_object_keys = __commonJS({
  "node_modules/object-keys/index.js"(exports, module2) {
    "use strict";
    var slice = Array.prototype.slice;
    var isArgs = require_isArguments();
    var origKeys = Object.keys;
    var keysShim = origKeys ? function keys(o) {
      return origKeys(o);
    } : require_implementation();
    var originalKeys = Object.keys;
    keysShim.shim = function shimObjectKeys() {
      if (Object.keys) {
        var keysWorksWithArguments = function() {
          var args = Object.keys(arguments);
          return args && args.length === arguments.length;
        }(1, 2);
        if (!keysWorksWithArguments) {
          Object.keys = function keys(object) {
            if (isArgs(object)) {
              return originalKeys(slice.call(object));
            }
            return originalKeys(object);
          };
        }
      } else {
        Object.keys = keysShim;
      }
      return Object.keys || keysShim;
    };
    module2.exports = keysShim;
  }
});

// node_modules/es-object-atoms/index.js
var require_es_object_atoms = __commonJS({
  "node_modules/es-object-atoms/index.js"(exports, module2) {
    "use strict";
    module2.exports = Object;
  }
});

// node_modules/es-errors/index.js
var require_es_errors = __commonJS({
  "node_modules/es-errors/index.js"(exports, module2) {
    "use strict";
    module2.exports = Error;
  }
});

// node_modules/es-errors/eval.js
var require_eval = __commonJS({
  "node_modules/es-errors/eval.js"(exports, module2) {
    "use strict";
    module2.exports = EvalError;
  }
});

// node_modules/es-errors/range.js
var require_range = __commonJS({
  "node_modules/es-errors/range.js"(exports, module2) {
    "use strict";
    module2.exports = RangeError;
  }
});

// node_modules/es-errors/ref.js
var require_ref = __commonJS({
  "node_modules/es-errors/ref.js"(exports, module2) {
    "use strict";
    module2.exports = ReferenceError;
  }
});

// node_modules/es-errors/syntax.js
var require_syntax = __commonJS({
  "node_modules/es-errors/syntax.js"(exports, module2) {
    "use strict";
    module2.exports = SyntaxError;
  }
});

// node_modules/es-errors/type.js
var require_type = __commonJS({
  "node_modules/es-errors/type.js"(exports, module2) {
    "use strict";
    module2.exports = TypeError;
  }
});

// node_modules/es-errors/uri.js
var require_uri = __commonJS({
  "node_modules/es-errors/uri.js"(exports, module2) {
    "use strict";
    module2.exports = URIError;
  }
});

// node_modules/math-intrinsics/abs.js
var require_abs = __commonJS({
  "node_modules/math-intrinsics/abs.js"(exports, module2) {
    "use strict";
    module2.exports = Math.abs;
  }
});

// node_modules/math-intrinsics/floor.js
var require_floor = __commonJS({
  "node_modules/math-intrinsics/floor.js"(exports, module2) {
    "use strict";
    module2.exports = Math.floor;
  }
});

// node_modules/math-intrinsics/max.js
var require_max = __commonJS({
  "node_modules/math-intrinsics/max.js"(exports, module2) {
    "use strict";
    module2.exports = Math.max;
  }
});

// node_modules/math-intrinsics/min.js
var require_min = __commonJS({
  "node_modules/math-intrinsics/min.js"(exports, module2) {
    "use strict";
    module2.exports = Math.min;
  }
});

// node_modules/math-intrinsics/pow.js
var require_pow = __commonJS({
  "node_modules/math-intrinsics/pow.js"(exports, module2) {
    "use strict";
    module2.exports = Math.pow;
  }
});

// node_modules/math-intrinsics/round.js
var require_round = __commonJS({
  "node_modules/math-intrinsics/round.js"(exports, module2) {
    "use strict";
    module2.exports = Math.round;
  }
});

// node_modules/math-intrinsics/isNaN.js
var require_isNaN = __commonJS({
  "node_modules/math-intrinsics/isNaN.js"(exports, module2) {
    "use strict";
    module2.exports = Number.isNaN || function isNaN2(a) {
      return a !== a;
    };
  }
});

// node_modules/math-intrinsics/sign.js
var require_sign = __commonJS({
  "node_modules/math-intrinsics/sign.js"(exports, module2) {
    "use strict";
    var $isNaN = require_isNaN();
    module2.exports = function sign(number) {
      if ($isNaN(number) || number === 0) {
        return number;
      }
      return number < 0 ? -1 : 1;
    };
  }
});

// node_modules/gopd/gOPD.js
var require_gOPD = __commonJS({
  "node_modules/gopd/gOPD.js"(exports, module2) {
    "use strict";
    module2.exports = Object.getOwnPropertyDescriptor;
  }
});

// node_modules/gopd/index.js
var require_gopd = __commonJS({
  "node_modules/gopd/index.js"(exports, module2) {
    "use strict";
    var $gOPD = require_gOPD();
    if ($gOPD) {
      try {
        $gOPD([], "length");
      } catch (e) {
        $gOPD = null;
      }
    }
    module2.exports = $gOPD;
  }
});

// node_modules/es-define-property/index.js
var require_es_define_property = __commonJS({
  "node_modules/es-define-property/index.js"(exports, module2) {
    "use strict";
    var $defineProperty = Object.defineProperty || false;
    if ($defineProperty) {
      try {
        $defineProperty({}, "a", { value: 1 });
      } catch (e) {
        $defineProperty = false;
      }
    }
    module2.exports = $defineProperty;
  }
});

// node_modules/has-symbols/shams.js
var require_shams = __commonJS({
  "node_modules/has-symbols/shams.js"(exports, module2) {
    "use strict";
    module2.exports = function hasSymbols() {
      if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
        return false;
      }
      if (typeof Symbol.iterator === "symbol") {
        return true;
      }
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if (typeof sym === "string") {
        return false;
      }
      if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
        return false;
      }
      if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
        return false;
      }
      var symVal = 42;
      obj[sym] = symVal;
      for (var _ in obj) {
        return false;
      }
      if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
        return false;
      }
      if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
        return false;
      }
      var syms = Object.getOwnPropertySymbols(obj);
      if (syms.length !== 1 || syms[0] !== sym) {
        return false;
      }
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
        return false;
      }
      if (typeof Object.getOwnPropertyDescriptor === "function") {
        var descriptor = (
          /** @type {PropertyDescriptor} */
          Object.getOwnPropertyDescriptor(obj, sym)
        );
        if (descriptor.value !== symVal || descriptor.enumerable !== true) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/has-symbols/index.js
var require_has_symbols = __commonJS({
  "node_modules/has-symbols/index.js"(exports, module2) {
    "use strict";
    var origSymbol = typeof Symbol !== "undefined" && Symbol;
    var hasSymbolSham = require_shams();
    module2.exports = function hasNativeSymbols() {
      if (typeof origSymbol !== "function") {
        return false;
      }
      if (typeof Symbol !== "function") {
        return false;
      }
      if (typeof origSymbol("foo") !== "symbol") {
        return false;
      }
      if (typeof Symbol("bar") !== "symbol") {
        return false;
      }
      return hasSymbolSham();
    };
  }
});

// node_modules/get-proto/Reflect.getPrototypeOf.js
var require_Reflect_getPrototypeOf = __commonJS({
  "node_modules/get-proto/Reflect.getPrototypeOf.js"(exports, module2) {
    "use strict";
    module2.exports = typeof Reflect !== "undefined" && Reflect.getPrototypeOf || null;
  }
});

// node_modules/get-proto/Object.getPrototypeOf.js
var require_Object_getPrototypeOf = __commonJS({
  "node_modules/get-proto/Object.getPrototypeOf.js"(exports, module2) {
    "use strict";
    var $Object = require_es_object_atoms();
    module2.exports = $Object.getPrototypeOf || null;
  }
});

// node_modules/function-bind/implementation.js
var require_implementation2 = __commonJS({
  "node_modules/function-bind/implementation.js"(exports, module2) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var toStr = Object.prototype.toString;
    var max = Math.max;
    var funcType = "[object Function]";
    var concatty = function concatty2(a, b) {
      var arr = [];
      for (var i = 0; i < a.length; i += 1) {
        arr[i] = a[i];
      }
      for (var j = 0; j < b.length; j += 1) {
        arr[j + a.length] = b[j];
      }
      return arr;
    };
    var slicy = function slicy2(arrLike, offset) {
      var arr = [];
      for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {
        arr[j] = arrLike[i];
      }
      return arr;
    };
    var joiny = function(arr, joiner) {
      var str = "";
      for (var i = 0; i < arr.length; i += 1) {
        str += arr[i];
        if (i + 1 < arr.length) {
          str += joiner;
        }
      }
      return str;
    };
    module2.exports = function bind(that) {
      var target = this;
      if (typeof target !== "function" || toStr.apply(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
      }
      var args = slicy(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(
            this,
            concatty(args, arguments)
          );
          if (Object(result) === result) {
            return result;
          }
          return this;
        }
        return target.apply(
          that,
          concatty(args, arguments)
        );
      };
      var boundLength = max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) {
        boundArgs[i] = "$" + i;
      }
      bound = Function("binder", "return function (" + joiny(boundArgs, ",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty2() {
        };
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }
});

// node_modules/function-bind/index.js
var require_function_bind = __commonJS({
  "node_modules/function-bind/index.js"(exports, module2) {
    "use strict";
    var implementation = require_implementation2();
    module2.exports = Function.prototype.bind || implementation;
  }
});

// node_modules/call-bind-apply-helpers/functionCall.js
var require_functionCall = __commonJS({
  "node_modules/call-bind-apply-helpers/functionCall.js"(exports, module2) {
    "use strict";
    module2.exports = Function.prototype.call;
  }
});

// node_modules/call-bind-apply-helpers/functionApply.js
var require_functionApply = __commonJS({
  "node_modules/call-bind-apply-helpers/functionApply.js"(exports, module2) {
    "use strict";
    module2.exports = Function.prototype.apply;
  }
});

// node_modules/call-bind-apply-helpers/reflectApply.js
var require_reflectApply = __commonJS({
  "node_modules/call-bind-apply-helpers/reflectApply.js"(exports, module2) {
    "use strict";
    module2.exports = typeof Reflect !== "undefined" && Reflect && Reflect.apply;
  }
});

// node_modules/call-bind-apply-helpers/actualApply.js
var require_actualApply = __commonJS({
  "node_modules/call-bind-apply-helpers/actualApply.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var $apply = require_functionApply();
    var $call = require_functionCall();
    var $reflectApply = require_reflectApply();
    module2.exports = $reflectApply || bind.call($call, $apply);
  }
});

// node_modules/call-bind-apply-helpers/index.js
var require_call_bind_apply_helpers = __commonJS({
  "node_modules/call-bind-apply-helpers/index.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var $TypeError = require_type();
    var $call = require_functionCall();
    var $actualApply = require_actualApply();
    module2.exports = function callBindBasic(args) {
      if (args.length < 1 || typeof args[0] !== "function") {
        throw new $TypeError("a function is required");
      }
      return $actualApply(bind, $call, args);
    };
  }
});

// node_modules/dunder-proto/get.js
var require_get = __commonJS({
  "node_modules/dunder-proto/get.js"(exports, module2) {
    "use strict";
    var callBind = require_call_bind_apply_helpers();
    var gOPD = require_gopd();
    var hasProtoAccessor;
    try {
      hasProtoAccessor = /** @type {{ __proto__?: typeof Array.prototype }} */
      [].__proto__ === Array.prototype;
    } catch (e) {
      if (!e || typeof e !== "object" || !("code" in e) || e.code !== "ERR_PROTO_ACCESS") {
        throw e;
      }
    }
    var desc = !!hasProtoAccessor && gOPD && gOPD(
      Object.prototype,
      /** @type {keyof typeof Object.prototype} */
      "__proto__"
    );
    var $Object = Object;
    var $getPrototypeOf = $Object.getPrototypeOf;
    module2.exports = desc && typeof desc.get === "function" ? callBind([desc.get]) : typeof $getPrototypeOf === "function" ? (
      /** @type {import('./get')} */
      function getDunder(value) {
        return $getPrototypeOf(value == null ? value : $Object(value));
      }
    ) : false;
  }
});

// node_modules/get-proto/index.js
var require_get_proto = __commonJS({
  "node_modules/get-proto/index.js"(exports, module2) {
    "use strict";
    var reflectGetProto = require_Reflect_getPrototypeOf();
    var originalGetProto = require_Object_getPrototypeOf();
    var getDunderProto = require_get();
    module2.exports = reflectGetProto ? function getProto(O) {
      return reflectGetProto(O);
    } : originalGetProto ? function getProto(O) {
      if (!O || typeof O !== "object" && typeof O !== "function") {
        throw new TypeError("getProto: not an object");
      }
      return originalGetProto(O);
    } : getDunderProto ? function getProto(O) {
      return getDunderProto(O);
    } : null;
  }
});

// node_modules/hasown/index.js
var require_hasown = __commonJS({
  "node_modules/hasown/index.js"(exports, module2) {
    "use strict";
    var call = Function.prototype.call;
    var $hasOwn = Object.prototype.hasOwnProperty;
    var bind = require_function_bind();
    module2.exports = bind.call(call, $hasOwn);
  }
});

// node_modules/get-intrinsic/index.js
var require_get_intrinsic = __commonJS({
  "node_modules/get-intrinsic/index.js"(exports, module2) {
    "use strict";
    var undefined2;
    var $Object = require_es_object_atoms();
    var $Error = require_es_errors();
    var $EvalError = require_eval();
    var $RangeError = require_range();
    var $ReferenceError = require_ref();
    var $SyntaxError = require_syntax();
    var $TypeError = require_type();
    var $URIError = require_uri();
    var abs = require_abs();
    var floor = require_floor();
    var max = require_max();
    var min = require_min();
    var pow = require_pow();
    var round = require_round();
    var sign = require_sign();
    var $Function = Function;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e) {
      }
    };
    var $gOPD = require_gopd();
    var $defineProperty = require_es_define_property();
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require_has_symbols()();
    var getProto = require_get_proto();
    var $ObjectGPO = require_Object_getPrototypeOf();
    var $ReflectGPO = require_Reflect_getPrototypeOf();
    var $apply = require_functionApply();
    var $call = require_functionCall();
    var needsEval = {};
    var TypedArray = typeof Uint8Array === "undefined" || !getProto ? undefined2 : getProto(Uint8Array);
    var INTRINSICS = {
      __proto__: null,
      "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined2,
      "%AsyncFromSyncIteratorPrototype%": undefined2,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
      "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
      "%BigInt64Array%": typeof BigInt64Array === "undefined" ? undefined2 : BigInt64Array,
      "%BigUint64Array%": typeof BigUint64Array === "undefined" ? undefined2 : BigUint64Array,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": $Error,
      "%eval%": eval,
      // eslint-disable-line no-eval
      "%EvalError%": $EvalError,
      "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
      "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
      "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
      "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
      "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined2,
      "%JSON%": typeof JSON === "object" ? JSON : undefined2,
      "%Map%": typeof Map === "undefined" ? undefined2 : Map,
      "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Map())[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": $Object,
      "%Object.getOwnPropertyDescriptor%": $gOPD,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
      "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
      "%RangeError%": $RangeError,
      "%ReferenceError%": $ReferenceError,
      "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set === "undefined" ? undefined2 : Set,
      "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Set())[Symbol.iterator]()),
      "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols && getProto ? getProto(""[Symbol.iterator]()) : undefined2,
      "%Symbol%": hasSymbols ? Symbol : undefined2,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
      "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
      "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
      "%URIError%": $URIError,
      "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
      "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
      "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet,
      "%Function.prototype.call%": $call,
      "%Function.prototype.apply%": $apply,
      "%Object.defineProperty%": $defineProperty,
      "%Object.getPrototypeOf%": $ObjectGPO,
      "%Math.abs%": abs,
      "%Math.floor%": floor,
      "%Math.max%": max,
      "%Math.min%": min,
      "%Math.pow%": pow,
      "%Math.round%": round,
      "%Math.sign%": sign,
      "%Reflect.getPrototypeOf%": $ReflectGPO
    };
    if (getProto) {
      try {
        null.error;
      } catch (e) {
        errorProto = getProto(getProto(e));
        INTRINSICS["%Error.prototype%"] = errorProto;
      }
    }
    var errorProto;
    var doEval = function doEval2(name) {
      var value;
      if (name === "%AsyncFunction%") {
        value = getEvalledConstructor("async function () {}");
      } else if (name === "%GeneratorFunction%") {
        value = getEvalledConstructor("function* () {}");
      } else if (name === "%AsyncGeneratorFunction%") {
        value = getEvalledConstructor("async function* () {}");
      } else if (name === "%AsyncGenerator%") {
        var fn = doEval2("%AsyncGeneratorFunction%");
        if (fn) {
          value = fn.prototype;
        }
      } else if (name === "%AsyncIteratorPrototype%") {
        var gen = doEval2("%AsyncGenerator%");
        if (gen && getProto) {
          value = getProto(gen.prototype);
        }
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      __proto__: null,
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"]
    };
    var bind = require_function_bind();
    var hasOwn = require_hasown();
    var $concat = bind.call($call, Array.prototype.concat);
    var $spliceApply = bind.call($apply, Array.prototype.splice);
    var $replace = bind.call($call, String.prototype.replace);
    var $strSlice = bind.call($call, String.prototype.slice);
    var $exec = bind.call($call, RegExp.prototype.exec);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath2(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if (first === "%" && last !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      } else if (last === "%" && first !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      }
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        if (value === needsEval) {
          value = doEval(intrinsicName);
        }
        if (typeof value === "undefined" && !allowMissing) {
          throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        }
        return {
          alias,
          name: intrinsicName,
          value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module2.exports = function GetIntrinsic(name, allowMissing) {
      if (typeof name !== "string" || name.length === 0) {
        throw new $TypeError("intrinsic name must be a non-empty string");
      }
      if (arguments.length > 1 && typeof allowMissing !== "boolean") {
        throw new $TypeError('"allowMissing" argument must be a boolean');
      }
      if ($exec(/^%?[^%]*%?$/, name) === null) {
        throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
      }
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([0, 1], alias));
      }
      for (var i = 1, isOwn = true; i < parts.length; i += 1) {
        var part = parts[i];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
          throw new $SyntaxError("property names with quotes must have matching quotes");
        }
        if (part === "constructor" || !isOwn) {
          skipFurtherCaching = true;
        }
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) {
          value = INTRINSICS[intrinsicRealName];
        } else if (value != null) {
          if (!(part in value)) {
            if (!allowMissing) {
              throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            }
            return void 0;
          }
          if ($gOPD && i + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
              value = desc.get;
            } else {
              value = value[part];
            }
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          if (isOwn && !skipFurtherCaching) {
            INTRINSICS[intrinsicRealName] = value;
          }
        }
      }
      return value;
    };
  }
});

// node_modules/define-data-property/index.js
var require_define_data_property = __commonJS({
  "node_modules/define-data-property/index.js"(exports, module2) {
    "use strict";
    var $defineProperty = require_es_define_property();
    var $SyntaxError = require_syntax();
    var $TypeError = require_type();
    var gopd = require_gopd();
    module2.exports = function defineDataProperty(obj, property, value) {
      if (!obj || typeof obj !== "object" && typeof obj !== "function") {
        throw new $TypeError("`obj` must be an object or a function`");
      }
      if (typeof property !== "string" && typeof property !== "symbol") {
        throw new $TypeError("`property` must be a string or a symbol`");
      }
      if (arguments.length > 3 && typeof arguments[3] !== "boolean" && arguments[3] !== null) {
        throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 4 && typeof arguments[4] !== "boolean" && arguments[4] !== null) {
        throw new $TypeError("`nonWritable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 5 && typeof arguments[5] !== "boolean" && arguments[5] !== null) {
        throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 6 && typeof arguments[6] !== "boolean") {
        throw new $TypeError("`loose`, if provided, must be a boolean");
      }
      var nonEnumerable = arguments.length > 3 ? arguments[3] : null;
      var nonWritable = arguments.length > 4 ? arguments[4] : null;
      var nonConfigurable = arguments.length > 5 ? arguments[5] : null;
      var loose = arguments.length > 6 ? arguments[6] : false;
      var desc = !!gopd && gopd(obj, property);
      if ($defineProperty) {
        $defineProperty(obj, property, {
          configurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,
          enumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,
          value,
          writable: nonWritable === null && desc ? desc.writable : !nonWritable
        });
      } else if (loose || !nonEnumerable && !nonWritable && !nonConfigurable) {
        obj[property] = value;
      } else {
        throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
      }
    };
  }
});

// node_modules/has-property-descriptors/index.js
var require_has_property_descriptors = __commonJS({
  "node_modules/has-property-descriptors/index.js"(exports, module2) {
    "use strict";
    var $defineProperty = require_es_define_property();
    var hasPropertyDescriptors = function hasPropertyDescriptors2() {
      return !!$defineProperty;
    };
    hasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {
      if (!$defineProperty) {
        return null;
      }
      try {
        return $defineProperty([], "length", { value: 1 }).length !== 1;
      } catch (e) {
        return true;
      }
    };
    module2.exports = hasPropertyDescriptors;
  }
});

// node_modules/set-function-length/index.js
var require_set_function_length = __commonJS({
  "node_modules/set-function-length/index.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var define = require_define_data_property();
    var hasDescriptors = require_has_property_descriptors()();
    var gOPD = require_gopd();
    var $TypeError = require_type();
    var $floor = GetIntrinsic("%Math.floor%");
    module2.exports = function setFunctionLength(fn, length) {
      if (typeof fn !== "function") {
        throw new $TypeError("`fn` is not a function");
      }
      if (typeof length !== "number" || length < 0 || length > 4294967295 || $floor(length) !== length) {
        throw new $TypeError("`length` must be a positive 32-bit integer");
      }
      var loose = arguments.length > 2 && !!arguments[2];
      var functionLengthIsConfigurable = true;
      var functionLengthIsWritable = true;
      if ("length" in fn && gOPD) {
        var desc = gOPD(fn, "length");
        if (desc && !desc.configurable) {
          functionLengthIsConfigurable = false;
        }
        if (desc && !desc.writable) {
          functionLengthIsWritable = false;
        }
      }
      if (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {
        if (hasDescriptors) {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "length",
            length,
            true,
            true
          );
        } else {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "length",
            length
          );
        }
      }
      return fn;
    };
  }
});

// node_modules/call-bind-apply-helpers/applyBind.js
var require_applyBind = __commonJS({
  "node_modules/call-bind-apply-helpers/applyBind.js"(exports, module2) {
    "use strict";
    var bind = require_function_bind();
    var $apply = require_functionApply();
    var actualApply = require_actualApply();
    module2.exports = function applyBind() {
      return actualApply(bind, $apply, arguments);
    };
  }
});

// node_modules/call-bind/index.js
var require_call_bind = __commonJS({
  "node_modules/call-bind/index.js"(exports, module2) {
    "use strict";
    var setFunctionLength = require_set_function_length();
    var $defineProperty = require_es_define_property();
    var callBindBasic = require_call_bind_apply_helpers();
    var applyBind = require_applyBind();
    module2.exports = function callBind(originalFunction) {
      var func = callBindBasic(arguments);
      var adjustedLength = originalFunction.length - (arguments.length - 1);
      return setFunctionLength(
        func,
        1 + (adjustedLength > 0 ? adjustedLength : 0),
        true
      );
    };
    if ($defineProperty) {
      $defineProperty(module2.exports, "apply", { value: applyBind });
    } else {
      module2.exports.apply = applyBind;
    }
  }
});

// node_modules/call-bound/index.js
var require_call_bound = __commonJS({
  "node_modules/call-bound/index.js"(exports, module2) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBindBasic = require_call_bind_apply_helpers();
    var $indexOf = callBindBasic([GetIntrinsic("%String.prototype.indexOf%")]);
    module2.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = (
        /** @type {Parameters<typeof callBindBasic>[0][0]} */
        GetIntrinsic(name, !!allowMissing)
      );
      if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
        return callBindBasic([intrinsic]);
      }
      return intrinsic;
    };
  }
});

// node_modules/json-stable-stringify/index.js
var require_json_stable_stringify = __commonJS({
  "node_modules/json-stable-stringify/index.js"(exports, module2) {
    "use strict";
    var jsonStringify = (typeof JSON !== "undefined" ? JSON : require_jsonify()).stringify;
    var isArray = require_isarray();
    var objectKeys = require_object_keys();
    var callBind = require_call_bind();
    var callBound = require_call_bound();
    var $join = callBound("Array.prototype.join");
    var $indexOf = callBound("Array.prototype.indexOf");
    var $splice = callBound("Array.prototype.splice");
    var $sort = callBound("Array.prototype.sort");
    var strRepeat = function repeat(n, char) {
      var str = "";
      for (var i = 0; i < n; i += 1) {
        str += char;
      }
      return str;
    };
    var defaultReplacer = function(_parent, _key, value) {
      return value;
    };
    module2.exports = function stableStringify(obj) {
      var opts = arguments.length > 1 ? arguments[1] : void 0;
      var space = opts && opts.space || "";
      if (typeof space === "number") {
        space = strRepeat(space, " ");
      }
      var cycles = !!opts && typeof opts.cycles === "boolean" && opts.cycles;
      var replacer = opts && opts.replacer ? callBind(opts.replacer) : defaultReplacer;
      var cmpOpt = typeof opts === "function" ? opts : opts && opts.cmp;
      var cmp = cmpOpt && function(node) {
        var get = (
          /** @type {NonNullable<typeof cmpOpt>} */
          cmpOpt.length > 2 && /** @type {import('.').Getter['get']} */
          function get2(k) {
            return node[k];
          }
        );
        return function(a, b) {
          return (
            /** @type {NonNullable<typeof cmpOpt>} */
            cmpOpt(
              { key: a, value: node[a] },
              { key: b, value: node[b] },
              // @ts-expect-error TS doesn't understand the optimization used here
              get ? (
                /** @type {import('.').Getter} */
                { __proto__: null, get }
              ) : void 0
            )
          );
        };
      };
      var seen = [];
      return (
        /** @type {(parent: import('.').Node, key: string | number, node: unknown, level: number) => string | undefined} */
        function stringify(parent, key, node, level) {
          var indent = space ? "\n" + strRepeat(level, space) : "";
          var colonSeparator = space ? ": " : ":";
          if (node && /** @type {{ toJSON?: unknown }} */
          node.toJSON && typeof /** @type {{ toJSON?: unknown }} */
          node.toJSON === "function") {
            node = /** @type {{ toJSON: Function }} */
            node.toJSON();
          }
          node = replacer(parent, key, node);
          if (node === void 0) {
            return;
          }
          if (typeof node !== "object" || node === null) {
            return jsonStringify(node);
          }
          if (isArray(node)) {
            var out = [];
            for (var i = 0; i < node.length; i++) {
              var item = stringify(node, i, node[i], level + 1) || jsonStringify(null);
              out[out.length] = indent + space + item;
            }
            return "[" + $join(out, ",") + indent + "]";
          }
          if ($indexOf(seen, node) !== -1) {
            if (cycles) {
              return jsonStringify("__cycle__");
            }
            throw new TypeError("Converting circular structure to JSON");
          } else {
            seen[seen.length] = /** @type {import('.').NonArrayNode} */
            node;
          }
          var keys = $sort(objectKeys(node), cmp && cmp(
            /** @type {import('.').NonArrayNode} */
            node
          ));
          var out = [];
          for (var i = 0; i < keys.length; i++) {
            var key = keys[i];
            var value = stringify(
              /** @type {import('.').Node} */
              node,
              key,
              /** @type {import('.').NonArrayNode} */
              node[key],
              level + 1
            );
            if (!value) {
              continue;
            }
            var keyValue = jsonStringify(key) + colonSeparator + value;
            out[out.length] = indent + space + keyValue;
          }
          $splice(seen, $indexOf(seen, node), 1);
          return "{" + $join(out, ",") + indent + "}";
        }({ "": obj }, "", obj, 0)
      );
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AdvancedCanvasPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian12 = require("obsidian");

// src/quicksettings.ts
var import_obsidian2 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");

// src/canvas-extensions/advanced-styles/style-config.ts
var BUILTIN_NODE_STYLE_ATTRIBUTES = [
  {
    datasetKey: "textAlign",
    label: "Text Alignment",
    nodeTypes: ["text"],
    options: [
      {
        icon: "align-left",
        label: "Left",
        value: null
      },
      {
        icon: "align-center",
        label: "Center",
        value: "center"
      },
      {
        icon: "align-right",
        label: "Right",
        value: "right"
      }
    ]
  },
  {
    datasetKey: "shape",
    label: "Shape",
    nodeTypes: ["text"],
    options: [
      {
        icon: "rectangle-horizontal",
        label: "Round Rectangle",
        value: null
      },
      {
        icon: "shape-pill",
        label: "Pill",
        value: "pill"
      },
      {
        icon: "diamond",
        label: "Diamond",
        value: "diamond"
      },
      {
        icon: "shape-parallelogram",
        label: "Parallelogram",
        value: "parallelogram"
      },
      {
        icon: "circle",
        label: "Circle",
        value: "circle"
      },
      {
        icon: "shape-predefined-process",
        label: "Predefined Process",
        value: "predefined-process"
      },
      {
        icon: "shape-document",
        label: "Document",
        value: "document"
      },
      {
        icon: "shape-database",
        label: "Database",
        value: "database"
      }
    ]
  },
  {
    datasetKey: "border",
    label: "Border",
    options: [
      {
        icon: "border-solid",
        label: "Solid",
        value: null
      },
      {
        icon: "border-dashed",
        label: "Dashed",
        value: "dashed"
      },
      {
        icon: "border-dotted",
        label: "Dotted",
        value: "dotted"
      },
      {
        icon: "eye-off",
        label: "Invisible",
        value: "invisible"
      }
    ]
  }
];
var BUILTIN_EDGE_STYLE_ATTRIBUTES = [
  {
    datasetKey: "path",
    label: "Path Style",
    options: [
      {
        icon: "path-solid",
        label: "Solid",
        value: null
      },
      {
        icon: "path-dotted",
        label: "Dotted",
        value: "dotted"
      },
      {
        icon: "path-short-dashed",
        label: "Short Dashed",
        value: "short-dashed"
      },
      {
        icon: "path-long-dashed",
        label: "Long Dashed",
        value: "long-dashed"
      }
    ]
  },
  {
    datasetKey: "arrow",
    label: "Arrow Style",
    options: [
      {
        icon: "arrow-triangle",
        label: "Triangle",
        value: null
      },
      {
        icon: "arrow-triangle-outline",
        label: "Triangle Outline",
        value: "triangle-outline"
      },
      {
        icon: "arrow-thin-triangle",
        label: "Thin Triangle",
        value: "thin-triangle"
      },
      {
        icon: "arrow-halved-triangle",
        label: "Halved Triangle",
        value: "halved-triangle"
      },
      {
        icon: "arrow-diamond",
        label: "Diamond",
        value: "diamond"
      },
      {
        icon: "arrow-diamond-outline",
        label: "Diamond Outline",
        value: "diamond-outline"
      },
      {
        icon: "arrow-circle",
        label: "Circle",
        value: "circle"
      },
      {
        icon: "arrow-circle-outline",
        label: "Circle Outline",
        value: "circle-outline"
      }
    ]
  },
  {
    datasetKey: "pathfindingMethod",
    label: "Pathfinding Method",
    options: [
      {
        icon: "pathfinding-method-bezier",
        label: "Bezier",
        value: null
      },
      {
        icon: "slash",
        label: "Direct",
        value: "direct"
      },
      {
        icon: "pathfinding-method-square",
        label: "Square",
        value: "square"
      },
      {
        icon: "map",
        label: "A*",
        value: "a-star"
      }
    ]
  }
];

// src/events.ts
var CANVAS_EVENT_PREFIX = "canvas";
var PLUGIN_EVENT_PREFIX = "advanced-canvas";
var PluginEvent = {
  SettingsChanged: `${PLUGIN_EVENT_PREFIX}:settings-changed`
};
var CanvasEvent = {
  // Built-in events
  SelectionContextMenu: `${CANVAS_EVENT_PREFIX}:selection-menu`,
  NodeContextMenu: `${CANVAS_EVENT_PREFIX}:node-menu`,
  EdgeContextMenu: `${CANVAS_EVENT_PREFIX}:edge-menu`,
  NodeConnectionDropContextMenu: `${CANVAS_EVENT_PREFIX}:node-connection-drop-menu`,
  // Custom events
  CanvasChanged: `${PLUGIN_EVENT_PREFIX}:canvas-changed`,
  ViewportChanged: {
    Before: `${PLUGIN_EVENT_PREFIX}:viewport-changed:before`,
    After: `${PLUGIN_EVENT_PREFIX}:viewport-changed:after`
  },
  NodeMoved: `${PLUGIN_EVENT_PREFIX}:node-moved`,
  DoubleClick: `${PLUGIN_EVENT_PREFIX}:double-click`,
  DraggingStateChanged: `${PLUGIN_EVENT_PREFIX}:dragging-state-changed`,
  NodeCreated: `${PLUGIN_EVENT_PREFIX}:node-created`,
  EdgeCreated: `${PLUGIN_EVENT_PREFIX}:edge-created`,
  NodeAdded: `${PLUGIN_EVENT_PREFIX}:node-added`,
  EdgeAdded: `${PLUGIN_EVENT_PREFIX}:edge-added`,
  NodeChanged: `${PLUGIN_EVENT_PREFIX}:node-changed`,
  EdgeChanged: `${PLUGIN_EVENT_PREFIX}:edge-changed`,
  NodeTextContentChanged: `${PLUGIN_EVENT_PREFIX}:node-text-content-changed`,
  NodeRemoved: `${PLUGIN_EVENT_PREFIX}:node-removed`,
  EdgeRemoved: `${PLUGIN_EVENT_PREFIX}:edge-removed`,
  OnCopy: `${PLUGIN_EVENT_PREFIX}:copy`,
  NodeEditingStateChanged: `${PLUGIN_EVENT_PREFIX}:node-editing-state-changed`,
  NodeBreakpointChanged: `${PLUGIN_EVENT_PREFIX}:node-breakpoint-changed`,
  NodeBBoxRequested: `${PLUGIN_EVENT_PREFIX}:node-bbox-requested`,
  EdgeCenterRequested: `${PLUGIN_EVENT_PREFIX}:edge-center-requested`,
  ContainingNodesRequested: `${PLUGIN_EVENT_PREFIX}:containing-nodes-requested`,
  SelectionChanged: `${PLUGIN_EVENT_PREFIX}:selection-changed`,
  ZoomToBbox: {
    Before: `${PLUGIN_EVENT_PREFIX}:zoom-to-bbox:before`,
    After: `${PLUGIN_EVENT_PREFIX}:zoom-to-bbox:after`
  },
  PopupMenuCreated: `${PLUGIN_EVENT_PREFIX}:popup-menu-created`,
  NodeInteraction: `${PLUGIN_EVENT_PREFIX}:node-interaction`,
  Undo: `${PLUGIN_EVENT_PREFIX}:undo`,
  Redo: `${PLUGIN_EVENT_PREFIX}:redo`,
  ReadonlyChanged: `${PLUGIN_EVENT_PREFIX}:readonly-changed`,
  DataRequested: `${PLUGIN_EVENT_PREFIX}:data-requested`,
  LoadData: `${PLUGIN_EVENT_PREFIX}:load-data`,
  CanvasSaved: {
    Before: `${PLUGIN_EVENT_PREFIX}:canvas-saved:before`,
    After: `${PLUGIN_EVENT_PREFIX}:canvas-saved:after`
  }
};

// src/canvas-extensions/canvas-extension.ts
var CanvasExtension = class {
  constructor(plugin) {
    this.plugin = plugin;
    const isEnabled = this.isEnabled();
    if (!(isEnabled === true || this.plugin.settings.getSetting(isEnabled)))
      return;
    this.init();
  }
};

// src/canvas-extensions/variable-breakpoint-canvas-extension.ts
var VARIABLE_BREAKPOINT_CSS_VAR = "--variable-breakpoint";
var VariableBreakpointCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "variableBreakpointFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeBreakpointChanged,
      (canvas, node, breakpointRef) => {
        const computedStyle = window.getComputedStyle(node.nodeEl);
        const variableBreakpointString = computedStyle.getPropertyValue(VARIABLE_BREAKPOINT_CSS_VAR);
        if (variableBreakpointString.length === 0)
          return;
        const variableBreakpoint = parseFloat(variableBreakpointString);
        if (isNaN(variableBreakpoint))
          return;
        breakpointRef.value = canvas.zoom > variableBreakpoint;
      }
    ));
  }
};

// src/settings.ts
var README_URL = "https://github.com/Developer-Mike/obsidian-advanced-canvas?tab=readme-ov-file";
var ASK_FOR_DONATION_DELAY = 1e3 * 60 * 60 * 24 * 7;
var SPENT_HOURS = 150;
var RECEIVED_DONATIONS = 234;
var HOURLY_RATE_GOAL = 20;
var KOFI_PAGE_URL = "https://ko-fi.com/X8X27IA08";
var KOFI_BADGE_URI = "data:image/webp;base64,UklGRrosAABXRUJQVlA4TK4sAAAv1wNDEL/CoJEkRXUCbvwrekfM/BYQspGkHsCNw/nbvcAzahtJkue7R/GnubUAykDaNvFv9r2CqU3bgHHKGHIH7H9DeOynEYZHCKFOj1neMfXZ0SmmUzuYgs6P2cH0fjuY11JBq5hO7ejVDqZTnWJ29Op+1twlRYq6rzLHZ6dIkSJFCnjb/mlP41jbjKzG2JjQKAiRUTrz/JCnNasnK3MmnnWm07aORtgyyHpA3/+r2BiOqvpXifW0bRH9h4ZtO9DqlUuZ7LSRz/d9JOv8Ofs/iSZZzKPZdHr9ykynsyheLEGwfD6k6WTvcCZ7h/M/ZfHNZ9ejcOBthqPJLJaMLokmw8DraK6m8fJ/tMJGk5FXbvfL/7NYgjyYXQXEg5nE/zP12uw6GPCaYBQlrD5vRzzHchX9VwTLOJpcj4bhixmOriazeIFImh44snA0mkzni1MR8SQcyJjhZMF1XCPGQwmvk/9qlDKhZ1kyjWFOVvNn0tT7yE5An2AgacIoYQjPflwjQ4IvkyRZxHE8j17MbLpvJtdSZnrARHsmfjHPR7a0rJRBp+liKvEYXp9yHslzZpc31zF1TeYkpfTksYijaPZyuhi9EKPBQJV5Ia1HL6ecaB7Hiigl8fQSXC/gi7HwBKkPitLlWPl/FsgdiZ6TSBw9VyqvhuHAGBM+n12ms7neU0t8hU7TLd8O94qWE26FowTHXomHktQH+tstF9Hs+uqZFjDQBKOraRQvDStmwgi+xhlGJ9ka9sryM+kjeYvLV/ZhQtkY3UQNdzoZs38kVwk8cXqdnJhr4l97DJBpwwTxtclwYKZRy52WSZFv4aucYXRarkmnqxlG/pmBfdyzZ22fPjCj2QIZiyH4mT8ZydGMJxEiplwlna6WVygH8hmUz6BHTHg9hwJIITBjKsckP+qr5cmDxet8he2ZAFWchwm0wMH2qgCkx3IEfuafB8IJ8MRYIHhoAtybYxYhCozqjt1Gl77IQjq1DJcce52Uiz8PDTrUIgA7joU4W9m+NWktQyDMA+wz/wzh2x+dMPhMC2kawB3Hol/j1it8mmGTdMkIhMlzsuiqahIt4S2SIuBeNCOMqN9i19XmMCXM7DTB54HlZG4iWZ/vyZUIxwLUvcHJ0yA5VYL10cJTkzyJArwF4tYSydMTIIwVopO027WvzK5LwfD6iLpUnAnLWJM8bd7u8/3DB617x69O6yepF7/AK93V22Ll7o4aty7KZiePtK0eDh9Stt7WLAfzmYjv6bSywDr6zz3ZgEBeJ8ZbLQLW3F64O5rJ1ts2FfSp1pnfwbjHlqGEwPHtN2mbaGGDVPcGr3V+dpLFv3vJ7UxmXXUiaNekQ3GPHZlX02ucSd1agUsW2zVVuS2Ksmw4ypKRTK0z3e0f2basyUeWnBKWK7Nv3R2vWdWdwBrZUFdGnJzJXjdvBTCmlzJPx0qZFZ2mm7ETIGm9XXGWVtenlU2f/Hw48j/vGsCRzHRrB6Tdntm1B0xTs5n2iOn2jSEii7f0CpsATRckrDZ9WvsmwNPn5c8Z8zr0SrplOxBXi3stxCupXde2dV2VZVEUD+v1yjmX3eGa7PmoVuv1+oXuLav6RdwBUbGOmANRM3smk+JGr5hJwil+6/+3Tk8mW++tga/sWKmQh47ihRpH2rV1VRbF2rk7E8zzGebhpXrbdjp4WiEJFe1MmlWUPzg+YMlnK+Ln7/25BydCAxOGNYA89MSAirmkdTtKOmVQrmYXI5bFwzMZYJjJVutt1e5EQkH4dfRyZt0Rjvu5HONak1nik0BeTj5ZtyuMgq2jouQ/kIrg4KhrdfX2WeRgqFk9VNwyzXAB4Fdnogku+hyjjHGpJyanghoMS0kA7llCHUcMYdP6sGaAqUG3TYqnEBZKp5bMn4ShM1dax1UX7MdNQInoE1JJuSVapGXEYvn4yla/1DIK2oT9HtkqKDshmcYj3+fceP7di97HFZGHtgJL6CnBCpna3xG27b2ZRD9Rb6jFiT4JSJZt6STQvP7y5bxm/QixDFY9l2Aqlp0cp2rH78w4wq/uTDV8KoGimiNjipXJ8XyiVgAWz+UJE3v6TAXrWLqjNWiEdLr0xpyF7dsrZl3zLGL7MOf49UFwiVoBjio8XWLYOcwkzlHgQKTTqb/AgXGtP4JvO/FlhFJlq44DjDxtPQuVXseIT3QCHVl9+DBQ3i/0FjjQ2b79ZDiivhahIxv+qlrK+m4onNt5rweC4owLck2Fs3GWcgYecogR+3rlM+pbgFTZHhm1FVYw5OKsz/2wrBxTtsaUxk8FOJMm7IX8VT/R35TuQpQBLV8cOKXKpMcRErCFTt0PHi6iM/S6IBIvZ7KH3q6WUowZUUsbuV0Aa52706KN6FuSxTbtURfTWYpxJvt7pwWv2wknN0yBbu2FixNEHb2EF/scdTGdyIMzyaAd0POeYcIqM3fyao6ACb48KaIa0yy646EKAxjJxEcRhvwx977nkJPvU0uzVjFTwPaUQKQ5f60pMnOcCuOQLDE/fuR96bnjjnzsHaO4LBQywRd+x3Fq7NOqSNjdwW0Ek3K8MLY/fhVt+eY+LZHQsv0a2N7d++HEcDunK1l3GEdRMTCgIoI1XQsdr3IdJMSkCZFUUqIFpBVPC8XV1CkhRL32hiP+IiZB4sOdeQa1ZQBXM50hXn2pItoTEW9Jb6hjE6tS7egaMW855Ii9GkXHJj1fEFzBTSrTFG+jp10YFqu4nDO/u4N94ZplnxKsr9JP+bMp9s2mPGpqX1OVPmZTvDL5nnHPBm1h6xV4DMjezMiykFMwyFv/QOqqlxmKvI7a7HeMJy/P3Kf7YlNWL72Ne/Uujtsl+u6lG/SX802euwx0uWKoNHXCKWVH11wAk5v3s6te1rR6lUlgqA6/1HRE+x4ka7i8KKtm1w2MMOmubaqyyJ3YQm+nMycQkoAvNKApb8iYC1+bZQ/EAuKHQAnuUFASMQbgTGb5pmq6gV1m12zyDCWykE5dSROShfeJHZRSvGAYm+fkehQeLVnD4ctQV+2+243Q30+ROSCjx90xOOQK00SfNvXhfS0Lytxx65pjlwCyxHG4yT3lbW+yiCZXDBeaGV5ZPGD6yAKNrw4fA7Jb89AHRZ0OTDVdfS8vPw+Wvtsw/FVYie6Kr43wMp7wDuMxGM1iUzH0TY13/YREkCbKG2t82Ppbv+eUYdNy4Rg0aXqRXA+4CW/uNTJ6saFwGt9HYt43kKaJsvII1W/t7o6pD1mqE4AKJBtUGWfNoOm4jOl3xNIHN0Mw9t6np+Dt0tfSge2mzXn6kKU5MSG09I6obXM78oVGDvj0m8fS9wNzKrFTECSW+ZDzQyEMD15whPF3/MocmNP/1qvOCfvKBeAIwsIoMS40govDOO2gIxKkibJmYKmR7XymJTkhKkO38JL84Lb8xxzDo23BR55YacOro0XWhxnSYnY94ctxVWUhr4DwfTkArI8BpnFu56/as5yFiMP9Mbbz01Zda6bDlQ5obYjI1+XqJagHd9oSlN0i2LS54mwXIK8EsHw9hMfeXJnZ0FByffBwsbUhRvzl3dPAToPRrejOv53opR82CHDH1VaB976AHphnGNkpNO/UditQAbNrphSaqKbbfvF0IupuC99YHQQ81SpBe7gO0AffZuX2ozo0B6odwNoQlO2cZHvIpPcSu0yPSy+QhCaQnKRC67D6FjZuO3XoXqf2DFgbgrC9I+3RT2Yj4AQzP1QYgGx03ykeS7oxe8vHjEax57CvDCgaAo+kq0P3lCkFnABYD/IwgxgqtFbPmX3KMLk6VIcKH+z+jeeeyGgFTl+tguTGOwwgtllslQ+13Q7MfUNr3D6wibo9ISjD1H0XiJ9t0/KhBQEgI2mlfiScduiky25jkmz3CCIbQsihHx4Y/v5eimyFcN3cDRYqqB76tJuRFZ6hDduNTPHDXbwn/iKHlJIwe810GfOF7oETZybYM4thpUA4NwELG7YdVjp1HfcrDcHtOVPLyxRTrCS3hrsm7AkQKhLdhk0DrbxLeGXiWcXtV5ennrXW9YqD61f6Xvz+NvaH2rpevR7S7l6HmKnFocYm6K4WQoQlpXjnlpq7vnVZGKMtHVDngBUcXdrJfQttVawy0l02VG1q69sO/ZCx+8ER7Dtxdg2hcejACzuC23+mkt7MkTi1DrhoYhyaJ95QOIPYIql5C+sy5twNYIKKCDyMmiAz70HjhCVUGRC9XsIWTWw32rBiPv+VfGPPnBnUo1qlDE9+PWHiJahkLyRrXWdtM0VfFc/10TXjfRfVskT0DqadEZhfJeCTyQy9bWdg9FMDYn30TKwZGhf2+owQcuWdMk2m5w9/WdlDLVnUVyxogHrUWd1pfYv0SfCIV3Vn3XIJ+QrGBS4qsRiJV8G5ZJUS7cTw5Z+//+HHn25ubn784fs/f8WIr755/+OPz3/tTz++/+Z3XwihlBiHaSnKzN7AVP6EqFKGxKJhEL2PHctiTMidrvVUx/ioQ8qH3ELt/dX3Nx9vj5iPP339JQN+9/fjf+6/fvyzwEudJ+dNKpJMUci7tlO6T7uGYDW2hi1LLVJzmfaXj1BHEe2DlSC5F8AXf/9w62l++jPxz/3+xv/P5cajDAOr4HoBmpjcPULtw72mY+WtKSE3epBVxAwCZENSxxUblFd+9/MtxfzyNeUk9JH25/JiJVNHb7mEi9DEJFThVUutiUdj1DJTEFK0f9EN/6tkN2b9kFvuyvxeWU9b8Y3mu701lBXK9yGyudUT0kH58Q6gXNPKTB0onGmNvv47oBzGNa0lrHeGSnnxXNgzmB+8z0IMJyI+SJWfD3KS89KiUXywCSv0jYQz1rknckiM6/HUDmMAZAlNlogQ8st/3d7eipwZ/vbxlsf8nQ1Sd/FRyQV8QAGkH8/YmHV5BokVezZq1pi+/5wtDtJxTGlE0Y5XG8afhucyv/75CP5xu2d4PDkhUOp3cgHtGYbXlstX60g4FSJQqeWWFQcqzTCeqwMHIjA8hlZeUvOPW07z9UH8eHvLuHzFBpkw3jmM4YpJ9vilLHE+gMuJKWZoRFyFvMSkLj6RBpnQpnDXqXM1240JjziJopIPP97ymm8P8N9vblnNr1+LI0v56fiajJ05YAm0c4rZCp/piwtzz3R/ZCVlkX/KDo/U6H5z4K7v+FdIKSHfS/k0PyIqb1ENrxVZ/Zn/72WBlLOROqE2WiHa8q3O4MlfWlr93IS+Eh3WKTsFua/itM59v8PNXlWCjfQ652QnN3yv8puvXp2G+M3vpJFRsplUBagyBsXABrnBkyERzIRrbMoaVnbHaxVZXnLwB8JECi2/5WS+Sf29v34lXdFu/dFK6fltzH2vR/U8w6EBrcg6bIhH2zZluTdmwpptcFcLOnOyEMWfbkXMzTPn/lbE/PIFGWJJvZMSnOdGBdI/NuaHlBKGa452X6Zo92p0wFy9mjPFBKHzpRahMY8qw6tjNOBExyMv/0UGt//+5Uehv/dGGCv2v9eZGlfFYFcmjF03Jk4BH8P4toIR6/C2LjHRqgI9Bmz8eCtlfrmVMt/K4i7ljiqzNK4tj7VgCZeEKT7lnk7BpdQlwWoAWGKx8fWtOvPrl7LYvYCVPUvmspgSiMfqWji9llJzvzqcxCJqbiUADLGi4PHTZ25kURMoeRm0psTAaNXswOcVXwWi0zJH9DgHhR0WHP+41Wh+J4qSwHmTQW0IdgxvpLA+whMhYcwOIDMmHGBKTlozLDi+vFWJG1FswVAaGkOpUjmHxD4GGwrTVQyqvmpah99BdCYNln10OpIowLCxU7+ttKVJW7DEm6LG0esVDhLkAQ16hyIBj1+U4sYO5FbgfmCU+ny2I+2y/AxxbA48FYu8D3CxPJMHRyxaHTOwsrLxWOfM+UAWkDPV9XZ5dBJK+wCEyR7Ax41a/GAGMjvUVhlPe1ZEPhxhUsUvOx2oWfQZBjME0EOrxa9fWLGbEffYzGBLu/iIgJ4H7re65zD4HAAM23o35VBhobMBLUMg5Sc7baRxsjdrbeCoTNgNPsiNYvwghwYLOyO10dUEMuK6cmESBwN0lDZElIDjo2L8Aqi/uhJBa0sPDsRbq+snL/8BgPULKNr90PjjrWbzBQPY2484kfYmtYm2s4DtoMz0E7ju+SbAwfeq8RcprMHah1Ym9nq656fc63RCtz/HdW3bSUV+jtOfw3+oxndSqNiL07UN6quyQ+CqTGAonkJ4mdzO4zPfxRAGGDeq8SMd7IRPK4NCO3KWsseZINfvGxSAPkXmWXEiz6DTiAcbGXxQjf8vhDV/ebplv8iI2qbV1t3rf9UzeGjZx+MkOYVArmbwwuwv8VY1fhFCjda/cW6BtbG/iUwi/3X7ldzXtzrMPWeKKtKKWz9sq6ZN5fGUiU6U47KXcCsDJ5DMGiq0K6Mb5EIM7LVrymLl/OdT8DkTi+fhVCqtEAfcJRmPE54ox88EUdPwziiwdHoANPwPp/xynUyurU7LNaGzq0efGzLVPsV8623TiaDkSmEN2+TCDvsbW5pmi7XNTVw34HLNcPCGwrTa8mfg9mmlbQ74kDqbfuLaZdTbcLScJ9RtuW7L5drhcHCtRMbAxMwV0zZRdDwSEoyJcmTo9bUP4ToJSv7eKrhuYJjrnYAxc7t74hvoh6qJomO0IBPlKIaKht8YBSeTB1shyVBn1xu9Hmu1JVijXoHQ1bhrwh8Foj5DxdKg7JITpWG7/crOG79PZUrUlgr91qZOWvm/wfQBYDgtmmatjY/Bhti2b+eLyeGrJbHCYn2YWmbwME6oOrozzg6cLdjiKuK5nUWz1vZITxpbHHFqsBS6CtqWiP/chzldJq4khhlSSzWVaNWnVaZrJVgX8S7D5hmkj1YxXiqkE/JUCAUR/0+3XjrjNPXlVSpXolaKwXm3I3ZOF1Xlz3pAXrqV5tNnA1hvbP0v7iAyXp3CsnZktGL/9Q7Zp02dilaAd2QYpzG2F9qUwNCtYVqT2trUeBUzl5IjnuI0j/xGNX5PnjoV3t9+wok1gKq1WrtCS1xBdY3dZ0TqzLqiU412QyGI+K1qvFNxxzBbOlRbiwe0VkF/b2uT6j9ZB8ehzFJq4IhTL9vZ1a/aB6gWeoTvd8cPvSPB8U5I5m12DvtkVdmlK7CFK05i4i0PCeFGMX5CQsnXDwFwkhWa9GmOATLZt7nFZvN3mV0sSllZBnFzDjRMhPeK8Q1Sb1aSHc+XGnVWTdyb73tMHXbV6NEumeKjMA+QNq0eMdAwEf5o8yuMqbqzBikznEUosGtPGXRTG2GCHYt+WRM3F6zddnfkF3rglS2p/yxjcPfAi51Nk3oL3hlGaxKZlOHxgnY0lZjED7k/jJKc/4CDSrb7zlJ/92Tmzjhqh12SFza1jG196Te0wCOR4QO0Vm1+BYOdcHfbpWU9++c2ocJmKGY2KQ1sJVWoWPlsryNlRT0gbxq7zSvhqVmgsKUJr5KbeS9sAMtkk06nDo+N2tLmjyrgzBvVwKadv8Gx0p1tFwqLHRtfYfsuc2gqJLVLppiCakRNSB0mVlIXVfiN1r0V2LvaJty1QsqrRuUubCqkMQQNXHpY014YMY8j2CKVmH9qsOsBI2x6q0er0GBz1JxNo+Ct8JSKU5Lk/JJ5HMEWBX6nwN51nLDprVZWocJug5dp51YylcewczWxoDT87uSqtzdWu02GcO2nQjFBqeWuKMwl0VPlykA85XELy9qZURqSpXI3wvNHo92SrCtqGLKOK6R9AWtssbwpjWwA56/J8yLcEsO3Tzkci91uTR+SjHqIcxwaCHza1Luu69oK69oc4Ao7rU2j4D1eLQN9YUhqSObkKrh/NNitMvp1b03DXYUm0Ge5oY22QCzKS2i0ZqEDqQBSAi6YL3jH4VirutquGfTJOGGV14N8bbSDvXegpufRABcnCUUxvRAsld7pUnb7IO52jywDA+OEVV45Yr8RGxQap4cB+N3dkzTd/LAhqVaZouz2F/E1Hk4nK6zyyiA7Ai8xsD0UBBpNv6n2OdKO516oRW88+4OV+7RrpvbVvLDKS/6ggJeif7E+mhxgA14L3Aao48EfTfRrtxlbdyj8MEgrpiNBtPZzj5W9mr7cWCNKPf3IuEuaQozoHSr/h3UNTbqq4COJGwnhu0FaMa0whX4cWDPb5bBF+51JKHxD4p3wQ4nb7Obqpe8/DfHrDpuXaVYvVqz54GlgAaQqKRwJF4BMqhBqLj60DKRQvrMEpSzLk7UJmITgvGbCu4/a/YhpCcJen1szbLQtDTWSH55aNXTLdGdT3861VEgB3eqE0hPqgzBb+mszNGEaUDtIyDCmpWiJywksoRRiHHQVOjPqssQrFKwoLU4SP2wow2+0Isx3TC0jQe30zB6sBCHaziaFQgFNOuX91tLdkaZsIuCkGjO+Wu4NPP6dq2Ukpg1hb+0Mi6YBqUA29G8ViYlcQfMwN0eg/ayPyKH0FJxLTP9Mx4Z3H8DxM9PBp6AZNKEN8sci4XkBUqwN0G96q4Mskg0SnG+Fa6asJ4IJJaqUpM5pQQQfvuBqzi1qSX4m4W4tCx6aEP6mMjPkryG16ZUKm6VzTZqKDSevz/lHCxRhNpDX0rug3Tqp7l0AsWY4XUNhg8zxHuQ9oZXOWsBfkqIqAMat/bUB+m054uBIwoQKi4TnD8j3/wWFFvBLwN1EYX8+YGNIutRIhTBa1veo+Miotir1DeW0jzY+o8GmXXLBPenoFHQujvKRpVZE2h2lXbB/DBTKji1hPOrql4+/ZVQ+FwpGbJc1pQ7eSfsu+tAigOYg6eeVRrjHq9fYPwYKZccUQ6fzvUYrzhNZ7aj3b0GF9l3wvFUA1ak8Br9hg3uchNXwI0SMWQOuB8qXDy8W+JWsJN9vDXmKENTvgganIQjq95ZbeItGKXopkpC6TCxAhqP+XnWT0AxuDrfC5Mw4rLDl5hpuxnyD5nfsmKyIBbLh3MobAlNh2Q64F0CL+4prGe/JZGIU7io0tGxiDpwDy6H5Gyv9TBd6IgWj5hakgB3MbKp/rbcDhw37zIyxPjArU/3dg7PScBs4zj6UDssOsvqd7bBulQZXCtagIyZdG2yQwdzIzW8/wOBf74AHfeE4hn8Y8Uyti/53kKLS9Q5Ys/PI9CCvWrQ8ITN3MxomvIRjy7+8Q1n+SZotR+lyO3/+KHnt2cwfJr1DdQe7+QiAlPXXJQCYErNuZcE6ZvsaWiaJ/FARIuU3v/kZpuWY+DZhGpfY7VlEhyl9rNWwwz7tQLNCKezb4vIX8T6NUguWngmGeAuE6qL/+DX/oTpGH07LMNg2k96hkSXQwV3nO1l1yHNX2GKEEhHugCOlZZNz3hzZiSx/+YAgLsfbzjet2DPmMzcMazA+4prkAvdCUX8SyrZMfVuWcqqscCe5AkrPxhO0Fza0TWVR/Ow9ybSCxZi7L9tUcqIrYj9kVjhgGb8h4AFClYN0D4nsPhVfIuoK6OThOcZ2nZgRCdoW7dYm3wv3tYSznRdl7XHLg3Q1GCY4Kxxbr0dAMQ3fBUOzT5smZf8d03StKcWU+ntqZISdhcw3H3CDsXKpUoz560g4YAnT10HIq0DlQyXDTfbltKqA+/RSNAhdjaIQSiNQtEsOD+oMshdwP/TLO5m3/UFoopdXOMzG6dkZCTZ1G+BDqUsvEhbrag97vc2XxSGzKcu6BvhZQNvNJ3Cf8uVzMQET3s0slfsav5Plv2PortbcCOa+c+FDgUVarIW8eAhX6tuq/9Epmo1EUuH8WST1oCUi9kOaEe8xWMWb3exf+gspdIfyyPQYcd/ZhLM9XO7fdqg3yZQODDAl3Feev/r5Qg2B7089VUD+aizvWX353s2L94wxE9UTypxUGQEuOUkDdiuI7SNQ5hvYCyqT4fVvDGsNLj3JaBLpJurJ6ivmYmyHMf8cklnldCg3cFo1bV1hSafW/YCs2FT1gaf7xiREvjuDpoX3fL54ruP1XbLP+Vx1Z5aTmfVbrJuACmb+BywCNdISldfy7obJF9AtOKVqscgcDZrlrKxCrQ+YaWVrGWhtRFuOO0EDlaF//DPoTUR0OM/s39gLzZ1ZzsYq7PoBpRScJsy4T2id+Df57p9kWTmku2Zbmy6l5kDULKe2CgMFuOhHdJ6gb9YUR9781d/zX3/AvecX6R9MjqFDB0tMhfuBmBoyiM9mdiHHB30zzaiO9HuS+XRw35VD+hn0ZubdHJezMOAW3zfZe+yq4FFbiMg3MNFB3Onnd8BVtVo2HnUNv8HS+YNNaNB9Z0xPY17TVzjClloGng66+uEfjnHkb573EocTHCvWcLaUnutru6jryiak2DhYLkQ0z7YXwND9yMTz0Av4itm7f3vl8fHm/TtsDYcnasEyieV/8LSVXbdivzMJq4EUJOpwyRgarQFIGRD7fuQq2gu8+8Mf3sHcRoTUoIouoiXCz3X6YBg7LOvVV4JJ4pFKLnoNLN2FDX35X7b+gJtrCTcY03yYG5zY5RQWoYXl0vlyZmLvlZ1a4X+BjvlRqRH7ufTJIFT87gXx4SdlV0w3Bo+gknP0xiazS2Gck+pwsechdQC1ajEo6Lf8WGBuJ+sM/R0X754IU3APhNqwuVNIDUIx8L0OfBJdiJH9DCXDFBOpfjie6SyfsDtrc+DuaHUVrIeF59LanyshN1IpffL68SN+w/7aJc9zKB1hYkDHcIpOUq54ZsYy5h9ba2UMSgE5SIL1iyLuLCOxKyNjjQ9PkvzlRcBC8V+OZ/NEta7DgEO4g441U3YaeTO3jfRqaFQSkEu6yxrLNE5SteDuV8Ojm6t4PpuOLy7enJ8Hr3Po+fn5m4vL8WQaRYvXpYFmOCLrkDJYkgodyzMup7wzMcLOaXLPInMnOyM3UcntQuXvgZKhSv/fTKIlW1ti1Ef+hMtJMwt/hOzUET90tgRsgqIbUtZvgXkOoMVrpBIOspSexktNbYm3XA8/XOQvtzIwzANNCsLzI03ZoRBT5pBpLc2M2VvnU+e48ATkgy/D3JZYz6O84q3FuzKmm1p2DsgTjEtvTbtBQYsZ8cYW7PB/HRQ9nc0XflDWlrj2zFCMTktKtZ151mH+pmLnwFyYapBDVp9bA3XSZzrxAFlKK2tL3HgWlL4OexnoLFhqER3Da7N+HLF60PZe4Frrw58JqZhS+eVmZW2JW88c5en472JZ5DWZowGZfsfAVF0DlfdTmxyn9kf6CRDR+IGpLTF6dw6sTkOciwDLrEsx3bMpcFQtVN5/skn69yS6N16VrYQspZW1JeasSc397+iIuNhl7zqiiyY4X+Ews3LIzdIOdNjPYCl/Z/MaSukEWzHdsT7SdCOCF20H7VagrdsEU1pToGQ3KKc9HLFtMV9ofWYWahWltB822GpuMffTHNfeGbAIUHA57s8VuER/Fh4KSFq7NMNVtK1AgJ15ltLcIhtIwX1COqEKnNzcTim2d/SzHGzyPYfdMQObISd3hNCzzA3PtGKHKCiMdf2ulCXvkyOVBEK/0lClEd2agZ+Cm3wvYXdcoRXq7WHHMvda7w/VBtmIi0lkAy02D3mZzDyl11Yfdo6D44vLHJrA7rhGG9PzkznjhH5S9eTiYgiwJTIaVy6GFptfkB8aT1/2hilRVCxfN3CpFMFqphdoFOLamp5knL+rF04WlV8pzXq8sE+Yk8hzaLmhf8IKg4mo6YQJbvOFDVRNLYdMcbl+1Lp+Jl0mAbYG5dEFctukjP9hsR3J9cy61uNZZZJP/irwz3baQNXUugwxB7cmqLhpesYFFQiwd0wPpmeCHNXa/4mc5NqFuW74pMtXphnMNbJ6RYpVU6sg+d4b/fvoilmBAJuhlCbdyCIItgKPqOpsIDjQZAdypXT5uX5ugX9pX+JdW2DR6zkiiZhm+t9C1aN/xiTAxotrzlXydMj93XBoBcnN8u2qhd+L54JNyH60u7bAyv5dhlg2N7r3UecyCbABlczYSp4MAzvvhjuMXvyVwzXySu2YxDj+mICzf2p9F+oTOLPeq95H2IVVdcCjvpd8Pzw8bshLpnJQMNOsa9R4nPhd6C6Bfu/mAJOs2wImumJghtdWmnBDVXVI8WYjhvFBAcANOeV+RHIlyi9Xd4j1eYC70EVvvzBwCGWpnxdU7bPV65cqcGVKSIdGfV8wPg8buNqrc/5HGlhEE/KhgfJpngcYKG9n+L///gatptZA6kxsjIlxECvCHE6AzVi9PIftgqmVKjHjAcBylz2CeKQvY+FGsBMFybOFq6ltIJk6K514Iko7NQvON2h7zhhFNjnqKyEnwSTPmHqod9I+9UPGO3QBzEB8ZF2awdXUVohssk5lmC21QqZZcF6jfZQxY/4tUV+5ZKq60p4EY+ZK3YPYL6DS1dzP5nnWavqN+IeIp/9y4Jn54Y6lVRnIhifk+xyshWjN+Fj1LlBfqAVruEuwx5Z1/Vi1HfOTbu9FH4i2eIl1PGANNV5NrYXUQqkUSsyJlJvuqFIdQusAVHLeiWWu1088ONotjq3WRVk3/jOcnnZdW1fbYuWEjmnP6imSYt9NvJpaBdmXR2nGrFNHCh/8FKAKlmOlvkeYulMr2QcYO6LR5jlECXLQQPx8B/CWZ/wBOeD1LTeQ1b9HjYowFjysuBHWt3rPSn3PMDe3wk13ptROzWwxFdd/DQK85LxFzHg5BFRHXlEfigf1O9ZYaSRmpijFt6UFyGNVD2gB8l3WDZd6FCwGGaBsOV0hIlW0PA0s8KPd2C1WGiEcMCL9t5J/3sBH5vymcZTf7oUndrhItdxhaueE4b3osfJ+Rqkmrpip7zHiZi2vNLgcDgwMlVUDPZZjLKui9V/M5X7gv2ix8n5WqSZWzLyjCLFe1/Geos1+Aq7zjsUq2swlR1OBuWwHhEWHtcOP8qxcqRBuLT1RAbahn4M90/KFAb4sVtNmK5hEiIs4G1Pp+9QIusQqVBNVCLdGeIE778d0nn+xzDPveCzsJpbTDUCXVnHlLaPNLM2ZTnOOk0xqduHWTMkkb12fwS2DUjX7nccq22zlXMwlo/YRjZ0kOoTUYJdqYsdeo1kGaE7nvS2zmLRTVqbqLNPQGO+lxgIJutzTnxATpZKRuSkPwFya4YzMRYCiLPGuwiS3ENXeFKJMB/os09AYu0zWRZvDgFptcuGYMB6lL6Ds3PlhKNHYOnVoV2ECXQa1tvcougG+lWsbXyEQy+wpX/SuK0qF1bKJNQ+YYIuiijCj6uL4VhWxRCuLM9hlUCsKkG061v+nIuzAbLugXKGllDsebUpN25SYHOx5IBRzEBZoIqMIngu1toX4Otn/VUzaQlF9ngFjJTVFEK+ccZSaToL80OfpWjLxZv5z1FnIZOflAKiq2OApIky4Hg0biagF7/ffgspj4E0xCWV7wEK9ZjwaLF8Aq1AiqmJIAGPvAgJHxyiUbzmrPeps0yL+L45AfhUl8Hj3SxnyQxFTJt8NAKxGiaiKawzHMDTaCrP4nAds5U6JGjyvU3Oe9MtlgKBEVgtebxzqgskpxixl5C3ffyaU3p3ZGKGQg3L2rz7fo5CU0ufpJGRM9Xj32J/lVcp5O2aqSh7/BfkukUqp297A131w9YDJWrSZOvn8HHPIbAjtAzDstfyJdszb22Ge4fCAPB7uJEPksqF0rs9qmX4kV6Dnqa50wiEssHK5usukq2oXPDIbhMV1yNWqKXMSbUuAl1zB/b/9E8YKU6ik+NztYK+PltVSxyNF3WX37cAgyzzgQWmaLpL9J0RK7xkrdOQSVD4Ue0W0LnIxmv9+c+BnnFYXDKPHi84xMa3lVlAHBrUrnJxkREVswMVhLWtDcTlWydcfKHiHssuJTDJtOJ4Tb4hnMCqY6XzeJymeTo5kHl6xrMiep6jzEcM+myAQVj+DtckkabqI7ZCFxSBb4Eb05NuNZJwJk01xn+e5O272HiH1sqoPPx2QKnzBa0Rd5aQqwsnZmEf9KCNMeZj81KLkTHQcY9Vs+GKNcOSoupxSTPPxdkWZpXnLrDnYM/83ZcHMpv+6mKbIKCQzraI2ZivTeR8KsVHIejW28v4TaeqAioq1jjHW8Ryay5fWpZPS3osxOinsCkERB9apeh4CQ7Mv7r9l1q7a5O7QZHxw1GxCXtborn59VC6nyyuSJBR4kKWK/JM7/Fy/F75PDjpDyzE7HKIggvYMfQHItpKAQUVUhO6bYpO9Pf9sjc7Yaj+MuTAR+WpTnnzNxpXxvgiMHP1mzZP+G3LzNDIy5yJIkBJoU3zyqWLtJSiOPm9s3kngZtAVRghmZoL/RGE8SW+m8MmitfZfRiltq02Rv5h7nnnnmrH/R+1wHHW5f9R79Bjntwq+U28/R77LEAsT/v+6KXbyIwl1YWLQI15/BVbrVJJA9XUoG9mwchGb8P/FBFWuLuW0FPhKtOVEEwE3N+npE8dKJAleAjWDYxKFBqwZ8f9AhZdCEfP+5Ehq0cZDNcdLdTEdcUJ95wZRqH3NChMBFjxwUQyPMmW0CDytMhPVxfSUEQZ0RRSFutfsWNDoSbxQYSKWWHrqX/FyBPPJCgmwTOWERhcqee8Ta56n6ggrheCFChN9EtIwNu6/mEF1MT1VJ+Aw9t9sMpwaVArNA+AUEoWYB5SM0fcyblGdn6fGyi2XmoIHl3E/JdKLJUlJATTpJRd9osbAzxBXnZ+nIHuo+pImoY7a/Myu1JoMhRnluCerC9L3FIfAa323OlwqJynH+mQX47AXfFSWAMEcly06IaeUC8i1HlzGS+VnM53Vq8X0DSzZ/+xjYSpFljAnE1SNlMUYfa2XqLopQG15bDMvNIkAo30zia1MqlPoBJKMUTVSkmkII+801kx15+cotFpwuYjGAm9DmyoDS8ufMXThmoxhW9fNxwDh1Sm1geRp1fk5GRsuuFzG00vpoOfjA/NiYusKNMmcRCHmETHMRwzTlE1ZnEJ05+d5aHsFaxnPJhcCuwZvxtNo8RzW7HQaQvMf55ewKS+JLgORqpmRPgQRI39+1k2oXFuQEf1nwuT8nEYWnF9cjqfRXG18YEmFI9OfTw9nRLAy/WIuKEmZXQS8dFxkfxKJLnSX0lHYK8zQZeJnlv3z/+Y3H4c0ocJC/qje4MorFjMWnkxwOZn3RVKJx3yyXfVH/V8Jk8x9OBvnl5NoAXtU55dAfJDF/KXeFnjRBm/Gk8gsbosk3cVB0yGriDJUuy6mi7P/kpjlIp5HeyZeJIiZIY73jmm+SEDz2uLluPaPLI6TXiqt6HMddT6eJQpolclFQKpi/Y+PiZ8Jr4vz4BBFdDmZaarkLObPjK83R45ahOo7Aw==";
var DEFAULT_SETTINGS_VALUES = {
  downloadTimestamp: (/* @__PURE__ */ new Date()).getTime(),
  askedForDonation: false,
  nodeTypeOnDoubleClick: "text",
  alignNewNodesToGrid: true,
  defaultTextNodeWidth: 260,
  defaultTextNodeHeight: 60,
  defaultFileNodeWidth: 400,
  defaultFileNodeHeight: 400,
  minNodeSize: 60,
  disableFontSizeRelativeToZoom: false,
  canvasMetadataCompatibilityEnabled: true,
  treatFileNodeEdgesAsLinks: true,
  combineCustomStylesInDropdown: false,
  nodeStylingFeatureEnabled: true,
  customNodeStyleAttributes: [],
  defaultTextNodeStyleAttributes: {},
  edgesStylingFeatureEnabled: true,
  customEdgeStyleAttributes: [],
  defaultEdgeLineDirection: "unidirectional",
  defaultEdgeStyleAttributes: {},
  edgeStyleUpdateWhileDragging: false,
  edgeStyleDirectRotateArrow: false,
  edgeStylePathfinderGridResolution: 10,
  edgeStylePathfinderPathRounded: true,
  variableBreakpointFeatureEnabled: true,
  zOrderingFeatureEnabled: true,
  zOrderingShowOneLayerShiftOptions: false,
  commandsFeatureEnabled: true,
  zoomToClonedNode: true,
  cloneNodeMargin: 20,
  expandNodeStepSize: 20,
  flipEdgeFeatureEnabled: true,
  betterReadonlyEnabled: true,
  disableNodePopup: false,
  disableZoom: false,
  disablePan: false,
  autoResizeNodeFeatureEnabled: false,
  autoResizeNodeEnabledByDefault: false,
  autoResizeNodeMaxHeight: -1,
  autoResizeNodeSnapToGrid: true,
  collapsibleGroupsFeatureEnabled: true,
  collapsedGroupPreviewOnDrag: true,
  focusModeFeatureEnabled: true,
  presentationFeatureEnabled: true,
  showSetStartNodeInPopup: false,
  defaultSlideSize: "1200x675",
  wrapInSlidePadding: 20,
  resetViewportOnPresentationEnd: true,
  useArrowKeysToChangeSlides: true,
  usePgUpPgDownKeysToChangeSlides: true,
  zoomToSlideWithoutPadding: true,
  slideTransitionAnimationDuration: 0.5,
  slideTransitionAnimationIntensity: 1.25,
  canvasEncapsulationEnabled: true,
  portalsFeatureEnabled: true,
  maintainClosedPortalSize: true,
  showEdgesIntoDisabledPortals: true
};
var SETTINGS = {
  // @ts-ignore
  general: {
    label: "General",
    description: "General settings of the Advanced Canvas plugin.",
    infoSection: "better-default-settings",
    disableToggle: true,
    children: {
      nodeTypeOnDoubleClick: {
        label: "Node type on double click",
        description: "The type of node that will be created when double clicking on the canvas.",
        type: "dropdown",
        options: {
          "text": "Text",
          "file": "File"
        }
      },
      alignNewNodesToGrid: {
        label: "Always align new nodes to grid",
        description: "When enabled, new nodes will be aligned to the grid.",
        type: "boolean"
      },
      defaultTextNodeWidth: {
        label: "Default text node width",
        description: "The default width of a text node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      defaultTextNodeHeight: {
        label: "Default text node height",
        description: "The default height of a text node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      defaultFileNodeWidth: {
        label: "Default file node width",
        description: "The default width of a file node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      defaultFileNodeHeight: {
        label: "Default file node height",
        description: "The default height of a file node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      minNodeSize: {
        label: "Minimum node size",
        description: "The minimum size of a node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      },
      disableFontSizeRelativeToZoom: {
        label: "Disable font size relative to zoom",
        description: "When enabled, the font size of e.g. group node titles and edge labels will not increase when zooming out.",
        type: "boolean"
      }
    }
  },
  canvasMetadataCompatibilityEnabled: {
    label: "Enable .canvas metadata cache compatibility",
    description: "Make .canvas files compatible with the backlinks and outgoing links feature and show the connections in the graph view.",
    infoSection: "full-metadata-cache-support",
    children: {
      treatFileNodeEdgesAsLinks: {
        label: "Treat edges between file nodes as links",
        description: "When enabled, edges between file nodes will be treated as links. This means that if file node A.md has an edge to file node B.md in the canvas, file A.md will have a link to file B.md in the outgoing links section and show a connection in the graph view.",
        type: "boolean"
      }
    }
  },
  combineCustomStylesInDropdown: {
    label: "Combine custom styles",
    description: "Combine all style attributes of Advanced Canvas in a single dropdown.",
    infoSection: null,
    children: {}
  },
  nodeStylingFeatureEnabled: {
    label: "Node styling",
    description: "Style your nodes with different shapes and borders.",
    infoSection: "node-styles",
    children: {
      customNodeStyleAttributes: {
        label: "Custom node style settings",
        description: "Add custom style settings for nodes. (Go to GitHub for more information)",
        type: "button",
        onClick: () => window.open("https://github.com/Developer-Mike/obsidian-advanced-canvas/blob/main/README.md#custom-styles")
      },
      defaultTextNodeStyleAttributes: {
        label: "Default text node style attributes",
        type: "styles",
        getParameters(settingsManager) {
          return [...BUILTIN_NODE_STYLE_ATTRIBUTES, ...settingsManager.getSetting("customNodeStyleAttributes")].filter((setting) => {
            var _a;
            return setting.nodeTypes === void 0 || ((_a = setting.nodeTypes) == null ? void 0 : _a.includes("text"));
          });
        }
      }
    }
  },
  edgesStylingFeatureEnabled: {
    label: "Edges styling",
    description: "Style your edges with different path styles.",
    infoSection: "edge-styles",
    children: {
      customEdgeStyleAttributes: {
        label: "Custom edge style settings",
        description: "Add custom style settings for edges. (Go to GitHub for more information)",
        type: "button",
        onClick: () => window.open("https://github.com/Developer-Mike/obsidian-advanced-canvas/blob/main/README.md#custom-styles")
      },
      defaultEdgeLineDirection: {
        label: "Default edge line direction",
        description: "The default line direction of an edge.",
        type: "dropdown",
        options: {
          "nondirectional": "Nondirectional",
          "unidirectional": "Unidirectional",
          "bidirectional": "Bidirectional"
        }
      },
      defaultEdgeStyleAttributes: {
        label: "Default edge style attributes",
        type: "styles",
        getParameters(settingsManager) {
          return [...BUILTIN_EDGE_STYLE_ATTRIBUTES, ...settingsManager.getSetting("customEdgeStyleAttributes")];
        }
      },
      edgeStyleUpdateWhileDragging: {
        label: "Update edge style while dragging (Can be very slow)",
        description: "When enabled, the edge style will be updated while dragging an edge.",
        type: "boolean"
      },
      edgeStyleDirectRotateArrow: {
        label: 'Rotate arrow if pathfinding method is "Direct"',
        description: 'When enabled, the arrow will be rotated to the direction of the edge if the pathfinding method is set to "Direct".',
        type: "boolean"
      },
      edgeStylePathfinderGridResolution: {
        label: "A* grid resolution",
        description: "The resolution of the grid when using the A* path style. The lower the value, the more precise the path will be. But it will also take longer to calculate.",
        type: "number",
        parse: (value) => Math.max(5, parseInt(value) || 0)
      },
      edgeStylePathfinderPathRounded: {
        label: "A* rounded path",
        description: "When enabled, the A* path style will be rounded.",
        type: "boolean"
      }
    }
  },
  variableBreakpointFeatureEnabled: {
    label: "Variable breakpoint",
    description: `Change the zoom breakpoint (the zoom level at which the nodes won't render their content anymore) on a per-node basis using the ${VARIABLE_BREAKPOINT_CSS_VAR} CSS variable.`,
    infoSection: "variable-breakpoints",
    children: {}
  },
  zOrderingFeatureEnabled: {
    label: "Z ordering controls",
    description: "Change the z-index of nodes using the context menu.",
    infoSection: "z-ordering-control",
    children: {
      zOrderingShowOneLayerShiftOptions: {
        label: "Show one layer shift options",
        description: "When enabled, you can move nodes one layer forward or backward.",
        type: "boolean"
      }
    }
  },
  commandsFeatureEnabled: {
    label: "Extended commands",
    description: "Add more commands to the canvas.",
    infoSection: "canvas-commands",
    children: {
      zoomToClonedNode: {
        label: "Zoom to cloned node",
        description: "When enabled, the canvas will zoom to the cloned node.",
        type: "boolean"
      },
      cloneNodeMargin: {
        label: "Clone node margin",
        description: "The margin between the cloned node and the source node.",
        type: "number",
        parse: (value) => Math.max(0, parseInt(value) || 0)
      },
      expandNodeStepSize: {
        label: "Expand node step size",
        description: "The step size for expanding the node.",
        type: "number",
        parse: (value) => Math.max(1, parseInt(value) || 0)
      }
    }
  },
  flipEdgeFeatureEnabled: {
    label: "Flip edges",
    description: "Flip the direction of edges using the popup menu.",
    infoSection: "flip-edge",
    children: {}
  },
  betterReadonlyEnabled: {
    label: "Better readonly",
    description: "Improve the readonly mode.",
    infoSection: "better-readonly",
    children: {
      disableNodePopup: {
        label: "Disable node popup",
        description: "When enabled, the node popup will be disabled.",
        type: "boolean"
      },
      disableZoom: {
        label: "Disable zoom",
        description: "When enabled, zooming will be disabled.",
        type: "boolean"
      },
      disablePan: {
        label: "Disable pan",
        description: "When enabled, panning will be disabled.",
        type: "boolean"
      }
    }
  },
  autoResizeNodeFeatureEnabled: {
    label: "Auto resize node",
    description: "Automatically resize the height of a node to fit the content.",
    infoSection: "auto-node-resizing",
    children: {
      autoResizeNodeEnabledByDefault: {
        label: "Enable auto resize by default",
        description: "When enabled, the auto resize feature will be enabled by default for all nodes.",
        type: "boolean"
      },
      autoResizeNodeMaxHeight: {
        label: "Max height",
        description: "The maximum height of the node when auto resizing (-1 for unlimited).",
        type: "number",
        parse: (value) => {
          var _a;
          return Math.max(-1, (_a = parseInt(value)) != null ? _a : -1);
        }
      },
      autoResizeNodeSnapToGrid: {
        label: "Snap to grid",
        description: "When enabled, the height of the node will snap to the grid.",
        type: "boolean"
      }
    }
  },
  collapsibleGroupsFeatureEnabled: {
    label: "Collapsible groups",
    description: "Group nodes can be collapsed and expanded to keep the canvas organized.",
    infoSection: "collapsible-groups",
    children: {
      collapsedGroupPreviewOnDrag: {
        label: "Collapsed group preview on drag",
        description: "When enabled, a group that is collapsed show its border while dragging a node.",
        type: "boolean"
      }
    }
  },
  focusModeFeatureEnabled: {
    label: "Focus mode",
    description: "Focus on a single node and blur all other nodes.",
    infoSection: "focus-mode",
    children: {}
  },
  presentationFeatureEnabled: {
    label: "Presentations",
    description: "Create a presentation from your canvas.",
    infoSection: "presentation-mode",
    children: {
      showSetStartNodeInPopup: {
        label: 'Show "Set Start Node" in node popup',
        description: "If turned off, you can still set the start node using the corresponding command.",
        type: "boolean"
      },
      defaultSlideSize: {
        label: "Default slide ratio",
        description: "The default ratio of the slide. For example, 16:9 is 1200x675 and 3:2 is 1350x900.",
        type: "text"
      },
      wrapInSlidePadding: {
        label: "Wrap in slide padding",
        description: "The padding of the slide when wrapping the canvas in a slide.",
        type: "number",
        parse: (value) => Math.max(0, parseInt(value) || 0)
      },
      resetViewportOnPresentationEnd: {
        label: "Reset viewport on presentation end",
        description: "When enabled, the viewport will be reset to the original position after the presentation ends.",
        type: "boolean"
      },
      useArrowKeysToChangeSlides: {
        label: "Use arrow keys to change slides",
        description: "When enabled, you can use the arrow keys to change slides in presentation mode.",
        type: "boolean"
      },
      usePgUpPgDownKeysToChangeSlides: {
        label: "Use PgUp/PgDown keys to change slides",
        description: "When enabled, you can use the PgUp/PgDown keys to change slides in presentation mode (Makes the presentation mode compatible with most presentation remotes).",
        type: "boolean"
      },
      zoomToSlideWithoutPadding: {
        label: "Zoom to slide without padding",
        description: "When enabled, the canvas will zoom to the slide without padding.",
        type: "boolean"
      },
      slideTransitionAnimationDuration: {
        label: "Slide transition animation duration",
        description: "The duration of the slide transition animation in seconds. Set to 0 to disable the animation.",
        type: "number",
        parse: (value) => Math.max(0, parseFloat(value) || 0)
      },
      slideTransitionAnimationIntensity: {
        label: "Slide transition animation intensity",
        description: "The intensity of the slide transition animation. The higher the value, the more the canvas will zoom out before zooming in on the next slide.",
        type: "number",
        parse: (value) => Math.max(0, parseFloat(value) || 0)
      }
    }
  },
  canvasEncapsulationEnabled: {
    label: "Canvas encapsulation",
    description: "Encapsulate a selection of nodes and edges into a new canvas using the context menu.",
    infoSection: "encapsulate-selection",
    children: {}
  },
  portalsFeatureEnabled: {
    label: "Portals",
    description: "Create portals to other canvases.",
    infoSection: "portals",
    children: {
      maintainClosedPortalSize: {
        label: "Maintain closed portal size",
        description: "When enabled, the portal will maintain its size when closed.",
        type: "boolean"
      },
      showEdgesIntoDisabledPortals: {
        label: "Show edges into disabled portals",
        description: "When enabled, edges into disabled portals will be shown.",
        type: "boolean"
      }
    }
  }
};
var SettingsManager = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS_VALUES, await this.plugin.loadData());
    this.plugin.app.workspace.trigger(PluginEvent.SettingsChanged);
  }
  async saveSettings() {
    await this.plugin.saveData(this.settings);
  }
  getSetting(key) {
    return this.settings[key];
  }
  async setSetting(data) {
    this.settings = Object.assign(this.settings, data);
    await this.saveSettings();
    this.plugin.app.workspace.trigger(PluginEvent.SettingsChanged);
  }
  addSettingsTab() {
    this.settingsTab = new AdvancedCanvasPluginSettingTab(this.plugin, this);
    this.plugin.addSettingTab(this.settingsTab);
  }
};
var AdvancedCanvasPluginSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(plugin, settingsManager) {
    super(plugin.app, plugin);
    this.settingsManager = settingsManager;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    for (const [headingId, heading] of Object.entries(SETTINGS)) {
      this.createFeatureHeading(
        containerEl,
        heading.label,
        heading.description,
        heading.infoSection,
        heading.disableToggle ? null : headingId
      );
      for (let [settingId, setting] of Object.entries(heading.children)) {
        if (!(settingId in DEFAULT_SETTINGS_VALUES))
          continue;
        switch (setting.type) {
          case "text":
            this.createTextSetting(containerEl, settingId, setting);
            break;
          case "number":
            this.createNumberSetting(containerEl, settingId, setting);
            break;
          case "boolean":
            this.createBooleanSetting(containerEl, settingId, setting);
            break;
          case "dropdown":
            this.createDropdownSetting(containerEl, settingId, setting);
            break;
          case "button":
            this.createButtonSetting(containerEl, settingId, setting);
            break;
          case "styles":
            this.createStylesSetting(containerEl, settingId, setting);
            break;
        }
      }
    }
    this.createKoFiBadge(containerEl);
    const currentTimestamp = (/* @__PURE__ */ new Date()).getTime();
    if (currentTimestamp - this.settingsManager.getSetting("downloadTimestamp") > ASK_FOR_DONATION_DELAY && !this.settingsManager.getSetting("askedForDonation")) {
      this.createKoFiOverlay(containerEl);
    }
  }
  createFeatureHeading(containerEl, label, description, infoSection, settingsKey) {
    const setting = new import_obsidian.Setting(containerEl).setHeading().setClass("ac-settings-heading").setName(label).setDesc(description);
    if (infoSection !== null) {
      setting.addExtraButton(
        (button) => button.setTooltip("Open github documentation").setIcon("info").onClick(async () => {
          window.open(`${README_URL}#${infoSection}`);
        })
      );
    }
    if (settingsKey !== null) {
      setting.addToggle(
        (toggle) => toggle.setTooltip("Requires a reload to take effect.").setValue(this.settingsManager.getSetting(settingsKey)).onChange(async (value) => {
          await this.settingsManager.setSetting({ [settingsKey]: value });
          new import_obsidian.Notice("Reload obsidian to apply the changes.");
        })
      );
    }
    return setting;
  }
  createTextSetting(containerEl, settingId, setting) {
    new import_obsidian.Setting(containerEl).setName(setting.label).setDesc(setting.description).addText(
      (text) => text.setValue(this.settingsManager.getSetting(settingId)).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: setting.parse ? setting.parse(value) : value });
      })
    );
  }
  createNumberSetting(containerEl, settingId, setting) {
    new import_obsidian.Setting(containerEl).setName(setting.label).setDesc(setting.description).addText(
      (text) => text.setValue(this.settingsManager.getSetting(settingId).toString()).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: setting.parse(value) });
      })
    );
  }
  createBooleanSetting(containerEl, settingId, setting) {
    new import_obsidian.Setting(containerEl).setName(setting.label).setDesc(setting.description).addToggle(
      (toggle) => toggle.setValue(this.settingsManager.getSetting(settingId)).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: value });
      })
    );
  }
  createDropdownSetting(containerEl, settingId, setting) {
    new import_obsidian.Setting(containerEl).setName(setting.label).setDesc(setting.description).addDropdown(
      (dropdown) => dropdown.addOptions(setting.options).setValue(this.settingsManager.getSetting(settingId)).onChange(async (value) => {
        await this.settingsManager.setSetting({ [settingId]: value });
      })
    );
  }
  createButtonSetting(containerEl, settingId, setting) {
    new import_obsidian.Setting(containerEl).setName(setting.label).setDesc(setting.description).addButton(
      (button) => button.setButtonText("Open").onClick(() => setting.onClick())
    );
  }
  createStylesSetting(containerEl, settingId, setting) {
    const nestedContainerEl = document.createElement("details");
    nestedContainerEl.classList.add("setting-item");
    containerEl.appendChild(nestedContainerEl);
    const summaryEl = document.createElement("summary");
    summaryEl.textContent = setting.label;
    nestedContainerEl.appendChild(summaryEl);
    for (const styleAttribute of setting.getParameters(this.settingsManager)) {
      new import_obsidian.Setting(nestedContainerEl).setName(styleAttribute.label).addDropdown(
        (dropdown) => {
          var _a;
          return dropdown.addOptions(Object.fromEntries(styleAttribute.options.map((option) => [option.value, option.value === null ? `${option.label} (default)` : option.label]))).setValue((_a = this.settingsManager.getSetting(settingId)[styleAttribute.datasetKey]) != null ? _a : "null").onChange(async (value) => {
            const newValue = this.settingsManager.getSetting(settingId);
            if (value === "null")
              delete newValue[styleAttribute.datasetKey];
            else
              newValue[styleAttribute.datasetKey] = value;
            await this.settingsManager.setSetting({
              [settingId]: newValue
            });
          });
        }
      );
    }
  }
  async createKoFiOverlay(containerEl) {
    var _a, _b, _c;
    const sidebarWidth = (_c = (_b = (_a = containerEl.parentElement) == null ? void 0 : _a.previousElementSibling) == null ? void 0 : _b.clientWidth) != null ? _c : 0;
    const overlay = document.createElement("div");
    overlay.classList.add("kofi-overlay");
    overlay.style.left = `${sidebarWidth}px`;
    const dismiss = () => {
      overlay.remove();
      this.settingsManager.setSetting({ askedForDonation: true });
    };
    const title = document.createElement("h1");
    title.textContent = "Enjoying the plugin?";
    overlay.appendChild(title);
    const description = document.createElement("p");
    description.innerHTML = `Currently, Advanced Canvas has received <b>~${RECEIVED_DONATIONS}$</b> in donations with a total of <b>~${SPENT_HOURS} hours</b> spent on development.`;
    overlay.appendChild(description);
    const hourlyRate = document.createElement("progress");
    hourlyRate.value = RECEIVED_DONATIONS / SPENT_HOURS;
    hourlyRate.max = HOURLY_RATE_GOAL;
    overlay.appendChild(hourlyRate);
    const targetDescription = document.createElement("p");
    targetDescription.innerHTML = `Please help me develop this plugin further by reaching the goal of <b>${HOURLY_RATE_GOAL}$/hour</b>.`;
    overlay.appendChild(targetDescription);
    const koFiButton = document.createElement("a");
    koFiButton.classList.add("kofi-button");
    koFiButton.href = KOFI_PAGE_URL;
    koFiButton.target = "_blank";
    koFiButton.addEventListener("click", dismiss);
    const koFiImage = document.createElement("img");
    koFiImage.src = KOFI_BADGE_URI;
    koFiButton.appendChild(koFiImage);
    overlay.appendChild(koFiButton);
    const noButton = document.createElement("button");
    noButton.classList.add("no-button");
    noButton.textContent = "I don't want to help";
    noButton.addEventListener("click", dismiss);
    overlay.appendChild(noButton);
    containerEl.appendChild(overlay);
  }
  createKoFiBadge(containerEl) {
    const koFiButton = document.createElement("a");
    koFiButton.classList.add("kofi-button");
    koFiButton.classList.add("sticky");
    koFiButton.href = KOFI_PAGE_URL;
    koFiButton.target = "_blank";
    const koFiImage = document.createElement("img");
    koFiImage.src = KOFI_BADGE_URI;
    koFiButton.appendChild(koFiImage);
    containerEl.appendChild(koFiButton);
  }
};

// src/quicksettings.ts
var Quicksettings = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.searchSettingModal = new SearchSettingsHeaderModal(this.plugin.app, this.plugin.settings);
    this.plugin.addCommand({
      id: "open-quicksettings",
      name: "Open Quicksettings",
      callback: async () => this.searchSettingModal.open()
    });
  }
};
var SearchKeyValueSettingModal = class extends import_obsidian2.SuggestModal {
  constructor(app, settingsManager) {
    super(app);
    this.settingsManager = settingsManager;
    this.setPlaceholder(this.getSearchTitle());
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to edit"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
  }
  getSuggestions(query) {
    const suggestions = this.getAllSuggestions().filter(([settingKey, _settingValue]) => this.doesSuggestionMatchQuery(settingKey, _settingValue, query));
    return suggestions;
  }
  renderSuggestion(suggestion, el) {
    this.displaySuggestion(suggestion[0], suggestion[1], el);
  }
  onChooseSuggestion(suggestion, evt) {
    this.onSelectedSuggestion(suggestion[0], suggestion[1]);
  }
};
var SearchSettingsHeaderModal = class extends SearchKeyValueSettingModal {
  getSearchTitle() {
    return "Type to search settings...";
  }
  getAllSuggestions() {
    return Object.entries(SETTINGS).flatMap(
      ([_key, value]) => Object.entries(value.children).filter(([_key2, value2]) => value2.type !== "button")
    );
  }
  doesSuggestionMatchQuery(key, value, query) {
    var _a, _b;
    return key.toLowerCase().includes(query.toLowerCase()) || value.label.toLowerCase().includes(query.toLowerCase()) || ((_b = (_a = value.description) == null ? void 0 : _a.toLowerCase()) == null ? void 0 : _b.includes(query.toLowerCase()));
  }
  displaySuggestion(key, value, el) {
    el.addClass("quicksettings-suggestion");
    el.createEl("span", {
      cls: "quicksettings-suggestion-label",
      text: value.label
    });
    el.createEl("span", {
      cls: "quicksettings-suggestion-description",
      text: value.description
    });
  }
  onSelectedSuggestion(key, value) {
    switch (value.type) {
      case "styles":
        new SearchStyleAttributeModal(this.app, this.settingsManager, key, value).open();
        break;
      case "text":
        new SetTextOrNumberSettingModal(this.app, this.settingsManager, key, value).open();
        break;
      case "number":
        new SetTextOrNumberSettingModal(this.app, this.settingsManager, key, value).open();
        break;
      case "boolean":
        new SetBooleanSettingModal(this.app, this.settingsManager, key).open();
        break;
      case "dropdown":
        new SetDropdownSettingModal(this.app, this.settingsManager, key, value).open();
        break;
      default:
        console.log("Unsupported setting type:", value.type);
        break;
    }
  }
};
var SearchStyleAttributeModal = class extends SearchKeyValueSettingModal {
  constructor(app, settingsManager, settingsKey, setting) {
    super(app, settingsManager);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.setting = setting;
  }
  getSearchTitle() {
    return "Type to search style attributes...";
  }
  getAllSuggestions() {
    return this.setting.getParameters(this.settingsManager).map((styleAttribute) => [styleAttribute.datasetKey, styleAttribute]);
  }
  doesSuggestionMatchQuery(key, value, query) {
    return key.toLowerCase().includes(query.toLowerCase()) || value.label.toLowerCase().includes(query.toLowerCase());
  }
  displaySuggestion(key, value, el) {
    el.createEl("span", { text: value.label });
  }
  onSelectedSuggestion(key, value) {
    new SetStyleAttributeModal(this.app, this.settingsManager, this.settingsKey, key, value).open();
  }
};
var SetStyleAttributeModal = class extends SearchKeyValueSettingModal {
  constructor(app, settingsManager, settingsKey, styleAttributeKey, styleAttribute) {
    super(app, settingsManager);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.styleAttributeKey = styleAttributeKey;
    this.styleAttribute = styleAttribute;
    this.currentValueKey = settingsManager.getSetting(settingsKey)[styleAttributeKey] || null;
  }
  getSearchTitle() {
    return "Set style attribute value...";
  }
  getAllSuggestions() {
    return this.styleAttribute.options.map((option) => [option.value, option.label]);
  }
  doesSuggestionMatchQuery(key, value, query) {
    return (key == null ? void 0 : key.toLowerCase().includes(query.toLowerCase())) || value.toLowerCase().includes(query.toLowerCase());
  }
  displaySuggestion(key, value, el) {
    let text = value;
    if (key === null && key === this.currentValueKey)
      text = `${value} (default, current)`;
    else if (key === null)
      text = `${value} (default)`;
    else if (key === this.currentValueKey)
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onSelectedSuggestion(key, _value) {
    const newValue = this.settingsManager.getSetting(this.settingsKey);
    if (key === null)
      delete newValue[this.styleAttribute.datasetKey];
    else
      newValue[this.styleAttribute.datasetKey] = key;
    this.settingsManager.setSetting({
      [this.settingsKey]: newValue
    });
  }
};
var SetTextOrNumberSettingModal = class extends import_obsidian2.SuggestModal {
  constructor(app, settingsManager, settingsKey, setting) {
    super(app);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.setting = setting;
    this.defaultValue = DEFAULT_SETTINGS_VALUES[settingsKey].toString();
    this.currentValue = settingsManager.getSetting(settingsKey).toString();
    this.setPlaceholder("Enter new value...");
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to edit"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
  }
  getSuggestions(query) {
    const parsedInputValue = this.setting.parse ? this.setting.parse(query) : query;
    return [.../* @__PURE__ */ new Set([parsedInputValue, this.currentValue, this.defaultValue])];
  }
  renderSuggestion(value, el) {
    let text = value;
    if (value === this.defaultValue && value === this.currentValue)
      text = `${value} (default, current)`;
    else if (value === this.defaultValue)
      text = `${value} (default)`;
    else if (value === this.currentValue)
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onChooseSuggestion(item, _evt) {
    this.settingsManager.setSetting({ [this.settingsKey]: this.setting.parse ? this.setting.parse(item) : item });
  }
};
var SetBooleanSettingModal = class extends import_obsidian2.SuggestModal {
  constructor(app, settingsManager, settingsKey) {
    super(app);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.defaultValue = DEFAULT_SETTINGS_VALUES[settingsKey];
    this.currentValue = settingsManager.getSetting(settingsKey);
    this.setPlaceholder("Enter new value...");
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to edit"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
  }
  getSuggestions(query) {
    const currentValue = this.settingsManager.getSetting(this.settingsKey);
    const suggestions = [currentValue.toString(), (!currentValue).toString()];
    return suggestions.filter((suggestion) => suggestion.toLowerCase().includes(query.toLowerCase()));
  }
  renderSuggestion(value, el) {
    let text = value;
    if (value === this.defaultValue.toString() && value === this.currentValue.toString())
      text = `${value} (default, current)`;
    else if (value === this.defaultValue.toString())
      text = `${value} (default)`;
    else if (value === this.currentValue.toString())
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onChooseSuggestion(item, _evt) {
    this.settingsManager.setSetting({ [this.settingsKey]: item === "true" });
  }
};
var SetDropdownSettingModal = class extends SearchKeyValueSettingModal {
  constructor(app, settingsManager, settingsKey, setting) {
    super(app, settingsManager);
    this.settingsManager = settingsManager;
    this.settingsKey = settingsKey;
    this.setting = setting;
    this.defaultValueKey = DEFAULT_SETTINGS_VALUES[settingsKey];
    this.currentValueKey = settingsManager.getSetting(settingsKey);
  }
  getSearchTitle() {
    return "Type to search dropdown values...";
  }
  getAllSuggestions() {
    const suggestions = [[this.currentValueKey, this.setting.options[this.currentValueKey]]];
    if (this.defaultValueKey !== this.currentValueKey)
      suggestions.push([this.defaultValueKey, this.setting.options[this.defaultValueKey]]);
    suggestions.push(...Object.entries(this.setting.options).filter(([key, _value]) => key !== this.currentValueKey && key !== this.defaultValueKey));
    return suggestions;
  }
  doesSuggestionMatchQuery(key, _value, query) {
    return key.toLowerCase().includes(query.toLowerCase());
  }
  displaySuggestion(key, value, el) {
    let text = value;
    if (key === this.defaultValueKey && key === this.currentValueKey)
      text = `${value} (default, current)`;
    else if (key === this.defaultValueKey)
      text = `${value} (default)`;
    else if (key === this.currentValueKey)
      text = `${value} (current)`;
    el.createEl("span", { text });
  }
  onSelectedSuggestion(key, _value) {
    this.settingsManager.setSetting({ [this.settingsKey]: key });
  }
};

// src/utils/icons-helper.ts
var import_obsidian3 = require("obsidian");
var CUSTOM_ICONS = {
  "shape-pill": `<rect rx="31.25" height="62.5" width="93.75" y="18.75" x="3.125" stroke-width="8.333" stroke="currentColor" fill="transparent"/>`,
  "shape-parallelogram": `<rect transform="skewX(-20)" rx="5" height="50" width="70" y="25" x="35" stroke-width="8.333" stroke="currentColor" fill="transparent"/>`,
  "shape-predefined-process": `
    <g stroke-width="2" stroke="currentColor" fill="none" transform="matrix(4.166667,0,0,4.166667,0,0)">
      <path d="M 4.999687 3 L 19.000312 3 C 20.104688 3 21 3.895312 21 4.999687 L 21 19.000312 C 21 20.104688 20.104688 21 19.000312 21 L 4.999687 21 C 3.895312 21 3 20.104688 3 19.000312 L 3 4.999687 C 3 3.895312 3.895312 3 4.999687 3 Z M 4.999687 3 "/>
      <path d="M 7 3 L 7 21 "/>
      <path d="M 17 3 L 17 21 "/>
    </g>
  `,
  "shape-document": `<path transform="translate(0, 5)" stroke="currentColor" fill="none" stroke-width="8.333" d="M83.75 25C85.82 25 87.5 26.68 87.5 28.75L87.5 64.375Q68.75 54.25 50 64.375 31.25 74.5 12.5 64.375L12.5 30.625 12.5 28.75C12.5 26.68 14.18 25 16.25 25Z"/>`,
  "shape-database": `
    <g transform="translate(20, 20)" stroke-width="8.333" stroke="currentColor" fill="none">
      <path d="M 1 51 L 1 11 C 1 5.48 14.43 1 31 1 C 47.57 1 61 5.48 61 11 L 61 51 C 61 56.52 47.57 61 31 61 C 14.43 61 1 56.52 1 51 Z"/>
      <path d="M 1 11 C 1 16.52 14.43 21 31 21 C 47.57 21 61 16.52 61 11"/>
    </g>
  `,
  "border-solid": `<path stroke="currentColor" fill="none" stroke-width="8.333" d="M91.6667 45.8333v4.1667c0 2.0833-2.0833 4.1667-4.1667 4.1667H12.5c-2.0833 0-4.1667-2.0833-4.1667-4.1667v-4.1667"/>`,
  "border-dashed": `<path stroke="currentColor" fill="none" stroke-width="8.333" stroke-dasharray="13.7" d="M91.6667 45.8333v4.1667c0 2.0833-2.0833 4.1667-4.1667 4.1667H12.5c-2.0833 0-4.1667-2.0833-4.1667-4.1667v-4.1667"/>`,
  "border-dotted": `<path stroke="currentColor" fill="none" stroke-width="8.333" stroke-dasharray="8.7" d="M91.6667 45.8333v4.1667c0 2.0833-2.0833 4.1667-4.1667 4.1667H12.5c-2.0833 0-4.1667-2.0833-4.1667-4.1667v-4.1667"/>`,
  "path-solid": `<path stroke="currentColor" fill="none" stroke-width="8.5" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "path-dotted": `<path stroke="currentColor" fill="none" stroke-width="8.5" stroke-dasharray="8.8" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "path-short-dashed": `<path stroke="currentColor" fill="none" stroke-width="8.5" stroke-dasharray="15" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "path-long-dashed": `<path stroke="currentColor" fill="none" stroke-width="8.5" stroke-dasharray="23" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "arrow-triangle": `<path stroke="currentColor" fill="currentColor" d="M 15 10 L 85 50 L 15 90 Z"/>`,
  "arrow-triangle-outline": `<path stroke="currentColor" stroke-width="8.5" fill="none" d="M 15 10 L 85 50 L 15 90 Z"/>`,
  "arrow-thin-triangle": `<path stroke="currentColor" stroke-width="8.5" fill="none" d="M 15 10 L 85 50 L 15 90"/>`,
  "arrow-halved-triangle": `<path stroke="currentColor" fill="currentColor" d="M 15 50 L 85 50 L 15 90 Z"/>`,
  "arrow-diamond": `<path stroke="currentColor" fill="currentColor" d="M 50 0 L 100 50 L 50 100 L 0 50 Z"/>`,
  "arrow-diamond-outline": `<path stroke="currentColor" stroke-width="8.5" fill="none" d="M 50 0 L 100 50 L 50 100 L 0 50 Z"/>`,
  "arrow-circle": `<circle stroke="currentColor" fill="currentColor" cx="50" cy="50" r="45"/>`,
  "arrow-circle-outline": `<circle stroke="currentColor" stroke-width="8.5" fill="none" cx="50" cy="50" r="45"/>`,
  "pathfinding-method-bezier": `<path stroke="currentColor" fill="none" stroke-width="8.5" d="M37.5 79.1667h35.4167a14.5833 14.5833 90 000-29.1667h-45.8333a14.5833 14.5833 90 010-29.1667H62.5"/>`,
  "pathfinding-method-square": `<path stroke="currentColor" fill="none" stroke-width="8.5" d="M72.9167 79.1667 72.9167 50 27.0833 50 27.0833 20.8333"/>`
};
var IconsHelper = class {
  static addIcons() {
    for (const [id, svg] of Object.entries(CUSTOM_ICONS)) {
      (0, import_obsidian3.addIcon)(id, svg);
    }
  }
};

// src/utils/debug-helper.ts
var DebugHelper = class {
  constructor(plugin) {
    this.logging = true;
    this.nodeAddedCount = 0;
    this.nodeChangedCount = 0;
    this.edgeAddedCount = 0;
    this.edgeChangedCount = 0;
    this.plugin = plugin;
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (_canvas) => {
        this.nodeAddedCount = 0;
        this.nodeChangedCount = 0;
        this.edgeAddedCount = 0;
        this.edgeChangedCount = 0;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeAdded,
      (_canvas, _node) => {
        if (this.logging)
          console.count("\u{1F7E2} NodeAdded");
        this.nodeAddedCount++;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeChanged,
      (_canvas, _node) => {
        if (this.logging)
          console.count("\u{1F7E1} NodeChanged");
        this.nodeChangedCount++;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeAdded,
      (_canvas, _edge) => {
        if (this.logging)
          console.count("\u{1F7E2} EdgeAdded");
        this.edgeAddedCount++;
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeChanged,
      (_canvas, _edge) => {
        if (this.logging)
          console.count("\u{1F7E1} EdgeChanged");
        this.edgeChangedCount++;
      }
    ));
  }
  resetEfficiency() {
    this.nodeAddedCount = 0;
    this.nodeChangedCount = 0;
    this.edgeAddedCount = 0;
    this.edgeChangedCount = 0;
  }
  logEfficiency() {
    const canvas = this.plugin.getCurrentCanvas();
    if (!canvas)
      return;
    console.log("NodeAdded Efficiency:", this.nodeAddedCount / canvas.nodes.size);
    console.log("NodeChanged Efficiency:", this.nodeChangedCount / canvas.nodes.size);
    console.log("EdgeAdded Efficiency:", this.edgeAddedCount / canvas.edges.size);
    console.log("EdgeChanged Efficiency:", this.edgeChangedCount / canvas.edges.size);
  }
};

// src/utils/migration-helper.ts
var MigrationHelper = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async migrate() {
    this.migrateNodeAndEdgeStyles();
  }
  migrateNodeAndEdgeStyles() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => {
        for (const node of canvas.nodes.values()) {
          const nodeData = node.getData();
          const newStyleAttributes = {};
          if (nodeData.isSticker)
            newStyleAttributes["border"] = "invisible";
          if (nodeData.borderStyle)
            newStyleAttributes["border"] = nodeData.borderStyle;
          if (nodeData.shape) {
            newStyleAttributes.textAlign = "center";
            newStyleAttributes.shape = nodeData.shape;
            if ((newStyleAttributes == null ? void 0 : newStyleAttributes.shape) === "centered-rectangle")
              delete newStyleAttributes.shape;
            if ((newStyleAttributes == null ? void 0 : newStyleAttributes.shape) === "oval")
              newStyleAttributes.shape = "pill";
          }
          delete nodeData.isSticker;
          delete nodeData.borderStyle;
          delete nodeData.shape;
          node.setData({
            ...nodeData,
            styleAttributes: {
              ...nodeData.styleAttributes,
              ...newStyleAttributes
            }
          });
        }
        for (const edge of canvas.edges.values()) {
          const edgeData = edge.getData();
          const newStyleAttributes = {};
          if (edgeData.edgeStyle)
            newStyleAttributes.edge = edgeData.edgeStyle;
          if (edgeData.edgePathRoute)
            newStyleAttributes.pathfindingMethod = edgeData.edgePathRoute;
          delete edgeData.edgeStyle;
          delete edgeData.edgePathRoute;
        }
      }
    ));
  }
};

// src/managers/windows-manager.ts
var WindowsManager = class {
  constructor(plugin) {
    this.windows = [window];
    this.plugin = plugin;
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "window-open",
      (_win, window2) => this.windows.push(window2)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "window-close",
      (_win, window2) => this.windows = this.windows.filter((w) => w !== window2)
    ));
  }
};

// node_modules/monkey-around/mjs/index.js
function around(obj, factories) {
  const removers = Object.keys(factories).map((key) => around1(obj, key, factories[key]));
  return removers.length === 1 ? removers[0] : function() {
    removers.forEach((r) => r());
  };
}
function around1(obj, method, createWrapper) {
  const original = obj[method], hadOwn = obj.hasOwnProperty(method);
  let current = createWrapper(original);
  if (original)
    Object.setPrototypeOf(current, original);
  Object.setPrototypeOf(wrapper, current);
  obj[method] = wrapper;
  return remove;
  function wrapper(...args) {
    if (current === original && obj[method] === wrapper)
      remove();
    return current.apply(this, args);
  }
  function remove() {
    if (obj[method] === wrapper) {
      if (hadOwn)
        obj[method] = original;
      else
        delete obj[method];
    }
    if (current === original)
      return;
    current = original;
    Object.setPrototypeOf(wrapper, original || Function);
  }
}

// src/utils/patch-helper.ts
var PatchHelper = class {
  static tryPatchWorkspacePrototype(plugin, getTarget, functions) {
    return new Promise((resolve) => {
      const tryPatch = () => {
        const target = getTarget();
        if (!target)
          return null;
        const uninstaller = around(target.constructor.prototype, functions);
        plugin.register(uninstaller);
        return target;
      };
      const result = tryPatch();
      if (result) {
        resolve(result);
        return;
      }
      const listener = plugin.app.workspace.on("layout-change", () => {
        const result2 = tryPatch();
        if (result2) {
          plugin.app.workspace.offref(listener);
          resolve(result2);
        }
      });
      plugin.registerEvent(listener);
    });
  }
  static patchObjectPrototype(plugin, target, functions) {
    const uninstaller = around(target.constructor.prototype, functions);
    plugin.register(uninstaller);
  }
  static patchObjectInstance(plugin, target, functions) {
    const uninstaller = around(target, functions);
    plugin.register(uninstaller);
  }
};

// src/patchers/canvas-patcher.ts
var import_obsidian4 = require("obsidian");
var import_view = require("@codemirror/view");

// node_modules/tiny-jsonc/dist/index.js
var stringOrCommentRe = /("(?:\\?[^])*?")|(\/\/.*)|(\/\*[^]*?\*\/)/g;
var stringOrTrailingCommaRe = /("(?:\\?[^])*?")|(,\s*)(?=]|})/g;
var JSONC = {
  parse: (text) => {
    text = String(text);
    try {
      return JSON.parse(text);
    } catch (e) {
      return JSON.parse(text.replace(stringOrCommentRe, "$1").replace(stringOrTrailingCommaRe, "$1"));
    }
  }
};
var dist_default = JSONC;

// src/patchers/canvas-patcher.ts
var import_json_stable_stringify = __toESM(require_json_stable_stringify());

// src/patchers/patcher.ts
var Patcher = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.patch();
  }
};

// src/patchers/canvas-patcher.ts
var CanvasPatcher = class extends Patcher {
  async patch() {
    const that = this;
    await new Promise((resolve) => this.plugin.app.workspace.onLayoutReady(() => resolve()));
    const getCanvasView = async () => {
      var _a;
      const canvasLeaf = (_a = this.plugin.app.workspace.getLeavesOfType("canvas")) == null ? void 0 : _a.first();
      if (!canvasLeaf)
        return null;
      if ((0, import_obsidian4.requireApiVersion)("1.7.2"))
        await canvasLeaf.loadIfDeferred();
      return canvasLeaf.view;
    };
    let canvasView = await getCanvasView();
    canvasView != null ? canvasView : canvasView = await new Promise((resolve) => {
      const event = this.plugin.app.workspace.on("layout-change", async () => {
        const newCanvasView = await getCanvasView();
        if (!newCanvasView)
          return;
        resolve(newCanvasView);
        this.plugin.app.workspace.offref(event);
      });
      this.plugin.registerEvent(event);
    });
    PatchHelper.patchObjectPrototype(this.plugin, canvasView, {
      getViewData: (next) => function(...args) {
        const canvasData = this.canvas.getData();
        try {
          return (0, import_json_stable_stringify.default)(canvasData, { space: 2 });
        } catch (e) {
          console.error("Failed to stringify canvas data using json-stable-stringify:", e);
          try {
            return JSON.stringify(canvasData, null, 2);
          } catch (e2) {
            console.error("Failed to stringify canvas data using JSON.stringify:", e2);
            return next.call(this, ...args);
          }
        }
      },
      setViewData: (next) => function(json, ...args) {
        json = json !== "" ? json : "{}";
        let result;
        try {
          result = next.call(this, json, ...args);
        } catch (e) {
          console.error("Invalid JSON, repairing through Advanced Canvas:", e);
          that.plugin.createFileSnapshot(this.file.path, json);
          json = JSON.stringify(dist_default.parse(json), null, 2);
          result = next.call(this, json, ...args);
        }
        that.triggerWorkspaceEvent(CanvasEvent.CanvasChanged, this.canvas);
        return result;
      }
    });
    PatchHelper.patchObjectPrototype(this.plugin, canvasView.canvas, {
      markViewportChanged: (next) => function(...args) {
        that.triggerWorkspaceEvent(CanvasEvent.ViewportChanged.Before, this);
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.ViewportChanged.After, this);
        return result;
      },
      markMoved: (next) => function(node) {
        const result = next.call(this, node);
        that.triggerWorkspaceEvent(CanvasEvent.NodeMoved, this, node);
        return result;
      },
      onDoubleClick: (next) => function(event) {
        const preventDefault = { value: false };
        that.triggerWorkspaceEvent(CanvasEvent.DoubleClick, this, event, preventDefault);
        if (!preventDefault.value)
          next.call(this, event);
      },
      setDragging: (next) => function(dragging) {
        const result = next.call(this, dragging);
        that.triggerWorkspaceEvent(CanvasEvent.DraggingStateChanged, this, dragging);
        return result;
      },
      getContainingNodes: (next) => function(bbox) {
        const result = next.call(this, bbox);
        that.triggerWorkspaceEvent(CanvasEvent.ContainingNodesRequested, this, bbox, result);
        return result;
      },
      updateSelection: (next) => function(update) {
        const oldSelection = new Set(this.selection);
        const result = next.call(this, update);
        that.triggerWorkspaceEvent(CanvasEvent.SelectionChanged, this, oldSelection, (update2) => next.call(this, update2));
        return result;
      },
      createTextNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      createFileNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      createFileNodes: (next) => function(...args) {
        const nodes = next.call(this, ...args);
        nodes.forEach((node) => that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node));
        return nodes;
      },
      createGroupNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      createLinkNode: (next) => function(...args) {
        const node = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeCreated, this, node);
        return node;
      },
      addNode: (next) => function(node) {
        that.patchNode(node);
        return next.call(this, node);
      },
      addEdge: (next) => function(edge) {
        that.patchEdge(edge);
        if (!this.viewportChanged)
          that.triggerWorkspaceEvent(CanvasEvent.EdgeCreated, this, edge);
        return next.call(this, edge);
      },
      removeNode: (next) => function(node) {
        const result = next.call(this, node);
        if (!this.isClearing)
          that.triggerWorkspaceEvent(CanvasEvent.NodeRemoved, this, node);
        return result;
      },
      removeEdge: (next) => function(edge) {
        const result = next.call(this, edge);
        if (!this.isClearing)
          that.triggerWorkspaceEvent(CanvasEvent.EdgeRemoved, this, edge);
        return result;
      },
      handleCopy: (next) => function(...args) {
        this.isCopying = true;
        const result = next.call(this, ...args);
        this.isCopying = false;
        return result;
      },
      getSelectionData: (next) => function(...args) {
        const result = next.call(this, ...args);
        if (this.isCopying)
          that.triggerWorkspaceEvent(CanvasEvent.OnCopy, this, result);
        return result;
      },
      zoomToBbox: (next) => function(bbox) {
        that.triggerWorkspaceEvent(CanvasEvent.ZoomToBbox.Before, this, bbox);
        const result = next.call(this, bbox);
        that.triggerWorkspaceEvent(CanvasEvent.ZoomToBbox.After, this, bbox);
        return result;
      },
      setReadonly: (next) => function(readonly) {
        const result = next.call(this, readonly);
        that.triggerWorkspaceEvent(CanvasEvent.ReadonlyChanged, this, readonly);
        return result;
      },
      undo: (next) => function(...args) {
        const result = next.call(this, ...args);
        this.importData(this.getData(), true);
        that.triggerWorkspaceEvent(CanvasEvent.Undo, this);
        return result;
      },
      redo: (next) => function(...args) {
        const result = next.call(this, ...args);
        this.importData(this.getData(), true);
        that.triggerWorkspaceEvent(CanvasEvent.Redo, this);
        return result;
      },
      clear: (next) => function(...args) {
        this.isClearing = true;
        const result = next.call(this, ...args);
        this.isClearing = false;
        return result;
      },
      /*setData: (next: any) => function (...args: any) {
        //
        const result = next.call(this, ...args)
        //
        return result
      },*/
      getData: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.DataRequested, this, result);
        return result;
      },
      importData: (next) => function(data, clearCanvas, silent) {
        const targetFilePath = this.view.file.path;
        const setData = (data2) => {
          if (!this.view.file || this.view.file.path !== targetFilePath)
            return;
          this.importData(data2, true, true);
        };
        if (!silent)
          that.triggerWorkspaceEvent(CanvasEvent.LoadData, this, data, setData);
        const result = next.call(this, data, clearCanvas);
        return result;
      },
      requestSave: (next) => function(...args) {
        that.triggerWorkspaceEvent(CanvasEvent.CanvasSaved.Before, this);
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.CanvasSaved.After, this);
        return result;
      }
    });
    PatchHelper.patchObjectPrototype(this.plugin, canvasView.canvas.menu, {
      render: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.PopupMenuCreated, this.canvas);
        next.call(this);
        return result;
      }
    });
    PatchHelper.patchObjectPrototype(this.plugin, canvasView.canvas.nodeInteractionLayer, {
      setTarget: (next) => function(node) {
        const result = next.call(this, node);
        that.triggerWorkspaceEvent(CanvasEvent.NodeInteraction, this.canvas, node);
        return result;
      }
    });
    this.plugin.registerEditorExtension([import_view.EditorView.updateListener.of((update) => {
      if (!update.docChanged)
        return;
      const editor = update.state.field(import_obsidian4.editorInfoField);
      const node = editor.node;
      if (!node)
        return;
      that.triggerWorkspaceEvent(CanvasEvent.NodeTextContentChanged, node.canvas, node, update);
    })]);
    this.plugin.app.workspace.iterateAllLeaves((leaf) => {
      if (leaf.view.getViewType() !== "canvas")
        return;
      const canvasView2 = leaf.view;
      canvasView2.leaf.rebuildView();
    });
  }
  patchNode(node) {
    const that = this;
    PatchHelper.patchObjectInstance(this.plugin, node, {
      setData: (next) => function(data, addHistory) {
        const result = next.call(this, data);
        if (node.initialized && !node.isDirty) {
          node.isDirty = true;
          that.triggerWorkspaceEvent(CanvasEvent.NodeChanged, this.canvas, node);
          delete node.isDirty;
        }
        this.canvas.data = this.canvas.getData();
        this.canvas.view.requestSave();
        if (addHistory)
          this.canvas.pushHistory(this.canvas.data);
        return result;
      },
      setIsEditing: (next) => function(editing, ...args) {
        const result = next.call(this, editing, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeEditingStateChanged, this.canvas, node, editing);
        return result;
      },
      updateBreakpoint: (next) => function(breakpoint) {
        const breakpointRef = { value: breakpoint };
        that.triggerWorkspaceEvent(CanvasEvent.NodeBreakpointChanged, this.canvas, node, breakpointRef);
        return next.call(this, breakpointRef.value);
      },
      getBBox: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.NodeBBoxRequested, this.canvas, node, result);
        return result;
      }
    });
    this.runAfterInitialized(node, () => {
      this.triggerWorkspaceEvent(CanvasEvent.NodeAdded, node.canvas, node);
      this.triggerWorkspaceEvent(CanvasEvent.NodeChanged, node.canvas, node);
    });
  }
  patchEdge(edge) {
    const that = this;
    PatchHelper.patchObjectInstance(this.plugin, edge, {
      setData: (next) => function(data, addHistory) {
        const result = next.call(this, data);
        if (edge.initialized && !edge.isDirty) {
          edge.isDirty = true;
          that.triggerWorkspaceEvent(CanvasEvent.EdgeChanged, this.canvas, edge);
          delete edge.isDirty;
        }
        this.canvas.data = this.canvas.getData();
        this.canvas.view.requestSave();
        if (addHistory)
          this.canvas.pushHistory(this.canvas.getData());
        return result;
      },
      render: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.EdgeChanged, this.canvas, edge);
        return result;
      },
      getCenter: (next) => function(...args) {
        const result = next.call(this, ...args);
        that.triggerWorkspaceEvent(CanvasEvent.EdgeCenterRequested, this.canvas, edge, result);
        return result;
      }
    });
    this.runAfterInitialized(edge, () => {
      this.triggerWorkspaceEvent(CanvasEvent.EdgeAdded, edge.canvas, edge);
    });
  }
  runAfterInitialized(canvasElement, onReady) {
    if (canvasElement.initialized) {
      onReady();
      return;
    }
    const that = this;
    const uninstall = around(canvasElement, {
      initialize: (next) => function(...args) {
        const result = next.call(this, ...args);
        onReady();
        uninstall();
        return result;
      }
    });
    that.plugin.register(uninstall);
  }
  triggerWorkspaceEvent(event, ...args) {
    this.plugin.app.workspace.trigger(event, ...args);
  }
};

// src/patchers/metadata-cache-patcher.ts
var import_obsidian5 = require("obsidian");

// src/utils/hash-helper.ts
var import_crypto = __toESM(require("crypto"));
var HashHelper = class {
  static hash(str) {
    return import_crypto.default.createHash("sha256").update(str).digest("hex");
  }
};

// src/utils/path-helper.ts
var PathHelper = class {
  static extension(path) {
    return path.includes(".") ? path.split(".").pop() : void 0;
  }
};

// src/patchers/metadata-cache-patcher.ts
var MetadataCachePatcher = class extends Patcher {
  async patch() {
    if (!this.plugin.settings.getSetting("canvasMetadataCompatibilityEnabled"))
      return;
    const that = this;
    await PatchHelper.patchObjectPrototype(this.plugin, this.plugin.app.metadataCache, {
      getCache: (next) => function(filepath, ...args) {
        if (PathHelper.extension(filepath) === "canvas") {
          if (!this.fileCache.hasOwnProperty(filepath))
            return null;
          const hash = this.fileCache[filepath].hash;
          return this.metadataCache[hash] || null;
        }
        return next.call(this, filepath, ...args);
      },
      onCreateOrModify: (next) => async function(file, ...args) {
        if (PathHelper.extension(file.path) !== "canvas")
          return next.call(this, file, ...args);
        this.saveFileCache(file.path, {
          hash: HashHelper.hash(file.path),
          // Hash wouldn't get set in the original function
          mtime: file.stat.mtime,
          size: file.stat.size
        });
        this.resolveLinks(file.path);
      },
      resolveLinks: (next) => async function(filepath, ...args) {
        var _a;
        if (PathHelper.extension(filepath) !== "canvas")
          return next.call(this, filepath, ...args);
        const file = this.vault.getAbstractFileByPath(filepath);
        if (!(file instanceof import_obsidian5.TFile))
          return;
        const fileCache = this.fileCache[file.path];
        if (!fileCache)
          return;
        const content = JSON.parse((_a = await this.vault.cachedRead(file)) != null ? _a : "{}");
        if (!(content == null ? void 0 : content.nodes))
          return;
        const fileNodesEmbeds = content.nodes.filter((node) => node.type === "file" && node.file).map((node) => node.file).map((path) => ({
          link: path,
          original: path,
          displayText: path,
          position: { start: { line: 0, col: 0, offset: 0 }, end: { line: 0, col: 0, offset: 0 } }
        }));
        const textEncoder = new TextEncoder();
        const textNodesMetadataPromises = content.nodes.filter((node) => node.type === "text" && node.text).map((node) => node.text).map((text) => textEncoder.encode(text).buffer).map((buffer) => this.computeMetadataAsync(buffer));
        const textNodesMetadata = await Promise.all(textNodesMetadataPromises);
        const textNodesEmbeds = textNodesMetadata.map((metadata) => metadata.embeds || []).flat();
        const textNodesLinks = textNodesMetadata.map((metadata) => metadata.links || []).flat();
        this.metadataCache[fileCache.hash] = {
          v: 1,
          embeds: [
            ...fileNodesEmbeds,
            ...textNodesEmbeds
          ],
          links: [
            ...textNodesLinks
          ]
        };
        this.resolvedLinks[file.path] = [...fileNodesEmbeds, ...textNodesEmbeds, ...textNodesLinks].reduce((acc, cacheEntry) => {
          acc[cacheEntry.link] = (acc[cacheEntry.link] || 0) + 1;
          return acc;
        }, {});
        if (!that.plugin.settings.getSetting("treatFileNodeEdgesAsLinks"))
          return;
        for (const edge of (content == null ? void 0 : content.edges) || []) {
          const from = content.nodes.find((node) => node.id === edge.fromNode);
          const to = content.nodes.find((node) => node.id === edge.toNode);
          if (!from || !to)
            continue;
          if (from.type !== "file" || to.type !== "file" || !from.file || !to.file)
            continue;
          this.registerInternalLinkAC(file.name, from.file, to.file);
          if (!(edge.toEnd !== "none" || edge.fromEnd === "arrow"))
            this.registerInternalLinkAC(file.name, to.file, from.file);
        }
      },
      registerInternalLinkAC: (_next) => function(canvasName, from, to) {
        var _a, _b, _c, _d;
        const fromFileHash = (_b = (_a = this.fileCache[from]) == null ? void 0 : _a.hash) != null ? _b : HashHelper.hash(from);
        const fromFileMetadataCache = (_c = this.metadataCache[fromFileHash]) != null ? _c : { v: 1 };
        this.metadataCache[fromFileHash] = {
          ...fromFileMetadataCache,
          links: [
            ...fromFileMetadataCache.links || [],
            {
              link: to,
              original: to,
              displayText: `${canvasName} \u2192 ${to}`,
              position: { start: { line: 0, col: 0, offset: 0 }, end: { line: 0, col: 0, offset: 0 } }
            }
          ]
        };
        this.resolvedLinks[from] = {
          ...this.resolvedLinks[from],
          [to]: (((_d = this.resolvedLinks[from]) == null ? void 0 : _d[to]) || 0) + 1
        };
      }
    });
    this.plugin.app.workspace.onLayoutReady(() => {
      const graphViews = [...this.plugin.app.workspace.getLeavesOfType("graph"), ...this.plugin.app.workspace.getLeavesOfType("localgraph")];
      for (const view of graphViews)
        view.rebuildView();
    });
  }
};

// src/patchers/backlinks-patcher.ts
var import_obsidian6 = require("obsidian");
var BacklinksPatcher = class extends Patcher {
  constructor() {
    super(...arguments);
    this.isRecomputingBacklinks = false;
  }
  async patch() {
    if (!this.plugin.settings.getSetting("canvasMetadataCompatibilityEnabled"))
      return;
    const that = this;
    const backlinkPatch = PatchHelper.tryPatchWorkspacePrototype(this.plugin, () => {
      var _a, _b;
      return (_b = (_a = this.plugin.app.workspace.getLeavesOfType("backlink").first()) == null ? void 0 : _a.view) == null ? void 0 : _b.backlink;
    }, {
      recomputeBacklink: (next) => function(file, ...args) {
        that.isRecomputingBacklinks = true;
        const result = next.call(this, file, ...args);
        that.isRecomputingBacklinks = false;
        return result;
      }
    });
    const vaultPatch = PatchHelper.patchObjectPrototype(this.plugin, this.plugin.app.vault, {
      recurseChildrenAC: (_next) => function(origin, traverse) {
        for (var stack = [origin]; stack.length > 0; ) {
          var current = stack.pop();
          if (current) {
            traverse(current);
            if (current instanceof import_obsidian6.TFolder)
              stack = stack.concat(current.children);
          }
        }
      },
      getMarkdownFiles: (next) => function(file, ...args) {
        if (!that.isRecomputingBacklinks)
          return next.call(this, file, ...args);
        var files = [];
        var root = this.getRoot();
        this.recurseChildrenAC(root, (child) => {
          if (child instanceof import_obsidian6.TFile && (child.extension === "md" || child.extension === "canvas")) {
            files.push(child);
          }
        });
        return files;
      }
    });
    const [backlink] = await Promise.all([backlinkPatch, vaultPatch]);
    backlink.recomputeBacklink(this.plugin.app.workspace.getActiveFile());
  }
};

// src/patchers/outgoing-links-patcher.ts
var OutgoingLinksPatcher = class extends Patcher {
  async patch() {
    if (!this.plugin.settings.getSetting("canvasMetadataCompatibilityEnabled"))
      return;
    const that = this;
    const outgoingLinkPatch = PatchHelper.tryPatchWorkspacePrototype(this.plugin, () => {
      var _a, _b;
      return (_b = (_a = this.plugin.app.workspace.getLeavesOfType("outgoing-link").first()) == null ? void 0 : _a.view) == null ? void 0 : _b.outgoingLink;
    }, {
      recomputeLinks: (next) => function(...args) {
        var _a;
        const isCanvas = ((_a = this.file) == null ? void 0 : _a.extension) === "canvas";
        if (isCanvas)
          this.file.extension = "md";
        const result = next.call(this, ...args);
        if (isCanvas)
          this.file.extension = "canvas";
        return result;
      },
      recomputeUnlinked: (next) => function(...args) {
        var _a;
        const isCanvas = ((_a = this.file) == null ? void 0 : _a.extension) === "canvas";
        if (isCanvas)
          this.file.extension = "md";
        const result = next.call(this, ...args);
        if (isCanvas)
          this.file.extension = "canvas";
        return result;
      }
    });
    const [outgoingLink] = await Promise.all([outgoingLinkPatch]);
    outgoingLink.recomputeLinks();
    outgoingLink.recomputeUnlinked();
  }
};

// src/utils/canvas-helper.ts
var import_obsidian7 = require("obsidian");

// src/utils/bbox-helper.ts
var BBoxHelper = class {
  static combineBBoxes(bboxes) {
    let minX = Infinity;
    let minY = Infinity;
    let maxX = -Infinity;
    let maxY = -Infinity;
    for (let bbox of bboxes) {
      minX = Math.min(minX, bbox.minX);
      minY = Math.min(minY, bbox.minY);
      maxX = Math.max(maxX, bbox.maxX);
      maxY = Math.max(maxY, bbox.maxY);
    }
    return { minX, minY, maxX, maxY };
  }
  static scaleBBox(bbox, scale) {
    let diffX = (scale - 1) * (bbox.maxX - bbox.minX);
    let diffY = (scale - 1) * (bbox.maxY - bbox.minY);
    return {
      minX: bbox.minX - diffX / 2,
      maxX: bbox.maxX + diffX / 2,
      minY: bbox.minY - diffY / 2,
      maxY: bbox.maxY + diffY / 2
    };
  }
  static isColliding(bbox1, bbox2) {
    return bbox1.minX <= bbox2.maxX && bbox1.maxX >= bbox2.minX && bbox1.minY <= bbox2.maxY && bbox1.maxY >= bbox2.minY;
  }
  static insideBBox(position, bbox, canTouchEdge) {
    var _a, _b, _c, _d;
    const providedBBox = {
      minX: (_a = position.minX) != null ? _a : position.x,
      minY: (_b = position.minY) != null ? _b : position.y,
      maxX: (_c = position.maxX) != null ? _c : position.x,
      maxY: (_d = position.maxY) != null ? _d : position.y
    };
    return canTouchEdge ? providedBBox.minX >= bbox.minX && providedBBox.maxX <= bbox.maxX && providedBBox.minY >= bbox.minY && providedBBox.maxY <= bbox.maxY : providedBBox.minX > bbox.minX && providedBBox.maxX < bbox.maxX && providedBBox.minY > bbox.minY && providedBBox.maxY < bbox.maxY;
  }
  static enlargeBBox(bbox, padding) {
    return {
      minX: bbox.minX - padding,
      minY: bbox.minY - padding,
      maxX: bbox.maxX + padding,
      maxY: bbox.maxY + padding
    };
  }
  static moveInDirection(position, side, distance) {
    switch (side) {
      case "top":
        return { x: position.x, y: position.y - distance };
      case "right":
        return { x: position.x + distance, y: position.y };
      case "bottom":
        return { x: position.x, y: position.y + distance };
      case "left":
        return { x: position.x - distance, y: position.y };
    }
  }
  static getCenterOfBBoxSide(bbox, side) {
    switch (side) {
      case "top":
        return { x: (bbox.minX + bbox.maxX) / 2, y: bbox.minY };
      case "right":
        return { x: bbox.maxX, y: (bbox.minY + bbox.maxY) / 2 };
      case "bottom":
        return { x: (bbox.minX + bbox.maxX) / 2, y: bbox.maxY };
      case "left":
        return { x: bbox.minX, y: (bbox.minY + bbox.maxY) / 2 };
    }
  }
  static getSideVector(side) {
    switch (side) {
      case "top":
        return { x: 0, y: 1 };
      case "right":
        return { x: 1, y: 0 };
      case "bottom":
        return { x: 0, y: -1 };
      case "left":
        return { x: -1, y: 0 };
      default:
        return { x: 0, y: 0 };
    }
  }
  static getOppositeSide(side) {
    switch (side) {
      case "top":
        return "bottom";
      case "right":
        return "left";
      case "bottom":
        return "top";
      case "left":
        return "right";
    }
  }
  static isHorizontal(side) {
    return side === "left" || side === "right";
  }
  static direction(side) {
    return side === "right" || side === "bottom" ? 1 : -1;
  }
};

// src/utils/canvas-helper.ts
var _CanvasHelper = class _CanvasHelper {
  static canvasCommand(plugin, check, run) {
    return (checking) => {
      const canvas = plugin.getCurrentCanvas();
      if (checking)
        return canvas !== null && check(canvas);
      if (canvas)
        run(canvas);
      return true;
    };
  }
  static createControlMenuButton(menuOption) {
    const quickSetting = document.createElement("div");
    if (menuOption.id)
      quickSetting.id = menuOption.id;
    quickSetting.classList.add("canvas-control-item");
    (0, import_obsidian7.setIcon)(quickSetting, menuOption.icon);
    (0, import_obsidian7.setTooltip)(quickSetting, menuOption.label, { placement: "left" });
    quickSetting.addEventListener("click", () => {
      var _a;
      return (_a = menuOption.callback) == null ? void 0 : _a.call(menuOption);
    });
    return quickSetting;
  }
  static addControlMenuButton(controlGroup, element) {
    var _a;
    if (element.id)
      (_a = controlGroup.querySelector(`#${element.id}`)) == null ? void 0 : _a.remove();
    controlGroup.appendChild(element);
  }
  static createCardMenuOption(canvas, menuOption, previewNodeSize, onPlaced) {
    const menuOptionElement = document.createElement("div");
    if (menuOption.id)
      menuOptionElement.id = menuOption.id;
    menuOptionElement.classList.add("canvas-card-menu-button");
    menuOptionElement.classList.add("mod-draggable");
    (0, import_obsidian7.setIcon)(menuOptionElement, menuOption.icon);
    (0, import_obsidian7.setTooltip)(menuOptionElement, menuOption.label, { placement: "top" });
    menuOptionElement.addEventListener("click", (_e) => {
      onPlaced(canvas, this.getCenterCoordinates(canvas, previewNodeSize()));
    });
    menuOptionElement.addEventListener("pointerdown", (e) => {
      canvas.dragTempNode(e, previewNodeSize(), (pos) => {
        canvas.deselectAll();
        onPlaced(canvas, pos);
      });
    });
    return menuOptionElement;
  }
  static addCardMenuOption(canvas, element) {
    var _a;
    if (element.id)
      (_a = canvas == null ? void 0 : canvas.cardMenuEl.querySelector(`#${element.id}`)) == null ? void 0 : _a.remove();
    canvas == null ? void 0 : canvas.cardMenuEl.appendChild(element);
  }
  static createPopupMenuOption(menuOption) {
    const menuOptionElement = document.createElement("button");
    if (menuOption.id)
      menuOptionElement.id = menuOption.id;
    menuOptionElement.classList.add("clickable-icon");
    (0, import_obsidian7.setIcon)(menuOptionElement, menuOption.icon);
    (0, import_obsidian7.setTooltip)(menuOptionElement, menuOption.label, { placement: "top" });
    menuOptionElement.addEventListener("click", () => {
      var _a;
      return (_a = menuOption.callback) == null ? void 0 : _a.call(menuOption);
    });
    return menuOptionElement;
  }
  static createExpandablePopupMenuOption(menuOption, subMenuOptions) {
    const menuOptionElement = this.createPopupMenuOption({
      ...menuOption,
      callback: () => {
        var _a, _b, _c;
        const submenuId = `${menuOption.id}-submenu`;
        if (menuOptionElement.classList.contains("is-active")) {
          menuOptionElement.classList.remove("is-active");
          (_b = (_a = menuOptionElement.parentElement) == null ? void 0 : _a.querySelector(`#${submenuId}`)) == null ? void 0 : _b.remove();
          return;
        }
        menuOptionElement.classList.add("is-active");
        const submenu = document.createElement("div");
        submenu.id = submenuId;
        submenu.classList.add("canvas-submenu");
        for (const subMenuOption of subMenuOptions) {
          const subMenuOptionElement = this.createPopupMenuOption(subMenuOption);
          submenu.appendChild(subMenuOptionElement);
        }
        (_c = menuOptionElement.parentElement) == null ? void 0 : _c.appendChild(submenu);
      }
    });
    return menuOptionElement;
  }
  static addPopupMenuOption(canvas, element, index = -1) {
    var _a;
    const popupMenuEl = (_a = canvas == null ? void 0 : canvas.menu) == null ? void 0 : _a.menuEl;
    if (!popupMenuEl)
      return;
    if (element.id) {
      const optionToReplace = popupMenuEl.querySelector(`#${element.id}`);
      if (optionToReplace && index === -1)
        index = Array.from(popupMenuEl.children).indexOf(optionToReplace) - 1;
      optionToReplace == null ? void 0 : optionToReplace.remove();
    }
    const sisterElement = index >= 0 ? popupMenuEl.children[index] : popupMenuEl.children[popupMenuEl.children.length + index];
    popupMenuEl.insertAfter(element, sisterElement);
  }
  static getCenterCoordinates(canvas, nodeSize) {
    const viewBounds = canvas.getViewportBBox();
    return {
      x: (viewBounds.minX + viewBounds.maxX) / 2 - nodeSize.width / 2,
      y: (viewBounds.minY + viewBounds.maxY) / 2 - nodeSize.height / 2
    };
  }
  static getBBox(canvasNodes) {
    let minX = Infinity;
    let minY = Infinity;
    let maxX = -Infinity;
    let maxY = -Infinity;
    for (const node of canvasNodes) {
      const nodeData = node.getData ? node.getData() : node;
      minX = Math.min(minX, nodeData.x);
      minY = Math.min(minY, nodeData.y);
      maxX = Math.max(maxX, nodeData.x + nodeData.width);
      maxY = Math.max(maxY, nodeData.y + nodeData.height);
    }
    return { minX, minY, maxX, maxY };
  }
  static zoomToBBox(canvas, bbox) {
    const PADDING_CORRECTION_FACTOR = 1 / 1.1;
    const zoomedBBox = BBoxHelper.scaleBBox(bbox, PADDING_CORRECTION_FACTOR);
    canvas.zoomToBbox(zoomedBBox);
    const scaleFactor = Math.min(
      canvas.canvasRect.width / (bbox.maxX - bbox.minX),
      canvas.canvasRect.height / (bbox.maxY - bbox.minY)
    );
    canvas.tZoom = Math.log2(scaleFactor);
  }
  static addStyleAttributesToPopup(plugin, canvas, styleAttributes, currentStyleAttributes, setStyleAttribute) {
    if (!plugin.settings.getSetting("combineCustomStylesInDropdown"))
      this.addStyleAttributesButtons(canvas, styleAttributes, currentStyleAttributes, setStyleAttribute);
    else
      this.addStyleAttributesDropdownMenu(canvas, styleAttributes, currentStyleAttributes, setStyleAttribute);
  }
  static addStyleAttributesButtons(canvas, stylableAttributes, currentStyleAttributes, setStyleAttribute) {
    var _a;
    for (const stylableAttribute of stylableAttributes) {
      const selectedStyle = (_a = stylableAttribute.options.find((option) => currentStyleAttributes[stylableAttribute.datasetKey] === option.value)) != null ? _a : stylableAttribute.options.find((value) => value.value === null);
      const menuOption = _CanvasHelper.createExpandablePopupMenuOption({
        id: `menu-option-${stylableAttribute.datasetKey}`,
        label: stylableAttribute.label,
        icon: selectedStyle.icon
      }, stylableAttribute.options.map((styleOption) => ({
        label: styleOption.label,
        icon: styleOption.icon,
        callback: () => {
          setStyleAttribute(stylableAttribute, styleOption.value);
          currentStyleAttributes[stylableAttribute.datasetKey] = styleOption.value;
          (0, import_obsidian7.setIcon)(menuOption, styleOption.icon);
          menuOption.dispatchEvent(new Event("click"));
        }
      })));
      _CanvasHelper.addPopupMenuOption(canvas, menuOption);
    }
  }
  static addStyleAttributesDropdownMenu(canvas, stylableAttributes, currentStyleAttributes, setStyleAttribute) {
    var _a, _b;
    const STYLE_MENU_ID = "style-menu";
    const STYLE_MENU_DROPDOWN_ID = "style-menu-dropdown";
    const STYLE_MENU_DROPDOWN_SUBMENU_ID = "style-menu-dropdown-submenu";
    const popupMenuElement = (_a = canvas == null ? void 0 : canvas.menu) == null ? void 0 : _a.menuEl;
    if (!popupMenuElement)
      return;
    (_b = popupMenuElement.querySelector(`#${STYLE_MENU_ID}`)) == null ? void 0 : _b.remove();
    const styleMenuButtonElement = document.createElement("button");
    styleMenuButtonElement.id = STYLE_MENU_ID;
    styleMenuButtonElement.classList.add("clickable-icon");
    (0, import_obsidian7.setIcon)(styleMenuButtonElement, "paintbrush");
    (0, import_obsidian7.setTooltip)(styleMenuButtonElement, "Style", { placement: "top" });
    popupMenuElement.appendChild(styleMenuButtonElement);
    styleMenuButtonElement.addEventListener("click", () => {
      var _a2, _b2, _c;
      const isOpen = styleMenuButtonElement.classList.toggle("has-active-menu");
      if (!isOpen) {
        (_a2 = popupMenuElement.querySelector(`#${STYLE_MENU_DROPDOWN_ID}`)) == null ? void 0 : _a2.remove();
        (_b2 = popupMenuElement.querySelector(`#${STYLE_MENU_DROPDOWN_SUBMENU_ID}`)) == null ? void 0 : _b2.remove();
        return;
      }
      const styleMenuDropdownElement = document.createElement("div");
      styleMenuDropdownElement.id = STYLE_MENU_DROPDOWN_ID;
      styleMenuDropdownElement.classList.add("menu");
      styleMenuDropdownElement.style.position = "absolute";
      styleMenuDropdownElement.style.maxHeight = "initial";
      styleMenuDropdownElement.style.top = `${popupMenuElement.getBoundingClientRect().height}px`;
      const canvasWrapperCenterX = canvas.wrapperEl.getBoundingClientRect().left + canvas.wrapperEl.getBoundingClientRect().width / 2;
      const leftPosition = styleMenuButtonElement.getBoundingClientRect().left - popupMenuElement.getBoundingClientRect().left;
      const rightPosition = popupMenuElement.getBoundingClientRect().right - styleMenuButtonElement.getBoundingClientRect().right;
      if (popupMenuElement.getBoundingClientRect().left + leftPosition < canvasWrapperCenterX)
        styleMenuDropdownElement.style.left = `${leftPosition}px`;
      else
        styleMenuDropdownElement.style.right = `${rightPosition}px`;
      for (const stylableAttribute of stylableAttributes) {
        const stylableAttributeElement = document.createElement("div");
        stylableAttributeElement.classList.add("menu-item");
        stylableAttributeElement.classList.add("tappable");
        const iconElement = document.createElement("div");
        iconElement.classList.add("menu-item-icon");
        let selectedStyle = (_c = stylableAttribute.options.find((option) => currentStyleAttributes[stylableAttribute.datasetKey] === option.value)) != null ? _c : stylableAttribute.options.find((value) => value.value === null);
        (0, import_obsidian7.setIcon)(iconElement, selectedStyle.icon);
        stylableAttributeElement.appendChild(iconElement);
        const labelElement = document.createElement("div");
        labelElement.classList.add("menu-item-title");
        labelElement.textContent = stylableAttribute.label;
        stylableAttributeElement.appendChild(labelElement);
        const expandIconElement = document.createElement("div");
        expandIconElement.classList.add("menu-item-icon");
        (0, import_obsidian7.setIcon)(expandIconElement, "chevron-right");
        stylableAttributeElement.appendChild(expandIconElement);
        styleMenuDropdownElement.appendChild(stylableAttributeElement);
        stylableAttributeElement.addEventListener("pointerenter", () => {
          stylableAttributeElement.classList.add("selected");
        });
        stylableAttributeElement.addEventListener("pointerleave", () => {
          stylableAttributeElement.classList.remove("selected");
        });
        stylableAttributeElement.addEventListener("click", () => {
          var _a3;
          (_a3 = popupMenuElement.querySelector(`#${STYLE_MENU_DROPDOWN_SUBMENU_ID}`)) == null ? void 0 : _a3.remove();
          const styleMenuDropdownSubmenuElement = document.createElement("div");
          styleMenuDropdownSubmenuElement.id = STYLE_MENU_DROPDOWN_SUBMENU_ID;
          styleMenuDropdownSubmenuElement.classList.add("menu");
          styleMenuDropdownSubmenuElement.style.position = "absolute";
          styleMenuDropdownSubmenuElement.style.maxHeight = "initial";
          const topOffset = parseFloat(window.getComputedStyle(styleMenuDropdownElement).getPropertyValue("padding-top")) + (styleMenuDropdownElement.offsetHeight - styleMenuDropdownElement.clientHeight) / 2;
          styleMenuDropdownSubmenuElement.style.top = `${stylableAttributeElement.getBoundingClientRect().top - topOffset - popupMenuElement.getBoundingClientRect().top}px`;
          const leftPosition2 = styleMenuDropdownElement.getBoundingClientRect().right - popupMenuElement.getBoundingClientRect().left;
          const rightPosition2 = popupMenuElement.getBoundingClientRect().right - styleMenuDropdownElement.getBoundingClientRect().left;
          if (popupMenuElement.getBoundingClientRect().left + leftPosition2 < canvasWrapperCenterX)
            styleMenuDropdownSubmenuElement.style.left = `${leftPosition2}px`;
          else
            styleMenuDropdownSubmenuElement.style.right = `${rightPosition2}px`;
          for (const styleOption of stylableAttribute.options) {
            const styleMenuDropdownSubmenuOptionElement = this.createDropdownOptionElement({
              label: styleOption.label,
              icon: styleOption.icon,
              callback: () => {
                setStyleAttribute(stylableAttribute, styleOption.value);
                currentStyleAttributes[stylableAttribute.datasetKey] = styleOption.value;
                selectedStyle = styleOption;
                (0, import_obsidian7.setIcon)(iconElement, styleOption.icon);
                styleMenuDropdownSubmenuElement.remove();
              }
            });
            if (selectedStyle === styleOption) {
              styleMenuDropdownSubmenuOptionElement.classList.add("mod-selected");
              const selectedIconElement = document.createElement("div");
              selectedIconElement.classList.add("menu-item-icon");
              selectedIconElement.classList.add("mod-selected");
              (0, import_obsidian7.setIcon)(selectedIconElement, "check");
              styleMenuDropdownSubmenuOptionElement.appendChild(selectedIconElement);
            }
            styleMenuDropdownSubmenuElement.appendChild(styleMenuDropdownSubmenuOptionElement);
          }
          popupMenuElement.appendChild(styleMenuDropdownSubmenuElement);
        });
      }
      popupMenuElement.appendChild(styleMenuDropdownElement);
    });
  }
  static createDropdownOptionElement(menuOption) {
    const menuDropdownOptionElement = document.createElement("div");
    menuDropdownOptionElement.classList.add("menu-item");
    menuDropdownOptionElement.classList.add("tappable");
    const iconElement = document.createElement("div");
    iconElement.classList.add("menu-item-icon");
    (0, import_obsidian7.setIcon)(iconElement, menuOption.icon);
    menuDropdownOptionElement.appendChild(iconElement);
    const labelElement = document.createElement("div");
    labelElement.classList.add("menu-item-title");
    labelElement.textContent = menuOption.label;
    menuDropdownOptionElement.appendChild(labelElement);
    menuDropdownOptionElement.addEventListener("pointerenter", () => {
      menuDropdownOptionElement.classList.add("selected");
    });
    menuDropdownOptionElement.addEventListener("pointerleave", () => {
      menuDropdownOptionElement.classList.remove("selected");
    });
    menuDropdownOptionElement.addEventListener("click", () => {
      var _a;
      (_a = menuOption.callback) == null ? void 0 : _a.call(menuOption);
    });
    return menuDropdownOptionElement;
  }
  static createDropdownSeparatorElement() {
    const separatorElement = document.createElement("div");
    separatorElement.classList.add("menu-separator");
    return separatorElement;
  }
};
_CanvasHelper.GRID_SIZE = 20;
var CanvasHelper = _CanvasHelper;

// src/canvas-extensions/group-canvas-extension.ts
var GROUP_NODE_SIZE = { width: 300, height: 300 };
var GroupCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => {
        CanvasHelper.addCardMenuOption(
          canvas,
          CanvasHelper.createCardMenuOption(
            canvas,
            {
              id: "create-group",
              label: "Drag to add group",
              icon: "group"
            },
            () => GROUP_NODE_SIZE,
            (canvas2, pos) => {
              canvas2.createGroupNode({
                pos,
                size: GROUP_NODE_SIZE
              });
            }
          )
        );
      }
    ));
  }
};

// src/canvas-extensions/presentation-canvas-extension.ts
var import_obsidian8 = require("obsidian");
var START_SLIDE_NAME = "Start Slide";
var DEFAULT_SLIDE_NAME = "New Slide";
var PresentationCanvasExtension = class extends CanvasExtension {
  constructor() {
    super(...arguments);
    this.savedViewport = null;
    this.isPresentationMode = false;
    this.visitedNodeIds = [];
    this.fullscreenModalObserver = null;
  }
  isEnabled() {
    return "presentationFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.SelectionContextMenu,
      (menu, canvas) => {
        menu.addItem(
          (item) => item.setTitle("Wrap in slide").setIcon("gallery-vertical").onClick(() => this.addSlide(
            canvas,
            void 0,
            BBoxHelper.enlargeBBox(BBoxHelper.combineBBoxes(
              [...canvas.selection.values()].map((element) => element.getBBox())
            ), this.plugin.settings.getSetting("wrapInSlidePadding"))
          ))
        );
      }
    ));
    this.plugin.addCommand({
      id: "create-new-slide",
      name: "Create new slide",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && !this.isPresentationMode,
        (canvas) => this.addSlide(canvas)
      )
    });
    this.plugin.addCommand({
      id: "set-start-node",
      name: "Set start node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && !this.isPresentationMode && canvas.getSelectionData().nodes.length === 1,
        (canvas) => this.setStartNode(canvas, canvas.nodes.get(canvas.getSelectionData().nodes[0].id))
      )
    });
    this.plugin.addCommand({
      id: "start-presentation",
      name: "Start presentation",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => !this.isPresentationMode,
        (canvas) => this.startPresentation(canvas)
      )
    });
    this.plugin.addCommand({
      id: "continue-presentation",
      name: "Continue presentation",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => !this.isPresentationMode,
        (canvas) => this.startPresentation(canvas, true)
      )
    });
    this.plugin.addCommand({
      id: "end-presentation",
      name: "End presentation",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => this.isPresentationMode,
        (canvas) => this.endPresentation(canvas)
      )
    });
    this.plugin.addCommand({
      id: "previous-node",
      name: "Previous node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => this.isPresentationMode,
        (canvas) => this.previousNode(canvas)
      )
    });
    this.plugin.addCommand({
      id: "next-node",
      name: "Next node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => this.isPresentationMode,
        (canvas) => this.nextNode(canvas)
      )
    });
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.onCanvasChanged(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeMoved,
      (canvas, node) => this.onNodeMoved(canvas, node)
    ));
  }
  onCanvasChanged(canvas) {
    CanvasHelper.addCardMenuOption(
      canvas,
      CanvasHelper.createCardMenuOption(
        canvas,
        {
          id: "new-slide",
          label: "Drag to add slide",
          icon: "gallery-vertical"
        },
        () => this.getDefaultSlideSize(),
        (canvas2, pos) => this.addSlide(canvas2, pos)
      )
    );
  }
  onPopupMenuCreated(canvas) {
    if (!this.plugin.settings.getSetting("showSetStartNodeInPopup"))
      return;
    const selectedNodesData = canvas.getSelectionData().nodes;
    if (canvas.readonly || selectedNodesData.length !== 1 || canvas.selection.size > 1)
      return;
    const selectedNode = canvas.nodes.get(selectedNodesData[0].id);
    if (!selectedNode)
      return;
    CanvasHelper.addPopupMenuOption(
      canvas,
      CanvasHelper.createPopupMenuOption({
        id: "start-node",
        label: "Set as start slide",
        icon: "play",
        callback: () => this.setStartNode(canvas, selectedNode)
      })
    );
  }
  onNodeMoved(_canvas, node) {
    const nodeData = node.getData();
    if (!nodeData.sideRatio)
      return;
    const nodeBBox = node.getBBox();
    const nodeSize = {
      width: nodeBBox.maxX - nodeBBox.minX,
      height: nodeBBox.maxY - nodeBBox.minY
    };
    const nodeAspectRatio = nodeSize.width / nodeSize.height;
    if (nodeAspectRatio < nodeData.sideRatio)
      nodeSize.width = nodeSize.height * nodeData.sideRatio;
    else
      nodeSize.height = nodeSize.width / nodeData.sideRatio;
    node.setData({
      ...nodeData,
      width: nodeSize.width,
      height: nodeSize.height
    });
  }
  getStartNode(canvas) {
    for (const [_, node] of canvas.nodes) {
      if (node.getData().isStartNode)
        return node;
    }
    return void 0;
  }
  setStartNode(canvas, node) {
    if (!node)
      return;
    const startNode = this.getStartNode(canvas);
    if (startNode)
      startNode.setData({ ...startNode.getData(), isStartNode: false });
    if (node !== startNode)
      node.setData({ ...node.getData(), isStartNode: true }, true);
  }
  getDefaultSlideSize() {
    const slideSizeString = this.plugin.settings.getSetting("defaultSlideSize");
    const slideSizeArray = slideSizeString.split("x").map((value) => parseInt(value));
    return { width: slideSizeArray[0], height: slideSizeArray[1] };
  }
  getSlideAspectRatio() {
    const slideSize = this.getDefaultSlideSize();
    return slideSize.width / slideSize.height;
  }
  addSlide(canvas, pos, bbox) {
    const isStartNode = this.getStartNode(canvas) == null;
    const slideSize = this.getDefaultSlideSize();
    const slideAspectRatio = this.getSlideAspectRatio();
    if (bbox) {
      const bboxWidth = bbox.maxX - bbox.minX;
      const bboxHeight = bbox.maxY - bbox.minY;
      if (bboxWidth / bboxHeight > slideAspectRatio) {
        slideSize.width = bboxWidth;
        slideSize.height = bboxWidth / slideAspectRatio;
      } else {
        slideSize.height = bboxHeight;
        slideSize.width = bboxHeight * slideAspectRatio;
      }
      pos = {
        x: bbox.minX,
        y: bbox.minY
      };
    }
    if (!pos)
      pos = CanvasHelper.getCenterCoordinates(canvas, this.getDefaultSlideSize());
    const groupNode = canvas.createGroupNode({
      pos,
      size: slideSize,
      label: isStartNode ? START_SLIDE_NAME : DEFAULT_SLIDE_NAME,
      focus: false
    });
    groupNode.setData({
      ...groupNode.getData(),
      sideRatio: slideAspectRatio,
      isStartNode: isStartNode ? true : void 0
    });
  }
  async animateNodeTransition(canvas, fromNode, toNode) {
    const useCustomZoomFunction = this.plugin.settings.getSetting("zoomToSlideWithoutPadding");
    const animationDurationMs = this.plugin.settings.getSetting("slideTransitionAnimationDuration") * 1e3;
    if (animationDurationMs > 0 && fromNode) {
      const animationIntensity = this.plugin.settings.getSetting("slideTransitionAnimationIntensity");
      const currentNodeBBoxEnlarged = BBoxHelper.scaleBBox(fromNode.getBBox(), animationIntensity);
      if (useCustomZoomFunction)
        CanvasHelper.zoomToBBox(canvas, currentNodeBBoxEnlarged);
      else
        canvas.zoomToBbox(currentNodeBBoxEnlarged);
      await sleep(animationDurationMs / 2);
      if (fromNode.getData().id !== toNode.getData().id) {
        const nextNodeBBoxEnlarged = BBoxHelper.scaleBBox(toNode.getBBox(), animationIntensity + 0.1);
        if (useCustomZoomFunction)
          CanvasHelper.zoomToBBox(canvas, nextNodeBBoxEnlarged);
        else
          canvas.zoomToBbox(nextNodeBBoxEnlarged);
        await sleep(animationDurationMs / 2);
      }
    }
    let nodeBBox = toNode.getBBox();
    if (useCustomZoomFunction)
      CanvasHelper.zoomToBBox(canvas, nodeBBox);
    else
      canvas.zoomToBbox(nodeBBox);
  }
  async startPresentation(canvas, tryContinue = false) {
    if (!tryContinue || this.visitedNodeIds.length === 0) {
      const startNode2 = this.getStartNode(canvas);
      if (!startNode2) {
        new import_obsidian8.Notice("No start node found. Please mark a node as a start node trough the popup menu.");
        return;
      }
      this.visitedNodeIds = [startNode2.getData().id];
    }
    this.savedViewport = {
      x: canvas.tx,
      y: canvas.ty,
      zoom: canvas.tZoom
    };
    canvas.wrapperEl.focus();
    canvas.wrapperEl.requestFullscreen();
    canvas.wrapperEl.classList.add("presentation-mode");
    canvas.setReadonly(true);
    canvas.wrapperEl.onkeydown = (e) => {
      if (this.plugin.settings.getSetting("useArrowKeysToChangeSlides")) {
        if (e.key === "ArrowRight")
          this.nextNode(canvas);
        else if (e.key === "ArrowLeft")
          this.previousNode(canvas);
      }
      if (this.plugin.settings.getSetting("usePgUpPgDownKeysToChangeSlides")) {
        if (e.key === "PageDown")
          this.nextNode(canvas);
        else if (e.key === "PageUp")
          this.previousNode(canvas);
      }
    };
    this.fullscreenModalObserver = new MutationObserver((mutationRecords) => {
      mutationRecords.forEach((mutationRecord) => {
        mutationRecord.addedNodes.forEach((node) => {
          var _a;
          document.body.removeChild(node);
          (_a = document.fullscreenElement) == null ? void 0 : _a.appendChild(node);
        });
      });
      const inputField = document.querySelector(".prompt-input");
      if (inputField)
        inputField.focus();
    });
    this.fullscreenModalObserver.observe(document.body, { childList: true });
    canvas.wrapperEl.onfullscreenchange = (_e) => {
      if (document.fullscreenElement)
        return;
      this.endPresentation(canvas);
    };
    this.isPresentationMode = true;
    await sleep(500);
    const startNodeId = this.visitedNodeIds.first();
    if (!startNodeId)
      return;
    const startNode = canvas.nodes.get(startNodeId);
    if (!startNode)
      return;
    this.animateNodeTransition(canvas, void 0, startNode);
  }
  endPresentation(canvas) {
    var _a;
    (_a = this.fullscreenModalObserver) == null ? void 0 : _a.disconnect();
    this.fullscreenModalObserver = null;
    canvas.wrapperEl.onkeydown = null;
    canvas.wrapperEl.onfullscreenchange = null;
    canvas.setReadonly(false);
    canvas.wrapperEl.classList.remove("presentation-mode");
    if (document.fullscreenElement)
      document.exitFullscreen();
    if (this.plugin.settings.getSetting("resetViewportOnPresentationEnd"))
      canvas.setViewport(this.savedViewport.x, this.savedViewport.y, this.savedViewport.zoom);
    this.isPresentationMode = false;
  }
  nextNode(canvas) {
    var _a;
    const fromNodeId = this.visitedNodeIds.last();
    if (!fromNodeId)
      return;
    const fromNode = canvas.nodes.get(fromNodeId);
    if (!fromNode)
      return;
    const outgoingEdges = canvas.getEdgesForNode(fromNode).filter((edge) => edge.from.node.getData().id === fromNodeId);
    let toNode = (_a = outgoingEdges.first()) == null ? void 0 : _a.to.node;
    if (outgoingEdges.length > 1) {
      const sortedEdges = outgoingEdges.sort((a, b) => {
        if (!a.label)
          return 1;
        if (!b.label)
          return -1;
        return a.label.localeCompare(b.label);
      });
      const traversedEdgesCount = this.visitedNodeIds.filter((visitedNodeId) => visitedNodeId === fromNodeId).length - 1;
      const nextEdge = sortedEdges[traversedEdgesCount];
      toNode = nextEdge.to.node;
    }
    if (toNode) {
      this.visitedNodeIds.push(toNode.getData().id);
      this.animateNodeTransition(canvas, fromNode, toNode);
    } else {
      this.animateNodeTransition(canvas, fromNode, fromNode);
    }
  }
  previousNode(canvas) {
    const fromNodeId = this.visitedNodeIds.pop();
    if (!fromNodeId)
      return;
    const fromNode = canvas.nodes.get(fromNodeId);
    if (!fromNode)
      return;
    const toNodeId = this.visitedNodeIds.last();
    if (!toNodeId)
      return;
    let toNode = canvas.nodes.get(toNodeId);
    if (!toNode)
      return;
    if (!toNode) {
      toNode = fromNode;
      this.visitedNodeIds.push(fromNodeId);
    }
    this.animateNodeTransition(canvas, fromNode, toNode);
  }
};

// src/canvas-extensions/z-ordering-canvas-extension.ts
var ZOrderingCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "zOrderingFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeContextMenu,
      (menu, node) => this.nodeContextMenu(node, menu)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.SelectionContextMenu,
      (menu, canvas) => this.selectionContextMenu(canvas, menu)
    ));
  }
  nodeContextMenu(node, menu) {
    this.addZOrderingContextMenuItems(node.canvas, [node], menu);
  }
  selectionContextMenu(canvas, menu) {
    const selectedNodes = canvas.getSelectionData().nodes.map((nodeData) => canvas.nodes.get(nodeData.id)).filter((node) => node !== void 0);
    this.addZOrderingContextMenuItems(canvas, selectedNodes, menu);
  }
  addZOrderingContextMenuItems(canvas, nodes, menu) {
    menu.addSeparator();
    if (this.plugin.settings.getSetting("zOrderingShowOneLayerShiftOptions") && nodes.length === 1) {
      menu.addItem((item) => {
        item.setTitle("Move one layer forward");
        item.setIcon("arrow-up");
        item.onClick(() => this.moveOneLayer(canvas, nodes.first(), true));
      });
      menu.addItem((item) => {
        item.setTitle("Move one layer backward");
        item.setIcon("arrow-down");
        item.onClick(() => this.moveOneLayer(canvas, nodes.first(), false));
      });
    }
    menu.addItem((item) => {
      item.setTitle("Bring to Front");
      item.setIcon("bring-to-front");
      item.onClick(() => this.moveMaxLayers(canvas, nodes, true));
    });
    menu.addItem((item) => {
      item.setTitle("Send to Back");
      item.setIcon("send-to-back");
      item.onClick(() => this.moveMaxLayers(canvas, nodes, false));
    });
    menu.addSeparator();
  }
  moveOneLayer(canvas, selectedNode, forward) {
    const selectedNodeBBox = selectedNode.getBBox();
    const collidingNodes = [...canvas.nodes.values()].filter((node) => BBoxHelper.isColliding(selectedNodeBBox, node.getBBox())).filter((node) => node !== selectedNode);
    const nearestZIndexNode = collidingNodes.sort((a, b) => forward ? a.zIndex - b.zIndex : b.zIndex - a.zIndex).filter((node) => forward ? node.zIndex > selectedNode.zIndex : node.zIndex < selectedNode.zIndex).first();
    if (nearestZIndexNode === void 0)
      return;
    const targetZIndex = nearestZIndexNode.zIndex;
    this.setNodesZIndex([nearestZIndexNode], selectedNode.zIndex);
    this.setNodesZIndex([selectedNode], targetZIndex);
  }
  moveMaxLayers(canvas, selectedNodes, forward) {
    let targetZIndex = forward ? Math.max(...this.getAllZIndexes(canvas)) + 1 : Math.min(...this.getAllZIndexes(canvas)) - selectedNodes.length;
    this.setNodesZIndex(selectedNodes, targetZIndex);
  }
  setNodesZIndex(nodes, zIndex) {
    const sortedNodes = nodes.sort((a, b) => a.zIndex - b.zIndex);
    for (let i = 0; i < sortedNodes.length; i++) {
      const node = sortedNodes[i];
      const finalZIndex = zIndex + i;
      node.zIndex = finalZIndex;
      node.nodeEl.style.zIndex = finalZIndex.toString();
    }
  }
  getAllZIndexes(canvas) {
    return [...canvas.nodes.values()].map((n) => n.zIndex);
  }
};

// src/canvas-extensions/better-readonly-canvas-extension.ts
var BetterReadonlyCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "betterReadonlyEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas, _node) => this.updatePopupMenu(canvas)
    ));
    let movingToBBox = false;
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ViewportChanged.Before,
      (canvas) => {
        var _a, _b, _c, _d, _e, _f;
        if (movingToBBox) {
          movingToBBox = false;
          this.updateLockedZoom(canvas);
          this.updateLockedPan(canvas);
          return;
        }
        if (!canvas.readonly)
          return;
        if (this.plugin.settings.getSetting("disableZoom")) {
          canvas.zoom = (_a = canvas.lockedZoom) != null ? _a : canvas.zoom;
          canvas.tZoom = (_b = canvas.lockedZoom) != null ? _b : canvas.tZoom;
        }
        if (this.plugin.settings.getSetting("disablePan")) {
          canvas.x = (_c = canvas.lockedX) != null ? _c : canvas.x;
          canvas.tx = (_d = canvas.lockedX) != null ? _d : canvas.tx;
          canvas.y = (_e = canvas.lockedY) != null ? _e : canvas.y;
          canvas.ty = (_f = canvas.lockedY) != null ? _f : canvas.ty;
        }
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ZoomToBbox.Before,
      () => movingToBBox = true
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ReadonlyChanged,
      (canvas, _readonly) => {
        this.updatePopupMenu(canvas);
        this.updateLockedZoom(canvas);
        this.updateLockedPan(canvas);
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.addQuickSettings(canvas)
    ));
  }
  addQuickSettings(canvas) {
    var _a;
    const settingsContainer = (_a = canvas.quickSettingsButton) == null ? void 0 : _a.parentElement;
    if (!settingsContainer)
      return;
    CanvasHelper.addControlMenuButton(
      settingsContainer,
      this.createToggle({
        id: "disable-node-popup",
        label: "Disable node popup",
        icon: "arrow-up-right-from-circle",
        callback: () => this.updatePopupMenu(canvas)
      }, "disableNodePopup")
    );
    CanvasHelper.addControlMenuButton(
      settingsContainer,
      this.createToggle({
        id: "disable-zoom",
        label: "Disable zoom",
        icon: "zoom-in",
        callback: () => this.updateLockedZoom(canvas)
      }, "disableZoom")
    );
    CanvasHelper.addControlMenuButton(
      settingsContainer,
      this.createToggle({
        id: "disable-pan",
        label: "Disable pan",
        icon: "move",
        callback: () => this.updateLockedPan(canvas)
      }, "disablePan")
    );
  }
  createToggle(menuOption, settingKey) {
    const toggle = CanvasHelper.createControlMenuButton({
      ...menuOption,
      callback: () => (async () => {
        var _a;
        const newValue = !this.plugin.settings.getSetting(settingKey);
        await this.plugin.settings.setSetting({ [settingKey]: newValue });
        toggle.dataset.toggled = this.plugin.settings.getSetting(settingKey).toString();
        (_a = menuOption.callback) == null ? void 0 : _a.call(this);
      })()
    });
    toggle.classList.add("show-while-readonly");
    toggle.dataset.toggled = this.plugin.settings.getSetting(settingKey).toString();
    return toggle;
  }
  updatePopupMenu(canvas) {
    const hidden = canvas.readonly && this.plugin.settings.getSetting("disableNodePopup");
    canvas.menu.menuEl.style.visibility = hidden ? "hidden" : "visible";
  }
  updateLockedZoom(canvas) {
    canvas.lockedZoom = canvas.tZoom;
  }
  updateLockedPan(canvas) {
    canvas.lockedX = canvas.tx;
    canvas.lockedY = canvas.ty;
  }
};

// src/utils/modal-helper.ts
var import_obsidian9 = require("obsidian");
var FileNameModal = class extends import_obsidian9.SuggestModal {
  constructor(app, parentPath, fileExtension) {
    super(app);
    this.parentPath = parentPath;
    this.fileExtension = fileExtension;
  }
  getSuggestions(query) {
    const queryWithoutExtension = query.replace(new RegExp(`\\.${this.fileExtension}$`), "");
    if (queryWithoutExtension === "")
      return [];
    const queryWithExtension = queryWithoutExtension + "." + this.fileExtension;
    const suggestions = [`${this.parentPath}/${queryWithExtension}`, queryWithExtension].filter((s) => this.app.vault.getAbstractFileByPath(s) === null);
    return suggestions;
  }
  renderSuggestion(text, el) {
    el.setText(text);
  }
  onChooseSuggestion(_text, _evt) {
  }
  awaitInput() {
    return new Promise((resolve, _reject) => {
      this.onChooseSuggestion = (text) => {
        resolve(text);
      };
      this.open();
    });
  }
};
var FileSelectModal = class extends import_obsidian9.SuggestModal {
  constructor(app, extensionsRegex, suggestNewFile = false) {
    super(app);
    this.files = this.app.vault.getFiles().map((file) => file.path).filter((path) => {
      var _a;
      return (_a = PathHelper.extension(path)) == null ? void 0 : _a.match(extensionsRegex != null ? extensionsRegex : /.*/);
    });
    this.suggestNewFile = suggestNewFile;
    this.setPlaceholder("Type to search...");
    this.setInstructions([{
      command: "\u2191\u2193",
      purpose: "to navigate"
    }, {
      command: "\u21B5",
      purpose: "to open"
    }, {
      command: "shift \u21B5",
      purpose: "to create"
    }, {
      command: "esc",
      purpose: "to dismiss"
    }]);
    this.scope.register(["Shift"], "Enter", (e) => {
      this.onChooseSuggestion(this.inputEl.value, e);
      this.close();
    });
  }
  getSuggestions(query) {
    const suggestions = this.files.filter((path) => path.toLowerCase().includes(query.toLowerCase()));
    if (suggestions.length === 0 && this.suggestNewFile)
      suggestions.push(query);
    return suggestions;
  }
  renderSuggestion(path, el) {
    const simplifiedPath = path.replace(/\.md$/, "");
    el.setText(simplifiedPath);
  }
  onChooseSuggestion(_path, _evt) {
  }
  awaitInput() {
    return new Promise((resolve, _reject) => {
      this.onChooseSuggestion = (path, _evt) => {
        const file = this.app.vault.getAbstractFileByPath(path);
        if (file instanceof import_obsidian9.TFile)
          return resolve(file);
        if (!this.suggestNewFile)
          return;
        if (PathHelper.extension(path) === void 0)
          path += ".md";
        const newFile = this.app.vault.create(path, "");
        resolve(newFile);
      };
      this.open();
    });
  }
};

// src/canvas-extensions/encapsulate-canvas-extension.ts
var ENCAPSULATED_FILE_NODE_SIZE = { width: 300, height: 300 };
var EncapsulateCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "canvasEncapsulationEnabled";
  }
  init() {
    this.plugin.addCommand({
      id: "encapsulate-selection",
      name: "Encapsulate selection",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && canvas.selection.size > 0,
        (canvas) => this.encapsulateSelection(canvas)
      )
    });
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.SelectionContextMenu,
      (menu, canvas) => {
        menu.addItem(
          (item) => item.setTitle("Encapsulate").setIcon("file-plus").onClick(() => this.encapsulateSelection(canvas))
        );
      }
    ));
  }
  async encapsulateSelection(canvas) {
    var _a;
    const selection = canvas.getSelectionData();
    const sourceFileFolder = (_a = canvas.view.file.parent) == null ? void 0 : _a.path;
    if (!sourceFileFolder)
      return;
    const targetFilePath = await new FileNameModal(
      this.plugin.app,
      sourceFileFolder,
      "canvas"
    ).awaitInput();
    const newFileData = { nodes: selection.nodes, edges: selection.edges };
    const file = await this.plugin.app.vault.create(targetFilePath, JSON.stringify(newFileData, null, 2));
    for (const nodeData of selection.nodes) {
      const node = canvas.nodes.get(nodeData.id);
      if (node)
        canvas.removeNode(node);
    }
    canvas.createFileNode({
      pos: {
        x: selection.center.x - ENCAPSULATED_FILE_NODE_SIZE.width / 2,
        y: selection.center.y - ENCAPSULATED_FILE_NODE_SIZE.height / 2
      },
      size: ENCAPSULATED_FILE_NODE_SIZE,
      file
    });
  }
};

// src/canvas-extensions/commands-canvas-extension.ts
var DIRECTIONS = ["up", "down", "left", "right"];
var CommandsCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "commandsFeatureEnabled";
  }
  init() {
    this.plugin.addCommand({
      id: "create-text-node",
      name: "Create text node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly,
        (canvas) => this.createTextNode(canvas)
      )
    });
    this.plugin.addCommand({
      id: "create-file-node",
      name: "Create file node",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly,
        (canvas) => this.createFileNode(canvas)
      )
    });
    this.plugin.addCommand({
      id: "select-all-edges",
      name: "Select all edges",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => true,
        (canvas) => canvas.updateSelection(
          () => canvas.selection = new Set(canvas.edges.values())
        )
      )
    });
    this.plugin.addCommand({
      id: "zoom-to-selection",
      name: "Zoom to selection",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => canvas.selection.size > 0,
        (canvas) => canvas.zoomToSelection()
      )
    });
    for (const direction of DIRECTIONS) {
      this.plugin.addCommand({
        id: `clone-node-${direction}`,
        name: `Clone node ${direction}`,
        checkCallback: CanvasHelper.canvasCommand(
          this.plugin,
          (canvas) => {
            var _a;
            return !canvas.readonly && canvas.selection.size === 1 && ((_a = canvas.selection.values().next().value) == null ? void 0 : _a.getData().type) === "text";
          },
          (canvas) => this.cloneNode(canvas, direction)
        )
      });
      this.plugin.addCommand({
        id: `expand-node-${direction}`,
        name: `Expand node ${direction}`,
        checkCallback: CanvasHelper.canvasCommand(
          this.plugin,
          (canvas) => !canvas.readonly && canvas.selection.size === 1,
          (canvas) => this.expandNode(canvas, direction)
        )
      });
    }
    this.plugin.addCommand({
      id: "flip-selection-horizontally",
      name: "Flip selection horizontally",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && canvas.selection.size > 0,
        (canvas) => this.flipSelection(
          canvas,
          true
        )
      )
    });
    this.plugin.addCommand({
      id: "flip-selection-vertically",
      name: "Flip selection vertically",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (canvas) => !canvas.readonly && canvas.selection.size > 0,
        (canvas) => this.flipSelection(canvas, false)
      )
    });
  }
  createTextNode(canvas) {
    const size = canvas.config.defaultTextNodeDimensions;
    const pos = CanvasHelper.getCenterCoordinates(canvas, size);
    canvas.createTextNode({ pos, size });
  }
  async createFileNode(canvas) {
    const size = canvas.config.defaultFileNodeDimensions;
    const pos = CanvasHelper.getCenterCoordinates(canvas, size);
    const file = await new FileSelectModal(this.plugin.app, void 0, true).awaitInput();
    canvas.createFileNode({ pos, size, file });
  }
  cloneNode(canvas, cloneDirection) {
    const sourceNode = canvas.selection.values().next().value;
    if (!sourceNode)
      return;
    const sourceNodeData = sourceNode.getData();
    const nodeMargin = this.plugin.settings.getSetting("cloneNodeMargin");
    const offset = {
      x: (sourceNode.width + nodeMargin) * (cloneDirection === "left" ? -1 : cloneDirection === "right" ? 1 : 0),
      y: (sourceNode.height + nodeMargin) * (cloneDirection === "up" ? -1 : cloneDirection === "down" ? 1 : 0)
    };
    const clonedNode = canvas.createTextNode({
      pos: {
        x: sourceNode.x + offset.x,
        y: sourceNode.y + offset.y
      },
      size: {
        width: sourceNode.width,
        height: sourceNode.height
      }
    });
    clonedNode.setData({
      ...clonedNode.getData(),
      color: sourceNodeData.color,
      styleAttributes: sourceNodeData.styleAttributes
    });
    if (this.plugin.settings.getSetting("zoomToClonedNode"))
      canvas.zoomToBbox(clonedNode.getBBox());
  }
  expandNode(canvas, expandDirection) {
    const node = canvas.selection.values().next().value;
    if (!node)
      return;
    const expandNodeStepSize = this.plugin.settings.getSetting("expandNodeStepSize");
    const expand = {
      x: expandDirection === "left" ? -1 : expandDirection === "right" ? 1 : 0,
      y: expandDirection === "up" ? -1 : expandDirection === "down" ? 1 : 0
    };
    node.setData({
      ...node.getData(),
      width: node.width + expand.x * expandNodeStepSize,
      height: node.height + expand.y * expandNodeStepSize
    });
  }
  flipSelection(canvas, horizontally) {
    const selectionData = canvas.getSelectionData();
    if (selectionData.nodes.length === 0)
      return;
    const nodeIds = /* @__PURE__ */ new Set();
    for (const nodeData of selectionData.nodes) {
      nodeIds.add(nodeData.id);
      const node = canvas.nodes.get(nodeData.id);
      if (!node)
        continue;
      const newX = horizontally ? 2 * selectionData.center.x - nodeData.x - nodeData.width : nodeData.x;
      const newY = horizontally ? nodeData.y : 2 * selectionData.center.y - nodeData.y - nodeData.height;
      node.setData({
        ...nodeData,
        x: newX,
        y: newY
      });
    }
    for (const edge of canvas.edges.values()) {
      const edgeData = edge.getData();
      let newFromSide = edgeData.fromSide;
      if (nodeIds.has(edgeData.fromNode) && BBoxHelper.isHorizontal(edgeData.fromSide) === horizontally)
        newFromSide = BBoxHelper.getOppositeSide(edgeData.fromSide);
      let newToSide = edgeData.toSide;
      if (nodeIds.has(edgeData.toNode) && BBoxHelper.isHorizontal(edgeData.toSide) === horizontally)
        newToSide = BBoxHelper.getOppositeSide(edgeData.toSide);
      edge.setData({
        ...edgeData,
        fromSide: newFromSide,
        toSide: newToSide
      });
    }
    canvas.pushHistory(canvas.getData());
  }
};

// src/canvas-extensions/auto-resize-node-canvas-extension.ts
var AutoResizeNodeCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "autoResizeNodeFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeCreated,
      (canvas, node) => this.onNodeCreated(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeEditingStateChanged,
      (canvas, node, editing) => this.onNodeEditingStateChanged(canvas, node, editing)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeTextContentChanged,
      (canvas, node, viewUpdate) => this.onNodeTextContentChanged(canvas, node, viewUpdate.view.dom)
    ));
  }
  isValidNodeType(nodeData) {
    var _a;
    return nodeData.type === "text" || nodeData.type === "file" && ((_a = nodeData.file) == null ? void 0 : _a.endsWith(".md"));
  }
  onNodeCreated(_canvas, node) {
    const autoResizeNodeEnabledByDefault = this.plugin.settings.getSetting("autoResizeNodeEnabledByDefault");
    if (!autoResizeNodeEnabledByDefault)
      return;
    const nodeData = node.getData();
    if (nodeData.type !== "text" && nodeData.type !== "file")
      return;
    node.setData({
      ...node.getData(),
      autoResizeHeight: true
    });
  }
  onPopupMenuCreated(canvas) {
    if (canvas.readonly)
      return;
    const selectedNodes = canvas.getSelectionData().nodes.filter((nodeData) => this.isValidNodeType(nodeData)).map((nodeData) => canvas.nodes.get(nodeData.id)).filter((node) => node !== void 0);
    if (selectedNodes.length === 0)
      return;
    const autoResizeHeightEnabled = selectedNodes.some((node) => node.getData().autoResizeHeight);
    CanvasHelper.addPopupMenuOption(
      canvas,
      CanvasHelper.createPopupMenuOption({
        id: "auto-resize-height",
        label: autoResizeHeightEnabled ? "Disable auto-resize" : "Enable auto-resize",
        icon: autoResizeHeightEnabled ? "scan-text" : "lock",
        callback: () => this.toggleAutoResizeHeightEnabled(canvas, selectedNodes, autoResizeHeightEnabled)
      })
    );
  }
  toggleAutoResizeHeightEnabled(canvas, nodes, autoResizeHeight) {
    nodes.forEach((node) => node.setData({
      ...node.getData(),
      autoResizeHeight: !autoResizeHeight
    }));
    this.onPopupMenuCreated(canvas);
  }
  canBeResized(node) {
    const nodeData = node.getData();
    return nodeData.autoResizeHeight;
  }
  async onNodeEditingStateChanged(_canvas, node, editing) {
    if (!this.isValidNodeType(node.getData()))
      return;
    if (!this.canBeResized(node))
      return;
    await sleep(10);
    if (editing) {
      this.onNodeTextContentChanged(_canvas, node, node.child.editMode.cm.dom);
      return;
    }
    const renderedMarkdownContainer = node.nodeEl.querySelector(".markdown-preview-view.markdown-rendered");
    if (!renderedMarkdownContainer)
      return;
    renderedMarkdownContainer.style.height = "min-content";
    let newHeight = renderedMarkdownContainer.clientHeight;
    renderedMarkdownContainer.style.removeProperty("height");
    this.setNodeHeight(node, newHeight);
  }
  async onNodeTextContentChanged(_canvas, node, dom) {
    if (!this.isValidNodeType(node.getData()))
      return;
    if (!this.canBeResized(node))
      return;
    const cmScroller = dom.querySelector(".cm-scroller");
    if (!cmScroller)
      return;
    cmScroller.style.height = "min-content";
    const newHeight = cmScroller.scrollHeight;
    cmScroller.style.removeProperty("height");
    this.setNodeHeight(node, newHeight);
  }
  setNodeHeight(node, height) {
    if (height === 0)
      return;
    const maxHeight = this.plugin.settings.getSetting("autoResizeNodeMaxHeight");
    if (maxHeight != -1 && height > maxHeight)
      height = maxHeight;
    const nodeData = node.getData();
    height = Math.max(height, node.canvas.config.minContainerDimension);
    if (this.plugin.settings.getSetting("autoResizeNodeSnapToGrid"))
      height = Math.ceil(height / CanvasHelper.GRID_SIZE) * CanvasHelper.GRID_SIZE;
    node.setData({
      ...nodeData,
      height
    });
  }
};

// src/canvas-extensions/portals-canvas-extension.ts
var import_obsidian10 = require("obsidian");
var PORTAL_PADDING = 50;
var MIN_OPEN_PORTAL_SIZE = { width: 200, height: 200 };
var PortalsCanvasExtension = class extends CanvasExtension {
  constructor() {
    super(...arguments);
    this.nestedPortals = {};
  }
  isEnabled() {
    return "portalsFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.vault.on("modify", (file) => {
      const canvases = this.plugin.app.workspace.getLeavesOfType("canvas").map((leaf) => leaf.view.canvas);
      for (const canvas of canvases) {
        if (canvas === void 0)
          continue;
        const hasPortalsToFile = canvas.getData().nodes.filter(
          (nodeData) => nodeData.type === "file" && nodeData.portalToFile === file.path
        ).length > 0;
        if (hasPortalsToFile) {
          canvas.setData(canvas.getData());
          canvas.history.current--;
          canvas.history.data.pop();
        }
      }
    }));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.updatePopupMenu(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeRemoved,
      (canvas, node) => this.onNodeRemoved(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeMoved,
      (canvas, node) => this.onNodeMoved(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DraggingStateChanged,
      (canvas, startedDragging) => this.onDraggingStateChanged(canvas, startedDragging)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.ContainingNodesRequested,
      (canvas, bbox, nodes) => this.onContainingNodesRequested(canvas, bbox, nodes)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.SelectionChanged,
      (canvas, oldSelection, updateSelection) => this.onSelectionChanged(canvas, oldSelection, updateSelection)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DataRequested,
      (canvas, data) => this.removePortalCanvasData(canvas, data)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.LoadData,
      (canvas, data, setData) => {
        this.getCanvasDataWithPortals(canvas, data).then((newData) => {
          if (newData.nodes.length === data.nodes.length && newData.edges.length === data.edges.length)
            return;
          setData(newData);
        });
      }
    ));
  }
  updatePopupMenu(canvas) {
    if (canvas.readonly)
      return;
    const selectedFileNodes = canvas.getSelectionData().nodes.map((nodeData) => {
      var _a;
      const node = canvas.nodes.get(nodeData.id);
      if (!node)
        return null;
      if (nodeData.type !== "file")
        return null;
      if (((_a = node.file) == null ? void 0 : _a.extension) === "canvas")
        return node;
      if (nodeData.portalToFile)
        this.setPortalOpen(canvas, node, false);
      return null;
    }).filter((node) => node !== null);
    if (selectedFileNodes.length !== 1)
      return;
    const portalNode = selectedFileNodes[0];
    const portalNodeData = portalNode.getData();
    if (portalNodeData.portalToFile && portalNodeData.file !== portalNodeData.portalToFile) {
      this.setPortalOpen(canvas, portalNode, true);
    }
    CanvasHelper.addPopupMenuOption(
      canvas,
      CanvasHelper.createPopupMenuOption({
        id: "toggle-portal",
        label: portalNodeData.portalToFile ? "Close portal" : "Open portal",
        icon: portalNodeData.portalToFile ? "door-open" : "door-closed",
        callback: () => {
          this.setPortalOpen(canvas, portalNode, portalNodeData.portalToFile === void 0);
          this.updatePopupMenu(canvas);
        }
      })
    );
  }
  setPortalOpen(canvas, portalNode, open) {
    const portalNodeData = portalNode.getData();
    portalNode.setData({
      ...portalNodeData,
      portalToFile: open ? portalNodeData.file : void 0
    });
    canvas.setData(canvas.getData());
  }
  onNodeRemoved(canvas, node) {
    var _a, _b, _c, _d;
    const nodeData = node.getData();
    if (nodeData.type !== "file" || !nodeData.portalToFile)
      return;
    Object.keys((_b = (_a = nodeData.portalIdMaps) == null ? void 0 : _a.nodeIdMap) != null ? _b : {}).map((refNodeId) => canvas.nodes.get(refNodeId)).filter((node2) => node2 !== void 0).forEach((node2) => canvas.removeNode(node2));
    Object.keys((_d = (_c = nodeData.portalIdMaps) == null ? void 0 : _c.edgeIdMap) != null ? _d : {}).map((refEdgeId) => canvas.edges.get(refEdgeId)).filter((edge) => edge !== void 0).forEach((edge) => canvas.removeEdge(edge));
  }
  onContainingNodesRequested(_canvas, _bbox, nodes) {
    nodes.splice(0, nodes.length, ...nodes.filter((node) => node.getData().portalId === void 0));
  }
  onSelectionChanged(canvas, oldSelection, updateSelection) {
    updateSelection(() => {
      const updatedSelection = Array.from(canvas.selection).filter((node) => node.getData().portalId === void 0);
      canvas.selection = new Set(updatedSelection);
    });
    const previouslySelectedPortalNodesIds = Array.from(oldSelection).filter((node) => node.getData().portalToFile !== void 0).flatMap((node) => {
      const portalNodeData = node.getData();
      const nestedPortalsIds = this.getNestedPortalsIds(canvas, portalNodeData.id);
      return [portalNodeData.id, ...nestedPortalsIds];
    });
    for (const node of canvas.nodes.values()) {
      const nodeData = node.getData();
      if (nodeData.portalId === void 0 || !previouslySelectedPortalNodesIds.includes(nodeData.portalId))
        continue;
      node.updateZIndex();
    }
  }
  getNestedPortalsIds(canvas, portalId) {
    const nestedPortalsIds = [];
    for (const node of canvas.nodes.values()) {
      const nodeData = node.getData();
      if (nodeData.portalId === portalId) {
        nestedPortalsIds.push(nodeData.id);
        nestedPortalsIds.push(...this.getNestedPortalsIds(canvas, nodeData.id));
      }
    }
    return nestedPortalsIds;
  }
  onDraggingStateChanged(canvas, startedDragging) {
    var _a;
    if (!canvas.getSelectionData().nodes.some((node) => node.type === "file" && node.portalToFile))
      return;
    if (startedDragging) {
      const objectSnappingEnabled = canvas.options.snapToObjects;
      this.restoreObjectSnappingState = () => canvas.toggleObjectSnapping(objectSnappingEnabled);
      if (objectSnappingEnabled)
        canvas.toggleObjectSnapping(false);
    } else
      (_a = this.restoreObjectSnappingState) == null ? void 0 : _a.call(this);
  }
  onNodeMoved(canvas, node) {
    const nodeData = node.getData();
    if (nodeData.type !== "file" || !nodeData.portalToFile)
      return;
    this.onOpenPortalMoved(canvas, node);
  }
  onOpenPortalMoved(canvas, portalNode) {
    var _a;
    let portalNodeData = portalNode.getData();
    const nestedNodesIdMap = (_a = portalNode.getData().portalIdMaps) == null ? void 0 : _a.nodeIdMap;
    if (!nestedNodesIdMap)
      return;
    const nestedNodes = Object.keys(nestedNodesIdMap).map((refNodeId) => canvas.nodes.get(refNodeId)).filter((node) => node !== void 0);
    const sourceBBox = CanvasHelper.getBBox(nestedNodes);
    const targetSize = this.getPortalSize(sourceBBox);
    if (portalNodeData.width !== targetSize.width || portalNodeData.height !== targetSize.height) {
      portalNode.setData({
        ...portalNodeData,
        width: targetSize.width,
        height: targetSize.height
      });
      return;
    }
    const portalOffset = {
      x: portalNodeData.x - sourceBBox.minX + PORTAL_PADDING,
      y: portalNodeData.y - sourceBBox.minY + PORTAL_PADDING
    };
    for (const nestedNode of nestedNodes) {
      const nestedNodeData = nestedNode.getData();
      nestedNode.setData({
        ...nestedNodeData,
        x: nestedNodeData.x + portalOffset.x,
        y: nestedNodeData.y + portalOffset.y
      });
    }
  }
  removePortalCanvasData(_canvas, data) {
    var _a, _b;
    data.edges = data.edges.filter((edgeData) => {
      var _a2, _b2;
      if (edgeData.portalId !== void 0)
        return false;
      const fromNodeData = data.nodes.find((nodeData) => nodeData.id === edgeData.fromNode);
      const toNodeData = data.nodes.find((nodeData) => nodeData.id === edgeData.toNode);
      if (!fromNodeData || !toNodeData)
        return true;
      if (fromNodeData.portalId === void 0 && toNodeData.portalId === void 0) {
        return true;
      } else if (fromNodeData.portalId !== void 0 && toNodeData.portalId !== void 0) {
        return false;
      } else {
        const fromPortalNodeData = fromNodeData.portalId !== void 0 ? fromNodeData : toNodeData;
        const notFromPortalNodeData = fromNodeData.portalId !== void 0 ? toNodeData : fromNodeData;
        notFromPortalNodeData.edgesToNodeFromPortal = (_a2 = notFromPortalNodeData.edgesToNodeFromPortal) != null ? _a2 : {};
        notFromPortalNodeData.edgesToNodeFromPortal[fromPortalNodeData.portalId] = (_b2 = notFromPortalNodeData.edgesToNodeFromPortal[fromPortalNodeData.portalId]) != null ? _b2 : [];
        notFromPortalNodeData.edgesToNodeFromPortal[fromPortalNodeData.portalId].push(edgeData);
        return false;
      }
    });
    data.nodes = data.nodes.filter((nodeData) => nodeData.portalId === void 0);
    for (const portalNodeData of data.nodes) {
      if (portalNodeData.type !== "file")
        continue;
      if (this.plugin.settings.getSetting("maintainClosedPortalSize")) {
        portalNodeData.width = (_a = portalNodeData.closedPortalWidth) != null ? _a : portalNodeData.width;
        portalNodeData.height = (_b = portalNodeData.closedPortalHeight) != null ? _b : portalNodeData.height;
      }
      delete portalNodeData.closedPortalWidth;
      delete portalNodeData.closedPortalHeight;
      delete portalNodeData.portalIdMaps;
    }
  }
  async getCanvasDataWithPortals(canvas, dataRef) {
    const data = JSON.parse(JSON.stringify(dataRef));
    this.nestedPortals = {};
    const addedData = await Promise.all(data.nodes.map((nodeData) => this.tryOpenPortal(canvas, nodeData)));
    for (const newData of addedData) {
      data.nodes.push(...newData.nodes);
      data.edges.push(...newData.edges);
    }
    for (const originNodeData of data.nodes) {
      if (originNodeData.edgesToNodeFromPortal === void 0)
        continue;
      for (const [relativePortalId, edges] of Object.entries(originNodeData.edgesToNodeFromPortal)) {
        const idPrefix = originNodeData.portalId ? `${originNodeData.portalId}-` : "";
        const portalId = `${idPrefix}${relativePortalId}`;
        const targetPortalData = data.nodes.find((nodeData) => nodeData.id === portalId);
        if (!targetPortalData) {
          delete originNodeData.edgesToNodeFromPortal[portalId];
          continue;
        }
        if (targetPortalData.portalToFile) {
          data.edges.push(...edges.map((edge) => ({
            ...edge,
            portalId: originNodeData.portalId,
            fromNode: `${idPrefix}${edge.fromNode}`,
            toNode: `${idPrefix}${edge.toNode}`
          })));
          delete originNodeData.edgesToNodeFromPortal[portalId];
        } else if (this.plugin.settings.getSetting("showEdgesIntoDisabledPortals")) {
          data.edges.push(...edges.map((edge) => {
            const fromNodeId = `${idPrefix}${edge.fromNode}`;
            const fromNode = data.nodes.find((nodeData) => nodeData.id === fromNodeId);
            const toNodeId = `${idPrefix}${edge.toNode}`;
            return {
              ...edge,
              fromNode: fromNode ? fromNodeId : portalId,
              toNode: fromNode ? portalId : toNodeId,
              portalId
              // Mark it as temporary
            };
          }));
        }
      }
      if (Object.keys(originNodeData.edgesToNodeFromPortal).length === 0)
        delete originNodeData.edgesToNodeFromPortal;
    }
    return data;
  }
  async tryOpenPortal(canvas, portalNodeData, parentPortalId) {
    var _a, _b, _c, _d;
    const addedData = { nodes: [], edges: [] };
    if (portalNodeData.type !== "file" || !portalNodeData.portalToFile)
      return addedData;
    portalNodeData.portalToFile = portalNodeData.file;
    if (portalNodeData.portalToFile === canvas.view.file.path) {
      portalNodeData.portalToFile = void 0;
      return addedData;
    }
    if (parentPortalId) {
      if ((_a = this.nestedPortals[parentPortalId]) == null ? void 0 : _a.includes(portalNodeData.portalToFile)) {
        portalNodeData.portalToFile = void 0;
        return addedData;
      }
      this.nestedPortals[parentPortalId] = (_b = this.nestedPortals[parentPortalId]) != null ? _b : [];
      this.nestedPortals[parentPortalId].push(portalNodeData.portalToFile);
    }
    const portalFile = this.plugin.app.vault.getAbstractFileByPath(portalNodeData.file);
    if (!(portalFile instanceof import_obsidian10.TFile) || portalFile.extension !== "canvas") {
      portalNodeData.portalToFile = void 0;
      return addedData;
    }
    const portalFileDataString = await this.plugin.app.vault.cachedRead(portalFile);
    if (portalFileDataString === "")
      return addedData;
    const portalFileData = JSON.parse(portalFileDataString);
    if (!portalFileData) {
      portalNodeData.portalToFile = void 0;
      return addedData;
    }
    portalNodeData.portalIdMaps = {
      nodeIdMap: {},
      edgeIdMap: {}
    };
    const sourceMinCoordinates = CanvasHelper.getBBox(portalFileData.nodes);
    const portalOffset = {
      x: portalNodeData.x - sourceMinCoordinates.minX + PORTAL_PADDING,
      y: portalNodeData.y - sourceMinCoordinates.minY + PORTAL_PADDING
    };
    for (const nodeDataFromPortal of portalFileData.nodes) {
      const refNodeId = `${portalNodeData.id}-${nodeDataFromPortal.id}`;
      portalNodeData.portalIdMaps.nodeIdMap[refNodeId] = nodeDataFromPortal.id;
      const addedNode = {
        ...nodeDataFromPortal,
        id: refNodeId,
        x: nodeDataFromPortal.x + portalOffset.x,
        y: nodeDataFromPortal.y + portalOffset.y,
        portalId: portalNodeData.id
      };
      addedData.nodes.push(addedNode);
      const nestedNodes = await this.tryOpenPortal(canvas, addedNode, parentPortalId != null ? parentPortalId : portalNodeData.id);
      addedData.nodes.push(...nestedNodes.nodes);
      addedData.edges.push(...nestedNodes.edges);
    }
    for (const edgeDataFromPortal of portalFileData.edges) {
      const refEdgeId = `${portalNodeData.id}-${edgeDataFromPortal.id}`;
      portalNodeData.portalIdMaps.edgeIdMap[refEdgeId] = edgeDataFromPortal.id;
      const fromRefNode = (_c = Object.entries(portalNodeData.portalIdMaps.nodeIdMap).find(([_refNodeId, nodeId]) => nodeId === edgeDataFromPortal.fromNode)) == null ? void 0 : _c[0];
      const toRefNode = (_d = Object.entries(portalNodeData.portalIdMaps.nodeIdMap).find(([_refNodeId, nodeId]) => nodeId === edgeDataFromPortal.toNode)) == null ? void 0 : _d[0];
      if (!fromRefNode || !toRefNode)
        continue;
      addedData.edges.push({
        ...edgeDataFromPortal,
        id: refEdgeId,
        fromNode: fromRefNode,
        toNode: toRefNode,
        portalId: portalNodeData.id
      });
    }
    const nestedNodesBBox = CanvasHelper.getBBox(addedData.nodes);
    const targetSize = this.getPortalSize(nestedNodesBBox);
    portalNodeData.closedPortalWidth = portalNodeData.width;
    portalNodeData.closedPortalHeight = portalNodeData.height;
    portalNodeData.width = targetSize.width;
    portalNodeData.height = targetSize.height;
    return addedData;
  }
  getPortalSize(sourceBBox) {
    const sourceSize = {
      width: sourceBBox.maxX - sourceBBox.minX,
      height: sourceBBox.maxY - sourceBBox.minY
    };
    const targetSize = {
      width: Math.max(sourceSize.width + PORTAL_PADDING * 2, MIN_OPEN_PORTAL_SIZE.width),
      height: Math.max(sourceSize.height + PORTAL_PADDING * 2, MIN_OPEN_PORTAL_SIZE.height)
    };
    if (!Number.isFinite(targetSize.width))
      targetSize.width = MIN_OPEN_PORTAL_SIZE.width;
    if (!Number.isFinite(targetSize.height))
      targetSize.height = MIN_OPEN_PORTAL_SIZE.height;
    return targetSize;
  }
};

// src/canvas-extensions/better-default-settings-canvas-extension.ts
var BetterDefaultSettingsCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.modifyCanvasSettings(this.plugin.getCurrentCanvas());
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      PluginEvent.SettingsChanged,
      () => this.modifyCanvasSettings(this.plugin.getCurrentCanvas())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.modifyCanvasSettings(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DoubleClick,
      (canvas, event, preventDefault) => this.onDoubleClick(canvas, event, preventDefault)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeCreated,
      (canvas, node) => {
        this.enforceNodeGridAlignment(canvas, node);
        this.applyDefaultNodeStyles(canvas, node);
      }
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeCreated,
      (canvas, edge) => this.applyDefaultEdgeStyles(canvas, edge)
    ));
  }
  modifyCanvasSettings(canvas) {
    if (!canvas)
      return;
    canvas.config.defaultTextNodeDimensions = {
      width: this.plugin.settings.getSetting("defaultTextNodeWidth"),
      height: this.plugin.settings.getSetting("defaultTextNodeHeight")
    };
    canvas.config.defaultFileNodeDimensions = {
      width: this.plugin.settings.getSetting("defaultFileNodeWidth"),
      height: this.plugin.settings.getSetting("defaultFileNodeHeight")
    };
    canvas.config.minContainerDimension = this.plugin.settings.getSetting("minNodeSize");
  }
  async onDoubleClick(canvas, event, preventDefault) {
    if (event.defaultPrevented || event.target !== canvas.wrapperEl || canvas.isDragging || canvas.readonly)
      return;
    preventDefault.value = true;
    let pos = canvas.posFromEvt(event);
    switch (this.plugin.settings.getSetting("nodeTypeOnDoubleClick")) {
      case "file":
        const file = await new FileSelectModal(this.plugin.app, void 0, true).awaitInput();
        canvas.createFileNode({
          pos,
          position: "center",
          file
        });
        break;
      default:
        canvas.createTextNode({
          pos,
          position: "center"
        });
        break;
    }
  }
  enforceNodeGridAlignment(canvas, node) {
    if (!this.plugin.settings.getSetting("alignNewNodesToGrid"))
      return;
    const nodeData = node.getData();
    node.setData({
      ...nodeData,
      x: Math.round(nodeData.x / CanvasHelper.GRID_SIZE) * CanvasHelper.GRID_SIZE,
      y: Math.round(nodeData.y / CanvasHelper.GRID_SIZE) * CanvasHelper.GRID_SIZE
    });
  }
  applyDefaultNodeStyles(_canvas, node) {
    const nodeData = node.getData();
    if (nodeData.type !== "text")
      return;
    node.setData({
      ...nodeData,
      styleAttributes: {
        ...nodeData.styleAttributes,
        ...this.plugin.settings.getSetting("defaultTextNodeStyleAttributes")
      }
    });
  }
  async applyDefaultEdgeStyles(canvas, edge) {
    const edgeData = edge.getData();
    edge.setData({
      ...edgeData,
      styleAttributes: {
        ...edgeData.styleAttributes,
        ...this.plugin.settings.getSetting("defaultEdgeStyleAttributes")
      }
    });
    if (canvas.canvasEl.hasClass("is-connecting")) {
      await new Promise((resolve) => {
        new MutationObserver(() => {
          if (!canvas.canvasEl.hasClass("is-connecting"))
            resolve();
        }).observe(canvas.canvasEl, { attributes: true, attributeFilter: ["class"] });
      });
    }
    const lineDirection = this.plugin.settings.getSetting("defaultEdgeLineDirection");
    edge.setData({
      ...edge.getData(),
      fromEnd: lineDirection === "bidirectional" ? "arrow" : "none",
      toEnd: lineDirection === "nondirectional" ? "none" : "arrow"
    });
  }
};

// src/canvas-extensions/color-palette-canvas-extension.ts
var DEFAULT_COLORS_COUNT = 6;
var CUSTOM_COLORS_MOD_STYLES_ID = "mod-custom-colors";
var ColorPaletteCanvasExtension = class extends CanvasExtension {
  constructor() {
    super(...arguments);
    this.observer = null;
  }
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "window-open",
      (_win, _window) => this.updateCustomColorModStyleClasses()
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      "css-change",
      () => this.updateCustomColorModStyleClasses()
    ));
    this.updateCustomColorModStyleClasses();
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.patchColorSelection(canvas)
    ));
    this.plugin.register(() => {
      var _a;
      return (_a = this.observer) == null ? void 0 : _a.disconnect();
    });
  }
  updateCustomColorModStyleClasses() {
    var _a;
    const customCss = this.getCustomColors().map((colorId) => `
      .mod-canvas-color-${colorId} {
        --canvas-color: var(--canvas-color-${colorId});
      }
    `).join("");
    for (const win of this.plugin.windowsManager.windows) {
      const doc = win.document;
      (_a = doc.getElementById(CUSTOM_COLORS_MOD_STYLES_ID)) == null ? void 0 : _a.remove();
      const customColorModStyle = doc.createElement("style");
      customColorModStyle.id = CUSTOM_COLORS_MOD_STYLES_ID;
      doc.head.appendChild(customColorModStyle);
      customColorModStyle.textContent = customCss;
    }
  }
  patchColorSelection(canvas) {
    if (this.observer)
      this.observer.disconnect();
    this.observer = new MutationObserver((mutations) => {
      const colorMenuOpened = mutations.some(
        (mutation) => Object.values(mutation.addedNodes).some(
          (node) => node instanceof HTMLElement && node.classList.contains("canvas-submenu") && Object.values(node.childNodes).some(
            (node2) => node2 instanceof HTMLElement && node2.classList.contains("canvas-color-picker-item")
          )
        )
      );
      if (!colorMenuOpened)
        return;
      const submenu = canvas.menu.menuEl.querySelector(".canvas-submenu");
      if (!submenu)
        return;
      const currentNodeColor = canvas.getSelectionData().nodes.map((node) => node.color).last();
      for (const colorId of this.getCustomColors()) {
        const customColorMenuItem = this.createColorMenuItem(canvas, colorId);
        if (currentNodeColor === colorId)
          customColorMenuItem.classList.add("is-active");
        submenu.insertBefore(customColorMenuItem, submenu.lastChild);
      }
    });
    this.observer.observe(canvas.menu.menuEl, { childList: true });
  }
  createColorMenuItem(canvas, colorId) {
    const menuItem = document.createElement("div");
    menuItem.classList.add("canvas-color-picker-item");
    menuItem.classList.add(`mod-canvas-color-${colorId}`);
    menuItem.addEventListener("click", () => {
      menuItem.classList.add("is-active");
      for (const item of canvas.selection) {
        item.setColor(colorId);
      }
      canvas.requestSave();
    });
    return menuItem;
  }
  getCustomColors() {
    const colors = [];
    while (true) {
      const colorId = (DEFAULT_COLORS_COUNT + colors.length + 1).toString();
      if (!getComputedStyle(document.body).getPropertyValue(`--canvas-color-${colorId}`))
        break;
      colors.push(colorId);
    }
    return colors;
  }
};

// src/canvas-extensions/collapsible-groups-canvas-extension.ts
var import_obsidian11 = require("obsidian");
var COLLAPSE_BUTTON_ID = "group-collapse-button";
var CollapsibleGroupsCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "collapsibleGroupsFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeChanged,
      (canvas, node) => this.onNodeChanged(canvas, node)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeBBoxRequested,
      (canvas, node, bbox) => this.onNodeBBoxRequested(canvas, node, bbox)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.OnCopy,
      (canvas, selectionData) => this.onCopy(canvas, selectionData)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DataRequested,
      (_canvas, data) => this.expandCollapsedNodes(data)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.LoadData,
      (_canvas, data, _setData) => this.collapseNodes(data)
    ));
  }
  onNodeChanged(canvas, groupNode) {
    var _a, _b;
    const groupNodeData = groupNode.getData();
    if (groupNodeData.type !== "group")
      return;
    (_a = groupNode.nodeEl) == null ? void 0 : _a.querySelectorAll(`#${COLLAPSE_BUTTON_ID}`).forEach((el) => el.remove());
    const collapseButton = document.createElement("span");
    collapseButton.id = COLLAPSE_BUTTON_ID;
    (0, import_obsidian11.setIcon)(collapseButton, groupNodeData.isCollapsed ? "plus-circle" : "minus-circle");
    collapseButton.onclick = () => {
      this.setCollapsed(canvas, groupNode, groupNode.getData().isCollapsed ? void 0 : true);
      canvas.markMoved(groupNode);
    };
    (_b = groupNode.labelEl) == null ? void 0 : _b.insertAdjacentElement("afterend", collapseButton);
  }
  onCopy(_canvas, selectionData) {
    for (const collapsedGroupData of selectionData.nodes) {
      if (collapsedGroupData.type !== "group" || !collapsedGroupData.isCollapsed || !collapsedGroupData.collapsedData)
        continue;
      selectionData.nodes.push(...collapsedGroupData.collapsedData.nodes.map((nodeData) => ({
        ...nodeData,
        // Restore the relative position of the node to the group
        x: nodeData.x + collapsedGroupData.x,
        y: nodeData.y + collapsedGroupData.y
      })));
      selectionData.edges.push(...collapsedGroupData.collapsedData.edges);
    }
  }
  setCollapsed(canvas, groupNode, collapsed) {
    groupNode.setData({ ...groupNode.getData(), isCollapsed: collapsed });
    canvas.setData(canvas.getData());
    canvas.history.current--;
    canvas.pushHistory(canvas.getData());
  }
  onNodeBBoxRequested(_canvas, node, bbox) {
    var _a, _b;
    const nodeData = node.getData();
    if (nodeData.type !== "group" || !nodeData.isCollapsed)
      return;
    bbox.maxX = bbox.minX + ((_b = (_a = node.nodeEl) == null ? void 0 : _a.getBoundingClientRect().width) != null ? _b : 0);
    bbox.maxY = bbox.minY;
  }
  expandCollapsedNodes(data) {
    data.nodes = data.nodes.flatMap((groupNodeData) => {
      const collapsedData = groupNodeData.collapsedData;
      if (collapsedData === void 0)
        return [groupNodeData];
      groupNodeData.collapsedData = void 0;
      data.edges.push(...collapsedData.edges);
      return [groupNodeData, ...collapsedData.nodes.map((nodeData) => ({
        ...nodeData,
        // Restore the relative position of the node to the group
        x: nodeData.x + groupNodeData.x,
        y: nodeData.y + groupNodeData.y
      }))];
    });
  }
  collapseNodes(data) {
    data.nodes.forEach((groupNodeData) => {
      if (!groupNodeData.isCollapsed)
        return;
      const groupNodeBBox = CanvasHelper.getBBox([groupNodeData]);
      const containedNodesData = data.nodes.filter(
        (nodeData) => nodeData.id !== groupNodeData.id && BBoxHelper.insideBBox(CanvasHelper.getBBox([nodeData]), groupNodeBBox, false)
      );
      const containedEdgesData = data.edges.filter((edgeData) => {
        return containedNodesData.some((nodeData) => nodeData.id === edgeData.fromNode) || containedNodesData.some((nodeData) => nodeData.id === edgeData.toNode);
      });
      data.nodes = data.nodes.filter((nodeData) => !containedNodesData.includes(nodeData));
      data.edges = data.edges.filter((edgeData) => !containedEdgesData.includes(edgeData));
      groupNodeData.collapsedData = {
        nodes: containedNodesData.map((nodeData) => ({
          ...nodeData,
          // Store the relative position of the node to the group
          x: nodeData.x - groupNodeData.x,
          y: nodeData.y - groupNodeData.y
        })),
        edges: containedEdgesData
      };
    });
  }
};

// src/canvas-extensions/focus-mode-canvas-extension.ts
var CONTROL_MENU_FOCUS_TOGGLE_ID = "focus-mode-toggle";
var FocusModeCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "focusModeFeatureEnabled";
  }
  init() {
    this.plugin.addCommand({
      id: "toggle-focus-mode",
      name: "Toggle Focus Mode",
      checkCallback: CanvasHelper.canvasCommand(
        this.plugin,
        (_canvas) => true,
        (canvas) => this.toggleFocusMode(canvas)
      )
    });
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.addControlMenuToggle(canvas)
    ));
  }
  addControlMenuToggle(canvas) {
    var _a;
    const settingsContainer = (_a = canvas.quickSettingsButton) == null ? void 0 : _a.parentElement;
    if (!settingsContainer)
      return;
    const controlMenuFocusToggle = CanvasHelper.createControlMenuButton({
      id: CONTROL_MENU_FOCUS_TOGGLE_ID,
      label: "Focus Mode",
      icon: "focus",
      callback: () => this.toggleFocusMode(canvas)
    });
    CanvasHelper.addControlMenuButton(settingsContainer, controlMenuFocusToggle);
  }
  toggleFocusMode(canvas) {
    var _a, _b;
    const controlMenuFocusToggle = (_b = (_a = canvas.quickSettingsButton) == null ? void 0 : _a.parentElement) == null ? void 0 : _b.querySelector(`#${CONTROL_MENU_FOCUS_TOGGLE_ID}`);
    if (!controlMenuFocusToggle)
      return;
    const newValue = controlMenuFocusToggle.dataset.toggled !== "true";
    canvas.wrapperEl.dataset.focusModeEnabled = newValue.toString();
    controlMenuFocusToggle.dataset.toggled = newValue.toString();
  }
};

// src/canvas-extensions/flip-edge-canvas-extension.ts
var FlipEdgeCanvasExtension = class extends CanvasExtension {
  isEnabled() {
    return "flipEdgeFeatureEnabled";
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
  }
  onPopupMenuCreated(canvas) {
    var _a, _b;
    const popupMenuEl = (_a = canvas == null ? void 0 : canvas.menu) == null ? void 0 : _a.menuEl;
    if (!popupMenuEl)
      return;
    const POSSIBLE_ICONS = ["lucide-arrow-right", "lucide-move-horizontal", "line-horizontal"];
    let edgeDirectionButton = null;
    for (const icon of POSSIBLE_ICONS) {
      edgeDirectionButton = (_b = popupMenuEl.querySelector(`button:not([id]) > .svg-icon.${icon}`)) == null ? void 0 : _b.parentElement;
      if (edgeDirectionButton)
        break;
    }
    if (!edgeDirectionButton)
      return;
    edgeDirectionButton.addEventListener("click", () => this.onEdgeDirectionDropdownCreated(canvas));
  }
  onEdgeDirectionDropdownCreated(canvas) {
    const dropdownEl = document.body.querySelector("div.menu");
    if (!dropdownEl)
      return;
    const separatorEl = CanvasHelper.createDropdownSeparatorElement();
    dropdownEl.appendChild(separatorEl);
    const flipEdgeButton = CanvasHelper.createDropdownOptionElement({
      icon: "flip-horizontal-2",
      label: "Flip Edge",
      callback: () => this.flipEdge(canvas)
    });
    dropdownEl.appendChild(flipEdgeButton);
  }
  flipEdge(canvas) {
    const selectedEdges = [...canvas.selection].filter((item) => item.path !== void 0);
    if (selectedEdges.length === 0)
      return;
    for (const edge of selectedEdges) {
      const edgeData = edge.getData();
      edge.setData({
        ...edgeData,
        fromNode: edgeData.toNode,
        fromSide: edgeData.toSide,
        toNode: edgeData.fromNode,
        toSide: edgeData.fromSide
      });
    }
    canvas.pushHistory(canvas.getData());
  }
};

// src/canvas-extensions/advanced-styles/node-styles.ts
var NodeStylesExtension = class extends CanvasExtension {
  isEnabled() {
    return "nodeStylingFeatureEnabled";
  }
  init() {
    this.allNodeStyles = [...BUILTIN_NODE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customNodeStyleAttributes")];
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      PluginEvent.SettingsChanged,
      () => this.allNodeStyles = [...BUILTIN_NODE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customNodeStyleAttributes")]
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
  }
  onPopupMenuCreated(canvas) {
    var _a;
    const selectionNodeData = canvas.getSelectionData().nodes;
    if (canvas.readonly || selectionNodeData.length === 0 || selectionNodeData.length !== canvas.selection.size)
      return;
    const selectedNodeTypes = new Set(selectionNodeData.map((node) => node.type));
    const availableNodeStyles = this.allNodeStyles.filter((style) => !style.nodeTypes || style.nodeTypes.some((type) => selectedNodeTypes.has(type)));
    CanvasHelper.addStyleAttributesToPopup(
      this.plugin,
      canvas,
      availableNodeStyles,
      (_a = selectionNodeData[0].styleAttributes) != null ? _a : {},
      (attribute, value) => this.setStyleAttributeForSelection(canvas, attribute, value)
    );
  }
  setStyleAttributeForSelection(canvas, attribute, value) {
    const selectionNodeData = canvas.getSelectionData().nodes;
    for (const nodeData of selectionNodeData) {
      const node = canvas.nodes.get(nodeData.id);
      if (!node)
        continue;
      if (attribute.nodeTypes && !attribute.nodeTypes.includes(nodeData.type))
        continue;
      node.setData({
        ...nodeData,
        styleAttributes: {
          ...nodeData.styleAttributes,
          [attribute.datasetKey]: value
        }
      });
    }
    canvas.pushHistory(canvas.getData());
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/edge-pathfinding-method.ts
var EdgePathfindingMethod = class {
};

// src/utils/svg-path-helper.ts
var SvgPathHelper = class {
  static pathArrayToSvgPath(positions, rounded = false) {
    const tension = 0.2;
    let newPositions = [...positions];
    if (rounded && positions.length > 2) {
      newPositions = [positions[0]];
      for (let i = 1; i < positions.length - 2; i++) {
        const p1 = positions[i];
        const p2 = positions[i + 1];
        const p3 = positions[i + 2];
        const t1 = (1 - tension) / 2;
        const t2 = 1 - t1;
        const x = t2 * t2 * t2 * p1.x + 3 * t2 * t2 * t1 * p2.x + 3 * t2 * t1 * t1 * p3.x + t1 * t1 * t1 * p2.x;
        const y = t2 * t2 * t2 * p1.y + 3 * t2 * t2 * t1 * p2.y + 3 * t2 * t1 * t1 * p3.y + t1 * t1 * t1 * p2.y;
        newPositions.push({ x, y });
      }
      const lastPoint = positions[positions.length - 1];
      newPositions.push(lastPoint);
    }
    for (let i = 0; i < newPositions.length - 2; i++) {
      const p1 = newPositions[i];
      const p2 = newPositions[i + 1];
      const p3 = newPositions[i + 2];
      const currentDirection = {
        x: p2.x - p1.x,
        y: p2.y - p1.y
      };
      const nextDirection = {
        x: p3.x - p2.x,
        y: p3.y - p2.y
      };
      if (currentDirection.x !== nextDirection.x && currentDirection.y !== nextDirection.y)
        continue;
      newPositions.splice(i + 1, 1);
      i--;
    }
    return newPositions.map(
      (position, index) => `${index === 0 ? "M" : "L"} ${position.x} ${position.y}`
    ).join(" ");
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/pathfinding-direct.ts
var EdgePathfindingDirect = class extends EdgePathfindingMethod {
  getPath(_plugin, _canvas, fromPos, _fromBBoxSidePos, _fromSide, toPos, _toBBoxSidePos, _toSide) {
    return {
      svgPath: SvgPathHelper.pathArrayToSvgPath([fromPos, toPos], false),
      center: {
        x: (fromPos.x + toPos.x) / 2,
        y: (fromPos.y + toPos.y) / 2
      },
      rotateArrows: true
    };
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/pathfinding-square.ts
var EdgePathfindingSquare = class extends EdgePathfindingMethod {
  getPath(_plugin, _canvas, fromPos, fromBBoxSidePos, fromSide, toPos, toBBoxSidePos, toSide) {
    let pathArray = [];
    let center = { x: 0, y: 0 };
    if (fromSide === toSide) {
      const direction = BBoxHelper.direction(fromSide);
      if (BBoxHelper.isHorizontal(fromSide)) {
        pathArray = [
          fromPos,
          { x: Math.max(fromBBoxSidePos.x, toBBoxSidePos.x) + direction * CanvasHelper.GRID_SIZE, y: fromBBoxSidePos.y },
          { x: Math.max(fromBBoxSidePos.x, toBBoxSidePos.x) + direction * CanvasHelper.GRID_SIZE, y: toBBoxSidePos.y },
          toPos
        ];
      } else {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x, y: Math.max(fromBBoxSidePos.y, toBBoxSidePos.y) + direction * CanvasHelper.GRID_SIZE },
          { x: toBBoxSidePos.x, y: Math.max(fromBBoxSidePos.y, toBBoxSidePos.y) + direction * CanvasHelper.GRID_SIZE },
          toPos
        ];
      }
      center = {
        x: (pathArray[1].x + pathArray[2].x) / 2,
        y: (pathArray[1].y + pathArray[2].y) / 2
      };
    } else if (BBoxHelper.isHorizontal(fromSide) === BBoxHelper.isHorizontal(toSide)) {
      if (BBoxHelper.isHorizontal(fromSide)) {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x + (toBBoxSidePos.x - fromBBoxSidePos.x) / 2, y: fromBBoxSidePos.y },
          { x: fromBBoxSidePos.x + (toBBoxSidePos.x - fromBBoxSidePos.x) / 2, y: toBBoxSidePos.y },
          toPos
        ];
      } else {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x, y: fromBBoxSidePos.y + (toBBoxSidePos.y - fromBBoxSidePos.y) / 2 },
          { x: toBBoxSidePos.x, y: fromBBoxSidePos.y + (toBBoxSidePos.y - fromBBoxSidePos.y) / 2 },
          toPos
        ];
      }
      center = {
        x: (fromBBoxSidePos.x + toBBoxSidePos.x) / 2,
        y: (fromBBoxSidePos.y + toBBoxSidePos.y) / 2
      };
    } else {
      if (BBoxHelper.isHorizontal(fromSide)) {
        pathArray = [
          fromPos,
          { x: toBBoxSidePos.x, y: fromBBoxSidePos.y },
          toPos
        ];
      } else {
        pathArray = [
          fromPos,
          { x: fromBBoxSidePos.x, y: toBBoxSidePos.y },
          toPos
        ];
      }
      center = {
        x: pathArray[1].x,
        y: pathArray[1].y
      };
    }
    return {
      svgPath: SvgPathHelper.pathArrayToSvgPath(pathArray, false),
      center,
      rotateArrows: false
    };
  }
};

// src/canvas-extensions/advanced-styles/edge-pathfinding-methods/pathfinding-a-star.ts
var MAX_MS_CALCULATION = 100;
var DIRECTIONS2 = [
  { dx: 1, dy: 0 },
  { dx: -1, dy: 0 },
  { dx: 0, dy: 1 },
  { dx: 0, dy: -1 },
  { dx: 1, dy: 1 },
  { dx: -1, dy: 1 },
  { dx: 1, dy: -1 },
  { dx: -1, dy: -1 }
];
var DIAGONAL_COST = Math.sqrt(2);
var Node = class {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.gCost = 0;
    this.hCost = 0;
    this.fCost = 0;
    this.parent = null;
  }
  // Only check for x and y, not gCost, hCost, fCost, or parent
  inList(nodes) {
    return nodes.some((n) => n.x === this.x && n.y === this.y);
  }
};
var EdgePathfindingAStar = class extends EdgePathfindingMethod {
  getPath(plugin, canvas, fromPos, _fromBBoxSidePos, fromSide, toPos, _toBBoxSidePos, toSide) {
    const nodeBBoxes = [...canvas.nodes.values()].filter((node) => {
      const nodeData = node.getData();
      const isGroup = nodeData.type === "group";
      const isOpenPortal = nodeData.portalToFile !== void 0;
      return !isGroup && !isOpenPortal;
    }).map((node) => node.getBBox());
    const fromPosWithMargin = BBoxHelper.moveInDirection(fromPos, fromSide, 10);
    const toPosWithMargin = BBoxHelper.moveInDirection(toPos, toSide, 10);
    const gridResolution = plugin.settings.getSetting("edgeStylePathfinderGridResolution");
    const pathArray = this.aStarAlgorithm(fromPosWithMargin, fromSide, toPosWithMargin, toSide, nodeBBoxes, gridResolution);
    if (!pathArray)
      return null;
    pathArray.splice(0, 0, fromPos);
    pathArray.splice(pathArray.length, 0, toPos);
    const roundedPath = plugin.settings.getSetting("edgeStylePathfinderPathRounded");
    const svgPath = SvgPathHelper.pathArrayToSvgPath(pathArray, roundedPath);
    return {
      svgPath,
      center: pathArray[Math.floor(pathArray.length / 2)],
      rotateArrows: false
    };
  }
  aStarAlgorithm(fromPos, fromSide, toPos, toSide, obstacles, gridResolution) {
    const start = new Node(
      Math.floor(fromPos.x / gridResolution) * gridResolution,
      Math.floor(fromPos.y / gridResolution) * gridResolution
    );
    if (fromSide === "right" && fromPos.x !== start.x)
      start.x += gridResolution;
    if (fromSide === "bottom" && fromPos.y !== start.y)
      start.y += gridResolution;
    const end = new Node(
      Math.floor(toPos.x / gridResolution) * gridResolution,
      Math.floor(toPos.y / gridResolution) * gridResolution
    );
    if (toSide === "right" && toPos.x !== end.x)
      end.x += gridResolution;
    if (toSide === "bottom" && toPos.y !== end.y)
      end.y += gridResolution;
    if (this.isInsideObstacle(start, obstacles) || this.isInsideObstacle(end, obstacles))
      return null;
    const openSet = [start];
    const closedSet = [];
    const startTimestamp = performance.now();
    while (openSet.length > 0) {
      let current = null;
      let lowestFCost = Infinity;
      for (const node of openSet) {
        if (node.fCost < lowestFCost) {
          current = node;
          lowestFCost = node.fCost;
        }
      }
      if (performance.now() - startTimestamp > MAX_MS_CALCULATION)
        return null;
      if (!current)
        return null;
      openSet.splice(openSet.indexOf(current), 1);
      closedSet.push(current);
      if (current.x === end.x && current.y === end.y)
        return [fromPos, ...this.reconstructPath(current), toPos].map((node) => ({ x: node.x, y: node.y }));
      if (!(current.x === start.x && current.y === start.y) && this.isTouchingObstacle(current, obstacles))
        continue;
      for (const neighbor of this.getPossibleNeighbors(current, obstacles, gridResolution)) {
        if (neighbor.inList(closedSet))
          continue;
        const tentativeGCost = current.gCost + this.getMovementCost({
          dx: neighbor.x - current.x,
          dy: neighbor.y - current.y
        });
        if (!neighbor.inList(openSet) || tentativeGCost < neighbor.gCost) {
          neighbor.parent = current;
          neighbor.gCost = tentativeGCost;
          neighbor.hCost = this.heuristic(neighbor, end);
          neighbor.fCost = neighbor.gCost + neighbor.hCost;
          openSet.push(neighbor);
        }
      }
    }
    return null;
  }
  // Manhattan distance
  heuristic(node, end) {
    return Math.abs(node.x - end.x) + Math.abs(node.y - end.y);
  }
  // Define a function to check if a position isn't inside any obstacle
  isTouchingObstacle(node, obstacles) {
    return obstacles.some((obstacle) => BBoxHelper.insideBBox(node, obstacle, true));
  }
  isInsideObstacle(node, obstacles) {
    return obstacles.some((obstacle) => BBoxHelper.insideBBox(node, obstacle, false));
  }
  // Define a function to calculate movement cost based on direction
  getMovementCost(direction) {
    return direction.dx !== 0 && direction.dy !== 0 ? DIAGONAL_COST : 1;
  }
  getPossibleNeighbors(node, obstacles, gridResolution) {
    const neighbors = [];
    for (const direction of DIRECTIONS2) {
      const neighbor = new Node(
        node.x + direction.dx * gridResolution,
        node.y + direction.dy * gridResolution
      );
      neighbor.gCost = node.gCost + this.getMovementCost(direction);
      if (this.isInsideObstacle(neighbor, obstacles))
        continue;
      neighbors.push(neighbor);
    }
    return neighbors;
  }
  reconstructPath(node) {
    const path = [];
    while (node) {
      path.push(node);
      node = node.parent;
    }
    return path.reverse();
  }
};

// src/canvas-extensions/advanced-styles/edge-styles.ts
var EDGE_PATHFINDING_METHODS = {
  "direct": EdgePathfindingDirect,
  "square": EdgePathfindingSquare,
  "a-star": EdgePathfindingAStar
};
var EdgeStylesExtension = class extends CanvasExtension {
  isEnabled() {
    return "edgesStylingFeatureEnabled";
  }
  init() {
    this.allEdgeStyleAttributes = [...BUILTIN_EDGE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customEdgeStyleAttributes")];
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      PluginEvent.SettingsChanged,
      () => this.allEdgeStyleAttributes = [...BUILTIN_EDGE_STYLE_ATTRIBUTES, ...this.plugin.settings.getSetting("customEdgeStyleAttributes")]
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.PopupMenuCreated,
      (canvas) => this.onPopupMenuCreated(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeChanged,
      (canvas, edge) => this.onEdgeChanged(canvas, edge)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeCenterRequested,
      (canvas, edge, center) => this.onEdgeCenterRequested(canvas, edge, center)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeAdded,
      (canvas, node) => this.updateAllEdgesInArea(canvas, node.getBBox())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeMoved,
      // Only update edges this way if a node got moved with the arrow keys
      (canvas, node) => node.initialized && !canvas.isDragging ? this.updateAllEdgesInArea(canvas, node.getBBox()) : void 0
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeRemoved,
      (canvas, node) => this.updateAllEdgesInArea(canvas, node.getBBox())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DraggingStateChanged,
      (canvas, isDragging) => {
        if (isDragging)
          return;
        const selectedNodes = canvas.getSelectionData().nodes.map((nodeData) => canvas.nodes.get(nodeData.id)).filter((node) => node !== void 0);
        const selectedNodeBBoxes = selectedNodes.map((node) => node.getBBox());
        const selectedNodeBBox = BBoxHelper.combineBBoxes(selectedNodeBBoxes);
        this.updateAllEdgesInArea(canvas, selectedNodeBBox);
      }
    ));
  }
  // Skip if isDragging and setting isn't enabled
  shouldUpdateEdge(canvas) {
    return !canvas.isDragging || this.plugin.settings.getSetting("edgeStyleUpdateWhileDragging") || canvas.canvasEl.hasClass("is-connecting");
  }
  onPopupMenuCreated(canvas) {
    var _a;
    const selectedEdges = [...canvas.selection].filter((item) => item.path !== void 0);
    if (canvas.readonly || selectedEdges.length === 0 || selectedEdges.length !== canvas.selection.size)
      return;
    CanvasHelper.addStyleAttributesToPopup(
      this.plugin,
      canvas,
      this.allEdgeStyleAttributes,
      (_a = selectedEdges[0].getData().styleAttributes) != null ? _a : {},
      (attribute, value) => this.setStyleAttributeForSelection(canvas, attribute, value)
    );
  }
  setStyleAttributeForSelection(canvas, attribute, value) {
    const selectedEdges = [...canvas.selection].filter((item) => item.path !== void 0);
    for (const edge of selectedEdges) {
      const edgeData = edge.getData();
      edge.setData({
        ...edgeData,
        styleAttributes: {
          ...edgeData.styleAttributes,
          [attribute.datasetKey]: value
        }
      });
    }
    canvas.pushHistory(canvas.getData());
  }
  updateAllEdgesInArea(canvas, bbox) {
    if (!this.shouldUpdateEdge(canvas))
      return;
    for (const edge of canvas.edges.values()) {
      if (!BBoxHelper.isColliding(edge.getBBox(), bbox))
        continue;
      canvas.markDirty(edge);
    }
  }
  onEdgeChanged(canvas, edge) {
    var _a, _b, _c, _d, _e, _f, _g;
    if (!canvas.dirty.has(edge) && !canvas.selection.has(edge))
      return;
    if (!this.shouldUpdateEdge(canvas))
      return;
    const edgeData = edge.getData();
    if (!edge.bezier)
      return;
    edge.center = void 0;
    edge.updatePath();
    const pathfindingMethod = (_a = edgeData.styleAttributes) == null ? void 0 : _a.pathfindingMethod;
    if (pathfindingMethod) {
      const fromBBoxSidePos = BBoxHelper.getCenterOfBBoxSide(edge.from.node.getBBox(), edge.from.side);
      const fromPos = edge.from.end === "none" ? fromBBoxSidePos : edge.bezier.from;
      const toBBoxSidePos = BBoxHelper.getCenterOfBBoxSide(edge.to.node.getBBox(), edge.to.side);
      const toPos = edge.to.end === "none" ? toBBoxSidePos : edge.bezier.to;
      const path = new EDGE_PATHFINDING_METHODS[pathfindingMethod]().getPath(this.plugin, canvas, fromPos, fromBBoxSidePos, edge.from.side, toPos, toBBoxSidePos, edge.to.side);
      if (!path)
        return;
      edge.center = path.center;
      edge.path.interaction.setAttr("d", path == null ? void 0 : path.svgPath);
      edge.path.display.setAttr("d", path == null ? void 0 : path.svgPath);
    }
    (_b = edge.labelElement) == null ? void 0 : _b.render();
    const arrowPolygonPoints = this.getArrowPolygonPoints((_c = edgeData.styleAttributes) == null ? void 0 : _c.arrow);
    if ((_d = edge.fromLineEnd) == null ? void 0 : _d.el)
      (_e = edge.fromLineEnd.el.querySelector("polygon")) == null ? void 0 : _e.setAttribute("points", arrowPolygonPoints);
    if ((_f = edge.toLineEnd) == null ? void 0 : _f.el)
      (_g = edge.toLineEnd.el.querySelector("polygon")) == null ? void 0 : _g.setAttribute("points", arrowPolygonPoints);
    if (this.plugin.settings.getSetting("edgeStyleDirectRotateArrow")) {
      this.rotateArrows(edge, pathfindingMethod);
    }
  }
  onEdgeCenterRequested(_canvas, edge, center) {
    var _a, _b, _c, _d;
    center.x = (_b = (_a = edge.center) == null ? void 0 : _a.x) != null ? _b : center.x;
    center.y = (_d = (_c = edge.center) == null ? void 0 : _c.y) != null ? _d : center.y;
  }
  getArrowPolygonPoints(arrowStyle) {
    if (arrowStyle === "halved-triangle")
      return `-2,0 7.5,12 -2,12`;
    else if (arrowStyle === "thin-triangle")
      return `0,0 7,10 0,0 0,10 0,0 -7,10`;
    else if (arrowStyle === "diamond" || arrowStyle === "diamond-outline")
      return `0,0 5,10 0,20 -5,10`;
    else if (arrowStyle === "circle" || arrowStyle === "circle-outline")
      return `0 0, 4.95 1.8, 7.5 6.45, 6.6 11.7, 2.7 15, -2.7 15, -6.6 11.7, -7.5 6.45, -4.95 1.8`;
    else
      return `0,0 6.5,10.4 -6.5,10.4`;
  }
  rotateArrows(edge, pathRouteType) {
    var _a, _b, _c, _d;
    if (pathRouteType !== "direct") {
      if ((_a = edge.fromLineEnd) == null ? void 0 : _a.el)
        edge.fromLineEnd.el.style.translate = "";
      if ((_b = edge.toLineEnd) == null ? void 0 : _b.el)
        edge.toLineEnd.el.style.translate = "";
      return;
    }
    const setArrowRotation = (element, side, rotation) => {
      element.style.transform = element.style.transform.replace(/rotate\([-\d]+(deg|rad)\)/g, `rotate(${rotation}rad)`);
      const offset = BBoxHelper.getSideVector(side);
      element.style.translate = `${offset.x * 7}px ${offset.y * -7}px`;
    };
    const edgeRotation = Math.atan2(edge.bezier.to.y - edge.bezier.from.y, edge.bezier.to.x - edge.bezier.from.x) - Math.PI / 2;
    if ((_c = edge.fromLineEnd) == null ? void 0 : _c.el)
      setArrowRotation(edge.fromLineEnd.el, edge.from.side, edgeRotation);
    if ((_d = edge.toLineEnd) == null ? void 0 : _d.el)
      setArrowRotation(edge.toLineEnd.el, edge.to.side, edgeRotation - Math.PI);
  }
};

// src/canvas-extensions/dataset-exposers/node-exposer.ts
function getExposedNodeData(settings) {
  const exposedData = [];
  if (settings.getSetting("nodeStylingFeatureEnabled"))
    exposedData.push("styleAttributes");
  if (settings.getSetting("collapsibleGroupsFeatureEnabled"))
    exposedData.push("isCollapsed");
  if (settings.getSetting("presentationFeatureEnabled"))
    exposedData.push("isStartNode");
  if (settings.getSetting("portalsFeatureEnabled"))
    exposedData.push("portalToFile", "portalId");
  return exposedData;
}
var NodeExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeChanged,
      (_canvas, node) => {
        const nodeData = node == null ? void 0 : node.getData();
        if (!nodeData)
          return;
        for (const exposedDataKey of getExposedNodeData(this.plugin.settings)) {
          const datasetPairs = nodeData[exposedDataKey] instanceof Object ? Object.entries(nodeData[exposedDataKey]) : [[exposedDataKey, nodeData[exposedDataKey]]];
          for (const [key, value] of datasetPairs) {
            if (!value)
              delete node.nodeEl.dataset[key];
            else
              node.nodeEl.dataset[key] = value;
          }
        }
      }
    ));
  }
};

// src/canvas-extensions/dataset-exposers/node-interaction-exposer.ts
var TARGET_NODE_DATASET_PREFIX = "target";
var NodeInteractionExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.NodeInteraction,
      (canvas, node) => {
        const nodeData = node == null ? void 0 : node.getData();
        if (!nodeData)
          return;
        const interactionEl = canvas.nodeInteractionLayer.interactionEl;
        if (!interactionEl)
          return;
        for (const exposedDataKey of getExposedNodeData(this.plugin.settings)) {
          const datasetPairs = nodeData[exposedDataKey] instanceof Object ? Object.entries(nodeData[exposedDataKey]) : [[exposedDataKey, nodeData[exposedDataKey]]];
          for (const [key, value] of datasetPairs) {
            const modifiedKey = TARGET_NODE_DATASET_PREFIX + key.toString().charAt(0).toUpperCase() + key.toString().slice(1);
            if (!value)
              delete interactionEl.dataset[modifiedKey];
            else
              interactionEl.dataset[modifiedKey] = value;
          }
        }
      }
    ));
  }
};

// src/canvas-extensions/dataset-exposers/edge-exposer.ts
function getExposedEdgeData(settings) {
  const exposedData = [];
  if (settings.getSetting("edgesStylingFeatureEnabled"))
    exposedData.push("styleAttributes");
  return exposedData;
}
var EdgeExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.EdgeChanged,
      (_canvas, edge) => {
        var _a, _b, _c, _d;
        const edgeData = edge == null ? void 0 : edge.getData();
        if (!edgeData)
          return;
        for (const exposedDataKey of getExposedEdgeData(this.plugin.settings)) {
          const datasetPairs = edgeData[exposedDataKey] instanceof Object ? Object.entries(edgeData[exposedDataKey]) : [[exposedDataKey, edgeData[exposedDataKey]]];
          for (const [key, value] of datasetPairs) {
            if (!value) {
              delete edge.path.display.dataset[key];
              if ((_a = edge.fromLineEnd) == null ? void 0 : _a.el)
                delete edge.fromLineEnd.el.dataset[key];
              if ((_b = edge.toLineEnd) == null ? void 0 : _b.el)
                delete edge.toLineEnd.el.dataset[key];
            } else {
              edge.path.display.dataset[key] = value;
              if ((_c = edge.fromLineEnd) == null ? void 0 : _c.el)
                edge.fromLineEnd.el.dataset[key] = value;
              if ((_d = edge.toLineEnd) == null ? void 0 : _d.el)
                edge.toLineEnd.el.dataset[key] = value;
            }
          }
        }
      }
    ));
  }
};

// src/canvas-extensions/dataset-exposers/canvas-wrapper-exposer.ts
var EXPOSED_SETTINGS = [
  "disableFontSizeRelativeToZoom",
  "collapsibleGroupsFeatureEnabled",
  "collapsedGroupPreviewOnDrag"
];
var CanvasWrapperExposerExtension = class extends CanvasExtension {
  isEnabled() {
    return true;
  }
  init() {
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      PluginEvent.SettingsChanged,
      () => this.updateExposedSettings(this.plugin.getCurrentCanvas())
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.CanvasChanged,
      (canvas) => this.updateExposedSettings(canvas)
    ));
    this.plugin.registerEvent(this.plugin.app.workspace.on(
      CanvasEvent.DraggingStateChanged,
      (canvas, dragging) => {
        if (dragging)
          canvas.wrapperEl.dataset.isDragging = "true";
        else
          delete canvas.wrapperEl.dataset.isDragging;
      }
    ));
  }
  updateExposedSettings(canvas) {
    if (!canvas)
      return;
    for (const setting of EXPOSED_SETTINGS) {
      canvas.wrapperEl.dataset[setting] = this.plugin.settings.getSetting(setting).toString();
    }
  }
};

// src/main.ts
var PATCHERS = [
  CanvasPatcher,
  MetadataCachePatcher,
  BacklinksPatcher,
  OutgoingLinksPatcher
];
var CANVAS_EXTENSIONS = [
  // Dataset Exposers
  CanvasWrapperExposerExtension,
  NodeExposerExtension,
  EdgeExposerExtension,
  NodeInteractionExposerExtension,
  // Advanced Styles
  NodeStylesExtension,
  EdgeStylesExtension,
  // Basic Extensions
  VariableBreakpointCanvasExtension,
  BetterDefaultSettingsCanvasExtension,
  CommandsCanvasExtension,
  FlipEdgeCanvasExtension,
  ZOrderingCanvasExtension,
  BetterReadonlyCanvasExtension,
  AutoResizeNodeCanvasExtension,
  GroupCanvasExtension,
  // More Advanced Extensions
  CollapsibleGroupsCanvasExtension,
  FocusModeCanvasExtension,
  EncapsulateCanvasExtension,
  ColorPaletteCanvasExtension,
  PresentationCanvasExtension,
  PortalsCanvasExtension
];
var AdvancedCanvasPlugin = class extends import_obsidian12.Plugin {
  async onload() {
    this.migrationHelper = new MigrationHelper(this);
    await this.migrationHelper.migrate();
    IconsHelper.addIcons();
    this.settings = new SettingsManager(this);
    await this.settings.loadSettings();
    this.settings.addSettingsTab();
    this.quicksettings = new Quicksettings(this);
    this.windowsManager = new WindowsManager(this);
    this.patchers = PATCHERS.map((Patcher2) => new Patcher2(this));
    this.canvasExtensions = CANVAS_EXTENSIONS.map((Extension) => new Extension(this));
  }
  onunload() {
  }
  getCurrentCanvasView() {
    const canvasView = this.app.workspace.getActiveViewOfType(import_obsidian12.ItemView);
    if ((canvasView == null ? void 0 : canvasView.getViewType()) !== "canvas")
      return null;
    return canvasView;
  }
  getCurrentCanvas() {
    var _a;
    return ((_a = this.getCurrentCanvasView()) == null ? void 0 : _a.canvas) || null;
  }
  createFileSnapshot(path, content) {
    var _a;
    const fileRecoveryPlugin = (_a = this.app.internalPlugins.plugins["file-recovery"]) == null ? void 0 : _a.instance;
    if (!fileRecoveryPlugin)
      return;
    fileRecoveryPlugin.forceAdd(path, content);
  }
  // this.app.plugins.plugins["advanced-canvas"].enableDebugMode()
  enableDebugMode() {
    if (this.debugHelper)
      return;
    this.debugHelper = new DebugHelper(this);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2pzb25pZnkvbGliL3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9qc29uaWZ5L2xpYi9zdHJpbmdpZnkuanMiLCAibm9kZV9tb2R1bGVzL2pzb25pZnkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2lzQXJndW1lbnRzLmpzIiwgIm5vZGVfbW9kdWxlcy9vYmplY3Qta2V5cy9pbXBsZW1lbnRhdGlvbi5qcyIsICJub2RlX21vZHVsZXMvb2JqZWN0LWtleXMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2VzLW9iamVjdC1hdG9tcy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZXMtZXJyb3JzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvZXZhbC5qcyIsICJub2RlX21vZHVsZXMvZXMtZXJyb3JzL3JhbmdlLmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvcmVmLmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvc3ludGF4LmpzIiwgIm5vZGVfbW9kdWxlcy9lcy1lcnJvcnMvdHlwZS5qcyIsICJub2RlX21vZHVsZXMvZXMtZXJyb3JzL3VyaS5qcyIsICJub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL2Ficy5qcyIsICJub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL2Zsb29yLmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvbWF4LmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvbWluLmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3MvcG93LmpzIiwgIm5vZGVfbW9kdWxlcy9tYXRoLWludHJpbnNpY3Mvcm91bmQuanMiLCAibm9kZV9tb2R1bGVzL21hdGgtaW50cmluc2ljcy9pc05hTi5qcyIsICJub2RlX21vZHVsZXMvbWF0aC1pbnRyaW5zaWNzL3NpZ24uanMiLCAibm9kZV9tb2R1bGVzL2dvcGQvZ09QRC5qcyIsICJub2RlX21vZHVsZXMvZ29wZC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZXMtZGVmaW5lLXByb3BlcnR5L2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9zaGFtcy5qcyIsICJub2RlX21vZHVsZXMvaGFzLXN5bWJvbHMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2dldC1wcm90by9SZWZsZWN0LmdldFByb3RvdHlwZU9mLmpzIiwgIm5vZGVfbW9kdWxlcy9nZXQtcHJvdG8vT2JqZWN0LmdldFByb3RvdHlwZU9mLmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2ltcGxlbWVudGF0aW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9jYWxsLWJpbmQtYXBwbHktaGVscGVycy9mdW5jdGlvbkNhbGwuanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2Z1bmN0aW9uQXBwbHkuanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL3JlZmxlY3RBcHBseS5qcyIsICJub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvYWN0dWFsQXBwbHkuanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9kdW5kZXItcHJvdG8vZ2V0LmpzIiwgIm5vZGVfbW9kdWxlcy9nZXQtcHJvdG8vaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2hhc293bi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZ2V0LWludHJpbnNpYy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvZGVmaW5lLWRhdGEtcHJvcGVydHkvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2hhcy1wcm9wZXJ0eS1kZXNjcmlwdG9ycy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvc2V0LWZ1bmN0aW9uLWxlbmd0aC9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMvYXBwbHlCaW5kLmpzIiwgIm5vZGVfbW9kdWxlcy9jYWxsLWJpbmQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2NhbGwtYm91bmQvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2pzb24tc3RhYmxlLXN0cmluZ2lmeS9pbmRleC5qcyIsICJzcmMvbWFpbi50cyIsICJzcmMvcXVpY2tzZXR0aW5ncy50cyIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9zdHlsZS1jb25maWcudHMiLCAic3JjL2V2ZW50cy50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvdmFyaWFibGUtYnJlYWtwb2ludC1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy91dGlscy9pY29ucy1oZWxwZXIudHMiLCAic3JjL3V0aWxzL2RlYnVnLWhlbHBlci50cyIsICJzcmMvdXRpbHMvbWlncmF0aW9uLWhlbHBlci50cyIsICJzcmMvbWFuYWdlcnMvd2luZG93cy1tYW5hZ2VyLnRzIiwgIm5vZGVfbW9kdWxlcy9tb25rZXktYXJvdW5kL21qcy9pbmRleC5qcyIsICJzcmMvdXRpbHMvcGF0Y2gtaGVscGVyLnRzIiwgInNyYy9wYXRjaGVycy9jYW52YXMtcGF0Y2hlci50cyIsICJub2RlX21vZHVsZXMvdGlueS1qc29uYy9kaXN0L2luZGV4LmpzIiwgInNyYy9wYXRjaGVycy9wYXRjaGVyLnRzIiwgInNyYy9wYXRjaGVycy9tZXRhZGF0YS1jYWNoZS1wYXRjaGVyLnRzIiwgInNyYy91dGlscy9oYXNoLWhlbHBlci50cyIsICJzcmMvdXRpbHMvcGF0aC1oZWxwZXIudHMiLCAic3JjL3BhdGNoZXJzL2JhY2tsaW5rcy1wYXRjaGVyLnRzIiwgInNyYy9wYXRjaGVycy9vdXRnb2luZy1saW5rcy1wYXRjaGVyLnRzIiwgInNyYy91dGlscy9jYW52YXMtaGVscGVyLnRzIiwgInNyYy91dGlscy9iYm94LWhlbHBlci50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZ3JvdXAtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvcHJlc2VudGF0aW9uLWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL3otb3JkZXJpbmctY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYmV0dGVyLXJlYWRvbmx5LWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL3V0aWxzL21vZGFsLWhlbHBlci50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZW5jYXBzdWxhdGUtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvY29tbWFuZHMtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYXV0by1yZXNpemUtbm9kZS1jYW52YXMtZXh0ZW5zaW9uLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9wb3J0YWxzLWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2JldHRlci1kZWZhdWx0LXNldHRpbmdzLWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2NvbG9yLXBhbGV0dGUtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvY29sbGFwc2libGUtZ3JvdXBzLWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2ZvY3VzLW1vZGUtY2FudmFzLWV4dGVuc2lvbi50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZmxpcC1lZGdlLWNhbnZhcy1leHRlbnNpb24udHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9ub2RlLXN0eWxlcy50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYWR2YW5jZWQtc3R5bGVzL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kcy9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZC50cyIsICJzcmMvdXRpbHMvc3ZnLXBhdGgtaGVscGVyLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9hZHZhbmNlZC1zdHlsZXMvZWRnZS1wYXRoZmluZGluZy1tZXRob2RzL3BhdGhmaW5kaW5nLWRpcmVjdC50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvYWR2YW5jZWQtc3R5bGVzL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kcy9wYXRoZmluZGluZy1zcXVhcmUudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZHMvcGF0aGZpbmRpbmctYS1zdGFyLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9hZHZhbmNlZC1zdHlsZXMvZWRnZS1zdHlsZXMudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2RhdGFzZXQtZXhwb3NlcnMvbm9kZS1leHBvc2VyLnRzIiwgInNyYy9jYW52YXMtZXh0ZW5zaW9ucy9kYXRhc2V0LWV4cG9zZXJzL25vZGUtaW50ZXJhY3Rpb24tZXhwb3Nlci50cyIsICJzcmMvY2FudmFzLWV4dGVuc2lvbnMvZGF0YXNldC1leHBvc2Vycy9lZGdlLWV4cG9zZXIudHMiLCAic3JjL2NhbnZhcy1leHRlbnNpb25zL2RhdGFzZXQtZXhwb3NlcnMvY2FudmFzLXdyYXBwZXItZXhwb3Nlci50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXQ7IC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXJcbnZhciBjaDsgLy8gVGhlIGN1cnJlbnQgY2hhcmFjdGVyXG52YXIgZXNjYXBlZSA9IHtcblx0J1wiJzogJ1wiJyxcblx0J1xcXFwnOiAnXFxcXCcsXG5cdCcvJzogJy8nLFxuXHRiOiAnXFxiJyxcblx0ZjogJ1xcZicsXG5cdG46ICdcXG4nLFxuXHRyOiAnXFxyJyxcblx0dDogJ1xcdCdcbn07XG52YXIgdGV4dDtcblxuLy8gQ2FsbCBlcnJvciB3aGVuIHNvbWV0aGluZyBpcyB3cm9uZy5cbmZ1bmN0aW9uIGVycm9yKG0pIHtcblx0dGhyb3cge1xuXHRcdG5hbWU6ICdTeW50YXhFcnJvcicsXG5cdFx0bWVzc2FnZTogbSxcblx0XHRhdDogYXQsXG5cdFx0dGV4dDogdGV4dFxuXHR9O1xufVxuXG5mdW5jdGlvbiBuZXh0KGMpIHtcblx0Ly8gSWYgYSBjIHBhcmFtZXRlciBpcyBwcm92aWRlZCwgdmVyaWZ5IHRoYXQgaXQgbWF0Y2hlcyB0aGUgY3VycmVudCBjaGFyYWN0ZXIuXG5cdGlmIChjICYmIGMgIT09IGNoKSB7XG5cdFx0ZXJyb3IoXCJFeHBlY3RlZCAnXCIgKyBjICsgXCInIGluc3RlYWQgb2YgJ1wiICsgY2ggKyBcIidcIik7XG5cdH1cblxuXHQvLyBHZXQgdGhlIG5leHQgY2hhcmFjdGVyLiBXaGVuIHRoZXJlIGFyZSBubyBtb3JlIGNoYXJhY3RlcnMsIHJldHVybiB0aGUgZW1wdHkgc3RyaW5nLlxuXG5cdGNoID0gdGV4dC5jaGFyQXQoYXQpO1xuXHRhdCArPSAxO1xuXHRyZXR1cm4gY2g7XG59XG5cbmZ1bmN0aW9uIG51bWJlcigpIHtcblx0Ly8gUGFyc2UgYSBudW1iZXIgdmFsdWUuXG5cdHZhciBudW07XG5cdHZhciBzdHIgPSAnJztcblxuXHRpZiAoY2ggPT09ICctJykge1xuXHRcdHN0ciA9ICctJztcblx0XHRuZXh0KCctJyk7XG5cdH1cblx0d2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHtcblx0XHRzdHIgKz0gY2g7XG5cdFx0bmV4dCgpO1xuXHR9XG5cdGlmIChjaCA9PT0gJy4nKSB7XG5cdFx0c3RyICs9ICcuJztcblx0XHR3aGlsZSAobmV4dCgpICYmIGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHtcblx0XHRcdHN0ciArPSBjaDtcblx0XHR9XG5cdH1cblx0aWYgKGNoID09PSAnZScgfHwgY2ggPT09ICdFJykge1xuXHRcdHN0ciArPSBjaDtcblx0XHRuZXh0KCk7XG5cdFx0aWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykge1xuXHRcdFx0c3RyICs9IGNoO1xuXHRcdFx0bmV4dCgpO1xuXHRcdH1cblx0XHR3aGlsZSAoY2ggPj0gJzAnICYmIGNoIDw9ICc5Jykge1xuXHRcdFx0c3RyICs9IGNoO1xuXHRcdFx0bmV4dCgpO1xuXHRcdH1cblx0fVxuXHRudW0gPSBOdW1iZXIoc3RyKTtcblx0aWYgKCFpc0Zpbml0ZShudW0pKSB7XG5cdFx0ZXJyb3IoJ0JhZCBudW1iZXInKTtcblx0fVxuXHRyZXR1cm4gbnVtO1xufVxuXG5mdW5jdGlvbiBzdHJpbmcoKSB7XG5cdC8vIFBhcnNlIGEgc3RyaW5nIHZhbHVlLlxuXHR2YXIgaGV4O1xuXHR2YXIgaTtcblx0dmFyIHN0ciA9ICcnO1xuXHR2YXIgdWZmZmY7XG5cblx0Ly8gV2hlbiBwYXJzaW5nIGZvciBzdHJpbmcgdmFsdWVzLCB3ZSBtdXN0IGxvb2sgZm9yIFwiIGFuZCBcXCBjaGFyYWN0ZXJzLlxuXHRpZiAoY2ggPT09ICdcIicpIHtcblx0XHR3aGlsZSAobmV4dCgpKSB7XG5cdFx0XHRpZiAoY2ggPT09ICdcIicpIHtcblx0XHRcdFx0bmV4dCgpO1xuXHRcdFx0XHRyZXR1cm4gc3RyO1xuXHRcdFx0fSBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdFx0aWYgKGNoID09PSAndScpIHtcblx0XHRcdFx0XHR1ZmZmZiA9IDA7XG5cdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IDQ7IGkgKz0gMSkge1xuXHRcdFx0XHRcdFx0aGV4ID0gcGFyc2VJbnQobmV4dCgpLCAxNik7XG5cdFx0XHRcdFx0XHRpZiAoIWlzRmluaXRlKGhleCkpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR1ZmZmZiA9ICh1ZmZmZiAqIDE2KSArIGhleDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodWZmZmYpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBlc2NhcGVlW2NoXSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRzdHIgKz0gZXNjYXBlZVtjaF07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHN0ciArPSBjaDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZXJyb3IoJ0JhZCBzdHJpbmcnKTtcbn1cblxuLy8gU2tpcCB3aGl0ZXNwYWNlLlxuZnVuY3Rpb24gd2hpdGUoKSB7XG5cdHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHtcblx0XHRuZXh0KCk7XG5cdH1cbn1cblxuLy8gdHJ1ZSwgZmFsc2UsIG9yIG51bGwuXG5mdW5jdGlvbiB3b3JkKCkge1xuXHRzd2l0Y2ggKGNoKSB7XG5cdFx0Y2FzZSAndCc6XG5cdFx0XHRuZXh0KCd0Jyk7XG5cdFx0XHRuZXh0KCdyJyk7XG5cdFx0XHRuZXh0KCd1Jyk7XG5cdFx0XHRuZXh0KCdlJyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRjYXNlICdmJzpcblx0XHRcdG5leHQoJ2YnKTtcblx0XHRcdG5leHQoJ2EnKTtcblx0XHRcdG5leHQoJ2wnKTtcblx0XHRcdG5leHQoJ3MnKTtcblx0XHRcdG5leHQoJ2UnKTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRjYXNlICduJzpcblx0XHRcdG5leHQoJ24nKTtcblx0XHRcdG5leHQoJ3UnKTtcblx0XHRcdG5leHQoJ2wnKTtcblx0XHRcdG5leHQoJ2wnKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRlcnJvcihcIlVuZXhwZWN0ZWQgJ1wiICsgY2ggKyBcIidcIik7XG5cdH1cbn1cblxuLy8gUGFyc2UgYW4gYXJyYXkgdmFsdWUuXG5mdW5jdGlvbiBhcnJheSgpIHtcblx0dmFyIGFyciA9IFtdO1xuXG5cdGlmIChjaCA9PT0gJ1snKSB7XG5cdFx0bmV4dCgnWycpO1xuXHRcdHdoaXRlKCk7XG5cdFx0aWYgKGNoID09PSAnXScpIHtcblx0XHRcdG5leHQoJ10nKTtcblx0XHRcdHJldHVybiBhcnI7IC8vIGVtcHR5IGFycmF5XG5cdFx0fVxuXHRcdHdoaWxlIChjaCkge1xuXHRcdFx0YXJyLnB1c2godmFsdWUoKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcblx0XHRcdHdoaXRlKCk7XG5cdFx0XHRpZiAoY2ggPT09ICddJykge1xuXHRcdFx0XHRuZXh0KCddJyk7XG5cdFx0XHRcdHJldHVybiBhcnI7XG5cdFx0XHR9XG5cdFx0XHRuZXh0KCcsJyk7XG5cdFx0XHR3aGl0ZSgpO1xuXHRcdH1cblx0fVxuXHRlcnJvcignQmFkIGFycmF5Jyk7XG59XG5cbi8vIFBhcnNlIGFuIG9iamVjdCB2YWx1ZS5cbmZ1bmN0aW9uIG9iamVjdCgpIHtcblx0dmFyIGtleTtcblx0dmFyIG9iaiA9IHt9O1xuXG5cdGlmIChjaCA9PT0gJ3snKSB7XG5cdFx0bmV4dCgneycpO1xuXHRcdHdoaXRlKCk7XG5cdFx0aWYgKGNoID09PSAnfScpIHtcblx0XHRcdG5leHQoJ30nKTtcblx0XHRcdHJldHVybiBvYmo7IC8vIGVtcHR5IG9iamVjdFxuXHRcdH1cblx0XHR3aGlsZSAoY2gpIHtcblx0XHRcdGtleSA9IHN0cmluZygpO1xuXHRcdFx0d2hpdGUoKTtcblx0XHRcdG5leHQoJzonKTtcblx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG5cdFx0XHRcdGVycm9yKCdEdXBsaWNhdGUga2V5IFwiJyArIGtleSArICdcIicpO1xuXHRcdFx0fVxuXHRcdFx0b2JqW2tleV0gPSB2YWx1ZSgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG5cdFx0XHR3aGl0ZSgpO1xuXHRcdFx0aWYgKGNoID09PSAnfScpIHtcblx0XHRcdFx0bmV4dCgnfScpO1xuXHRcdFx0XHRyZXR1cm4gb2JqO1xuXHRcdFx0fVxuXHRcdFx0bmV4dCgnLCcpO1xuXHRcdFx0d2hpdGUoKTtcblx0XHR9XG5cdH1cblx0ZXJyb3IoJ0JhZCBvYmplY3QnKTtcbn1cblxuLy8gUGFyc2UgYSBKU09OIHZhbHVlLiBJdCBjb3VsZCBiZSBhbiBvYmplY3QsIGFuIGFycmF5LCBhIHN0cmluZywgYSBudW1iZXIsIG9yIGEgd29yZC5cbmZ1bmN0aW9uIHZhbHVlKCkge1xuXHR3aGl0ZSgpO1xuXHRzd2l0Y2ggKGNoKSB7XG5cdFx0Y2FzZSAneyc6XG5cdFx0XHRyZXR1cm4gb2JqZWN0KCk7XG5cdFx0Y2FzZSAnWyc6XG5cdFx0XHRyZXR1cm4gYXJyYXkoKTtcblx0XHRjYXNlICdcIic6XG5cdFx0XHRyZXR1cm4gc3RyaW5nKCk7XG5cdFx0Y2FzZSAnLSc6XG5cdFx0XHRyZXR1cm4gbnVtYmVyKCk7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBjaCA+PSAnMCcgJiYgY2ggPD0gJzknID8gbnVtYmVyKCkgOiB3b3JkKCk7XG5cdH1cbn1cblxuLy8gUmV0dXJuIHRoZSBqc29uX3BhcnNlIGZ1bmN0aW9uLiBJdCB3aWxsIGhhdmUgYWNjZXNzIHRvIGFsbCBvZiB0aGUgYWJvdmUgZnVuY3Rpb25zIGFuZCB2YXJpYWJsZXMuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzb3VyY2UsIHJldml2ZXIpIHtcblx0dmFyIHJlc3VsdDtcblxuXHR0ZXh0ID0gc291cmNlO1xuXHRhdCA9IDA7XG5cdGNoID0gJyAnO1xuXHRyZXN1bHQgPSB2YWx1ZSgpO1xuXHR3aGl0ZSgpO1xuXHRpZiAoY2gpIHtcblx0XHRlcnJvcignU3ludGF4IGVycm9yJyk7XG5cdH1cblxuXHQvLyBJZiB0aGVyZSBpcyBhIHJldml2ZXIgZnVuY3Rpb24sIHdlIHJlY3Vyc2l2ZWx5IHdhbGsgdGhlIG5ldyBzdHJ1Y3R1cmUsXG5cdC8vIHBhc3NpbmcgZWFjaCBuYW1lL3ZhbHVlIHBhaXIgdG8gdGhlIHJldml2ZXIgZnVuY3Rpb24gZm9yIHBvc3NpYmxlXG5cdC8vIHRyYW5zZm9ybWF0aW9uLCBzdGFydGluZyB3aXRoIGEgdGVtcG9yYXJ5IHJvb3Qgb2JqZWN0IHRoYXQgaG9sZHMgdGhlIHJlc3VsdFxuXHQvLyBpbiBhbiBlbXB0eSBrZXkuIElmIHRoZXJlIGlzIG5vdCBhIHJldml2ZXIgZnVuY3Rpb24sIHdlIHNpbXBseSByZXR1cm4gdGhlXG5cdC8vIHJlc3VsdC5cblxuXHRyZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyAoZnVuY3Rpb24gd2Fsayhob2xkZXIsIGtleSkge1xuXHRcdHZhciBrO1xuXHRcdHZhciB2O1xuXHRcdHZhciB2YWwgPSBob2xkZXJba2V5XTtcblx0XHRpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRmb3IgKGsgaW4gdmFsdWUpIHtcblx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGspKSB7XG5cdFx0XHRcdFx0diA9IHdhbGsodmFsLCBrKTtcblx0XHRcdFx0XHRpZiAodHlwZW9mIHYgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHRkZWxldGUgdmFsW2tdO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2YWxba10gPSB2O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWwpO1xuXHR9KHsgJyc6IHJlc3VsdCB9LCAnJykpIDogcmVzdWx0O1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBlc2NhcGFibGUgPSAvW1xcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4OWZcXHUwMGFkXFx1MDYwMC1cXHUwNjA0XFx1MDcwZlxcdTE3YjRcXHUxN2I1XFx1MjAwYy1cXHUyMDBmXFx1MjAyOC1cXHUyMDJmXFx1MjA2MC1cXHUyMDZmXFx1ZmVmZlxcdWZmZjAtXFx1ZmZmZl0vZztcbnZhciBnYXA7XG52YXIgaW5kZW50O1xudmFyIG1ldGEgPSB7IC8vIHRhYmxlIG9mIGNoYXJhY3RlciBzdWJzdGl0dXRpb25zXG5cdCdcXGInOiAnXFxcXGInLFxuXHQnXFx0JzogJ1xcXFx0Jyxcblx0J1xcbic6ICdcXFxcbicsXG5cdCdcXGYnOiAnXFxcXGYnLFxuXHQnXFxyJzogJ1xcXFxyJyxcblx0J1wiJzogJ1xcXFxcIicsXG5cdCdcXFxcJzogJ1xcXFxcXFxcJ1xufTtcbnZhciByZXA7XG5cbmZ1bmN0aW9uIHF1b3RlKHN0cmluZykge1xuXHQvLyBJZiB0aGUgc3RyaW5nIGNvbnRhaW5zIG5vIGNvbnRyb2wgY2hhcmFjdGVycywgbm8gcXVvdGUgY2hhcmFjdGVycywgYW5kIG5vXG5cdC8vIGJhY2tzbGFzaCBjaGFyYWN0ZXJzLCB0aGVuIHdlIGNhbiBzYWZlbHkgc2xhcCBzb21lIHF1b3RlcyBhcm91bmQgaXQuXG5cdC8vIE90aGVyd2lzZSB3ZSBtdXN0IGFsc28gcmVwbGFjZSB0aGUgb2ZmZW5kaW5nIGNoYXJhY3RlcnMgd2l0aCBzYWZlIGVzY2FwZSBzZXF1ZW5jZXMuXG5cblx0ZXNjYXBhYmxlLmxhc3RJbmRleCA9IDA7XG5cdHJldHVybiBlc2NhcGFibGUudGVzdChzdHJpbmcpID8gJ1wiJyArIHN0cmluZy5yZXBsYWNlKGVzY2FwYWJsZSwgZnVuY3Rpb24gKGEpIHtcblx0XHR2YXIgYyA9IG1ldGFbYV07XG5cdFx0cmV0dXJuIHR5cGVvZiBjID09PSAnc3RyaW5nJyA/IGNcblx0XHRcdDogJ1xcXFx1JyArICgnMDAwMCcgKyBhLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7XG5cdH0pICsgJ1wiJyA6ICdcIicgKyBzdHJpbmcgKyAnXCInO1xufVxuXG5mdW5jdGlvbiBzdHIoa2V5LCBob2xkZXIpIHtcblx0Ly8gUHJvZHVjZSBhIHN0cmluZyBmcm9tIGhvbGRlcltrZXldLlxuXHR2YXIgaTsgLy8gVGhlIGxvb3AgY291bnRlci5cblx0dmFyIGs7IC8vIFRoZSBtZW1iZXIga2V5LlxuXHR2YXIgdjsgLy8gVGhlIG1lbWJlciB2YWx1ZS5cblx0dmFyIGxlbmd0aDtcblx0dmFyIG1pbmQgPSBnYXA7XG5cdHZhciBwYXJ0aWFsO1xuXHR2YXIgdmFsdWUgPSBob2xkZXJba2V5XTtcblxuXHQvLyBJZiB0aGUgdmFsdWUgaGFzIGEgdG9KU09OIG1ldGhvZCwgY2FsbCBpdCB0byBvYnRhaW4gYSByZXBsYWNlbWVudCB2YWx1ZS5cblx0aWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhbHVlID0gdmFsdWUudG9KU09OKGtleSk7XG5cdH1cblxuXHQvLyBJZiB3ZSB3ZXJlIGNhbGxlZCB3aXRoIGEgcmVwbGFjZXIgZnVuY3Rpb24sIHRoZW4gY2FsbCB0aGUgcmVwbGFjZXIgdG8gb2J0YWluIGEgcmVwbGFjZW1lbnQgdmFsdWUuXG5cdGlmICh0eXBlb2YgcmVwID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFsdWUgPSByZXAuY2FsbChob2xkZXIsIGtleSwgdmFsdWUpO1xuXHR9XG5cblx0Ly8gV2hhdCBoYXBwZW5zIG5leHQgZGVwZW5kcyBvbiB0aGUgdmFsdWUncyB0eXBlLlxuXHRzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuXHRcdGNhc2UgJ3N0cmluZyc6XG5cdFx0XHRyZXR1cm4gcXVvdGUodmFsdWUpO1xuXG5cdFx0Y2FzZSAnbnVtYmVyJzpcblx0XHRcdC8vIEpTT04gbnVtYmVycyBtdXN0IGJlIGZpbml0ZS4gRW5jb2RlIG5vbi1maW5pdGUgbnVtYmVycyBhcyBudWxsLlxuXHRcdFx0cmV0dXJuIGlzRmluaXRlKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiAnbnVsbCc7XG5cblx0XHRjYXNlICdib29sZWFuJzpcblx0XHRjYXNlICdudWxsJzpcblx0XHRcdC8vIElmIHRoZSB2YWx1ZSBpcyBhIGJvb2xlYW4gb3IgbnVsbCwgY29udmVydCBpdCB0byBhIHN0cmluZy4gTm90ZTpcblx0XHRcdC8vIHR5cGVvZiBudWxsIGRvZXMgbm90IHByb2R1Y2UgJ251bGwnLiBUaGUgY2FzZSBpcyBpbmNsdWRlZCBoZXJlIGluXG5cdFx0XHQvLyB0aGUgcmVtb3RlIGNoYW5jZSB0aGF0IHRoaXMgZ2V0cyBmaXhlZCBzb21lZGF5LlxuXHRcdFx0cmV0dXJuIFN0cmluZyh2YWx1ZSk7XG5cblx0XHRjYXNlICdvYmplY3QnOlxuXHRcdFx0aWYgKCF2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gJ251bGwnO1xuXHRcdFx0fVxuXHRcdFx0Z2FwICs9IGluZGVudDtcblx0XHRcdHBhcnRpYWwgPSBbXTtcblxuXHRcdFx0Ly8gQXJyYXkuaXNBcnJheVxuXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG5cdFx0XHRcdGxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0cGFydGlhbFtpXSA9IHN0cihpLCB2YWx1ZSkgfHwgJ251bGwnO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSm9pbiBhbGwgb2YgdGhlIGVsZW1lbnRzIHRvZ2V0aGVyLCBzZXBhcmF0ZWQgd2l0aCBjb21tYXMsIGFuZCB3cmFwIHRoZW0gaW4gYnJhY2tldHMuXG5cdFx0XHRcdHYgPSBwYXJ0aWFsLmxlbmd0aCA9PT0gMCA/ICdbXScgOiBnYXBcblx0XHRcdFx0XHQ/ICdbXFxuJyArIGdhcCArIHBhcnRpYWwuam9pbignLFxcbicgKyBnYXApICsgJ1xcbicgKyBtaW5kICsgJ10nXG5cdFx0XHRcdFx0OiAnWycgKyBwYXJ0aWFsLmpvaW4oJywnKSArICddJztcblx0XHRcdFx0Z2FwID0gbWluZDtcblx0XHRcdFx0cmV0dXJuIHY7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoZSByZXBsYWNlciBpcyBhbiBhcnJheSwgdXNlIGl0IHRvIHNlbGVjdCB0aGUgbWVtYmVycyB0byBiZSBzdHJpbmdpZmllZC5cblx0XHRcdGlmIChyZXAgJiYgdHlwZW9mIHJlcCA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0bGVuZ3RoID0gcmVwLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0ayA9IHJlcFtpXTtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGsgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0XHR2ID0gc3RyKGssIHZhbHVlKTtcblx0XHRcdFx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdFx0XHRcdHBhcnRpYWwucHVzaChxdW90ZShrKSArIChnYXAgPyAnOiAnIDogJzonKSArIHYpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpdGVyYXRlIHRocm91Z2ggYWxsIG9mIHRoZSBrZXlzIGluIHRoZSBvYmplY3QuXG5cdFx0XHRcdGZvciAoayBpbiB2YWx1ZSkge1xuXHRcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGspKSB7XG5cdFx0XHRcdFx0XHR2ID0gc3RyKGssIHZhbHVlKTtcblx0XHRcdFx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdFx0XHRcdHBhcnRpYWwucHVzaChxdW90ZShrKSArIChnYXAgPyAnOiAnIDogJzonKSArIHYpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBKb2luIGFsbCBvZiB0aGUgbWVtYmVyIHRleHRzIHRvZ2V0aGVyLCBzZXBhcmF0ZWQgd2l0aCBjb21tYXMsIGFuZCB3cmFwIHRoZW0gaW4gYnJhY2VzLlxuXG5cdFx0XHR2ID0gcGFydGlhbC5sZW5ndGggPT09IDAgPyAne30nIDogZ2FwXG5cdFx0XHRcdD8gJ3tcXG4nICsgZ2FwICsgcGFydGlhbC5qb2luKCcsXFxuJyArIGdhcCkgKyAnXFxuJyArIG1pbmQgKyAnfSdcblx0XHRcdFx0OiAneycgKyBwYXJ0aWFsLmpvaW4oJywnKSArICd9Jztcblx0XHRcdGdhcCA9IG1pbmQ7XG5cdFx0XHRyZXR1cm4gdjtcblx0XHRkZWZhdWx0OlxuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlLCByZXBsYWNlciwgc3BhY2UpIHtcblx0dmFyIGk7XG5cdGdhcCA9ICcnO1xuXHRpbmRlbnQgPSAnJztcblxuXHQvLyBJZiB0aGUgc3BhY2UgcGFyYW1ldGVyIGlzIGEgbnVtYmVyLCBtYWtlIGFuIGluZGVudCBzdHJpbmcgY29udGFpbmluZyB0aGF0IG1hbnkgc3BhY2VzLlxuXHRpZiAodHlwZW9mIHNwYWNlID09PSAnbnVtYmVyJykge1xuXHRcdGZvciAoaSA9IDA7IGkgPCBzcGFjZTsgaSArPSAxKSB7XG5cdFx0XHRpbmRlbnQgKz0gJyAnO1xuXHRcdH1cblx0fSBlbHNlIGlmICh0eXBlb2Ygc3BhY2UgPT09ICdzdHJpbmcnKSB7XG5cdFx0Ly8gSWYgdGhlIHNwYWNlIHBhcmFtZXRlciBpcyBhIHN0cmluZywgaXQgd2lsbCBiZSB1c2VkIGFzIHRoZSBpbmRlbnQgc3RyaW5nLlxuXHRcdGluZGVudCA9IHNwYWNlO1xuXHR9XG5cblx0Ly8gSWYgdGhlcmUgaXMgYSByZXBsYWNlciwgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIGFuIGFycmF5LiBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yLlxuXHRyZXAgPSByZXBsYWNlcjtcblx0aWYgKFxuXHRcdHJlcGxhY2VyXG5cdFx0JiYgdHlwZW9mIHJlcGxhY2VyICE9PSAnZnVuY3Rpb24nXG5cdFx0JiYgKHR5cGVvZiByZXBsYWNlciAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIHJlcGxhY2VyLmxlbmd0aCAhPT0gJ251bWJlcicpXG5cdCkge1xuXHRcdHRocm93IG5ldyBFcnJvcignSlNPTi5zdHJpbmdpZnknKTtcblx0fVxuXG5cdC8vIE1ha2UgYSBmYWtlIHJvb3Qgb2JqZWN0IGNvbnRhaW5pbmcgb3VyIHZhbHVlIHVuZGVyIHRoZSBrZXkgb2YgJycuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0IG9mIHN0cmluZ2lmeWluZyB0aGUgdmFsdWUuXG5cdHJldHVybiBzdHIoJycsIHsgJyc6IHZhbHVlIH0pO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2xpYi9wYXJzZScpO1xuZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2xpYi9zdHJpbmdpZnknKTtcbiIsICJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcblx0dmFyIHN0ciA9IHRvU3RyLmNhbGwodmFsdWUpO1xuXHR2YXIgaXNBcmdzID0gc3RyID09PSAnW29iamVjdCBBcmd1bWVudHNdJztcblx0aWYgKCFpc0FyZ3MpIHtcblx0XHRpc0FyZ3MgPSBzdHIgIT09ICdbb2JqZWN0IEFycmF5XScgJiZcblx0XHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0XHR0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJlxuXHRcdFx0dmFsdWUubGVuZ3RoID49IDAgJiZcblx0XHRcdHRvU3RyLmNhbGwodmFsdWUuY2FsbGVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0fVxuXHRyZXR1cm4gaXNBcmdzO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBrZXlzU2hpbTtcbmlmICghT2JqZWN0LmtleXMpIHtcblx0Ly8gbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW1cblx0dmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cdHZhciBpc0FyZ3MgPSByZXF1aXJlKCcuL2lzQXJndW1lbnRzJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcblx0dmFyIGlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cdHZhciBoYXNEb250RW51bUJ1ZyA9ICFpc0VudW1lcmFibGUuY2FsbCh7IHRvU3RyaW5nOiBudWxsIH0sICd0b1N0cmluZycpO1xuXHR2YXIgaGFzUHJvdG9FbnVtQnVnID0gaXNFbnVtZXJhYmxlLmNhbGwoZnVuY3Rpb24gKCkge30sICdwcm90b3R5cGUnKTtcblx0dmFyIGRvbnRFbnVtcyA9IFtcblx0XHQndG9TdHJpbmcnLFxuXHRcdCd0b0xvY2FsZVN0cmluZycsXG5cdFx0J3ZhbHVlT2YnLFxuXHRcdCdoYXNPd25Qcm9wZXJ0eScsXG5cdFx0J2lzUHJvdG90eXBlT2YnLFxuXHRcdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG5cdFx0J2NvbnN0cnVjdG9yJ1xuXHRdO1xuXHR2YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUgPSBmdW5jdGlvbiAobykge1xuXHRcdHZhciBjdG9yID0gby5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gY3RvciAmJiBjdG9yLnByb3RvdHlwZSA9PT0gbztcblx0fTtcblx0dmFyIGV4Y2x1ZGVkS2V5cyA9IHtcblx0XHQkYXBwbGljYXRpb25DYWNoZTogdHJ1ZSxcblx0XHQkY29uc29sZTogdHJ1ZSxcblx0XHQkZXh0ZXJuYWw6IHRydWUsXG5cdFx0JGZyYW1lOiB0cnVlLFxuXHRcdCRmcmFtZUVsZW1lbnQ6IHRydWUsXG5cdFx0JGZyYW1lczogdHJ1ZSxcblx0XHQkaW5uZXJIZWlnaHQ6IHRydWUsXG5cdFx0JGlubmVyV2lkdGg6IHRydWUsXG5cdFx0JG9ubW96ZnVsbHNjcmVlbmNoYW5nZTogdHJ1ZSxcblx0XHQkb25tb3pmdWxsc2NyZWVuZXJyb3I6IHRydWUsXG5cdFx0JG91dGVySGVpZ2h0OiB0cnVlLFxuXHRcdCRvdXRlcldpZHRoOiB0cnVlLFxuXHRcdCRwYWdlWE9mZnNldDogdHJ1ZSxcblx0XHQkcGFnZVlPZmZzZXQ6IHRydWUsXG5cdFx0JHBhcmVudDogdHJ1ZSxcblx0XHQkc2Nyb2xsTGVmdDogdHJ1ZSxcblx0XHQkc2Nyb2xsVG9wOiB0cnVlLFxuXHRcdCRzY3JvbGxYOiB0cnVlLFxuXHRcdCRzY3JvbGxZOiB0cnVlLFxuXHRcdCRzZWxmOiB0cnVlLFxuXHRcdCR3ZWJraXRJbmRleGVkREI6IHRydWUsXG5cdFx0JHdlYmtpdFN0b3JhZ2VJbmZvOiB0cnVlLFxuXHRcdCR3aW5kb3c6IHRydWVcblx0fTtcblx0dmFyIGhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1ZyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRmb3IgKHZhciBrIGluIHdpbmRvdykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCFleGNsdWRlZEtleXNbJyQnICsga10gJiYgaGFzLmNhbGwod2luZG93LCBrKSAmJiB3aW5kb3dba10gIT09IG51bGwgJiYgdHlwZW9mIHdpbmRvd1trXSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0ZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUod2luZG93W2tdKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSgpKTtcblx0dmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlSWZOb3RCdWdneSA9IGZ1bmN0aW9uIChvKSB7XG5cdFx0LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhaGFzQXV0b21hdGlvbkVxdWFsaXR5QnVnKSB7XG5cdFx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fTtcblxuXHRrZXlzU2hpbSA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG5cdFx0dmFyIGlzT2JqZWN0ID0gb2JqZWN0ICE9PSBudWxsICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnO1xuXHRcdHZhciBpc0Z1bmN0aW9uID0gdG9TdHIuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHRcdHZhciBpc0FyZ3VtZW50cyA9IGlzQXJncyhvYmplY3QpO1xuXHRcdHZhciBpc1N0cmluZyA9IGlzT2JqZWN0ICYmIHRvU3RyLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cdFx0dmFyIHRoZUtleXMgPSBbXTtcblxuXHRcdGlmICghaXNPYmplY3QgJiYgIWlzRnVuY3Rpb24gJiYgIWlzQXJndW1lbnRzKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0Jyk7XG5cdFx0fVxuXG5cdFx0dmFyIHNraXBQcm90byA9IGhhc1Byb3RvRW51bUJ1ZyAmJiBpc0Z1bmN0aW9uO1xuXHRcdGlmIChpc1N0cmluZyAmJiBvYmplY3QubGVuZ3RoID4gMCAmJiAhaGFzLmNhbGwob2JqZWN0LCAwKSkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhpKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGlzQXJndW1lbnRzICYmIG9iamVjdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IG9iamVjdC5sZW5ndGg7ICsraikge1xuXHRcdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKGopKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHtcblx0XHRcdFx0aWYgKCEoc2tpcFByb3RvICYmIG5hbWUgPT09ICdwcm90b3R5cGUnKSAmJiBoYXMuY2FsbChvYmplY3QsIG5hbWUpKSB7XG5cdFx0XHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhuYW1lKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaGFzRG9udEVudW1CdWcpIHtcblx0XHRcdHZhciBza2lwQ29uc3RydWN0b3IgPSBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kob2JqZWN0KTtcblxuXHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBkb250RW51bXMubGVuZ3RoOyArK2spIHtcblx0XHRcdFx0aWYgKCEoc2tpcENvbnN0cnVjdG9yICYmIGRvbnRFbnVtc1trXSA9PT0gJ2NvbnN0cnVjdG9yJykgJiYgaGFzLmNhbGwob2JqZWN0LCBkb250RW51bXNba10pKSB7XG5cdFx0XHRcdFx0dGhlS2V5cy5wdXNoKGRvbnRFbnVtc1trXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoZUtleXM7XG5cdH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGtleXNTaGltO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGlzQXJncyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKTtcblxudmFyIG9yaWdLZXlzID0gT2JqZWN0LmtleXM7XG52YXIga2V5c1NoaW0gPSBvcmlnS2V5cyA/IGZ1bmN0aW9uIGtleXMobykgeyByZXR1cm4gb3JpZ0tleXMobyk7IH0gOiByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbnZhciBvcmlnaW5hbEtleXMgPSBPYmplY3Qua2V5cztcblxua2V5c1NoaW0uc2hpbSA9IGZ1bmN0aW9uIHNoaW1PYmplY3RLZXlzKCkge1xuXHRpZiAoT2JqZWN0LmtleXMpIHtcblx0XHR2YXIga2V5c1dvcmtzV2l0aEFyZ3VtZW50cyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBTYWZhcmkgNS4wIGJ1Z1xuXHRcdFx0dmFyIGFyZ3MgPSBPYmplY3Qua2V5cyhhcmd1bWVudHMpO1xuXHRcdFx0cmV0dXJuIGFyZ3MgJiYgYXJncy5sZW5ndGggPT09IGFyZ3VtZW50cy5sZW5ndGg7XG5cdFx0fSgxLCAyKSk7XG5cdFx0aWYgKCFrZXlzV29ya3NXaXRoQXJndW1lbnRzKSB7XG5cdFx0XHRPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG5cdFx0XHRcdGlmIChpc0FyZ3Mob2JqZWN0KSkge1xuXHRcdFx0XHRcdHJldHVybiBvcmlnaW5hbEtleXMoc2xpY2UuY2FsbChvYmplY3QpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gb3JpZ2luYWxLZXlzKG9iamVjdCk7XG5cdFx0XHR9O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRPYmplY3Qua2V5cyA9IGtleXNTaGltO1xuXHR9XG5cdHJldHVybiBPYmplY3Qua2V5cyB8fCBrZXlzU2hpbTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5c1NoaW07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Q7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2V2YWwnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gRXZhbEVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vcmFuZ2UnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gUmFuZ2VFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3JlZicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBSZWZlcmVuY2VFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3N5bnRheCcpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBTeW50YXhFcnJvcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3R5cGUnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gVHlwZUVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vdXJpJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IFVSSUVycm9yO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vYWJzJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGguYWJzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vZmxvb3InKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gTWF0aC5mbG9vcjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL21heCcpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLm1heDtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL21pbicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLm1pbjtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3BvdycpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBNYXRoLnBvdztcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3JvdW5kJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGgucm91bmQ7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9pc05hTicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gaXNOYU4oYSkge1xuXHRyZXR1cm4gYSAhPT0gYTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgJGlzTmFOID0gcmVxdWlyZSgnLi9pc05hTicpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9zaWduJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNpZ24obnVtYmVyKSB7XG5cdGlmICgkaXNOYU4obnVtYmVyKSB8fCBudW1iZXIgPT09IDApIHtcblx0XHRyZXR1cm4gbnVtYmVyO1xuXHR9XG5cdHJldHVybiBudW1iZXIgPCAwID8gLTEgOiArMTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9nT1BEJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xudmFyICRnT1BEID0gcmVxdWlyZSgnLi9nT1BEJyk7XG5cbmlmICgkZ09QRCkge1xuXHR0cnkge1xuXHRcdCRnT1BEKFtdLCAnbGVuZ3RoJyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSA4IGhhcyBhIGJyb2tlbiBnT1BEXG5cdFx0JGdPUEQgPSBudWxsO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gJGdPUEQ7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xudmFyICRkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmYWxzZTtcbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0dHJ5IHtcblx0XHQkZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyB2YWx1ZTogMSB9KTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIElFIDggaGFzIGEgYnJva2VuIGRlZmluZVByb3BlcnR5XG5cdFx0JGRlZmluZVByb3BlcnR5ID0gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSAkZGVmaW5lUHJvcGVydHk7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9zaGFtcycpfSAqL1xuLyogZXNsaW50IGNvbXBsZXhpdHk6IFsyLCAxOF0sIG1heC1zdGF0ZW1lbnRzOiBbMiwgMzNdICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhhc1N5bWJvbHMoKSB7XG5cdGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gJ3N5bWJvbCcpIHsgcmV0dXJuIHRydWU7IH1cblxuXHQvKiogQHR5cGUge3sgW2sgaW4gc3ltYm9sXT86IHVua25vd24gfX0gKi9cblx0dmFyIG9iaiA9IHt9O1xuXHR2YXIgc3ltID0gU3ltYm9sKCd0ZXN0Jyk7XG5cdHZhciBzeW1PYmogPSBPYmplY3Qoc3ltKTtcblx0aWYgKHR5cGVvZiBzeW0gPT09ICdzdHJpbmcnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltT2JqKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gdGVtcCBkaXNhYmxlZCBwZXIgaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9vYmplY3QuYXNzaWduL2lzc3Vlcy8xN1xuXHQvLyBpZiAoc3ltIGluc3RhbmNlb2YgU3ltYm9sKSB7IHJldHVybiBmYWxzZTsgfVxuXHQvLyB0ZW1wIGRpc2FibGVkIHBlciBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMvaXNzdWVzLzRcblx0Ly8gaWYgKCEoc3ltT2JqIGluc3RhbmNlb2YgU3ltYm9sKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyBpZiAodHlwZW9mIFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdC8vIGlmIChTdHJpbmcoc3ltKSAhPT0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bVZhbCA9IDQyO1xuXHRvYmpbc3ltXSA9IHN5bVZhbDtcblx0Zm9yICh2YXIgXyBpbiBvYmopIHsgcmV0dXJuIGZhbHNlOyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLXVucmVhY2hhYmxlLWxvb3Bcblx0aWYgKHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJyAmJiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCAhPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzID09PSAnZnVuY3Rpb24nICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubGVuZ3RoICE9PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHZhciBzeW1zID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmopO1xuXHRpZiAoc3ltcy5sZW5ndGggIT09IDEgfHwgc3ltc1swXSAhPT0gc3ltKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iaiwgc3ltKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPT09ICdmdW5jdGlvbicpIHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXG5cdFx0dmFyIGRlc2NyaXB0b3IgPSAvKiogQHR5cGUge1Byb3BlcnR5RGVzY3JpcHRvcn0gKi8gKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBzeW0pKTtcblx0XHRpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gc3ltVmFsIHx8IGRlc2NyaXB0b3IuZW51bWVyYWJsZSAhPT0gdHJ1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBvcmlnU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sO1xudmFyIGhhc1N5bWJvbFNoYW0gPSByZXF1aXJlKCcuL3NoYW1zJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGhhc05hdGl2ZVN5bWJvbHMoKSB7XG5cdGlmICh0eXBlb2Ygb3JpZ1N5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2Ygb3JpZ1N5bWJvbCgnZm9vJykgIT09ICdzeW1ib2wnKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbCgnYmFyJykgIT09ICdzeW1ib2wnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHJldHVybiBoYXNTeW1ib2xTaGFtKCk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vUmVmbGVjdC5nZXRQcm90b3R5cGVPZicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YpIHx8IG51bGw7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJ2VzLW9iamVjdC1hdG9tcycpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9PYmplY3QuZ2V0UHJvdG90eXBlT2YnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gJE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBudWxsO1xuIiwgIid1c2Ugc3RyaWN0JztcclxuXHJcbi8qIGVzbGludCBuby1pbnZhbGlkLXRoaXM6IDEgKi9cclxuXHJcbnZhciBFUlJPUl9NRVNTQUdFID0gJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJztcclxudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxudmFyIG1heCA9IE1hdGgubWF4O1xyXG52YXIgZnVuY1R5cGUgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xyXG5cclxudmFyIGNvbmNhdHR5ID0gZnVuY3Rpb24gY29uY2F0dHkoYSwgYikge1xyXG4gICAgdmFyIGFyciA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgIGFycltpXSA9IGFbaV07XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyBqICs9IDEpIHtcclxuICAgICAgICBhcnJbaiArIGEubGVuZ3RoXSA9IGJbal07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycjtcclxufTtcclxuXHJcbnZhciBzbGljeSA9IGZ1bmN0aW9uIHNsaWN5KGFyckxpa2UsIG9mZnNldCkge1xyXG4gICAgdmFyIGFyciA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IG9mZnNldCB8fCAwLCBqID0gMDsgaSA8IGFyckxpa2UubGVuZ3RoOyBpICs9IDEsIGogKz0gMSkge1xyXG4gICAgICAgIGFycltqXSA9IGFyckxpa2VbaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJyO1xyXG59O1xyXG5cclxudmFyIGpvaW55ID0gZnVuY3Rpb24gKGFyciwgam9pbmVyKSB7XHJcbiAgICB2YXIgc3RyID0gJyc7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgIHN0ciArPSBhcnJbaV07XHJcbiAgICAgICAgaWYgKGkgKyAxIDwgYXJyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzdHIgKz0gam9pbmVyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzdHI7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xyXG4gICAgdmFyIHRhcmdldCA9IHRoaXM7XHJcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJyB8fCB0b1N0ci5hcHBseSh0YXJnZXQpICE9PSBmdW5jVHlwZSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJST1JfTUVTU0FHRSArIHRhcmdldCk7XHJcbiAgICB9XHJcbiAgICB2YXIgYXJncyA9IHNsaWN5KGFyZ3VtZW50cywgMSk7XHJcblxyXG4gICAgdmFyIGJvdW5kO1xyXG4gICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXHJcbiAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgY29uY2F0dHkoYXJncywgYXJndW1lbnRzKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseShcclxuICAgICAgICAgICAgdGhhdCxcclxuICAgICAgICAgICAgY29uY2F0dHkoYXJncywgYXJndW1lbnRzKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYm91bmRMZW5ndGggPSBtYXgoMCwgdGFyZ2V0Lmxlbmd0aCAtIGFyZ3MubGVuZ3RoKTtcclxuICAgIHZhciBib3VuZEFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGJvdW5kQXJnc1tpXSA9ICckJyArIGk7XHJcbiAgICB9XHJcblxyXG4gICAgYm91bmQgPSBGdW5jdGlvbignYmluZGVyJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGpvaW55KGJvdW5kQXJncywgJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XHJcblxyXG4gICAgaWYgKHRhcmdldC5wcm90b3R5cGUpIHtcclxuICAgICAgICB2YXIgRW1wdHkgPSBmdW5jdGlvbiBFbXB0eSgpIHt9O1xyXG4gICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGU7XHJcbiAgICAgICAgYm91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7XHJcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYm91bmQ7XHJcbn07XHJcbiIsICIndXNlIHN0cmljdCc7XHJcblxyXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xyXG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9mdW5jdGlvbkNhbGwnKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9mdW5jdGlvbkFwcGx5Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL3JlZmxlY3RBcHBseScpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdCAmJiBSZWZsZWN0LmFwcGx5O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbnZhciAkYXBwbHkgPSByZXF1aXJlKCcuL2Z1bmN0aW9uQXBwbHknKTtcbnZhciAkY2FsbCA9IHJlcXVpcmUoJy4vZnVuY3Rpb25DYWxsJyk7XG52YXIgJHJlZmxlY3RBcHBseSA9IHJlcXVpcmUoJy4vcmVmbGVjdEFwcGx5Jyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2FjdHVhbEFwcGx5Jyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9ICRyZWZsZWN0QXBwbHkgfHwgYmluZC5jYWxsKCRjYWxsLCAkYXBwbHkpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG52YXIgJFR5cGVFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy90eXBlJyk7XG5cbnZhciAkY2FsbCA9IHJlcXVpcmUoJy4vZnVuY3Rpb25DYWxsJyk7XG52YXIgJGFjdHVhbEFwcGx5ID0gcmVxdWlyZSgnLi9hY3R1YWxBcHBseScpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjYWxsQmluZEJhc2ljKGFyZ3MpIHtcblx0aWYgKGFyZ3MubGVuZ3RoIDwgMSB8fCB0eXBlb2YgYXJnc1swXSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdhIGZ1bmN0aW9uIGlzIHJlcXVpcmVkJyk7XG5cdH1cblx0cmV0dXJuICRhY3R1YWxBcHBseShiaW5kLCAkY2FsbCwgYXJncyk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGNhbGxCaW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMnKTtcbnZhciBnT1BEID0gcmVxdWlyZSgnZ29wZCcpO1xuXG52YXIgaGFzUHJvdG9BY2Nlc3NvcjtcbnRyeSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnMsIG5vLXByb3RvXG5cdGhhc1Byb3RvQWNjZXNzb3IgPSAvKiogQHR5cGUge3sgX19wcm90b19fPzogdHlwZW9mIEFycmF5LnByb3RvdHlwZSB9fSAqLyAoW10pLl9fcHJvdG9fXyA9PT0gQXJyYXkucHJvdG90eXBlO1xufSBjYXRjaCAoZSkge1xuXHRpZiAoIWUgfHwgdHlwZW9mIGUgIT09ICdvYmplY3QnIHx8ICEoJ2NvZGUnIGluIGUpIHx8IGUuY29kZSAhPT0gJ0VSUl9QUk9UT19BQ0NFU1MnKSB7XG5cdFx0dGhyb3cgZTtcblx0fVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXG52YXIgZGVzYyA9ICEhaGFzUHJvdG9BY2Nlc3NvciAmJiBnT1BEICYmIGdPUEQoT2JqZWN0LnByb3RvdHlwZSwgLyoqIEB0eXBlIHtrZXlvZiB0eXBlb2YgT2JqZWN0LnByb3RvdHlwZX0gKi8gKCdfX3Byb3RvX18nKSk7XG5cbnZhciAkT2JqZWN0ID0gT2JqZWN0O1xudmFyICRnZXRQcm90b3R5cGVPZiA9ICRPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2dldCcpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBkZXNjICYmIHR5cGVvZiBkZXNjLmdldCA9PT0gJ2Z1bmN0aW9uJ1xuXHQ/IGNhbGxCaW5kKFtkZXNjLmdldF0pXG5cdDogdHlwZW9mICRnZXRQcm90b3R5cGVPZiA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdD8gLyoqIEB0eXBlIHtpbXBvcnQoJy4vZ2V0Jyl9ICovIGZ1bmN0aW9uIGdldER1bmRlcih2YWx1ZSkge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXHRcdFx0cmV0dXJuICRnZXRQcm90b3R5cGVPZih2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiAkT2JqZWN0KHZhbHVlKSk7XG5cdFx0fVxuXHRcdDogZmFsc2U7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgcmVmbGVjdEdldFByb3RvID0gcmVxdWlyZSgnLi9SZWZsZWN0LmdldFByb3RvdHlwZU9mJyk7XG52YXIgb3JpZ2luYWxHZXRQcm90byA9IHJlcXVpcmUoJy4vT2JqZWN0LmdldFByb3RvdHlwZU9mJyk7XG5cbnZhciBnZXREdW5kZXJQcm90byA9IHJlcXVpcmUoJ2R1bmRlci1wcm90by9nZXQnKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4nKX0gKi9cbm1vZHVsZS5leHBvcnRzID0gcmVmbGVjdEdldFByb3RvXG5cdD8gZnVuY3Rpb24gZ2V0UHJvdG8oTykge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVFMgY2FuJ3QgbmFycm93IGluc2lkZSBhIGNsb3N1cmUsIGZvciBzb21lIHJlYXNvblxuXHRcdHJldHVybiByZWZsZWN0R2V0UHJvdG8oTyk7XG5cdH1cblx0OiBvcmlnaW5hbEdldFByb3RvXG5cdFx0PyBmdW5jdGlvbiBnZXRQcm90byhPKSB7XG5cdFx0XHRpZiAoIU8gfHwgKHR5cGVvZiBPICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgTyAhPT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignZ2V0UHJvdG86IG5vdCBhbiBvYmplY3QnKTtcblx0XHRcdH1cblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgVFMgY2FuJ3QgbmFycm93IGluc2lkZSBhIGNsb3N1cmUsIGZvciBzb21lIHJlYXNvblxuXHRcdFx0cmV0dXJuIG9yaWdpbmFsR2V0UHJvdG8oTyk7XG5cdFx0fVxuXHRcdDogZ2V0RHVuZGVyUHJvdG9cblx0XHRcdD8gZnVuY3Rpb24gZ2V0UHJvdG8oTykge1xuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGNhbid0IG5hcnJvdyBpbnNpZGUgYSBjbG9zdXJlLCBmb3Igc29tZSByZWFzb25cblx0XHRcdFx0cmV0dXJuIGdldER1bmRlclByb3RvKE8pO1xuXHRcdFx0fVxuXHRcdFx0OiBudWxsO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDtcbnZhciAkaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBiaW5kLmNhbGwoY2FsbCwgJGhhc093bik7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdW5kZWZpbmVkO1xuXG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJ2VzLW9iamVjdC1hdG9tcycpO1xuXG52YXIgJEVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzJyk7XG52YXIgJEV2YWxFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy9ldmFsJyk7XG52YXIgJFJhbmdlRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvcmFuZ2UnKTtcbnZhciAkUmVmZXJlbmNlRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvcmVmJyk7XG52YXIgJFN5bnRheEVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3N5bnRheCcpO1xudmFyICRUeXBlRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvdHlwZScpO1xudmFyICRVUklFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy91cmknKTtcblxudmFyIGFicyA9IHJlcXVpcmUoJ21hdGgtaW50cmluc2ljcy9hYnMnKTtcbnZhciBmbG9vciA9IHJlcXVpcmUoJ21hdGgtaW50cmluc2ljcy9mbG9vcicpO1xudmFyIG1heCA9IHJlcXVpcmUoJ21hdGgtaW50cmluc2ljcy9tYXgnKTtcbnZhciBtaW4gPSByZXF1aXJlKCdtYXRoLWludHJpbnNpY3MvbWluJyk7XG52YXIgcG93ID0gcmVxdWlyZSgnbWF0aC1pbnRyaW5zaWNzL3BvdycpO1xudmFyIHJvdW5kID0gcmVxdWlyZSgnbWF0aC1pbnRyaW5zaWNzL3JvdW5kJyk7XG52YXIgc2lnbiA9IHJlcXVpcmUoJ21hdGgtaW50cmluc2ljcy9zaWduJyk7XG5cbnZhciAkRnVuY3Rpb24gPSBGdW5jdGlvbjtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG52YXIgZ2V0RXZhbGxlZENvbnN0cnVjdG9yID0gZnVuY3Rpb24gKGV4cHJlc3Npb25TeW50YXgpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gJEZ1bmN0aW9uKCdcInVzZSBzdHJpY3RcIjsgcmV0dXJuICgnICsgZXhwcmVzc2lvblN5bnRheCArICcpLmNvbnN0cnVjdG9yOycpKCk7XG5cdH0gY2F0Y2ggKGUpIHt9XG59O1xuXG52YXIgJGdPUEQgPSByZXF1aXJlKCdnb3BkJyk7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnZXMtZGVmaW5lLXByb3BlcnR5Jyk7XG5cbnZhciB0aHJvd1R5cGVFcnJvciA9IGZ1bmN0aW9uICgpIHtcblx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoKTtcbn07XG52YXIgVGhyb3dUeXBlRXJyb3IgPSAkZ09QRFxuXHQ/IChmdW5jdGlvbiAoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnMsIG5vLWNhbGxlciwgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG5cdFx0XHRhcmd1bWVudHMuY2FsbGVlOyAvLyBJRSA4IGRvZXMgbm90IHRocm93IGhlcmVcblx0XHRcdHJldHVybiB0aHJvd1R5cGVFcnJvcjtcblx0XHR9IGNhdGNoIChjYWxsZWVUaHJvd3MpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdC8vIElFIDggdGhyb3dzIG9uIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXJndW1lbnRzLCAnJylcblx0XHRcdFx0cmV0dXJuICRnT1BEKGFyZ3VtZW50cywgJ2NhbGxlZScpLmdldDtcblx0XHRcdH0gY2F0Y2ggKGdPUER0aHJvd3MpIHtcblx0XHRcdFx0cmV0dXJuIHRocm93VHlwZUVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fSgpKVxuXHQ6IHRocm93VHlwZUVycm9yO1xuXG52YXIgaGFzU3ltYm9scyA9IHJlcXVpcmUoJ2hhcy1zeW1ib2xzJykoKTtcblxudmFyIGdldFByb3RvID0gcmVxdWlyZSgnZ2V0LXByb3RvJyk7XG52YXIgJE9iamVjdEdQTyA9IHJlcXVpcmUoJ2dldC1wcm90by9PYmplY3QuZ2V0UHJvdG90eXBlT2YnKTtcbnZhciAkUmVmbGVjdEdQTyA9IHJlcXVpcmUoJ2dldC1wcm90by9SZWZsZWN0LmdldFByb3RvdHlwZU9mJyk7XG5cbnZhciAkYXBwbHkgPSByZXF1aXJlKCdjYWxsLWJpbmQtYXBwbHktaGVscGVycy9mdW5jdGlvbkFwcGx5Jyk7XG52YXIgJGNhbGwgPSByZXF1aXJlKCdjYWxsLWJpbmQtYXBwbHktaGVscGVycy9mdW5jdGlvbkNhbGwnKTtcblxudmFyIG5lZWRzRXZhbCA9IHt9O1xuXG52YXIgVHlwZWRBcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyB8fCAhZ2V0UHJvdG8gPyB1bmRlZmluZWQgOiBnZXRQcm90byhVaW50OEFycmF5KTtcblxudmFyIElOVFJJTlNJQ1MgPSB7XG5cdF9fcHJvdG9fXzogbnVsbCxcblx0JyVBZ2dyZWdhdGVFcnJvciUnOiB0eXBlb2YgQWdncmVnYXRlRXJyb3IgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQWdncmVnYXRlRXJyb3IsXG5cdCclQXJyYXklJzogQXJyYXksXG5cdCclQXJyYXlCdWZmZXIlJzogdHlwZW9mIEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEFycmF5QnVmZmVyLFxuXHQnJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyAmJiBnZXRQcm90byA/IGdldFByb3RvKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclQXN5bmNGcm9tU3luY0l0ZXJhdG9yUHJvdG90eXBlJSc6IHVuZGVmaW5lZCxcblx0JyVBc3luY0Z1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVBc3luY0dlbmVyYXRvciUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiBuZWVkc0V2YWwsXG5cdCclQXRvbWljcyUnOiB0eXBlb2YgQXRvbWljcyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBdG9taWNzLFxuXHQnJUJpZ0ludCUnOiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ0ludCxcblx0JyVCaWdJbnQ2NEFycmF5JSc6IHR5cGVvZiBCaWdJbnQ2NEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ0ludDY0QXJyYXksXG5cdCclQmlnVWludDY0QXJyYXklJzogdHlwZW9mIEJpZ1VpbnQ2NEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ1VpbnQ2NEFycmF5LFxuXHQnJUJvb2xlYW4lJzogQm9vbGVhbixcblx0JyVEYXRhVmlldyUnOiB0eXBlb2YgRGF0YVZpZXcgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRGF0YVZpZXcsXG5cdCclRGF0ZSUnOiBEYXRlLFxuXHQnJWRlY29kZVVSSSUnOiBkZWNvZGVVUkksXG5cdCclZGVjb2RlVVJJQ29tcG9uZW50JSc6IGRlY29kZVVSSUNvbXBvbmVudCxcblx0JyVlbmNvZGVVUkklJzogZW5jb2RlVVJJLFxuXHQnJWVuY29kZVVSSUNvbXBvbmVudCUnOiBlbmNvZGVVUklDb21wb25lbnQsXG5cdCclRXJyb3IlJzogJEVycm9yLFxuXHQnJWV2YWwlJzogZXZhbCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXG5cdCclRXZhbEVycm9yJSc6ICRFdmFsRXJyb3IsXG5cdCclRmxvYXQzMkFycmF5JSc6IHR5cGVvZiBGbG9hdDMyQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmxvYXQzMkFycmF5LFxuXHQnJUZsb2F0NjRBcnJheSUnOiB0eXBlb2YgRmxvYXQ2NEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0NjRBcnJheSxcblx0JyVGaW5hbGl6YXRpb25SZWdpc3RyeSUnOiB0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmluYWxpemF0aW9uUmVnaXN0cnksXG5cdCclRnVuY3Rpb24lJzogJEZ1bmN0aW9uLFxuXHQnJUdlbmVyYXRvckZ1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVJbnQ4QXJyYXklJzogdHlwZW9mIEludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXksXG5cdCclSW50MTZBcnJheSUnOiB0eXBlb2YgSW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQxNkFycmF5LFxuXHQnJUludDMyQXJyYXklJzogdHlwZW9mIEludDMyQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogSW50MzJBcnJheSxcblx0JyVpc0Zpbml0ZSUnOiBpc0Zpbml0ZSxcblx0JyVpc05hTiUnOiBpc05hTixcblx0JyVJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzICYmIGdldFByb3RvID8gZ2V0UHJvdG8oZ2V0UHJvdG8oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSkgOiB1bmRlZmluZWQsXG5cdCclSlNPTiUnOiB0eXBlb2YgSlNPTiA9PT0gJ29iamVjdCcgPyBKU09OIDogdW5kZWZpbmVkLFxuXHQnJU1hcCUnOiB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IE1hcCxcblx0JyVNYXBJdGVyYXRvclByb3RvdHlwZSUnOiB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyB8fCAhaGFzU3ltYm9scyB8fCAhZ2V0UHJvdG8gPyB1bmRlZmluZWQgOiBnZXRQcm90byhuZXcgTWFwKClbU3ltYm9sLml0ZXJhdG9yXSgpKSxcblx0JyVNYXRoJSc6IE1hdGgsXG5cdCclTnVtYmVyJSc6IE51bWJlcixcblx0JyVPYmplY3QlJzogJE9iamVjdCxcblx0JyVPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJSc6ICRnT1BELFxuXHQnJXBhcnNlRmxvYXQlJzogcGFyc2VGbG9hdCxcblx0JyVwYXJzZUludCUnOiBwYXJzZUludCxcblx0JyVQcm9taXNlJSc6IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb21pc2UsXG5cdCclUHJveHklJzogdHlwZW9mIFByb3h5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb3h5LFxuXHQnJVJhbmdlRXJyb3IlJzogJFJhbmdlRXJyb3IsXG5cdCclUmVmZXJlbmNlRXJyb3IlJzogJFJlZmVyZW5jZUVycm9yLFxuXHQnJVJlZmxlY3QlJzogdHlwZW9mIFJlZmxlY3QgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUmVmbGVjdCxcblx0JyVSZWdFeHAlJzogUmVnRXhwLFxuXHQnJVNldCUnOiB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFNldCxcblx0JyVTZXRJdGVyYXRvclByb3RvdHlwZSUnOiB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJyB8fCAhaGFzU3ltYm9scyB8fCAhZ2V0UHJvdG8gPyB1bmRlZmluZWQgOiBnZXRQcm90byhuZXcgU2V0KClbU3ltYm9sLml0ZXJhdG9yXSgpKSxcblx0JyVTaGFyZWRBcnJheUJ1ZmZlciUnOiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2hhcmVkQXJyYXlCdWZmZXIsXG5cdCclU3RyaW5nJSc6IFN0cmluZyxcblx0JyVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzICYmIGdldFByb3RvID8gZ2V0UHJvdG8oJydbU3ltYm9sLml0ZXJhdG9yXSgpKSA6IHVuZGVmaW5lZCxcblx0JyVTeW1ib2wlJzogaGFzU3ltYm9scyA/IFN5bWJvbCA6IHVuZGVmaW5lZCxcblx0JyVTeW50YXhFcnJvciUnOiAkU3ludGF4RXJyb3IsXG5cdCclVGhyb3dUeXBlRXJyb3IlJzogVGhyb3dUeXBlRXJyb3IsXG5cdCclVHlwZWRBcnJheSUnOiBUeXBlZEFycmF5LFxuXHQnJVR5cGVFcnJvciUnOiAkVHlwZUVycm9yLFxuXHQnJVVpbnQ4QXJyYXklJzogdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhBcnJheSxcblx0JyVVaW50OENsYW1wZWRBcnJheSUnOiB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhDbGFtcGVkQXJyYXksXG5cdCclVWludDE2QXJyYXklJzogdHlwZW9mIFVpbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQxNkFycmF5LFxuXHQnJVVpbnQzMkFycmF5JSc6IHR5cGVvZiBVaW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MzJBcnJheSxcblx0JyVVUklFcnJvciUnOiAkVVJJRXJyb3IsXG5cdCclV2Vha01hcCUnOiB0eXBlb2YgV2Vha01hcCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrTWFwLFxuXHQnJVdlYWtSZWYlJzogdHlwZW9mIFdlYWtSZWYgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha1JlZixcblx0JyVXZWFrU2V0JSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXQsXG5cblx0JyVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUnOiAkY2FsbCxcblx0JyVGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHklJzogJGFwcGx5LFxuXHQnJU9iamVjdC5kZWZpbmVQcm9wZXJ0eSUnOiAkZGVmaW5lUHJvcGVydHksXG5cdCclT2JqZWN0LmdldFByb3RvdHlwZU9mJSc6ICRPYmplY3RHUE8sXG5cdCclTWF0aC5hYnMlJzogYWJzLFxuXHQnJU1hdGguZmxvb3IlJzogZmxvb3IsXG5cdCclTWF0aC5tYXglJzogbWF4LFxuXHQnJU1hdGgubWluJSc6IG1pbixcblx0JyVNYXRoLnBvdyUnOiBwb3csXG5cdCclTWF0aC5yb3VuZCUnOiByb3VuZCxcblx0JyVNYXRoLnNpZ24lJzogc2lnbixcblx0JyVSZWZsZWN0LmdldFByb3RvdHlwZU9mJSc6ICRSZWZsZWN0R1BPXG59O1xuXG5pZiAoZ2V0UHJvdG8pIHtcblx0dHJ5IHtcblx0XHRudWxsLmVycm9yOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC1leHByZXNzaW9uc1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtc2hhZG93cmVhbG0vcHVsbC8zODQjaXNzdWVjb21tZW50LTEzNjQyNjQyMjlcblx0XHR2YXIgZXJyb3JQcm90byA9IGdldFByb3RvKGdldFByb3RvKGUpKTtcblx0XHRJTlRSSU5TSUNTWyclRXJyb3IucHJvdG90eXBlJSddID0gZXJyb3JQcm90bztcblx0fVxufVxuXG52YXIgZG9FdmFsID0gZnVuY3Rpb24gZG9FdmFsKG5hbWUpIHtcblx0dmFyIHZhbHVlO1xuXHRpZiAobmFtZSA9PT0gJyVBc3luY0Z1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignYXN5bmMgZnVuY3Rpb24gKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUdlbmVyYXRvckZ1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignZnVuY3Rpb24qICgpIHt9Jyk7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignYXN5bmMgZnVuY3Rpb24qICgpIHt9Jyk7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJyVBc3luY0dlbmVyYXRvciUnKSB7XG5cdFx0dmFyIGZuID0gZG9FdmFsKCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnKTtcblx0XHRpZiAoZm4pIHtcblx0XHRcdHZhbHVlID0gZm4ucHJvdG90eXBlO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlJykge1xuXHRcdHZhciBnZW4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvciUnKTtcblx0XHRpZiAoZ2VuICYmIGdldFByb3RvKSB7XG5cdFx0XHR2YWx1ZSA9IGdldFByb3RvKGdlbi5wcm90b3R5cGUpO1xuXHRcdH1cblx0fVxuXG5cdElOVFJJTlNJQ1NbbmFtZV0gPSB2YWx1ZTtcblxuXHRyZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgTEVHQUNZX0FMSUFTRVMgPSB7XG5cdF9fcHJvdG9fXzogbnVsbCxcblx0JyVBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiBbJ0FycmF5QnVmZmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFycmF5UHJvdG90eXBlJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclQXJyYXlQcm90b19lbnRyaWVzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2VudHJpZXMnXSxcblx0JyVBcnJheVByb3RvX2ZvckVhY2glJzogWydBcnJheScsICdwcm90b3R5cGUnLCAnZm9yRWFjaCddLFxuXHQnJUFycmF5UHJvdG9fa2V5cyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdrZXlzJ10sXG5cdCclQXJyYXlQcm90b192YWx1ZXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAndmFsdWVzJ10sXG5cdCclQXN5bmNGdW5jdGlvblByb3RvdHlwZSUnOiBbJ0FzeW5jRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclQXN5bmNHZW5lcmF0b3IlJzogWydBc3luY0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnQXN5bmNHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnLCAncHJvdG90eXBlJ10sXG5cdCclQm9vbGVhblByb3RvdHlwZSUnOiBbJ0Jvb2xlYW4nLCAncHJvdG90eXBlJ10sXG5cdCclRGF0YVZpZXdQcm90b3R5cGUlJzogWydEYXRhVmlldycsICdwcm90b3R5cGUnXSxcblx0JyVEYXRlUHJvdG90eXBlJSc6IFsnRGF0ZScsICdwcm90b3R5cGUnXSxcblx0JyVFcnJvclByb3RvdHlwZSUnOiBbJ0Vycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJUV2YWxFcnJvclByb3RvdHlwZSUnOiBbJ0V2YWxFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVGbG9hdDMyQXJyYXlQcm90b3R5cGUlJzogWydGbG9hdDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclRmxvYXQ2NEFycmF5UHJvdG90eXBlJSc6IFsnRmxvYXQ2NEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUZ1bmN0aW9uUHJvdG90eXBlJSc6IFsnRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDhBcnJheVByb3RvdHlwZSUnOiBbJ0ludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnSW50MTZBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQzMkFycmF5UHJvdG90eXBlJSc6IFsnSW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVKU09OUGFyc2UlJzogWydKU09OJywgJ3BhcnNlJ10sXG5cdCclSlNPTlN0cmluZ2lmeSUnOiBbJ0pTT04nLCAnc3RyaW5naWZ5J10sXG5cdCclTWFwUHJvdG90eXBlJSc6IFsnTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJU51bWJlclByb3RvdHlwZSUnOiBbJ051bWJlcicsICdwcm90b3R5cGUnXSxcblx0JyVPYmplY3RQcm90b3R5cGUlJzogWydPYmplY3QnLCAncHJvdG90eXBlJ10sXG5cdCclT2JqUHJvdG9fdG9TdHJpbmclJzogWydPYmplY3QnLCAncHJvdG90eXBlJywgJ3RvU3RyaW5nJ10sXG5cdCclT2JqUHJvdG9fdmFsdWVPZiUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnLCAndmFsdWVPZiddLFxuXHQnJVByb21pc2VQcm90b3R5cGUlJzogWydQcm9taXNlJywgJ3Byb3RvdHlwZSddLFxuXHQnJVByb21pc2VQcm90b190aGVuJSc6IFsnUHJvbWlzZScsICdwcm90b3R5cGUnLCAndGhlbiddLFxuXHQnJVByb21pc2VfYWxsJSc6IFsnUHJvbWlzZScsICdhbGwnXSxcblx0JyVQcm9taXNlX3JlamVjdCUnOiBbJ1Byb21pc2UnLCAncmVqZWN0J10sXG5cdCclUHJvbWlzZV9yZXNvbHZlJSc6IFsnUHJvbWlzZScsICdyZXNvbHZlJ10sXG5cdCclUmFuZ2VFcnJvclByb3RvdHlwZSUnOiBbJ1JhbmdlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUlJzogWydSZWZlcmVuY2VFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVSZWdFeHBQcm90b3R5cGUlJzogWydSZWdFeHAnLCAncHJvdG90eXBlJ10sXG5cdCclU2V0UHJvdG90eXBlJSc6IFsnU2V0JywgJ3Byb3RvdHlwZSddLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyUHJvdG90eXBlJSc6IFsnU2hhcmVkQXJyYXlCdWZmZXInLCAncHJvdG90eXBlJ10sXG5cdCclU3RyaW5nUHJvdG90eXBlJSc6IFsnU3RyaW5nJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN5bWJvbFByb3RvdHlwZSUnOiBbJ1N5bWJvbCcsICdwcm90b3R5cGUnXSxcblx0JyVTeW50YXhFcnJvclByb3RvdHlwZSUnOiBbJ1N5bnRheEVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVkQXJyYXlQcm90b3R5cGUlJzogWydUeXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVFcnJvclByb3RvdHlwZSUnOiBbJ1R5cGVFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OEFycmF5UHJvdG90eXBlJSc6IFsnVWludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnVWludDE2QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDMyQXJyYXlQcm90b3R5cGUlJzogWydVaW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVUklFcnJvclByb3RvdHlwZSUnOiBbJ1VSSUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtNYXBQcm90b3R5cGUlJzogWydXZWFrTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtTZXRQcm90b3R5cGUlJzogWydXZWFrU2V0JywgJ3Byb3RvdHlwZSddXG59O1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCdoYXNvd24nKTtcbnZhciAkY29uY2F0ID0gYmluZC5jYWxsKCRjYWxsLCBBcnJheS5wcm90b3R5cGUuY29uY2F0KTtcbnZhciAkc3BsaWNlQXBwbHkgPSBiaW5kLmNhbGwoJGFwcGx5LCBBcnJheS5wcm90b3R5cGUuc3BsaWNlKTtcbnZhciAkcmVwbGFjZSA9IGJpbmQuY2FsbCgkY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKTtcbnZhciAkc3RyU2xpY2UgPSBiaW5kLmNhbGwoJGNhbGwsIFN0cmluZy5wcm90b3R5cGUuc2xpY2UpO1xudmFyICRleGVjID0gYmluZC5jYWxsKCRjYWxsLCBSZWdFeHAucHJvdG90eXBlLmV4ZWMpO1xuXG4vKiBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2xvZGFzaC9sb2Rhc2gvYmxvYi80LjE3LjE1L2Rpc3QvbG9kYXNoLmpzI0w2NzM1LUw2NzQ0ICovXG52YXIgcmVQcm9wTmFtZSA9IC9bXiUuW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JSQpKS9nO1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nOyAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciBzdHJpbmdUb1BhdGggPSBmdW5jdGlvbiBzdHJpbmdUb1BhdGgoc3RyaW5nKSB7XG5cdHZhciBmaXJzdCA9ICRzdHJTbGljZShzdHJpbmcsIDAsIDEpO1xuXHR2YXIgbGFzdCA9ICRzdHJTbGljZShzdHJpbmcsIC0xKTtcblx0aWYgKGZpcnN0ID09PSAnJScgJiYgbGFzdCAhPT0gJyUnKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBjbG9zaW5nIGAlYCcpO1xuXHR9IGVsc2UgaWYgKGxhc3QgPT09ICclJyAmJiBmaXJzdCAhPT0gJyUnKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBvcGVuaW5nIGAlYCcpO1xuXHR9XG5cdHZhciByZXN1bHQgPSBbXTtcblx0JHJlcGxhY2Uoc3RyaW5nLCByZVByb3BOYW1lLCBmdW5jdGlvbiAobWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuXHRcdHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHF1b3RlID8gJHJlcGxhY2Uoc3ViU3RyaW5nLCByZUVzY2FwZUNoYXIsICckMScpIDogbnVtYmVyIHx8IG1hdGNoO1xuXHR9KTtcblx0cmV0dXJuIHJlc3VsdDtcbn07XG4vKiBlbmQgYWRhcHRhdGlvbiAqL1xuXG52YXIgZ2V0QmFzZUludHJpbnNpYyA9IGZ1bmN0aW9uIGdldEJhc2VJbnRyaW5zaWMobmFtZSwgYWxsb3dNaXNzaW5nKSB7XG5cdHZhciBpbnRyaW5zaWNOYW1lID0gbmFtZTtcblx0dmFyIGFsaWFzO1xuXHRpZiAoaGFzT3duKExFR0FDWV9BTElBU0VTLCBpbnRyaW5zaWNOYW1lKSkge1xuXHRcdGFsaWFzID0gTEVHQUNZX0FMSUFTRVNbaW50cmluc2ljTmFtZV07XG5cdFx0aW50cmluc2ljTmFtZSA9ICclJyArIGFsaWFzWzBdICsgJyUnO1xuXHR9XG5cblx0aWYgKGhhc093bihJTlRSSU5TSUNTLCBpbnRyaW5zaWNOYW1lKSkge1xuXHRcdHZhciB2YWx1ZSA9IElOVFJJTlNJQ1NbaW50cmluc2ljTmFtZV07XG5cdFx0aWYgKHZhbHVlID09PSBuZWVkc0V2YWwpIHtcblx0XHRcdHZhbHVlID0gZG9FdmFsKGludHJpbnNpY05hbWUpO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJiAhYWxsb3dNaXNzaW5nKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignaW50cmluc2ljICcgKyBuYW1lICsgJyBleGlzdHMsIGJ1dCBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSEnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YWxpYXM6IGFsaWFzLFxuXHRcdFx0bmFtZTogaW50cmluc2ljTmFtZSxcblx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdH07XG5cdH1cblxuXHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0IScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBHZXRJbnRyaW5zaWMobmFtZSwgYWxsb3dNaXNzaW5nKSB7XG5cdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgbmFtZS5sZW5ndGggPT09IDApIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignaW50cmluc2ljIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdHlwZW9mIGFsbG93TWlzc2luZyAhPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ1wiYWxsb3dNaXNzaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBhIGJvb2xlYW4nKTtcblx0fVxuXG5cdGlmICgkZXhlYygvXiU/W14lXSolPyQvLCBuYW1lKSA9PT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ2AlYCBtYXkgbm90IGJlIHByZXNlbnQgYW55d2hlcmUgYnV0IGF0IHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiB0aGUgaW50cmluc2ljIG5hbWUnKTtcblx0fVxuXHR2YXIgcGFydHMgPSBzdHJpbmdUb1BhdGgobmFtZSk7XG5cdHZhciBpbnRyaW5zaWNCYXNlTmFtZSA9IHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0c1swXSA6ICcnO1xuXG5cdHZhciBpbnRyaW5zaWMgPSBnZXRCYXNlSW50cmluc2ljKCclJyArIGludHJpbnNpY0Jhc2VOYW1lICsgJyUnLCBhbGxvd01pc3NpbmcpO1xuXHR2YXIgaW50cmluc2ljUmVhbE5hbWUgPSBpbnRyaW5zaWMubmFtZTtcblx0dmFyIHZhbHVlID0gaW50cmluc2ljLnZhbHVlO1xuXHR2YXIgc2tpcEZ1cnRoZXJDYWNoaW5nID0gZmFsc2U7XG5cblx0dmFyIGFsaWFzID0gaW50cmluc2ljLmFsaWFzO1xuXHRpZiAoYWxpYXMpIHtcblx0XHRpbnRyaW5zaWNCYXNlTmFtZSA9IGFsaWFzWzBdO1xuXHRcdCRzcGxpY2VBcHBseShwYXJ0cywgJGNvbmNhdChbMCwgMV0sIGFsaWFzKSk7XG5cdH1cblxuXHRmb3IgKHZhciBpID0gMSwgaXNPd24gPSB0cnVlOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHR2YXIgcGFydCA9IHBhcnRzW2ldO1xuXHRcdHZhciBmaXJzdCA9ICRzdHJTbGljZShwYXJ0LCAwLCAxKTtcblx0XHR2YXIgbGFzdCA9ICRzdHJTbGljZShwYXJ0LCAtMSk7XG5cdFx0aWYgKFxuXHRcdFx0KFxuXHRcdFx0XHQoZmlyc3QgPT09ICdcIicgfHwgZmlyc3QgPT09IFwiJ1wiIHx8IGZpcnN0ID09PSAnYCcpXG5cdFx0XHRcdHx8IChsYXN0ID09PSAnXCInIHx8IGxhc3QgPT09IFwiJ1wiIHx8IGxhc3QgPT09ICdgJylcblx0XHRcdClcblx0XHRcdCYmIGZpcnN0ICE9PSBsYXN0XG5cdFx0KSB7XG5cdFx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdwcm9wZXJ0eSBuYW1lcyB3aXRoIHF1b3RlcyBtdXN0IGhhdmUgbWF0Y2hpbmcgcXVvdGVzJyk7XG5cdFx0fVxuXHRcdGlmIChwYXJ0ID09PSAnY29uc3RydWN0b3InIHx8ICFpc093bikge1xuXHRcdFx0c2tpcEZ1cnRoZXJDYWNoaW5nID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpbnRyaW5zaWNCYXNlTmFtZSArPSAnLicgKyBwYXJ0O1xuXHRcdGludHJpbnNpY1JlYWxOYW1lID0gJyUnICsgaW50cmluc2ljQmFzZU5hbWUgKyAnJSc7XG5cblx0XHRpZiAoaGFzT3duKElOVFJJTlNJQ1MsIGludHJpbnNpY1JlYWxOYW1lKSkge1xuXHRcdFx0dmFsdWUgPSBJTlRSSU5TSUNTW2ludHJpbnNpY1JlYWxOYW1lXTtcblx0XHR9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcblx0XHRcdGlmICghKHBhcnQgaW4gdmFsdWUpKSB7XG5cdFx0XHRcdGlmICghYWxsb3dNaXNzaW5nKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2Jhc2UgaW50cmluc2ljIGZvciAnICsgbmFtZSArICcgZXhpc3RzLCBidXQgdGhlIHByb3BlcnR5IGlzIG5vdCBhdmFpbGFibGUuJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZvaWQgdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCRnT1BEICYmIChpICsgMSkgPj0gcGFydHMubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBkZXNjID0gJGdPUEQodmFsdWUsIHBhcnQpO1xuXHRcdFx0XHRpc093biA9ICEhZGVzYztcblxuXHRcdFx0XHQvLyBCeSBjb252ZW50aW9uLCB3aGVuIGEgZGF0YSBwcm9wZXJ0eSBpcyBjb252ZXJ0ZWQgdG8gYW4gYWNjZXNzb3Jcblx0XHRcdFx0Ly8gcHJvcGVydHkgdG8gZW11bGF0ZSBhIGRhdGEgcHJvcGVydHkgdGhhdCBkb2VzIG5vdCBzdWZmZXIgZnJvbVxuXHRcdFx0XHQvLyB0aGUgb3ZlcnJpZGUgbWlzdGFrZSwgdGhhdCBhY2Nlc3NvcidzIGdldHRlciBpcyBtYXJrZWQgd2l0aFxuXHRcdFx0XHQvLyBhbiBgb3JpZ2luYWxWYWx1ZWAgcHJvcGVydHkuIEhlcmUsIHdoZW4gd2UgZGV0ZWN0IHRoaXMsIHdlXG5cdFx0XHRcdC8vIHVwaG9sZCB0aGUgaWxsdXNpb24gYnkgcHJldGVuZGluZyB0byBzZWUgdGhhdCBvcmlnaW5hbCBkYXRhXG5cdFx0XHRcdC8vIHByb3BlcnR5LCBpLmUuLCByZXR1cm5pbmcgdGhlIHZhbHVlIHJhdGhlciB0aGFuIHRoZSBnZXR0ZXJcblx0XHRcdFx0Ly8gaXRzZWxmLlxuXHRcdFx0XHRpZiAoaXNPd24gJiYgJ2dldCcgaW4gZGVzYyAmJiAhKCdvcmlnaW5hbFZhbHVlJyBpbiBkZXNjLmdldCkpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGRlc2MuZ2V0O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhbHVlID0gdmFsdWVbcGFydF07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlzT3duID0gaGFzT3duKHZhbHVlLCBwYXJ0KTtcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZVtwYXJ0XTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzT3duICYmICFza2lwRnVydGhlckNhY2hpbmcpIHtcblx0XHRcdFx0SU5UUklOU0lDU1tpbnRyaW5zaWNSZWFsTmFtZV0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHZhbHVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCdlcy1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyICRTeW50YXhFcnJvciA9IHJlcXVpcmUoJ2VzLWVycm9ycy9zeW50YXgnKTtcbnZhciAkVHlwZUVycm9yID0gcmVxdWlyZSgnZXMtZXJyb3JzL3R5cGUnKTtcblxudmFyIGdvcGQgPSByZXF1aXJlKCdnb3BkJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZURhdGFQcm9wZXJ0eShcblx0b2JqLFxuXHRwcm9wZXJ0eSxcblx0dmFsdWVcbikge1xuXHRpZiAoIW9iaiB8fCAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iaiAhPT0gJ2Z1bmN0aW9uJykpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYG9iamAgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbmAnKTtcblx0fVxuXHRpZiAodHlwZW9mIHByb3BlcnR5ICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgcHJvcGVydHkgIT09ICdzeW1ib2wnKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2Bwcm9wZXJ0eWAgbXVzdCBiZSBhIHN0cmluZyBvciBhIHN5bWJvbGAnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGFyZ3VtZW50c1szXSAhPT0gJ2Jvb2xlYW4nICYmIGFyZ3VtZW50c1szXSAhPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgbm9uRW51bWVyYWJsZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbiBvciBudWxsJyk7XG5cdH1cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIHR5cGVvZiBhcmd1bWVudHNbNF0gIT09ICdib29sZWFuJyAmJiBhcmd1bWVudHNbNF0gIT09IG51bGwpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYG5vbldyaXRhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgdHlwZW9mIGFyZ3VtZW50c1s1XSAhPT0gJ2Jvb2xlYW4nICYmIGFyZ3VtZW50c1s1XSAhPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgbm9uQ29uZmlndXJhYmxlYCwgaWYgcHJvdmlkZWQsIG11c3QgYmUgYSBib29sZWFuIG9yIG51bGwnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDYgJiYgdHlwZW9mIGFyZ3VtZW50c1s2XSAhPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2Bsb29zZWAsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0dmFyIG5vbkVudW1lcmFibGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cdHZhciBub25Xcml0YWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogbnVsbDtcblx0dmFyIG5vbkNvbmZpZ3VyYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ID8gYXJndW1lbnRzWzVdIDogbnVsbDtcblx0dmFyIGxvb3NlID0gYXJndW1lbnRzLmxlbmd0aCA+IDYgPyBhcmd1bWVudHNbNl0gOiBmYWxzZTtcblxuXHQvKiBAdHlwZSB7ZmFsc2UgfCBUeXBlZFByb3BlcnR5RGVzY3JpcHRvcjx1bmtub3duPn0gKi9cblx0dmFyIGRlc2MgPSAhIWdvcGQgJiYgZ29wZChvYmosIHByb3BlcnR5KTtcblxuXHRpZiAoJGRlZmluZVByb3BlcnR5KSB7XG5cdFx0JGRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIHtcblx0XHRcdGNvbmZpZ3VyYWJsZTogbm9uQ29uZmlndXJhYmxlID09PSBudWxsICYmIGRlc2MgPyBkZXNjLmNvbmZpZ3VyYWJsZSA6ICFub25Db25maWd1cmFibGUsXG5cdFx0XHRlbnVtZXJhYmxlOiBub25FbnVtZXJhYmxlID09PSBudWxsICYmIGRlc2MgPyBkZXNjLmVudW1lcmFibGUgOiAhbm9uRW51bWVyYWJsZSxcblx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdHdyaXRhYmxlOiBub25Xcml0YWJsZSA9PT0gbnVsbCAmJiBkZXNjID8gZGVzYy53cml0YWJsZSA6ICFub25Xcml0YWJsZVxuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGxvb3NlIHx8ICghbm9uRW51bWVyYWJsZSAmJiAhbm9uV3JpdGFibGUgJiYgIW5vbkNvbmZpZ3VyYWJsZSkpIHtcblx0XHQvLyBtdXN0IGZhbGwgYmFjayB0byBbW1NldF1dLCBhbmQgd2FzIG5vdCBleHBsaWNpdGx5IGFza2VkIHRvIG1ha2Ugbm9uLWVudW1lcmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWNvbmZpZ3VyYWJsZVxuXHRcdG9ialtwcm9wZXJ0eV0gPSB2YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ1RoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBkZWZpbmluZyBhIHByb3BlcnR5IGFzIG5vbi1jb25maWd1cmFibGUsIG5vbi13cml0YWJsZSwgb3Igbm9uLWVudW1lcmFibGUuJyk7XG5cdH1cbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgJGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnZXMtZGVmaW5lLXByb3BlcnR5Jyk7XG5cbnZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3JzID0gZnVuY3Rpb24gaGFzUHJvcGVydHlEZXNjcmlwdG9ycygpIHtcblx0cmV0dXJuICEhJGRlZmluZVByb3BlcnR5O1xufTtcblxuaGFzUHJvcGVydHlEZXNjcmlwdG9ycy5oYXNBcnJheUxlbmd0aERlZmluZUJ1ZyA9IGZ1bmN0aW9uIGhhc0FycmF5TGVuZ3RoRGVmaW5lQnVnKCkge1xuXHQvLyBub2RlIHYwLjYgaGFzIGEgYnVnIHdoZXJlIGFycmF5IGxlbmd0aHMgY2FuIGJlIFNldCBidXQgbm90IERlZmluZWRcblx0aWYgKCEkZGVmaW5lUHJvcGVydHkpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR0cnkge1xuXHRcdHJldHVybiAkZGVmaW5lUHJvcGVydHkoW10sICdsZW5ndGgnLCB7IHZhbHVlOiAxIH0pLmxlbmd0aCAhPT0gMTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdC8vIEluIEZpcmVmb3ggNC0yMiwgZGVmaW5pbmcgbGVuZ3RoIG9uIGFuIGFycmF5IHRocm93cyBhbiBleGNlcHRpb24uXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzUHJvcGVydHlEZXNjcmlwdG9ycztcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLWRhdGEtcHJvcGVydHknKTtcbnZhciBoYXNEZXNjcmlwdG9ycyA9IHJlcXVpcmUoJ2hhcy1wcm9wZXJ0eS1kZXNjcmlwdG9ycycpKCk7XG52YXIgZ09QRCA9IHJlcXVpcmUoJ2dvcGQnKTtcblxudmFyICRUeXBlRXJyb3IgPSByZXF1aXJlKCdlcy1lcnJvcnMvdHlwZScpO1xudmFyICRmbG9vciA9IEdldEludHJpbnNpYygnJU1hdGguZmxvb3IlJyk7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldEZ1bmN0aW9uTGVuZ3RoKGZuLCBsZW5ndGgpIHtcblx0aWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdgZm5gIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG5cdH1cblx0aWYgKHR5cGVvZiBsZW5ndGggIT09ICdudW1iZXInIHx8IGxlbmd0aCA8IDAgfHwgbGVuZ3RoID4gMHhGRkZGRkZGRiB8fCAkZmxvb3IobGVuZ3RoKSAhPT0gbGVuZ3RoKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ2BsZW5ndGhgIG11c3QgYmUgYSBwb3NpdGl2ZSAzMi1iaXQgaW50ZWdlcicpO1xuXHR9XG5cblx0dmFyIGxvb3NlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgISFhcmd1bWVudHNbMl07XG5cblx0dmFyIGZ1bmN0aW9uTGVuZ3RoSXNDb25maWd1cmFibGUgPSB0cnVlO1xuXHR2YXIgZnVuY3Rpb25MZW5ndGhJc1dyaXRhYmxlID0gdHJ1ZTtcblx0aWYgKCdsZW5ndGgnIGluIGZuICYmIGdPUEQpIHtcblx0XHR2YXIgZGVzYyA9IGdPUEQoZm4sICdsZW5ndGgnKTtcblx0XHRpZiAoZGVzYyAmJiAhZGVzYy5jb25maWd1cmFibGUpIHtcblx0XHRcdGZ1bmN0aW9uTGVuZ3RoSXNDb25maWd1cmFibGUgPSBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKGRlc2MgJiYgIWRlc2Mud3JpdGFibGUpIHtcblx0XHRcdGZ1bmN0aW9uTGVuZ3RoSXNXcml0YWJsZSA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXG5cdGlmIChmdW5jdGlvbkxlbmd0aElzQ29uZmlndXJhYmxlIHx8IGZ1bmN0aW9uTGVuZ3RoSXNXcml0YWJsZSB8fCAhbG9vc2UpIHtcblx0XHRpZiAoaGFzRGVzY3JpcHRvcnMpIHtcblx0XHRcdGRlZmluZSgvKiogQHR5cGUge1BhcmFtZXRlcnM8ZGVmaW5lPlswXX0gKi8gKGZuKSwgJ2xlbmd0aCcsIGxlbmd0aCwgdHJ1ZSwgdHJ1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlZmluZSgvKiogQHR5cGUge1BhcmFtZXRlcnM8ZGVmaW5lPlswXX0gKi8gKGZuKSwgJ2xlbmd0aCcsIGxlbmd0aCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmbjtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciAkYXBwbHkgPSByZXF1aXJlKCcuL2Z1bmN0aW9uQXBwbHknKTtcbnZhciBhY3R1YWxBcHBseSA9IHJlcXVpcmUoJy4vYWN0dWFsQXBwbHknKTtcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vYXBwbHlCaW5kJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFwcGx5QmluZCgpIHtcblx0cmV0dXJuIGFjdHVhbEFwcGx5KGJpbmQsICRhcHBseSwgYXJndW1lbnRzKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc2V0RnVuY3Rpb25MZW5ndGggPSByZXF1aXJlKCdzZXQtZnVuY3Rpb24tbGVuZ3RoJyk7XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCdlcy1kZWZpbmUtcHJvcGVydHknKTtcblxudmFyIGNhbGxCaW5kQmFzaWMgPSByZXF1aXJlKCdjYWxsLWJpbmQtYXBwbHktaGVscGVycycpO1xudmFyIGFwcGx5QmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZC1hcHBseS1oZWxwZXJzL2FwcGx5QmluZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCaW5kKG9yaWdpbmFsRnVuY3Rpb24pIHtcblx0dmFyIGZ1bmMgPSBjYWxsQmluZEJhc2ljKGFyZ3VtZW50cyk7XG5cdHZhciBhZGp1c3RlZExlbmd0aCA9IG9yaWdpbmFsRnVuY3Rpb24ubGVuZ3RoIC0gKGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0cmV0dXJuIHNldEZ1bmN0aW9uTGVuZ3RoKFxuXHRcdGZ1bmMsXG5cdFx0MSArIChhZGp1c3RlZExlbmd0aCA+IDAgPyBhZGp1c3RlZExlbmd0aCA6IDApLFxuXHRcdHRydWVcblx0KTtcbn07XG5cbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0JGRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnYXBwbHknLCB7IHZhbHVlOiBhcHBseUJpbmQgfSk7XG59IGVsc2Uge1xuXHRtb2R1bGUuZXhwb3J0cy5hcHBseSA9IGFwcGx5QmluZDtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciBjYWxsQmluZEJhc2ljID0gcmVxdWlyZSgnY2FsbC1iaW5kLWFwcGx5LWhlbHBlcnMnKTtcblxuLyoqIEB0eXBlIHsodGhpc0FyZzogc3RyaW5nLCBzZWFyY2hTdHJpbmc6IHN0cmluZywgcG9zaXRpb24/OiBudW1iZXIpID0+IG51bWJlcn0gKi9cbnZhciAkaW5kZXhPZiA9IGNhbGxCaW5kQmFzaWMoW0dldEludHJpbnNpYygnJVN0cmluZy5wcm90b3R5cGUuaW5kZXhPZiUnKV0pO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLicpfSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjYWxsQm91bmRJbnRyaW5zaWMobmFtZSwgYWxsb3dNaXNzaW5nKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0dmFyIGludHJpbnNpYyA9IC8qKiBAdHlwZSB7UGFyYW1ldGVyczx0eXBlb2YgY2FsbEJpbmRCYXNpYz5bMF1bMF19ICovIChHZXRJbnRyaW5zaWMobmFtZSwgISFhbGxvd01pc3NpbmcpKTtcblx0aWYgKHR5cGVvZiBpbnRyaW5zaWMgPT09ICdmdW5jdGlvbicgJiYgJGluZGV4T2YobmFtZSwgJy5wcm90b3R5cGUuJykgPiAtMSkge1xuXHRcdHJldHVybiBjYWxsQmluZEJhc2ljKFtpbnRyaW5zaWNdKTtcblx0fVxuXHRyZXR1cm4gaW50cmluc2ljO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7dHlwZW9mIEpTT04uc3RyaW5naWZ5fSAqL1xudmFyIGpzb25TdHJpbmdpZnkgPSAodHlwZW9mIEpTT04gIT09ICd1bmRlZmluZWQnID8gSlNPTiA6IHJlcXVpcmUoJ2pzb25pZnknKSkuc3RyaW5naWZ5O1xuXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKTtcbnZhciBvYmplY3RLZXlzID0gcmVxdWlyZSgnb2JqZWN0LWtleXMnKTtcbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZCcpO1xudmFyIGNhbGxCb3VuZCA9IHJlcXVpcmUoJ2NhbGwtYm91bmQnKTtcblxudmFyICRqb2luID0gY2FsbEJvdW5kKCdBcnJheS5wcm90b3R5cGUuam9pbicpO1xudmFyICRpbmRleE9mID0gY2FsbEJvdW5kKCdBcnJheS5wcm90b3R5cGUuaW5kZXhPZicpO1xudmFyICRzcGxpY2UgPSBjYWxsQm91bmQoJ0FycmF5LnByb3RvdHlwZS5zcGxpY2UnKTtcbnZhciAkc29ydCA9IGNhbGxCb3VuZCgnQXJyYXkucHJvdG90eXBlLnNvcnQnKTtcblxuLyoqIEB0eXBlIHsobjogbnVtYmVyLCBjaGFyOiBzdHJpbmcpID0+IHN0cmluZ30gKi9cbnZhciBzdHJSZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQobiwgY2hhcikge1xuXHR2YXIgc3RyID0gJyc7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSArPSAxKSB7XG5cdFx0c3RyICs9IGNoYXI7XG5cdH1cblx0cmV0dXJuIHN0cjtcbn07XG5cbi8qKiBAdHlwZSB7KHBhcmVudDogaW1wb3J0KCcuJykuTm9kZSwga2V5OiBpbXBvcnQoJy4nKS5LZXksIHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3dufSAqL1xudmFyIGRlZmF1bHRSZXBsYWNlciA9IGZ1bmN0aW9uIChfcGFyZW50LCBfa2V5LCB2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuJyl9ICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0YWJsZVN0cmluZ2lmeShvYmopIHtcblx0LyoqIEB0eXBlIHtQYXJhbWV0ZXJzPGltcG9ydCgnLicpPlsxXX0gKi9cblx0dmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgdW5kZWZpbmVkO1xuXHR2YXIgc3BhY2UgPSAob3B0cyAmJiBvcHRzLnNwYWNlKSB8fCAnJztcblx0aWYgKHR5cGVvZiBzcGFjZSA9PT0gJ251bWJlcicpIHsgc3BhY2UgPSBzdHJSZXBlYXQoc3BhY2UsICcgJyk7IH1cblx0dmFyIGN5Y2xlcyA9ICEhb3B0cyAmJiB0eXBlb2Ygb3B0cy5jeWNsZXMgPT09ICdib29sZWFuJyAmJiBvcHRzLmN5Y2xlcztcblx0LyoqIEB0eXBlIHt1bmRlZmluZWQgfCB0eXBlb2YgZGVmYXVsdFJlcGxhY2VyfSAqL1xuXHR2YXIgcmVwbGFjZXIgPSBvcHRzICYmIG9wdHMucmVwbGFjZXIgPyBjYWxsQmluZChvcHRzLnJlcGxhY2VyKSA6IGRlZmF1bHRSZXBsYWNlcjtcblxuXHR2YXIgY21wT3B0ID0gdHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicgPyBvcHRzIDogb3B0cyAmJiBvcHRzLmNtcDtcblx0LyoqIEB0eXBlIHt1bmRlZmluZWQgfCAoPFQgZXh0ZW5kcyBpbXBvcnQoJy4nKS5Ob25BcnJheU5vZGU+KG5vZGU6IFQpID0+IChhOiBFeGNsdWRlPGtleW9mIFQsIHN5bWJvbCB8IG51bWJlcj4sIGI6IEV4Y2x1ZGU8a2V5b2YgVCwgc3ltYm9sIHwgbnVtYmVyPikgPT4gbnVtYmVyKX0gKi9cblx0dmFyIGNtcCA9IGNtcE9wdCAmJiBmdW5jdGlvbiAobm9kZSkge1xuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0XHR2YXIgZ2V0ID0gLyoqIEB0eXBlIHtOb25OdWxsYWJsZTx0eXBlb2YgY21wT3B0Pn0gKi8gKGNtcE9wdCkubGVuZ3RoID4gMlxuXHRcdFx0JiYgLyoqIEB0eXBlIHtpbXBvcnQoJy4nKS5HZXR0ZXJbJ2dldCddfSAqLyBmdW5jdGlvbiBnZXQoaykgeyByZXR1cm4gbm9kZVtrXTsgfTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0XHRcdHJldHVybiAvKiogQHR5cGUge05vbk51bGxhYmxlPHR5cGVvZiBjbXBPcHQ+fSAqLyAoY21wT3B0KShcblx0XHRcdFx0eyBrZXk6IGEsIHZhbHVlOiBub2RlW2FdIH0sXG5cdFx0XHRcdHsga2V5OiBiLCB2YWx1ZTogbm9kZVtiXSB9LFxuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGUgb3B0aW1pemF0aW9uIHVzZWQgaGVyZVxuXHRcdFx0XHRnZXQgPyAvKiogQHR5cGUge2ltcG9ydCgnLicpLkdldHRlcn0gKi8geyBfX3Byb3RvX186IG51bGwsIGdldDogZ2V0IH0gOiB2b2lkIHVuZGVmaW5lZFxuXHRcdFx0KTtcblx0XHR9O1xuXHR9O1xuXG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuTm9kZVtdfSAqL1xuXHR2YXIgc2VlbiA9IFtdO1xuXHRyZXR1cm4gKC8qKiBAdHlwZSB7KHBhcmVudDogaW1wb3J0KCcuJykuTm9kZSwga2V5OiBzdHJpbmcgfCBudW1iZXIsIG5vZGU6IHVua25vd24sIGxldmVsOiBudW1iZXIpID0+IHN0cmluZyB8IHVuZGVmaW5lZH0gKi9cblx0XHRmdW5jdGlvbiBzdHJpbmdpZnkocGFyZW50LCBrZXksIG5vZGUsIGxldmVsKSB7XG5cdFx0XHR2YXIgaW5kZW50ID0gc3BhY2UgPyAnXFxuJyArIHN0clJlcGVhdChsZXZlbCwgc3BhY2UpIDogJyc7XG5cdFx0XHR2YXIgY29sb25TZXBhcmF0b3IgPSBzcGFjZSA/ICc6ICcgOiAnOic7XG5cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0XHRcdGlmIChub2RlICYmIC8qKiBAdHlwZSB7eyB0b0pTT04/OiB1bmtub3duIH19ICovIChub2RlKS50b0pTT04gJiYgdHlwZW9mIC8qKiBAdHlwZSB7eyB0b0pTT04/OiB1bmtub3duIH19ICovIChub2RlKS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuXHRcdFx0XHRub2RlID0gLyoqIEB0eXBlIHt7IHRvSlNPTjogRnVuY3Rpb24gfX0gKi8gKG5vZGUpLnRvSlNPTigpO1xuXHRcdFx0fVxuXG5cdFx0XHRub2RlID0gcmVwbGFjZXIocGFyZW50LCBrZXksIG5vZGUpO1xuXG5cdFx0XHRpZiAobm9kZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcgfHwgbm9kZSA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZXR1cm4ganNvblN0cmluZ2lmeShub2RlKTtcblx0XHRcdH1cblx0XHRcdGlmIChpc0FycmF5KG5vZGUpKSB7XG5cdFx0XHRcdHZhciBvdXQgPSBbXTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0dmFyIGl0ZW0gPSBzdHJpbmdpZnkobm9kZSwgaSwgbm9kZVtpXSwgbGV2ZWwgKyAxKSB8fCBqc29uU3RyaW5naWZ5KG51bGwpO1xuXHRcdFx0XHRcdG91dFtvdXQubGVuZ3RoXSA9IGluZGVudCArIHNwYWNlICsgaXRlbTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJ1snICsgJGpvaW4ob3V0LCAnLCcpICsgaW5kZW50ICsgJ10nO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoJGluZGV4T2Yoc2Vlbiwgbm9kZSkgIT09IC0xKSB7XG5cdFx0XHRcdGlmIChjeWNsZXMpIHsgcmV0dXJuIGpzb25TdHJpbmdpZnkoJ19fY3ljbGVfXycpOyB9XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT04nKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlZW5bc2Vlbi5sZW5ndGhdID0gLyoqIEB0eXBlIHtpbXBvcnQoJy4nKS5Ob25BcnJheU5vZGV9ICovIChub2RlKTtcblx0XHRcdH1cblxuXHRcdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4nKS5LZXlbXX0gKi9cblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0XHRcdHZhciBrZXlzID0gJHNvcnQob2JqZWN0S2V5cyhub2RlKSwgY21wICYmIGNtcCgvKiogQHR5cGUge2ltcG9ydCgnLicpLk5vbkFycmF5Tm9kZX0gKi8gKG5vZGUpKSk7XG5cdFx0XHR2YXIgb3V0ID0gW107XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIGtleSA9IGtleXNbaV07XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcblx0XHRcdFx0dmFyIHZhbHVlID0gc3RyaW5naWZ5KC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuTm9kZX0gKi8gKG5vZGUpLCBrZXksIC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuTm9uQXJyYXlOb2RlfSAqLyAobm9kZSlba2V5XSwgbGV2ZWwgKyAxKTtcblxuXHRcdFx0XHRpZiAoIXZhbHVlKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0dmFyIGtleVZhbHVlID0ganNvblN0cmluZ2lmeShrZXkpXG5cdFx0XHRcdFx0KyBjb2xvblNlcGFyYXRvclxuXHRcdFx0XHRcdCsgdmFsdWU7XG5cblx0XHRcdFx0b3V0W291dC5sZW5ndGhdID0gaW5kZW50ICsgc3BhY2UgKyBrZXlWYWx1ZTtcblx0XHRcdH1cblx0XHRcdCRzcGxpY2Uoc2VlbiwgJGluZGV4T2Yoc2Vlbiwgbm9kZSksIDEpO1xuXHRcdFx0cmV0dXJuICd7JyArICRqb2luKG91dCwgJywnKSArIGluZGVudCArICd9Jztcblx0XHR9KHsgJyc6IG9iaiB9LCAnJywgb2JqLCAwKVxuXHQpO1xufTtcbiIsICJpbXBvcnQgeyBJdGVtVmlldywgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nXHJcbmltcG9ydCB7IENhbnZhcywgQ2FudmFzVmlldyB9IGZyb20gJy4vQHR5cGVzL0NhbnZhcydcclxuaW1wb3J0IFF1aWNrc2V0dGluZ3MgZnJvbSAnLi9xdWlja3NldHRpbmdzJ1xyXG5cclxuLy8gVXRpbHNcclxuaW1wb3J0IEljb25zSGVscGVyIGZyb20gJy4vdXRpbHMvaWNvbnMtaGVscGVyJ1xyXG5pbXBvcnQgRGVidWdIZWxwZXIgZnJvbSAnLi91dGlscy9kZWJ1Zy1oZWxwZXInXHJcbmltcG9ydCBNaWdyYXRpb25IZWxwZXIgZnJvbSAnLi91dGlscy9taWdyYXRpb24taGVscGVyJ1xyXG5cclxuLy8gTWFuYWdlcnNcclxuaW1wb3J0IFNldHRpbmdzTWFuYWdlciBmcm9tICcuL3NldHRpbmdzJ1xyXG5pbXBvcnQgV2luZG93c01hbmFnZXIgZnJvbSAnLi9tYW5hZ2Vycy93aW5kb3dzLW1hbmFnZXInXHJcblxyXG4vLyBQYXRjaGVyc1xyXG5pbXBvcnQgUGF0Y2hlciBmcm9tICcuL3BhdGNoZXJzL3BhdGNoZXInXHJcbmltcG9ydCBDYW52YXNQYXRjaGVyIGZyb20gJy4vcGF0Y2hlcnMvY2FudmFzLXBhdGNoZXInXHJcbmltcG9ydCBNZXRhZGF0YUNhY2hlUGF0Y2hlciBmcm9tICcuL3BhdGNoZXJzL21ldGFkYXRhLWNhY2hlLXBhdGNoZXInXHJcbmltcG9ydCBCYWNrbGlua3NQYXRjaGVyIGZyb20gJy4vcGF0Y2hlcnMvYmFja2xpbmtzLXBhdGNoZXInXHJcbmltcG9ydCBPdXRnb2luZ0xpbmtzUGF0Y2hlciBmcm9tICcuL3BhdGNoZXJzL291dGdvaW5nLWxpbmtzLXBhdGNoZXInXHJcblxyXG4vLyBDYW52YXMgRXh0ZW5zaW9uc1xyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IFZhcmlhYmxlQnJlYWtwb2ludENhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL3ZhcmlhYmxlLWJyZWFrcG9pbnQtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEdyb3VwQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZ3JvdXAtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IFByZXNlbnRhdGlvbkNhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL3ByZXNlbnRhdGlvbi1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgWk9yZGVyaW5nQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvei1vcmRlcmluZy1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgQmV0dGVyUmVhZG9ubHlDYW52YXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9iZXR0ZXItcmVhZG9ubHktY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEVuY2Fwc3VsYXRlQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZW5jYXBzdWxhdGUtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IENvbW1hbmRzQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvY29tbWFuZHMtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEF1dG9SZXNpemVOb2RlQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvYXV0by1yZXNpemUtbm9kZS1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgUG9ydGFsc0NhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL3BvcnRhbHMtY2FudmFzLWV4dGVuc2lvbidcclxuaW1wb3J0IEJldHRlckRlZmF1bHRTZXR0aW5nc0NhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2JldHRlci1kZWZhdWx0LXNldHRpbmdzLWNhbnZhcy1leHRlbnNpb24nXHJcbmltcG9ydCBDb2xvclBhbGV0dGVDYW52YXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9jb2xvci1wYWxldHRlLWNhbnZhcy1leHRlbnNpb24nXHJcbmltcG9ydCBDb2xsYXBzaWJsZUdyb3Vwc0NhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2NvbGxhcHNpYmxlLWdyb3Vwcy1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgRm9jdXNNb2RlQ2FudmFzRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZm9jdXMtbW9kZS1jYW52YXMtZXh0ZW5zaW9uJ1xyXG5pbXBvcnQgRmxpcEVkZ2VDYW52YXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9mbGlwLWVkZ2UtY2FudmFzLWV4dGVuc2lvbidcclxuXHJcbi8vIEFkdmFuY2VkIFN0eWxlc1xyXG5pbXBvcnQgTm9kZVN0eWxlc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9ub2RlLXN0eWxlcydcclxuaW1wb3J0IEVkZ2VTdHlsZXNFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9hZHZhbmNlZC1zdHlsZXMvZWRnZS1zdHlsZXMnXHJcblxyXG4vLyBEYXRhc2V0IEV4cG9zZXJzXHJcbmltcG9ydCBOb2RlSW50ZXJhY3Rpb25FeHBvc2VyRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZGF0YXNldC1leHBvc2Vycy9ub2RlLWludGVyYWN0aW9uLWV4cG9zZXInXHJcbmltcG9ydCBOb2RlRXhwb3NlckV4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb25zL2RhdGFzZXQtZXhwb3NlcnMvbm9kZS1leHBvc2VyJ1xyXG5pbXBvcnQgRWRnZUV4cG9zZXJFeHRlbnNpb24gZnJvbSAnLi9jYW52YXMtZXh0ZW5zaW9ucy9kYXRhc2V0LWV4cG9zZXJzL2VkZ2UtZXhwb3NlcidcclxuaW1wb3J0IENhbnZhc1dyYXBwZXJFeHBvc2VyRXh0ZW5zaW9uIGZyb20gJy4vY2FudmFzLWV4dGVuc2lvbnMvZGF0YXNldC1leHBvc2Vycy9jYW52YXMtd3JhcHBlci1leHBvc2VyJ1xyXG5cclxuY29uc3QgUEFUQ0hFUlMgPSBbXHJcbiAgQ2FudmFzUGF0Y2hlcixcclxuICBNZXRhZGF0YUNhY2hlUGF0Y2hlcixcclxuICBCYWNrbGlua3NQYXRjaGVyLFxyXG4gIE91dGdvaW5nTGlua3NQYXRjaGVyXHJcbl1cclxuXHJcbmNvbnN0IENBTlZBU19FWFRFTlNJT05TOiB0eXBlb2YgQ2FudmFzRXh0ZW5zaW9uW10gPSBbXHJcbiAgLy8gRGF0YXNldCBFeHBvc2Vyc1xyXG4gIENhbnZhc1dyYXBwZXJFeHBvc2VyRXh0ZW5zaW9uLFxyXG4gIE5vZGVFeHBvc2VyRXh0ZW5zaW9uLFxyXG4gIEVkZ2VFeHBvc2VyRXh0ZW5zaW9uLFxyXG4gIE5vZGVJbnRlcmFjdGlvbkV4cG9zZXJFeHRlbnNpb24sXHJcblxyXG4gIC8vIEFkdmFuY2VkIFN0eWxlc1xyXG4gIE5vZGVTdHlsZXNFeHRlbnNpb24sXHJcbiAgRWRnZVN0eWxlc0V4dGVuc2lvbixcclxuXHJcbiAgLy8gQmFzaWMgRXh0ZW5zaW9uc1xyXG4gIFZhcmlhYmxlQnJlYWtwb2ludENhbnZhc0V4dGVuc2lvbixcclxuICBCZXR0ZXJEZWZhdWx0U2V0dGluZ3NDYW52YXNFeHRlbnNpb24sXHJcbiAgQ29tbWFuZHNDYW52YXNFeHRlbnNpb24sXHJcbiAgRmxpcEVkZ2VDYW52YXNFeHRlbnNpb24sXHJcbiAgWk9yZGVyaW5nQ2FudmFzRXh0ZW5zaW9uLFxyXG4gIEJldHRlclJlYWRvbmx5Q2FudmFzRXh0ZW5zaW9uLFxyXG4gIEF1dG9SZXNpemVOb2RlQ2FudmFzRXh0ZW5zaW9uLFxyXG4gIEdyb3VwQ2FudmFzRXh0ZW5zaW9uLFxyXG5cclxuICAvLyBNb3JlIEFkdmFuY2VkIEV4dGVuc2lvbnNcclxuICBDb2xsYXBzaWJsZUdyb3Vwc0NhbnZhc0V4dGVuc2lvbixcclxuICBGb2N1c01vZGVDYW52YXNFeHRlbnNpb24sXHJcbiAgRW5jYXBzdWxhdGVDYW52YXNFeHRlbnNpb24sXHJcbiAgQ29sb3JQYWxldHRlQ2FudmFzRXh0ZW5zaW9uLFxyXG4gIFByZXNlbnRhdGlvbkNhbnZhc0V4dGVuc2lvbixcclxuICBQb3J0YWxzQ2FudmFzRXh0ZW5zaW9uXHJcbl1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkdmFuY2VkQ2FudmFzUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuICBtaWdyYXRpb25IZWxwZXI6IE1pZ3JhdGlvbkhlbHBlclxyXG4gIGRlYnVnSGVscGVyOiBEZWJ1Z0hlbHBlclxyXG5cclxuICBzZXR0aW5nczogU2V0dGluZ3NNYW5hZ2VyXHJcbiAgcXVpY2tzZXR0aW5nczogUXVpY2tzZXR0aW5nc1xyXG4gIHdpbmRvd3NNYW5hZ2VyOiBXaW5kb3dzTWFuYWdlclxyXG5cclxuICBwYXRjaGVyczogUGF0Y2hlcltdXHJcbiAgY2FudmFzRXh0ZW5zaW9uczogQ2FudmFzRXh0ZW5zaW9uW11cclxuXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG4gICAgdGhpcy5taWdyYXRpb25IZWxwZXIgPSBuZXcgTWlncmF0aW9uSGVscGVyKHRoaXMpXHJcbiAgICBhd2FpdCB0aGlzLm1pZ3JhdGlvbkhlbHBlci5taWdyYXRlKClcclxuXHJcbiAgICBJY29uc0hlbHBlci5hZGRJY29ucygpXHJcbiAgICBcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3NNYW5hZ2VyKHRoaXMpXHJcbiAgICBhd2FpdCB0aGlzLnNldHRpbmdzLmxvYWRTZXR0aW5ncygpXHJcbiAgICB0aGlzLnNldHRpbmdzLmFkZFNldHRpbmdzVGFiKClcclxuICAgIFxyXG4gICAgdGhpcy5xdWlja3NldHRpbmdzID0gbmV3IFF1aWNrc2V0dGluZ3ModGhpcylcclxuXHJcbiAgICB0aGlzLndpbmRvd3NNYW5hZ2VyID0gbmV3IFdpbmRvd3NNYW5hZ2VyKHRoaXMpXHJcblxyXG4gICAgdGhpcy5wYXRjaGVycyA9IFBBVENIRVJTLm1hcCgoUGF0Y2hlcjogYW55KSA9PiBuZXcgUGF0Y2hlcih0aGlzKSlcclxuICAgIHRoaXMuY2FudmFzRXh0ZW5zaW9ucyA9IENBTlZBU19FWFRFTlNJT05TLm1hcCgoRXh0ZW5zaW9uOiBhbnkpID0+IG5ldyBFeHRlbnNpb24odGhpcykpXHJcblx0fVxyXG5cclxuICBvbnVubG9hZCgpIHt9XHJcblxyXG4gIGdldEN1cnJlbnRDYW52YXNWaWV3KCk6IENhbnZhc1ZpZXcgfCBudWxsIHtcclxuICAgIGNvbnN0IGNhbnZhc1ZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShJdGVtVmlldylcclxuICAgIGlmIChjYW52YXNWaWV3Py5nZXRWaWV3VHlwZSgpICE9PSAnY2FudmFzJykgcmV0dXJuIG51bGxcclxuICAgIHJldHVybiBjYW52YXNWaWV3IGFzIENhbnZhc1ZpZXdcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRDYW52YXMoKTogQ2FudmFzIHwgbnVsbCB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50Q2FudmFzVmlldygpPy5jYW52YXMgfHwgbnVsbFxyXG4gIH1cclxuXHJcbiAgY3JlYXRlRmlsZVNuYXBzaG90KHBhdGg6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBmaWxlUmVjb3ZlcnlQbHVnaW4gPSB0aGlzLmFwcC5pbnRlcm5hbFBsdWdpbnMucGx1Z2luc1snZmlsZS1yZWNvdmVyeSddPy5pbnN0YW5jZVxyXG4gICAgaWYgKCFmaWxlUmVjb3ZlcnlQbHVnaW4pIHJldHVyblxyXG5cclxuICAgIGZpbGVSZWNvdmVyeVBsdWdpbi5mb3JjZUFkZChwYXRoLCBjb250ZW50KVxyXG4gIH1cclxuXHJcbiAgLy8gdGhpcy5hcHAucGx1Z2lucy5wbHVnaW5zW1wiYWR2YW5jZWQtY2FudmFzXCJdLmVuYWJsZURlYnVnTW9kZSgpXHJcbiAgZW5hYmxlRGVidWdNb2RlKCkge1xyXG4gICAgaWYgKHRoaXMuZGVidWdIZWxwZXIpIHJldHVyblxyXG4gICAgdGhpcy5kZWJ1Z0hlbHBlciA9IG5ldyBEZWJ1Z0hlbHBlcih0aGlzKVxyXG4gIH1cclxufSIsICJpbXBvcnQgQXBwLCB7IFN1Z2dlc3RNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwiLi9tYWluXCJcclxuaW1wb3J0IFNldHRpbmdzTWFuYWdlciwgeyBTRVRUSU5HUywgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgREVGQVVMVF9TRVRUSU5HU19WQUxVRVMgfSBmcm9tIFwiLi9zZXR0aW5nc1wiXHJcbmltcG9ydCB7IERyb3Bkb3duU2V0dGluZywgU2V0dGluZywgU3R5bGVBdHRyaWJ1dGVzU2V0dGluZyB9IGZyb20gXCIuL0B0eXBlcy9TZXR0aW5nc1wiXHJcbmltcG9ydCB7IFN0eWxlQXR0cmlidXRlIH0gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvbnMvYWR2YW5jZWQtc3R5bGVzL3N0eWxlLWNvbmZpZ1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWlja3NldHRpbmdzIHtcclxuICBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcbiAgcHJpdmF0ZSBzZWFyY2hTZXR0aW5nTW9kYWw6IFNlYXJjaEtleVZhbHVlU2V0dGluZ01vZGFsPFNldHRpbmc+XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4pIHtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luXHJcblxyXG4gICAgdGhpcy5zZWFyY2hTZXR0aW5nTW9kYWwgPSBuZXcgU2VhcmNoU2V0dGluZ3NIZWFkZXJNb2RhbCh0aGlzLnBsdWdpbi5hcHAsIHRoaXMucGx1Z2luLnNldHRpbmdzKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgICBpZDogJ29wZW4tcXVpY2tzZXR0aW5ncycsXHJcbiAgICAgIG5hbWU6ICdPcGVuIFF1aWNrc2V0dGluZ3MnLFxyXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4gdGhpcy5zZWFyY2hTZXR0aW5nTW9kYWwub3BlbigpXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxudHlwZSBLZXlWYWx1ZVBhaXI8VD4gPSBba2V5OiBzdHJpbmcsIHZhbHVlOiBUXVxyXG5hYnN0cmFjdCBjbGFzcyBTZWFyY2hLZXlWYWx1ZVNldHRpbmdNb2RhbDxUPiBleHRlbmRzIFN1Z2dlc3RNb2RhbDxLZXlWYWx1ZVBhaXI8VD4+IHtcclxuICBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlclxyXG5cclxuICBhYnN0cmFjdCBnZXRTZWFyY2hUaXRsZSgpOiBzdHJpbmdcclxuICBhYnN0cmFjdCBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8VD5bXVxyXG4gIGFic3RyYWN0IGRvZXNTdWdnZXN0aW9uTWF0Y2hRdWVyeShrZXk6IHN0cmluZywgdmFsdWU6IFQsIHF1ZXJ5OiBzdHJpbmcpOiBib29sZWFuXHJcbiAgYWJzdHJhY3QgZGlzcGxheVN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIHZhbHVlOiBULCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkXHJcbiAgYWJzdHJhY3Qgb25TZWxlY3RlZFN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIHZhbHVlOiBUKTogdm9pZFxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXIpIHtcclxuICAgIHN1cGVyKGFwcClcclxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gc2V0dGluZ3NNYW5hZ2VyXHJcblxyXG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlcih0aGlzLmdldFNlYXJjaFRpdGxlKCkpXHJcbiAgICB0aGlzLnNldEluc3RydWN0aW9ucyhbe1xyXG4gICAgICAgIGNvbW1hbmQ6ICdcdTIxOTFcdTIxOTMnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBuYXZpZ2F0ZSdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnXHUyMUI1JyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZWRpdCdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnZXNjJyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZGlzbWlzcydcclxuICAgIH1dKVxyXG4gIH1cclxuXHJcbiAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IEtleVZhbHVlUGFpcjxUPltdIHtcclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gdGhpcy5nZXRBbGxTdWdnZXN0aW9ucygpXHJcbiAgICAgIC5maWx0ZXIoKFtzZXR0aW5nS2V5LCBfc2V0dGluZ1ZhbHVlXSkgPT4gdGhpcy5kb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoc2V0dGluZ0tleSwgX3NldHRpbmdWYWx1ZSwgcXVlcnkpKVxyXG5cclxuICAgIHJldHVybiBzdWdnZXN0aW9uc1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyU3VnZ2VzdGlvbihzdWdnZXN0aW9uOiBLZXlWYWx1ZVBhaXI8VD4sIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgdGhpcy5kaXNwbGF5U3VnZ2VzdGlvbihzdWdnZXN0aW9uWzBdLCBzdWdnZXN0aW9uWzFdLCBlbClcclxuICB9XHJcblxyXG4gIG9uQ2hvb3NlU3VnZ2VzdGlvbihzdWdnZXN0aW9uOiBLZXlWYWx1ZVBhaXI8VD4sIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcclxuICAgIHRoaXMub25TZWxlY3RlZFN1Z2dlc3Rpb24oc3VnZ2VzdGlvblswXSwgc3VnZ2VzdGlvblsxXSlcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFNlYXJjaFNldHRpbmdzSGVhZGVyTW9kYWwgZXh0ZW5kcyBTZWFyY2hLZXlWYWx1ZVNldHRpbmdNb2RhbDxTZXR0aW5nPiB7XHJcbiAgZ2V0U2VhcmNoVGl0bGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnVHlwZSB0byBzZWFyY2ggc2V0dGluZ3MuLi4nXHJcbiAgfVxyXG5cclxuICBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8U2V0dGluZz5bXSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoU0VUVElOR1MpLmZsYXRNYXAoKFtfa2V5LCB2YWx1ZV0pID0+IFxyXG4gICAgICBPYmplY3QuZW50cmllcyh2YWx1ZS5jaGlsZHJlbilcclxuICAgICAgICAuZmlsdGVyKChbX2tleSwgdmFsdWVdKSA9PiB2YWx1ZS50eXBlICE9PSAnYnV0dG9uJylcclxuICAgIClcclxuICB9XHJcblxyXG4gIGRvZXNTdWdnZXN0aW9uTWF0Y2hRdWVyeShrZXk6IHN0cmluZywgdmFsdWU6IFNldHRpbmcsIHF1ZXJ5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSB8fCBcclxuICAgICAgdmFsdWUubGFiZWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSB8fFxyXG4gICAgICB2YWx1ZS5kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKT8uaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcclxuICB9XHJcblxyXG4gIGRpc3BsYXlTdWdnZXN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogU2V0dGluZywgZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICBlbC5hZGRDbGFzcygncXVpY2tzZXR0aW5ncy1zdWdnZXN0aW9uJylcclxuXHJcbiAgICBlbC5jcmVhdGVFbCgnc3BhbicsIHtcclxuICAgICAgY2xzOiAncXVpY2tzZXR0aW5ncy1zdWdnZXN0aW9uLWxhYmVsJyxcclxuICAgICAgdGV4dDogdmFsdWUubGFiZWxcclxuICAgIH0pXHJcblxyXG4gICAgZWwuY3JlYXRlRWwoJ3NwYW4nLCB7IFxyXG4gICAgICBjbHM6ICdxdWlja3NldHRpbmdzLXN1Z2dlc3Rpb24tZGVzY3JpcHRpb24nLFxyXG4gICAgICB0ZXh0OiB2YWx1ZS5kZXNjcmlwdGlvbiBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBvblNlbGVjdGVkU3VnZ2VzdGlvbihrZXk6IHN0cmluZywgdmFsdWU6IFNldHRpbmcpOiB2b2lkIHtcclxuICAgIHN3aXRjaCAodmFsdWUudHlwZSkge1xyXG4gICAgICBjYXNlICdzdHlsZXMnOlxyXG4gICAgICAgIG5ldyBTZWFyY2hTdHlsZUF0dHJpYnV0ZU1vZGFsKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzTWFuYWdlciwga2V5LCB2YWx1ZSkub3BlbigpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAndGV4dCc6XHJcbiAgICAgICAgbmV3IFNldFRleHRPck51bWJlclNldHRpbmdNb2RhbCh0aGlzLmFwcCwgdGhpcy5zZXR0aW5nc01hbmFnZXIsIGtleSwgdmFsdWUpLm9wZW4oKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ251bWJlcic6XHJcbiAgICAgICAgbmV3IFNldFRleHRPck51bWJlclNldHRpbmdNb2RhbCh0aGlzLmFwcCwgdGhpcy5zZXR0aW5nc01hbmFnZXIsIGtleSwgdmFsdWUpLm9wZW4oKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICAgIG5ldyBTZXRCb29sZWFuU2V0dGluZ01vZGFsKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzTWFuYWdlciwga2V5KS5vcGVuKClcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdkcm9wZG93bic6XHJcbiAgICAgICAgbmV3IFNldERyb3Bkb3duU2V0dGluZ01vZGFsKHRoaXMuYXBwLCB0aGlzLnNldHRpbmdzTWFuYWdlciwga2V5LCB2YWx1ZSBhcyBEcm9wZG93blNldHRpbmcpLm9wZW4oKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vuc3VwcG9ydGVkIHNldHRpbmcgdHlwZTonLCB2YWx1ZS50eXBlKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZWFyY2hTdHlsZUF0dHJpYnV0ZU1vZGFsIGV4dGVuZHMgU2VhcmNoS2V5VmFsdWVTZXR0aW5nTW9kYWw8U3R5bGVBdHRyaWJ1dGU+IHtcclxuICBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlclxyXG4gIHNldHRpbmdzS2V5OiBzdHJpbmdcclxuICBzZXR0aW5nOiBTdHlsZUF0dHJpYnV0ZXNTZXR0aW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlciwgc2V0dGluZ3NLZXk6IHN0cmluZywgc2V0dGluZzogU2V0dGluZykge1xyXG4gICAgc3VwZXIoYXBwLCBzZXR0aW5nc01hbmFnZXIpXHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlciA9IHNldHRpbmdzTWFuYWdlclxyXG4gICAgdGhpcy5zZXR0aW5nc0tleSA9IHNldHRpbmdzS2V5XHJcbiAgICB0aGlzLnNldHRpbmcgPSBzZXR0aW5nIGFzIFN0eWxlQXR0cmlidXRlc1NldHRpbmdcclxuICB9XHJcblxyXG4gIGdldFNlYXJjaFRpdGxlKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ1R5cGUgdG8gc2VhcmNoIHN0eWxlIGF0dHJpYnV0ZXMuLi4nXHJcbiAgfVxyXG5cclxuICBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8U3R5bGVBdHRyaWJ1dGU+W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZy5nZXRQYXJhbWV0ZXJzKHRoaXMuc2V0dGluZ3NNYW5hZ2VyKVxyXG4gICAgICAubWFwKHN0eWxlQXR0cmlidXRlID0+IFtzdHlsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5LCBzdHlsZUF0dHJpYnV0ZV0pXHJcbiAgfVxyXG5cclxuICBkb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoa2V5OiBzdHJpbmcsIHZhbHVlOiBTdHlsZUF0dHJpYnV0ZSwgcXVlcnk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpIHx8IFxyXG4gICAgICB2YWx1ZS5sYWJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpXHJcbiAgfVxyXG5cclxuICBkaXNwbGF5U3VnZ2VzdGlvbihrZXk6IHN0cmluZywgdmFsdWU6IFN0eWxlQXR0cmlidXRlLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGVsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiB2YWx1ZS5sYWJlbCB9KVxyXG4gIH1cclxuXHJcbiAgb25TZWxlY3RlZFN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIHZhbHVlOiBTdHlsZUF0dHJpYnV0ZSk6IHZvaWQge1xyXG4gICAgbmV3IFNldFN0eWxlQXR0cmlidXRlTW9kYWwodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLCB0aGlzLnNldHRpbmdzS2V5LCBrZXksIHZhbHVlKS5vcGVuKClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFNldFN0eWxlQXR0cmlidXRlTW9kYWwgZXh0ZW5kcyBTZWFyY2hLZXlWYWx1ZVNldHRpbmdNb2RhbDxzdHJpbmc+IHtcclxuICBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlclxyXG4gIHNldHRpbmdzS2V5OiBzdHJpbmdcclxuICBzdHlsZUF0dHJpYnV0ZUtleTogc3RyaW5nXHJcbiAgc3R5bGVBdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlXHJcbiAgY3VycmVudFZhbHVlS2V5OiBzdHJpbmcgfCBudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBzZXR0aW5nc01hbmFnZXI6IFNldHRpbmdzTWFuYWdlciwgc2V0dGluZ3NLZXk6IHN0cmluZywgc3R5bGVBdHRyaWJ1dGVLZXk6IHN0cmluZywgc3R5bGVBdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlKSB7XHJcbiAgICBzdXBlcihhcHAsIHNldHRpbmdzTWFuYWdlcilcclxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gc2V0dGluZ3NNYW5hZ2VyXHJcbiAgICB0aGlzLnNldHRpbmdzS2V5ID0gc2V0dGluZ3NLZXlcclxuICAgIHRoaXMuc3R5bGVBdHRyaWJ1dGVLZXkgPSBzdHlsZUF0dHJpYnV0ZUtleVxyXG4gICAgdGhpcy5zdHlsZUF0dHJpYnV0ZSA9IHN0eWxlQXR0cmlidXRlXHJcbiAgICB0aGlzLmN1cnJlbnRWYWx1ZUtleSA9IChzZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyhzZXR0aW5nc0tleSBhcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzKSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KVtzdHlsZUF0dHJpYnV0ZUtleV0gfHwgbnVsbFxyXG4gIH1cclxuXHJcbiAgZ2V0U2VhcmNoVGl0bGUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnU2V0IHN0eWxlIGF0dHJpYnV0ZSB2YWx1ZS4uLidcclxuICB9XHJcblxyXG4gIGdldEFsbFN1Z2dlc3Rpb25zKCk6IEtleVZhbHVlUGFpcjxzdHJpbmc+W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3R5bGVBdHRyaWJ1dGUub3B0aW9ucy5tYXAob3B0aW9uID0+IFtvcHRpb24udmFsdWUsIG9wdGlvbi5sYWJlbF0gYXMgS2V5VmFsdWVQYWlyPHN0cmluZz4pXHJcbiAgfVxyXG5cclxuICBkb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIHF1ZXJ5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBrZXk/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkgfHwgXHJcbiAgICAgIHZhbHVlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcclxuICB9XHJcblxyXG4gIGRpc3BsYXlTdWdnZXN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGxldCB0ZXh0ID0gdmFsdWVcclxuICAgIGlmIChrZXkgPT09IG51bGwgJiYga2V5ID09PSB0aGlzLmN1cnJlbnRWYWx1ZUtleSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoZGVmYXVsdCwgY3VycmVudClgXHJcbiAgICBlbHNlIGlmIChrZXkgPT09IG51bGwpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQpYFxyXG4gICAgZWxzZSBpZiAoa2V5ID09PSB0aGlzLmN1cnJlbnRWYWx1ZUtleSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoY3VycmVudClgXHJcblxyXG4gICAgZWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRleHQgfSlcclxuICB9XHJcblxyXG4gIG9uU2VsZWN0ZWRTdWdnZXN0aW9uKGtleTogc3RyaW5nIHwgbnVsbCwgX3ZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGNvbnN0IG5ld1ZhbHVlID0gdGhpcy5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyh0aGlzLnNldHRpbmdzS2V5IGFzIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMpIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz5cclxuXHJcbiAgICBpZiAoa2V5ID09PSBudWxsKSBkZWxldGUgbmV3VmFsdWVbdGhpcy5zdHlsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5XVxyXG4gICAgZWxzZSBuZXdWYWx1ZVt0aGlzLnN0eWxlQXR0cmlidXRlLmRhdGFzZXRLZXldID0ga2V5XHJcblxyXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7XHJcbiAgICAgIFt0aGlzLnNldHRpbmdzS2V5XTogbmV3VmFsdWVcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZXRUZXh0T3JOdW1iZXJTZXR0aW5nTW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcbiAgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXJcclxuICBzZXR0aW5nc0tleTogc3RyaW5nXHJcbiAgc2V0dGluZzogU2V0dGluZ1xyXG4gIGRlZmF1bHRWYWx1ZTogc3RyaW5nXHJcbiAgY3VycmVudFZhbHVlOiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyLCBzZXR0aW5nc0tleTogc3RyaW5nLCBzZXR0aW5nOiBTZXR0aW5nKSB7XHJcbiAgICBzdXBlcihhcHApXHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlciA9IHNldHRpbmdzTWFuYWdlclxyXG4gICAgdGhpcy5zZXR0aW5nc0tleSA9IHNldHRpbmdzS2V5XHJcbiAgICB0aGlzLnNldHRpbmcgPSBzZXR0aW5nXHJcbiAgICB0aGlzLmRlZmF1bHRWYWx1ZSA9IERFRkFVTFRfU0VUVElOR1NfVkFMVUVTW3NldHRpbmdzS2V5IGFzIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXNdLnRvU3RyaW5nKClcclxuICAgIHRoaXMuY3VycmVudFZhbHVlID0gc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ3NLZXkgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcykudG9TdHJpbmcoKVxyXG5cclxuICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIG5ldyB2YWx1ZS4uLicpXHJcbiAgICB0aGlzLnNldEluc3RydWN0aW9ucyhbe1xyXG4gICAgICAgIGNvbW1hbmQ6ICdcdTIxOTFcdTIxOTMnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBuYXZpZ2F0ZSdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnXHUyMUI1JyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZWRpdCdcclxuICAgIH0sIHtcclxuICAgICAgICBjb21tYW5kOiAnZXNjJyxcclxuICAgICAgICBwdXJwb3NlOiAndG8gZGlzbWlzcydcclxuICAgIH1dKVxyXG4gIH1cclxuXHJcbiAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSB0aGlzLnNldHRpbmcucGFyc2UgPyB0aGlzLnNldHRpbmcucGFyc2UocXVlcnkpIDogcXVlcnlcclxuICAgIHJldHVybiBbLi4ubmV3IFNldChbcGFyc2VkSW5wdXRWYWx1ZSwgdGhpcy5jdXJyZW50VmFsdWUsIHRoaXMuZGVmYXVsdFZhbHVlXSldXHJcbiAgfVxyXG5cclxuICByZW5kZXJTdWdnZXN0aW9uKHZhbHVlOiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgbGV0IHRleHQgPSB2YWx1ZVxyXG4gICAgaWYgKHZhbHVlID09PSB0aGlzLmRlZmF1bHRWYWx1ZSAmJiB2YWx1ZSA9PT0gdGhpcy5jdXJyZW50VmFsdWUpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQsIGN1cnJlbnQpYFxyXG4gICAgZWxzZSBpZiAodmFsdWUgPT09IHRoaXMuZGVmYXVsdFZhbHVlKVxyXG4gICAgICB0ZXh0ID0gYCR7dmFsdWV9IChkZWZhdWx0KWBcclxuICAgIGVsc2UgaWYgKHZhbHVlID09PSB0aGlzLmN1cnJlbnRWYWx1ZSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoY3VycmVudClgXHJcblxyXG4gICAgZWwuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRleHQgfSlcclxuICB9XHJcblxyXG4gIG9uQ2hvb3NlU3VnZ2VzdGlvbihpdGVtOiBzdHJpbmcsIF9ldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgW3RoaXMuc2V0dGluZ3NLZXldOiB0aGlzLnNldHRpbmcucGFyc2UgPyB0aGlzLnNldHRpbmcucGFyc2UoaXRlbSkgOiBpdGVtIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZXRCb29sZWFuU2V0dGluZ01vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xyXG4gIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyXHJcbiAgc2V0dGluZ3NLZXk6IHN0cmluZ1xyXG4gIGRlZmF1bHRWYWx1ZTogYm9vbGVhblxyXG4gIGN1cnJlbnRWYWx1ZTogYm9vbGVhblxyXG5cclxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgc2V0dGluZ3NNYW5hZ2VyOiBTZXR0aW5nc01hbmFnZXIsIHNldHRpbmdzS2V5OiBzdHJpbmcpIHtcclxuICAgIHN1cGVyKGFwcClcclxuICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyID0gc2V0dGluZ3NNYW5hZ2VyXHJcbiAgICB0aGlzLnNldHRpbmdzS2V5ID0gc2V0dGluZ3NLZXlcclxuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gREVGQVVMVF9TRVRUSU5HU19WQUxVRVNbc2V0dGluZ3NLZXkgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlc10gYXMgYm9vbGVhblxyXG4gICAgdGhpcy5jdXJyZW50VmFsdWUgPSBzZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyhzZXR0aW5nc0tleSBhcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzKSBhcyBib29sZWFuXHJcblxyXG4gICAgdGhpcy5zZXRQbGFjZWhvbGRlcignRW50ZXIgbmV3IHZhbHVlLi4uJylcclxuICAgIHRoaXMuc2V0SW5zdHJ1Y3Rpb25zKFt7XHJcbiAgICAgICAgY29tbWFuZDogJ1x1MjE5MVx1MjE5MycsXHJcbiAgICAgICAgcHVycG9zZTogJ3RvIG5hdmlnYXRlJ1xyXG4gICAgfSwge1xyXG4gICAgICAgIGNvbW1hbmQ6ICdcdTIxQjUnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBlZGl0J1xyXG4gICAgfSwge1xyXG4gICAgICAgIGNvbW1hbmQ6ICdlc2MnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBkaXNtaXNzJ1xyXG4gICAgfV0pXHJcbiAgfVxyXG5cclxuICBnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyh0aGlzLnNldHRpbmdzS2V5IGFzIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMpXHJcbiAgICBjb25zdCBzdWdnZXN0aW9ucyA9IFtjdXJyZW50VmFsdWUudG9TdHJpbmcoKSwgKCFjdXJyZW50VmFsdWUpLnRvU3RyaW5nKCldXHJcblxyXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zLmZpbHRlcihzdWdnZXN0aW9uID0+IHN1Z2dlc3Rpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSlcclxuICB9XHJcblxyXG4gIHJlbmRlclN1Z2dlc3Rpb24odmFsdWU6IHN0cmluZywgZWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgICBsZXQgdGV4dCA9IHZhbHVlXHJcbiAgICBpZiAodmFsdWUgPT09IHRoaXMuZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkgJiYgdmFsdWUgPT09IHRoaXMuY3VycmVudFZhbHVlLnRvU3RyaW5nKCkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQsIGN1cnJlbnQpYFxyXG4gICAgZWxzZSBpZiAodmFsdWUgPT09IHRoaXMuZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQpYFxyXG4gICAgZWxzZSBpZiAodmFsdWUgPT09IHRoaXMuY3VycmVudFZhbHVlLnRvU3RyaW5nKCkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGN1cnJlbnQpYFxyXG5cclxuICAgIGVsLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiB0ZXh0IH0pXHJcbiAgfVxyXG5cclxuICBvbkNob29zZVN1Z2dlc3Rpb24oaXRlbTogc3RyaW5nLCBfZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xyXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7IFt0aGlzLnNldHRpbmdzS2V5XTogaXRlbSA9PT0gJ3RydWUnIH0pXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTZXREcm9wZG93blNldHRpbmdNb2RhbCBleHRlbmRzIFNlYXJjaEtleVZhbHVlU2V0dGluZ01vZGFsPHN0cmluZz4ge1xyXG4gIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyXHJcbiAgc2V0dGluZ3NLZXk6IHN0cmluZ1xyXG4gIHNldHRpbmc6IERyb3Bkb3duU2V0dGluZ1xyXG4gIGRlZmF1bHRWYWx1ZUtleTogc3RyaW5nXHJcbiAgY3VycmVudFZhbHVlS2V5OiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyLCBzZXR0aW5nc0tleTogc3RyaW5nLCBzZXR0aW5nOiBEcm9wZG93blNldHRpbmcpIHtcclxuICAgIHN1cGVyKGFwcCwgc2V0dGluZ3NNYW5hZ2VyKVxyXG4gICAgdGhpcy5zZXR0aW5nc01hbmFnZXIgPSBzZXR0aW5nc01hbmFnZXJcclxuICAgIHRoaXMuc2V0dGluZ3NLZXkgPSBzZXR0aW5nc0tleVxyXG4gICAgdGhpcy5zZXR0aW5nID0gc2V0dGluZ1xyXG4gICAgdGhpcy5kZWZhdWx0VmFsdWVLZXkgPSBERUZBVUxUX1NFVFRJTkdTX1ZBTFVFU1tzZXR0aW5nc0tleSBhcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzXSBhcyBzdHJpbmdcclxuICAgIHRoaXMuY3VycmVudFZhbHVlS2V5ID0gc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ3NLZXkgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcykgYXMgc3RyaW5nXHJcbiAgfVxyXG5cclxuICBnZXRTZWFyY2hUaXRsZSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdUeXBlIHRvIHNlYXJjaCBkcm9wZG93biB2YWx1ZXMuLi4nXHJcbiAgfVxyXG5cclxuICBnZXRBbGxTdWdnZXN0aW9ucygpOiBLZXlWYWx1ZVBhaXI8c3RyaW5nPltdIHtcclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zOiBLZXlWYWx1ZVBhaXI8c3RyaW5nPltdID0gW1t0aGlzLmN1cnJlbnRWYWx1ZUtleSwgdGhpcy5zZXR0aW5nLm9wdGlvbnNbdGhpcy5jdXJyZW50VmFsdWVLZXldXV1cclxuXHJcbiAgICBpZiAodGhpcy5kZWZhdWx0VmFsdWVLZXkgIT09IHRoaXMuY3VycmVudFZhbHVlS2V5KVxyXG4gICAgICBzdWdnZXN0aW9ucy5wdXNoKFt0aGlzLmRlZmF1bHRWYWx1ZUtleSwgdGhpcy5zZXR0aW5nLm9wdGlvbnNbdGhpcy5kZWZhdWx0VmFsdWVLZXldXSlcclxuXHJcbiAgICBzdWdnZXN0aW9ucy5wdXNoKC4uLk9iamVjdC5lbnRyaWVzKHRoaXMuc2V0dGluZy5vcHRpb25zKS5maWx0ZXIoKFtrZXksIF92YWx1ZV0pID0+IGtleSAhPT0gdGhpcy5jdXJyZW50VmFsdWVLZXkgJiYga2V5ICE9PSB0aGlzLmRlZmF1bHRWYWx1ZUtleSkpXHJcblxyXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zXHJcbiAgfVxyXG5cclxuICBkb2VzU3VnZ2VzdGlvbk1hdGNoUXVlcnkoa2V5OiBzdHJpbmcsIF92YWx1ZTogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSlcclxuICB9XHJcblxyXG4gIGRpc3BsYXlTdWdnZXN0aW9uKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgIGxldCB0ZXh0ID0gdmFsdWVcclxuICAgIGlmIChrZXkgPT09IHRoaXMuZGVmYXVsdFZhbHVlS2V5ICYmIGtleSA9PT0gdGhpcy5jdXJyZW50VmFsdWVLZXkpXHJcbiAgICAgIHRleHQgPSBgJHt2YWx1ZX0gKGRlZmF1bHQsIGN1cnJlbnQpYFxyXG4gICAgZWxzZSBpZiAoa2V5ID09PSB0aGlzLmRlZmF1bHRWYWx1ZUtleSlcclxuICAgICAgdGV4dCA9IGAke3ZhbHVlfSAoZGVmYXVsdClgXHJcbiAgICBlbHNlIGlmIChrZXkgPT09IHRoaXMuY3VycmVudFZhbHVlS2V5KVxyXG4gICAgICB0ZXh0ID0gYCR7dmFsdWV9IChjdXJyZW50KWBcclxuXHJcbiAgICBlbC5jcmVhdGVFbCgnc3BhbicsIHsgdGV4dDogdGV4dCB9KVxyXG4gIH1cclxuXHJcbiAgb25TZWxlY3RlZFN1Z2dlc3Rpb24oa2V5OiBzdHJpbmcsIF92YWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgW3RoaXMuc2V0dGluZ3NLZXldOiBrZXkgfSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgTm90aWNlLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIGFzIFNldHRpbmdFbCB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwiLi9tYWluXCJcclxuaW1wb3J0IHsgQlVJTFRJTl9FREdFX1NUWUxFX0FUVFJJQlVURVMsIEJVSUxUSU5fTk9ERV9TVFlMRV9BVFRSSUJVVEVTLCBTdHlsZUF0dHJpYnV0ZSB9IGZyb20gXCIuL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9zdHlsZS1jb25maWdcIlxyXG5pbXBvcnQgeyBCdXR0b25TZXR0aW5nLCBEcm9wZG93blNldHRpbmcsIFN0eWxlQXR0cmlidXRlc1NldHRpbmcsIFNldHRpbmdzSGVhZGluZywgU2V0dGluZywgVGV4dFNldHRpbmcsIEJvb2xlYW5TZXR0aW5nLCBOdW1iZXJTZXR0aW5nIH0gZnJvbSBcIi4vQHR5cGVzL1NldHRpbmdzXCJcclxuaW1wb3J0IHsgVkFSSUFCTEVfQlJFQUtQT0lOVF9DU1NfVkFSIH0gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvbnMvdmFyaWFibGUtYnJlYWtwb2ludC1jYW52YXMtZXh0ZW5zaW9uXCJcclxuaW1wb3J0IHsgUGx1Z2luRXZlbnQgfSBmcm9tIFwiLi9ldmVudHNcIlxyXG5cclxuY29uc3QgUkVBRE1FX1VSTCA9ICdodHRwczovL2dpdGh1Yi5jb20vRGV2ZWxvcGVyLU1pa2Uvb2JzaWRpYW4tYWR2YW5jZWQtY2FudmFzP3RhYj1yZWFkbWUtb3YtZmlsZSdcclxuY29uc3QgQVNLX0ZPUl9ET05BVElPTl9ERUxBWSA9IDEwMDAgKiA2MCAqIDYwICogMjQgKiA3IC8vIDEgd2Vla1xyXG5jb25zdCBTUEVOVF9IT1VSUyA9IDE1MFxyXG5jb25zdCBSRUNFSVZFRF9ET05BVElPTlMgPSAyMzRcclxuY29uc3QgSE9VUkxZX1JBVEVfR09BTCA9IDIwXHJcbmNvbnN0IEtPRklfUEFHRV9VUkwgPSAnaHR0cHM6Ly9rby1maS5jb20vWDhYMjdJQTA4J1xyXG5jb25zdCBLT0ZJX0JBREdFX1VSSSA9ICdkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdScm9zQUFCWFJVSlFWbEE0VEs0c0FBQXYxd05ERUwvQ29KRWtSWFVDYnZ3cmVrZk0vQllRc3BHa0hzQ053L25idmNBemFodEprdWU3Ui9HbnViVUF5a0RhTnZGdjlyMkNxVTNiZ0hIS0dISUg3SDlEZU95bkVZWkhDS0ZPajFuZU1mWFowU21tVXp1WWdzNlAyY0gwZmp1WTExSkJxNWhPN2VqVkRxWlRuV0oyOU9wKzF0d2xSWXE2cnpMSFo2ZElrU0pGQ25qYi9tbFA0MWpiakt6RzJKalFLQWlSVVRyei9KQ25OYXNuSzNNbW5uV20wN2FPUnRneXlIcEEzLytyMkJpT3F2cFhpZlcwYlJIOWg0WnRPOURxbFV1WjdMU1J6L2Q5Sk92OE9mcy9pU1paektQWmRIcjl5a3luc3loZUxFR3dmRDZrNldUdmNDWjdoL00vWmZITlo5ZWpjT0J0aHFQSkxKYU1Mb2ttdzhEcmFLNm04ZkovdE1KR2s1RlhidmZMLzdOWWdqeVlYUVhFZzVuRS96UDEydXc2R1BDYVlCUWxyRDV2Unp6SGNoWDlWd1RMT0pwY2o0YmhpeG1PcmlhemVJRkltaDQ0c25BMG1rem5pMU1SOFNRY3lKamhaTUYxWENQR1F3bXZrLzlxbERLaFoxa3lqV0ZPVnZObjB0VDd5RTVBbjJBZ2FjSW9ZUWpQZmx3alE0SXZreVJaeEhFOGoxN01iTHB2SnRkU1puckFSSHNtZmpIUFI3YTBySlJCcCtsaUt2RVlYcDl5SHNselpwYzMxekYxVGVZa3BmVGtzWWlqYVBaeXVoaTlFS1BCUUpWNUlhMUhMNmVjYUI3SGlpZ2w4ZlFTWEMvZ2k3SHdCS2tQaXRMbFdQbC9Gc2dkaVo2VFNCdzlWeXF2aHVIQUdCTStuMTJtczduZVUwdDhoVTdUTGQ4Tzk0cVdFMjZGb3dUSFhvbUhrdFFIK3RzdEY5SHMrdXFaRmpEUUJLT3JhUlF2RFN0bXdnaSt4aGxHSjlrYTlzcnlNK2tqZVl2TFYvWmhRdGtZM1VRTmR6b1pzMzhrVndrOGNYcWRuSmhyNGw5N0RKQnB3d1R4dGNsd1lLWlJ5NTJXU1pGdjRhdWNZWFJhcmttbnF4bEcvcG1CZmR5eloyMmZQakNqMlFJWml5SDRtVDhaeWRHTUp4RWlwbHdsbmE2V1Z5Z0g4aG1VejZCSFRIZzlod0pJSVRCaktzY2tQK3FyNWNtRHhldDhoZTJaQUZXY2h3bTB3TUgycWdDa3gzSUVmdWFmQjhJSjhNUllJSGhvQXR5Yll4WWhDb3pxanQxR2w3N0lRanExREpjY2U1MlVpejhQRFRyVUlnQTdqb1U0VzltK05Xa3RReURNQSt3ei93emgyeCtkTVBoTUMya2F3QjNIb2wvajFpdDhtbUdUZE1rSWhNbHpzdWlxYWhJdDRTMlNJdUJlTkNPTXFOOWkxOVhtTUNYTTdEVEI1NEhsWkc0aVdaL3Z5WlVJeHdMVXZjSEoweUE1VllMMTBjSlRrenlKQXJ3RjR0WVN5ZE1USUl3Vm9wTzAyN1d2eks1THdmRDZpTHBVbkFuTFdKTThiZDd1OC8zREI2MTd4NjlPNnllcEY3L0FLOTNWMjJMbDdvNGF0eTdLWmllUHRLMGVEaDlTdHQ3V0xBZnptWWp2NmJTeXdEcjZ6ejNaZ0VCZUo4WmJMUUxXM0Y2NE81ckoxdHMyRmZTcDFwbmZ3YmpIbHFHRXdQSHROMm1iYUdHRFZQY0dyM1YrZHBMRnYzdko3VXhtWFhVaWFOZWtRM0dQSFpsWDAydWNTZDFhZ1VzVzJ6VlZ1UzJLc213NHlwS1JUSzB6M2UwZjJiYXN5VWVXbkJLV0s3TnYzUjJ2V2RXZHdCclpVRmRHbkp6SlhqZHZCVENtbHpKUHgwcVpGWjJtbTdFVElHbTlYWEdXVnRlbmxVMmYvSHc0OGovdkdzQ1J6SFJyQjZUZG50bTFCMHhUczVuMmlPbjJqU0VpaTdmMENwc0FUUmNrckRaOVd2c213TlBuNWM4Wjh6cjBTcnBsT3hCWGkzc3R4Q3VwWGRlMmRWMlZaVkVVRCt2MXlqbVgzZUdhN1Btb1Z1djErb1h1TGF2NlJkd0JVYkdPbUFOUk0zc21rK0pHcjVoSndpbCs2LyszVGs4bVcrK3RnYS9zV0ttUWg0N2loUnBIMnJWMVZSYkYycms3RTh6ekdlYmhwWHJiZGpwNFdpRUpGZTFNbWxXVVB6ZytZTWxuSytMbjcvMjVCeWRDQXhPR05ZQTg5TVNBaXJta2RUdEtPbVZRcm1ZWEk1YkZ3ek1aWUpqSlZ1dHQxZTVFUWtINGRmUnladDBSanZ1NUhPTmFrMW5pazBCZVRqNVp0eXVNZ3Eyam91US9rSXJnNEtocmRmWDJXZVJncUZrOVZOd3l6WEFCNEZkbm9na3UraHlqakhHcEp5YW5naG9NUzBrQTdsbENIVWNNWWRQNnNHYUFxVUczVFlxbkVCWktwNWJNbjRTaE0xZGF4MVVYN01kTlFJbm9FMUpKdVNWYXBHWEVZdm40eWxhLzFESUsyb1Q5SHRrcUtEc2htY1lqMytmY2VQN2RpOTdIRlpHSHRnSkw2Q25CQ3BuYTN4RzI3YjJaUkQ5UmI2akZpVDRKU0padDZTVFF2UDd5NWJ4bS9RaXhERlk5bDJBcWxwMGNwMnJINzh3NHdxL3VURFY4S29HaW1pTmppcFhKOFh5aVZnQVd6K1VKRTN2NlRBWHJXTHFqTldpRWRMcjB4cHlGN2RzclpsM3pMR0w3TU9mNDlVRndpVm9CamlvOFhXTFlPY3dremxIZ1FLVFRxYi9BZ1hHdFA0SnZPL0ZsaEZKbHE0NERqRHh0UFF1VlhzZUlUM1FDSFZsOStEQlEzaS8wRmpqUTJiNzlaRGlpdmhhaEl4ditxbHJLK200b25OdDVyd2VDNG93TGNrMkZzM0dXY2dZZWNvZ1IrM3JsTStwYmdGVFpIaG0xRlZZdzVPS3N6LzJ3ckJ4VHRzYVV4azhGT0pNbTdJWDhWVC9SMzVUdVFwUUJMVjhjT0tYS3BNY1JFckNGVHQwUEhpNmlNL1M2SUJJdlo3S0gzcTZXVW93WlVVc2J1VjBBYTUyNzA2S042RnVTeFRidFVSZlRXWXB4SnZ0N3B3V3Yyd2tuTjB5QmJ1MkZpeE5FSGIyRUYvc2NkVEdkeUlNenlhQWQwUE9lWWNJcU0zZnlhbzZBQ2I0OEthSWEweXk2NDZFS0F4akp4RWNSaHZ3eDk3N25rSlB2VTB1elZqRlR3UGFVUUtRNWY2MHBNbk9jQ3VPUUxERS9mdVI5NmJuampuenNIYU80TEJReXdSZCt4M0ZxN05PcVNOamR3VzBFazNLOE1MWS9maFZ0K2VZK0xaSFFzdjBhMk43ZCsrSEVjRHVuSzFsM0dFZFJNVENnSW9JMVhRc2RyM0lkSk1Ta0NaRlVVcUlGcEJWUEM4WFYxQ2toUkwzMmhpUCtJaVpCNHNPZGVRYTFaUUJYTTUwaFhuMnBJdG9URVc5SmI2aGpFNnRTN2VnYU1XODU1SWk5R2tYSEpqMWZFRnpCVFNyVEZHK2pwMTBZRnF1NG5ETy91NE45NFpwbG54S3NyOUpQK2JNcDlzMm1QR3BxWDFPVlBtWlR2REw1bm5IUEJtMWg2eFY0RE1qZXpNaXlrRk13eUZ2L1FPcXFseG1Ldkk3YTdIZU1KeS9QM0tmN1lsTldMNzJOZS9VdWp0c2wrdTZsRy9TWDgwMmV1d3gwdVdLb05IWENLV1ZIMTF3QWs1djNzNnRlMXJSNmxVbGdxQTYvMUhSRSt4NGthN2k4S0t0bTF3Mk1NT211YmFxeXlKM1lRbStuTXljUWtvQXZOS0FwYjhpWUMxK2JaUS9FQXVLSFFBbnVVRkFTTVFiZ1RHYjVwbXE2Z1YxbTEyenlEQ1d5a0U1ZFNST1NoZmVKSFpSU3ZHQVltK2ZrZWhRZUxWbkQ0Y3RRVisyKzI0M1EzMCtST1NDang5MHhPT1FLMDBTZk52WGhmUzBMeXR4eDY1cGpsd0N5eEhHNHlUM2xiVyt5aUNaWERCZWFHVjVaUEdENnlBS05ydzRmQTdKYjg5QUhSWjBPVERWZGZTOHZQdytXdnRzdy9GVllpZTZLcjQzd01wN3dEdU14R00xaVV6SDBUWTEzL1lSRWtDYktHMnQ4MlBwYnYrZVVZZE55NFJnMGFYcVJYQSs0Q1cvdU5USjZzYUZ3R3Q5SFl0NDNrS2FKc3ZJSTFXL3Q3bzZwRDFtcUU0QUtKQnRVR1dmTm9PbTRqT2wzeE5JSE4wTXc5dDZucCtEdDB0ZlNnZTJtelhuNmtLVTVNU0cwOUk2b2JYTTc4b1ZHRHZqMG04ZlM5d056S3JGVEVDU1crWkR6UXlFTUQxNXdoUEYzL01vY21OUC8xcXZPQ2Z2S0JlQUl3c0lvTVM0MGdvdkRPTzJnSXhLa2liSm1ZS21SN1h5bUpUa2hLa08zOEpMODRMYjh4eHpEbzIzQlI1NVlhY09ybzBYV2h4blNZblk5NGN0eFZXVWhyNER3ZlRrQXJJOEJwbkZ1NTYvYXM1eUZpTVA5TWJiejAxWmRhNmJEbFE1b2JZakkxK1hxSmFnSGQ5b1NsTjBpMkxTNTRtd1hJSzhFc0h3OWhNZmVYSm5aMEZCeWZmQndzYlVoUnZ6bDNkUEFUb1BScmVqT3Y1M29wUjgyQ0hESDFWYUI5NzZBSHBobkdOa3BOTy9VZGl0UUFiTnJwaFNhcUtiYmZ2RjBJdXB1Qzk5WUhRUTgxU3BCZTdnTzBBZmZadVgyb3pvMEI2b2R3Tm9RbE8yY1pIdklwUGNTdTB5UFN5K1FoQ2FRbktSQzY3RDZGalp1TzNYb1hxZjJERmdiZ3JDOUkrM1JUMllqNEFRelAxUVlnR3gwM3lrZVM3b3hlOHZIakVheDU3Q3ZEQ2dhQW8ra3EwUDNsQ2tGbkFCWUQvSXdneGdxdEZiUG1YM0tNTGs2VkljS0greitqZWVleUdnRlRsK3RndVRHT3d3Z3RsbHNsUSsxM1E3TWZVTnIzRDZ3aWJvOUlTakQxSDBYaUo5dDAvS2hCUUVnSTJtbGZpU2NkdWlreTI1amttejNDQ0liUXNpaEh4NFkvdjVlaW15RmNOM2NEUllxcUI3NnRKdVJGWjZoRGR1TlRQSERYYnduL2lLSGxKSXdlODEwR2ZPRjdvRVRaeWJZTTR0aHBVQTROd0VMRzdZZFZqcDFIZmNyRGNIdE9WUEx5eFJUckNTM2hyc203QWtRS2hMZGhrMERyYnhMZUdYaVdjWHRWNWVubnJYVzlZcUQ2MWY2WHZ6K052YUgycnBldlI3UzdsNkhtS25Gb2NZbTZLNFdRb1FscFhqbmxwcTd2blZaR0tNdEhWRG5nQlVjWGRySmZRdHRWYXd5MGwwMlZHMXE2OXNPL1pDeCs4RVI3RHR4ZGcyaGNlakFDenVDMjMrbWt0N01rVGkxRHJob1loeWFKOTVRT0lQWUlxbDVDK3N5NXR3TllJS0tDRHlNbWlBejcwSGpoQ1ZVR1JDOVhzSVdUV3czMnJCaVB2K1ZmR1BQbkJuVW8xcWxERTkrUFdIaUphaGtMeVJyWFdkdE0wVmZGYy8xMFRYamZSZlZza1QwRHFhZEVaaGZKZUNUeVF5OWJXZGc5Rk1EWW4zMFRLd1pHaGYyK293UWN1V2RNazJtNXc5L1dkbERMVm5VVnl4b2dIclVXZDFwZll2MFNmQ0lWM1ZuM1hJSitRckdCUzRxc1JpSlY4RzVaSlVTN2NUdzVaKy8vK0hIbjI1dWJuNzg0ZnMvZjhXSXI3NTUvK09QejMvdFR6KysvK1ozWHdpaGxCaUhhU25Lek43QVZQNkVxRktHeEtKaEVMMlBIY3RpVE1pZHJ2VlV4L2lvUThxSDNFTHQvZFgzTng5dmo1aVBQMzM5SlFOKzkvZmpmKzYvZnZ5endFdWRKK2ROS3BKTVVjaTd0bE82VDd1R1lEVzJoaTFMTFZKem1mYVhqMUJIRWUyRGxTQzVGOEFYZi85dzYybCsralB4ei8zK3h2L1A1Y2FqREFPcjRIb0JtcGpjUFVMdHc3Mm1ZK1d0S1NFM2VwQlZ4QXdDWkVOU3h4VWJsRmQrOS9NdHhmenlOZVVrOUpIMjUvSmlKVk5IYjdtRWk5REVKRlRoVlV1dGlVZGoxREpURUZLMGY5RU4vNnRrTjJiOWtGdnV5dnhlV1U5YjhZM211NzAxbEJYSzl5R3l1ZFVUMGtINThRNmdYTlBLVEIwb25HbU52djQ3b0J6R05hMGxySGVHU25ueFhOZ3ptQis4ejBJTUp5SStTSldmRDNLUzg5S2lVWHl3Q1N2MGpZUXoxcmtuY2tpTTYvSFVEbU1BWkFsTmxvZ1E4c3QvM2Q3ZWlwd1ovdmJ4bHNmOG5RMVNkL0ZSeVFWOFFBR2tIOC9ZbUhWNUJva1ZlelpxMXBpKy81d3REdEp4VEdsRTBZNVhHOGFmaHVjeXYvNzVDUDV4dTJkNFBEa2hVT3AzY2dIdEdZYlhsc3RYNjBnNEZTSlFxZVdXRlFjcXpUQ2Vxd01ISWpBOGhsWmVVdk9QVzA3ejlVSDhlSHZMdUh6RkJwa3czam1NNFlwSjl2aWxMSEUrZ011SktXWm9SRnlGdk1Ta0xqNlJCcG5RcG5EWHFYTTEyNDBKanppSm9wSVBQOTd5bW04UDhOOXZibG5OcjErTEkwdjU2ZmlhakowNVlBbTBjNHJaQ3AvcGl3dHp6M1IvWkNWbGtYL0tEby9VNkg1ejRLN3YrRmRJS1NIZlMvazBQeUlxYjFFTnJ4VlovWm4vNzJXQmxMT1JPcUUyV2lIYThxM080TWxmV2xyOTNJUytFaDNXS1RzRnVhL2l0TTU5djhQTlhsV0NqZlE2NTJRbk4zeXY4cHV2WHAyRytNM3ZwSkZSc3BsVUJhZ3lCc1hBQnJuQmt5RVJ6SVJyYk1vYVZuYkhheFZaWG5Md0I4SkVDaTIvNVdTK1NmMjl2MzRsWGRGdS9kRks2Zmx0ekgydlIvVTh3NkVCcmNnNmJJaEgyelpsdVRkbXdwcHRjRmNMT25PeUVNV2Zia1hNelRQbi9sYkUvUElGR1dKSnZaTVNuT2RHQmRJL051YUhsQktHYTQ1Mlg2Wm85MnAwd0Z5OW1qUEZCS0h6cFJhaE1ZOHF3NnRqTk9CRXh5TXYvMFVHdC8vKzVVZWh2L2RHR0N2MnY5ZVpHbGZGWUZjbWpGMDNKazRCSDhQNHRvSVI2L0MyTGpIUnFnSTlCbXo4ZUN0bGZybVZNdC9LNGk3bGppcXpOSzR0ajdWZ0NaZUVLVDdsbms3QnBkUWx3V29BV0dLeDhmV3RPdlBybDdMWXZZQ1ZQVXZtc3BnU2lNZnFXamk5bGxKenZ6cWN4Q0pxYmlVQURMR2k0UEhUWjI1a1VSTW9lUm0wcHNUQWFOWHN3T2NWWHdXaTB6Skg5RGdIaFIwV0hQKzQxV2grSjRxU3dIbVRRVzBJZGd4dnBMQSt3aE1oWWN3T0lETW1IR0JLVGxvekxEaSt2RldKRzFGc3dWQWFHa09wVWptSHhENEdHd3JUVlF5cXZtcGFoOTlCZENZTmxuMTBPcElvd0xDeFU3K3R0S1ZKVzdERW02TEcwZXNWRGhMa0FRMTZoeUlCajErVTRzWU81RmJnZm1DVStueTJJKzJ5L0F4eGJBNDhGWXU4RDNDeFBKTUhSeXhhSFRPd3NyTHhXT2ZNK1VBV2tEUFY5WFo1ZEJKSyt3Q0V5UjdBeDQxYS9HQUdNanZVVmhsUGUxWkVQaHhoVXNVdk94Mm9XZlFaQmpNRTBFT3J4YTlmV0xHYkVmZll6R0JMdS9pSWdKNEg3cmU2NXpENEhBQU0yM28zNVZCaG9iTUJMVU1nNVNjN2JhUnhzamRyYmVDb1ROZ05Qc2lOWXZ3Z2h3WUxPeU8xMGRVRU11SzZjbUVTQndOMGxEWkVsSURqbzJMOEFxaS91aEpCYTBzUERzUmJxK3NuTC84QmdQVUxLTnI5MFBqanJXYnpCUVBZMjQ4NGtmWW10WW0yczREdG9NejBFN2p1K1NiQXdmZXE4UmNwck1IYWgxWW05bnE2NTZmYzYzUkN0ei9IZFczYlNVVitqdE9mdzMrb3huZFNxTmlMMDdVTjZxdXlRK0NxVEdBb25rSjRtZHpPNHpQZnhSQUdHRGVxOFNNZDdJUlBLNE5DTzNLV3NzZVpJTmZ2R3hTQVBrWG1XWEVpejZEVGlBY2JHWHhRamY4dmhEVi9lYnBsdjhpSTJxYlYxdDNyZjlVemVHalp4K01rT1lWQXJtYnd3dXd2OFZZMWZoRkNqZGEvY1c2QnRiRy9pVXdpLzNYN2xkelh0enJNUFdlS0t0S0tXejlzcTZaTjVmR1VpVTZVNDdLWGNDc0RKNURNR2lxMEs2TWI1RUlNN0xWcnltTGwvT2RUOERrVGkrZmhWQ3F0RUFmY0pSbVBFNTRveDg4RVVkUHd6aWl3ZEhvQU5Qd1BwL3h5blV5dXJVN0xOYUd6cTBlZkd6TFZQc1Y4NjIzVGlhRGtTbUVOMitUQ0R2c2JXNXBtaTdYTlRWdzM0SExOY1BDR3dyVGE4bWZnOW1tbGJRNzRrRHFiZnVMYVpkVGJjTFNjSjlSdHVXN0w1ZHJoY0hDdFJNYkF4TXdWMHpaUmREd1NFb3lKY21UbzliVVA0VG9KU3Y3ZUtyaHVZSmpybllBeGM3dDc0aHZvaDZxSm9tTzBJQlBsS0lhS2h0OFlCU2VUQjFzaHlWQm4xeHU5SG11MUpWaWpYb0hRMWJocndoOEZvajVEeGRLZzdKSVRwV0c3L2NyT0c3OVBaVXJVbGdyOTFxWk9Xdm0vd2ZRQllEZ3RtbWF0alkvQmh0aTJiK2VMeWVHckpiSENZbjJZV21id01FNm9Pcm96emc2Y0xkamlLdUs1blVXejF2WklUeHBiSEhGcXNCUzZDdHFXaVAvY2h6bGRKcTRraGhsU1N6V1ZhTlduVmFackpWZ1g4UzdENWhta2oxWXhYaXFrRS9KVUNBVVIvMCszWGpyak5QWGxWU3BYb2xhS3dYbTNJM1pPRjFYbHozcEFYcnFWNXRObkExaHZiUDB2N2lBeVhwM0NzblprdEdMLzlRN1pwMDJkaWxhQWQyUVlwekcyRjlxVXdOQ3RZVnFUMnRyVWVCVXpsNUlqbnVJMGoveEdOWDVQbmpvVjN0OSt3b2sxZ0txMVdydENTMXhCZFkzZFowVHF6THFpVTQxMlF5R0krSzFxdkZOeHh6QmJPbFJiaXdlMFZrRi9iMnVUNmo5WkI4ZWh6RkpxNEloVEw5dloxYS9hQjZnV2VvVHZkOGNQdlNQQjhVNUk1bTEyRHZ0a1ZkbWxLN0NGSzA1aTRpMFBDZUZHTVg1Q1FzblhEd0Z3a2hXYTlHbU9BVExadDduRlp2TjNtVjBzU2xsWkJuRnpEalJNaFBlSzhRMVNiMWFTSGMrWEduVldUZHliNzN0TUhYYlY2TkV1bWVLak1BK1FOcTBlTWRBd0VmNW84eXVNcWJxekJpa3puRVVvc0d0UEdYUlRHMkdDSFl0K1dSTTNGNnpkZG5ma0YzcmdsUzJwL3l4amNQZkFpNTFOazNvTDNobEdheEtabE9IeGduWTBsWmpFRDdrL2pKS2MvNENEU3JiN3psSi85MlRtempocWgxMlNGemExakcxOTZUZTB3Q09SNFFPMFZtMStCWU9kY0hmYnBXVTkrK2Myb2NKbUtHWTJLUTFzSlZXb1dQbHNyeU5sUlQwZ2J4cTd6U3ZocVZtZ3NLVUpyNUtiZVM5c0FNdGtrMDZuRG8rTjJ0TG1qeXJnekJ2VndLYWR2OEd4MHAxdEZ3cUxIUnRmWWZzdWMyZ3FKTFZMcHBpQ2FrUk5TQjBtVmxJWFZmaU4xcjBWMkx2YUp0eTFRc3FyUnVVdWJDcWtNUVFOWEhwWTAxNFlNWThqMkNLVm1IOXFzT3NCSTJ4NnEwZXIwR0J6MUp4Tm8rQ3Q4SlNLVTVMay9KSjVITUVXQlg2bndONTFuTERwclZaV29jSnVnNWRwNTFZeWxjZXdjeld4b0RUODd1U3F0emRXdTAyR2NPMm5RakZCcWVXdUtNd2wwVlBseWtBODVYRUx5OXFaVVJxU3BYSTN3dk5IbzkyU3JDdHFHTEtPSzZSOUFXdHNzYndwald3QTU2L0o4eUxjRXNPM1R6a2NpOTF1VFIrU2pIcUljeHdhQ0h6YTFMdXU2OW9LNjlvYzRBbzdyVTJqNEQxZUxRTjlZVWhxU09ia0tyaC9OTml0TXZwMWIwM0RYWVVtMEdlNW9ZMjJRQ3pLUzJpMFpxRURxUUJTQWk2WUwzakg0VmlydXRxdUdmVEpPR0dWMTROOGJiU0R2WGVncHVmUkFCY25DVVV4dlJBc2xkN3BVbmI3SU81Mmp5d0RBK09FVlY0NVlyOFJHeFFhcDRjQitOM2RrelRkL0xBaHFWYVpvdXoyRi9FMUhrNG5LNnp5eWlBN0FpOHhzRDBVQkJwTnY2bjJPZEtPNTE2b1JXODgrNE9WKzdScnB2YlZ2TERLUy82Z2dKZWlmN0UrbWh4Z0ExNEwzQWFvNDhFZlRmUnJ0eGxiZHlqOE1FZ3JwaU5CdFBaemo1VzltcjdjV0NOS1BmM0l1RXVhUW96b0hTci9oM1VOVGJxcTRDT0pHd25odTBGYU1hMHdoWDRjV0RQYjViQkYrNTFKS0h4RDRwM3dRNG5iN09icXBlOC9EZkhyRHB1WGFWWXZWcXo1NEdsZ0FhUXFLUndKRjRCTXFoQnFMajYwREtSUXZyTUVwU3pMazdVSm1JVGd2R2JDdTQvYS9ZaHBDY0plbjFzemJMUXREVFdTSDU1YU5YVExkR2RUMzg2MVZFZ0IzZXFFMGhQcWd6QmIrbXN6TkdFYVVEdEl5RENtcFdpSnl3a3NvUlJpSEhRVk9qUHFzc1FyRkt3b0xVNFNQMndvdzIrMElzeDNUQzBqUWUzMHpCNnNCQ0hhemlhRlFnRk5PdVg5MXRMZGthWnNJdUNrR2pPK1d1NE5QUDZkcTJVa3BnMWhiKzBNaTZZQnFVQTI5RzhWaVlsY1FmTXdOMGVnL2F5UHlLSDBGSnhMVFA5TXg0WjNIOER4TTlQQnA2QVpOS0VOOHNjaTRYa0JVcXdOMEc5NnE0TXNrZzBTbkcrRmE2YXNKNElKSmFxVXBNNXBRUVFmdnVCcXppMXFTWDRtNFc0dEN4NmFFUDZtTWpQa3J5RzE2WlVLbTZWelRacUtEU2V2ei9sSEN4UmhOcERYMHJ1ZzNUcXA3bDBBc1dZNFhVTmhnOHp4SHVROW9aWE9Xc0Jma3FJcUFNYXQvYlVCK20wNTR1Qkl3b1FLaTRUbkQ4ajMvd1dGRnZCTHdOMUVZWDgrWUdOSXV0UkloVEJhMXZlbytNaW90aXIxRGVXMGp6WStvOEdtWFhMQlBlbm9GSFF1anZLUnBWWkUyaDJsWGJCL0RCVEtqaTFoUE9ycWw0Ky9aVlErRndwR2JKYzFwUTdlU2ZzdSt0QWlnT1lnNmVlVlJyakhxOWZZUHdZS1pjY1VRNmZ6dlVZcnpoTlo3YWozYjBHRjlsM3d2RlVBMWFrOEJyOWhnM3VjaE5Yd0kwU01XUU91QjhxWER5OFcrSldzSk45dkRYbUtFTlR2Z2dhbklRanE5NVpiZUl0R0tYb3BrcEM2VEN4QWhxUCtYbldUMEF4dURyZkM1TXc0ckxEbDVocHV4bnlENW5mc21LeUlCYkxoM01vYkFsTmgyUTY0RjBDTCs0cHJHZS9KWkdJVTdpbzB0R3hpRHB3RHk2SDVHeXY5VEJkNklnV2o1aGFrZ0IzTWJLcC9yYmNEaHczN3pJeXhQakFyVS8zZGc3UFNjQnM0emo2VURzc09zdnFkN2JCdWxRWlhDdGFnSXlaZEcyeVF3ZHpJelc4L3dPQmY3NEFIZmVFNGhuOFk4VXl0aS81M2tLTFM5UTVZcy9QSTlDQ3ZXclE4SVROM014b212SVJqeTcrOFExbitTWm90UitseU8zLytLSG50MmN3ZkpyMURkUWU3K1FpQWxQWFhKUUNZRXJOdVpjRTZadnNhV2lhSi9GQVJJdVUzdi9rWnB1V1krRFpoR3BmWTdWbEVoeWw5ck5Xd3d6N3RRTE5DS2V6YjR2SVg4VDZOVWd1V25nbUdlQXVFNnFMLytEWC9vVHBHSDA3TE1OZzJrOTZoa1NYUXdWM25PMWwxeUhOWDJHS0VFaEh1Z0NPbFpaTnozaHpaaVN4LytZQWdMc2ZiempldDJEUG1NemNNYXpBKzRwcmtBdmRDVVg4U3lyWk1mVnVXY3Fxc2NDZTVBa3JQeGhPMEZ6YTBUV1ZSL093OXliU0N4Wmk3TDl0VWNxSXJZajlrVmpoZ0diOGg0QUZDbFlOMEQ0bnNQaFZmSXVvSzZPVGhPY1oyblpnUkNkb1c3ZFltM3d2M3RZU3puUmRsN1hITGczUTFHQ1k0S3h4YnIwZEFNUTNmQlVPelQ1c21aZjhkMDNTdEtjV1UrbnRxWklTZGhjdzNIM0NEc1hLcFVvejU2MGc0WUFuVDEwSElxMERsUXlYRFRmYmx0S3FBKy9SU05BaGRqYUlRU2lOUXRFc09EK29Nc2hkd1AvVExPNW0zL1VGb29wZFhPTXpHNmRrWkNUWjFHK0JEcVVzdkVoYnJhZzk3dmMyWHhTR3pLY3U2QnZoWlFOdk5KM0NmOHVWek1RRVQzczBzbGZzYXY1UGx2MlBvcnRiY0NPYStjK0ZEZ1VWYXJJVzhlQWhYNnR1cS85RXBtbzFFVXVIOFdTVDFvQ1VpOWtPYUVlOHhXTVdiM2V4Zitnc3BkSWZ5eVBRWWNkL1poTE05WE83ZmRxZzN5WlFPRERBbDNGZWV2L3I1UWcyQjcwODlWVUQrYWl6dldYMzUzczJMOTR3eEU5VVR5cHhVR1FFdU9Va0RkaXVJN1NOUTVodllDeXFUNGZWdkRHc05MajNKYUJMcEp1cko2aXZtWW15SE1mOGNrbG5sZENnM2NGbzFiVjFoU2FmVy9ZQ3MyRlQxZ2FmN3hpUkV2anVEcG9YM2ZMNTRydVAxWGJMUCtWeDFaNWFUbWZWYnJKdUFDbWIrQnl3Q05kSVNsZGZ5N29iSkY5QXRPS1Zxc2NnY0RacmxyS3hDclErWWFXVnJHV2h0UkZ1T08wRURsYUYvL0RQb1RVUjBPTS9zMzlnTHpaMVp6c1lxN1BvQnBSU2NKc3k0VDJpZCtEZjU3cDlrV1Rta3UyWmJteTZsNWtEVUxLZTJDZ01GdU9oSGRKNmdiOVlVUjk3ODFkL3pYMy9BdmVjWDZSOU1qcUZEQjB0TWhmdUJtQm95aU05bWRpSEhCMzB6emFpTzlIdVMrWFJ3MzVWRCtobjBadWJkSEplek1PQVczemZaZSt5cTRGRmJpTWczTU5GQjNPbm5kOEJWdFZvMkhuVU52OEhTK1lOTmFOQjlaMHhQWTE3VFZ6akNsbG9Hbmc2Nit1RWZqbkhrYjU3M0VvY1RIQ3ZXY0xhVW51dHJ1NmpyeWlhazJEaFlMa1EwejdZWHdORDl5TVR6MEF2NGl0bTdmM3ZsOGZIbS9UdHNEWWNuYXNFeWllVi84TFNWWGJkaXZ6TUpxNEVVSk9wd3lSZ2FyUUZJR1JEN2Z1UXEyZ3U4KzhNZjNzSGNSb1RVb0lvdW9pWEN6M1g2WUJnN0xPdlZWNEpKNHBGS0xub05MTjJGRFgzNVg3YitnSnRyQ1RjWTAzeVlHNXpZNVJRV29ZWGwwdmx5Wm1MdmxaMWE0WCtCanZsUnFSSDd1ZlRKSUZUODdnWHg0U2RsVjB3M0JvK2drblAweGlhelMyR2NrK3B3c2VjaGRRQzFhakVvNkxmOFdHQnVKK3NNL1IwWDc1NElVM0FQaE5xd3VWTklEVUl4OEwwT2ZCSmRpSkg5RENYREZCT3BmamllNlN5ZnNEdHJjK0R1YUhVVnJJZUY1OUxhbnlzaE4xSXBmZkw2OFNOK3cvN2FKYzl6S0IxaFlrREhjSXBPVXE1NFpzWXk1aDliYTJVTVNnRTVTSUwxaXlMdUxDT3hLeU5qalE5UGt2emxSY0JDOFYrT1ovTkV0YTdEZ0VPNGc0NDFVM1lhZVRPM2pmUnFhRlFTa0V1Nnl4ckxORTVTdGVEdVY4T2ptNnQ0UHB1T0x5N2VuSjhIcjNQbytmbjVtNHZMOFdRYVJZdlhwWUZtT0NMcmtESllrZ29keXpNdXA3d3pNY0xPYVhMUEluTW5PeU0zVWNudFF1WHZnWktoU3YvZlRLSWxXMXRpMUVmK2hNdEpNd3QvaE96VUVUOTB0Z1JzZ3FJYlV0WnZnWGtPb01WcnBCSU9zcFNleGt0TmJZbTNYQTgvWE9RdnR6SXd6QU5OQ3NMekkwM1pvUkJUNXBCcExjMk0yVnZuVStlNDhBVGtneS9EM0paWXo2Tzg0cTNGdXpLbW0xcDJEc2dUakV0dlRidEJRWXNaOGNZVzdQQi9IUlE5bmMwWGZsRFdscmoyekZDTVRrdEt0WjE1MW1IK3BtTG53RnlZYXBCRFZwOWJBM1hTWnpyeEFGbEtLMnRMM0hnV2xMNE9leG5vTEZocUVSM0RhN04rSExGNjBQWmU0RnJydzU4SnFaaFMrZVZtWlcySlc4OGM1ZW40NzJKWjVEV1pvd0daZnNmQVZGMERsZmRUbXh5bjlrZjZDUkRSK0lHcExURjZkdzZzVGtPY2l3RExyRXN4M2JNcGNGUXRWTjUvc2tuNjl5UzZOMTZWcllRc3BaVzFKZWFzU2MzOTcraUl1TmhsN3pxaWl5WTRYK0V3czNMSXpkSU9kTmpQWUNsL1ovTWFTdWtFV3pIZHNUN1NkQ09DRjIwSDdWYWdyZHNFVTFwVG9HUTNLS2M5SExGdE1WOW9mV1lXYWhXbHRCODIyR3B1TWZmVEhOZmVHYkFJVUhBNTdzOFZ1RVIvRmg0S1NGcTdOTU5WdEsxQWdKMTVsdExjSWh0SXdYMUNPcUVLbk56Y1RpbTJkL1N6SEd6eVBZZmRNUU9iSVNkM2hOQ3p6QTNQdEdLSEtDaU1kZjJ1bENYdmt5T1ZCRUsvMGxDbEVkMmFnWitDbTN3dllYZGNvUlhxN1dISE12ZGE3dy9WQnRtSWkwbGtBeTAyRDNtWnpEeWwxMVlmZG82RDQ0dkxISnJBN3JoR0c5UHprem5qaEg1UzllVGlZZ2l3SlRJYVZ5NkdGcHRma0I4YVQxLzJoaWxSVkN4Zk4zQ3BGTUZxcGhkb0ZPTGFtcDVrbkwrckYwNFdsVjhwelhxOHNFK1lrOGh6YUxtaGY4SUtnNG1vNllRSmJ2T0ZEVlJOTFlkTWNibCsxTHArSmwwbUFiWUc1ZEVGY3R1a2pQOWhzUjNKOWN5NjF1TlpaWkpQL2lyd3ozYmFRTlhVdWd3eEI3Y21xTGhwZXNZRkZRaXdkMHdQcG1lQ0hOWGEvNG1jNU5xRnVXNzRwTXRYcGhuTU5iSjZSWXBWVTZzZytkNGIvZnZvaWxtQkFKdWhsQ2JkeUNJSXRnS1BxT3BzSURqUVpBZHlwWFQ1dVg1dWdYOXBYK0pkVzJEUjZ6a2lpWmhtK3Q5QzFhTi94aVRBeG90cnpsWHlkTWo5M1hCb0Jjbk44dTJxaGQrTDU0Sk55SDYwdTdiQXl2NWRobGcyTjdyM1VlY3lDYkFCbGN6WVNwNE1BenZ2aGp1TVh2eVZ3elh5U3UyWXhEaittSUN6ZjJwOUYrb1RPTFBlcTk1SDJJVlZkY0NqdnBkOFB6dzhic2hMcG5KUU1OT3NhOVI0blBoZDZDNkJmdS9tQUpPczJ3SW11bUpnaHRkV21uQkRWWFZJOFdZamh2RkJBY0FOT2VWK1JISWx5aTlYZDRqMWVZQzcwRVZ2dnpCd0NHV3BueGRVN2JQVjY1Y3FjR1ZLU0lkR2ZWOHdQZzhidU5xcmMvNUhHbGhFRS9LaGdmSnBuZ2NZS0c5bitMLy8vZ2F0cHRaQTZreHNqSWx4RUN2Q0hFNkF6Vmk5UElmdGdxbVZLakhqQWNCeWx6MkNlS1F2WStGR3NCTUZ5Yk9GcTZsdElKazZLNTE0SWtvN05Rdk9OMmg3emhoRk5qbnFLeUVud1NUUG1IcW9kOUkrOVVQR08zUUJ6RUI4WkYyYXdkWFVWb2hzc2s1bG1DMjFRcVpaY0Y2amZaUXhZLzR0VVYrNVpLcTYwcDRFWStaSzNZUFlMNkRTMWR6UDVubldhdnFOK0llSXAvOXk0Sm41NFk2bFZSbkloaWZrK3h5c2hXak4rRmoxTGxCZnFBVnJ1RXV3eDVaMS9WaTFIZk9UYnU5Rkg0aTJlSWwxUEdBTk5WNU5yWVhVUXFrVVNzeUpsSnZ1cUZJZFF1c0FWSExlaVdXdTEwODhPTm90anEzV1JWazMvak9jbm5aZFcxZmJZdVdFam1uUDZpbVNZdDlOdkpwYUJkbVhSMm5HckZOSENoLzhGS0FLbG1PbHZrZVl1bE1yMlFjWU82TFI1amxFQ1hMUVFQeDhCL0NXWi93Qk9lRDFMVGVRMWI5SGpZb3dGanlzdUJIV3QzclBTbjNQTURlM3drMTNwdFJPeld3eEZkZC9EUUs4NUx4RnpIZzVCRlJIWGxFZmlnZjFPOVpZYVNSbXBpakZ0NlVGeUdOVkQyZ0I4bDNXRFpkNkZDd0dHYUJzT1YwaElsVzBQQTBzOEtQZDJDMVdHaUVjTUNMOXQ1Si8zc0JINXZ5bWNaVGY3b1VuZHJoSXRkeGhhdWVFNGIzb3NmSitScWttcnBpcDd6SGlaaTJ2TkxnY0Rnd01sVlVEUFpaakxLdWk5Vi9NNVg3Z3YyaXg4bjVXcVNaV3pMeWpDTEZlMS9HZW9zMStBcTd6anNVcTJzd2xSMU9CdVd3SGhFV0h0Y09QOHF4Y3FSQnVMVDFSQWJhaG40TTkwL0tGQWI0c1Z0Tm1LNWhFaUlzNEcxUHArOVFJdXNRcVZCTlZDTGRHZUlFNzc4ZDBubit4ekRQdmVDenNKcGJURFVDWFZuSGxMYVBOTE0yWlRuT09rMHhxZHVIV1RNa2tiMTJmd1MyRFVqWDduY2NxMjJ6bFhNd2xvL1lSalowa09vVFVZSmRxWXNkZW8xa0dhRTdudlMyem1MUlRWcWJxTE5QUUdPK2x4Z0lKdXR6VG54QVRwWktSdVNrUHdGeWE0WXpNUllDaUxQR3V3aVMzRU5YZUZLSk1CL29zMDlBWXUweldSWnZEZ0ZwdGN1R1lNQjZsTDZEczNQbGhLTkhZT25Wb1YyRUNYUWExdHZjb3VnRytsV3NiWHlFUXkrd3BYL1N1SzBxRjFiS0pOUStZWUl1aWlqQ2o2dUw0VmhXeFJDdUxNOWhsVUNzS2tHMDYxdituSXV6QWJMdWdYS0dsbERzZWJVcE4yNVNZSE94NUlCUnpFQlpvSXFNSW5ndTF0b1g0T3RuL1ZVemFRbEY5bmdGakpUVkZFSytjY1pTYVRvTDgwT2ZwV2pMeFp2NXoxRm5JWk9mbEFLaXEyT0FwSWt5NEhnMGJpYWdGNy9mZmdzcGo0RTB4Q1dWN3dFSzlaandhTEY4QXExQWlxbUpJQUdQdkFnSkh4eWlVYnptclBlcHMweUwrTDQ1QWZoVWw4SGozU3hueVF4RlRKdDhOQUt4R2lhaUthd3pITURUYUNyUDRuQWRzNVU2SkdqeXZVM09lOU10bGdLQkVWZ3RlYnh6cWdza3B4aXhsNUMzZmZ5YVUzcDNaR0tHUWczTDJyejdmbzVDVTB1ZnBKR1JNOVhqMzJKL2xWY3A1TzJhcVNoNy9CZmt1a1VxcDI5N0ExMzF3OVlESldyU1pPdm44SEhQSWJBanRBekRzdGZ5SmRzemIyMkdlNGZDQVBCN3VKRVBrc3FGMHJzOXFtWDRrVjZEbnFhNTB3aUVzc0hLNXVzdWtxMm9YUERJYmhNVjF5TldxS1hNU2JVdUFsMXpCL2IvOUU4WUtVNmlrK056dFlLK1BsdFZTeHlORjNXWDM3Y0FneXp6Z1FXbWFMcEw5SjBSSzd4a3JkT1FTVkQ0VWUwVzBMbkl4bXY5K2MrQm5uRllYREtQSGk4NHhNYTNsVmxBSEJyVXJuSnhrUkVWc3dNVmhMV3REY1RsV3lkY2ZLSGlIc3N1SlRESnRPSjRUYjRobk1DcVk2WHplSnltZVRvNWtIbDZ4ck1pZXA2anpFY00rbXlBUVZqK0R0Y2trYWJxSTdaQ0Z4U0JiNEViMDVOdU5aSndKazAxeG4rZTVPMjcySGlIMXNxb1BQeDJRS256QmEwUmQ1YVFxd3NuWm1FZjlLQ05NZVpqODFLTGtUSFFjWTlWcytHS05jT1NvdXB4U1RQUHhka1dacFhuTHJEbllNLzgzWmNITXB2KzZtS2JJS0NRenJhSTJaaXZUZVI4S3NWSEllalcyOHY0VGFlcUFpb3ExampIVzhSeWF5NWZXcFpQUzNvc3hPaW5zQ2tFUkI5YXBlaDRDUTdNdjdyOWwxcTdhNU83UVpIeHcxR3hDWHRib3JuNTlWQzZueXl1U0pCUjRrS1dLL0pNNy9GeS9GNzVQRGpwRHl6RTdIS0lnZ3ZZTWZRSEl0cEtBUVVWVWhPNmJZcE85UGY5c2pjN1lhaitNdVRBUitXcFRubnpOeHBYeHZnaU1IUDFtelpQK0czTHpOREl5NXlKSWtCSm9VM3p5cVdMdEpTaU9QbTlzM2tuZ1p0QVZSZ2htWm9ML1JHRThTVyttOE1taXRmWmZSaWx0cTAyUnY1aDdubm5ubXJIL1IrMXdISFc1ZjlSNzlCam50d3ErVTI4L1I3N0xFQXNUL3YrNktYYnlJd2wxWVdMUUkxNS9CVmJyVkpKQTlYVW9HOW13Y2hHYjhQL0ZCRld1THVXMEZQaEt0T1ZFRXdFM04rbnBFOGRLSkFsZUFqV0RZeEtGQnF3WjhmOUFoWmRDRWZQKzVFaHEwY1pETmNkTGRURWRjVUo5NXdaUnFIM05DaE1CRmp4d1VReVBNbVcwQ0R5dE1oUFZ4ZlNVRVFaMFJSU0Z1dGZzV05Eb1NieFFZU0tXV0hycVgvRnlCUFBKQ2dtd1RPV0VSaGNxZWU4VGE1Nm42Z2dyaGVDRkNoTjlFdEl3TnU2L21FRjFNVDFWSitBdzl0OXNNcHdhVkFyTkErQVVFb1dZQjVTTTBmY3libEdkbjZmR3lpMlhtb0lIbDNFL0pkS0xKVWxKQVRUcEpSZDlvc2JBenhCWG5aK25JSHVvK3BJbW9ZN2EvTXl1MUpvTWhSbmx1Q2VyQzlMM0ZJZkFhMzIzT2x3cUp5bkgrbVFYNDdBWGZGU1dBTUVjbHkwNklhZVVDOGkxSGx6R1MrVm5NNTNWcThYMERTelovK3hqWVNwRmxqQW5FMVNObE1VWWZhMlhxTG9wUUcxNWJETXZOSWtBbzMwemlhMU1xbFBvQkpLTVVUVlNrbWtJSSs4MDFreDE1K2NvdEZwd3VZakdBbTlEbXlvRFM4dWZNWFRobW94aFc5Zk54d0RoMVNtMWdlUnAxZms1R1JzdXVGekcwMHZwb09makEvTmlZdXNLTk1tY1JDSG1FVEhNUnd6VGxFMVpuRUowNStkNWFIc0ZheG5QSmhjQ3V3WnZ4dE5vOFJ6VzdIUWFRdk1mNTVld0tTK0pMZ09ScXBtUlBnUVJJMzkrMWsyb1hGdVFFZjFud3VUOG5FWVduRjljanFmUlhHMThZRW1GSTlPZlR3OW5STEF5L1dJdUtFbVpYUVM4ZEZ4a2Z4S0pMblNYMGxIWUs4elFaZUpubHYzei8rWTNINGMwb2NKQy9xamU0TW9yRmpNV25reHdPWm4zUlZLSngzeXlYZlZIL1Y4Sms4eDlPQnZubDVOb0FYdFU1NWRBZkpERi9LWGVGbmpSQm0vR2s4Z3Nib3NrM2NWQjB5R3JpREpVdXk2bWk3UC9rcGpsSXA1SGV5WmVKSWlaSVk3M2ptbStTRUR6MnVMbHVQYVBMSTZUWGlxdDZITWRkVDZlSlFwb2xjbEZRS3BpL1krUGlaOEpyNHZ6NEJCRmREbVphYXJrTE9iUGpLODNSNDVhaE9vN0F3PT0nXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMge1xyXG4gIGRvd25sb2FkVGltZXN0YW1wOiBudW1iZXJcclxuICBhc2tlZEZvckRvbmF0aW9uOiBib29sZWFuXHJcblxyXG4gIG5vZGVUeXBlT25Eb3VibGVDbGljazoga2V5b2YgdHlwZW9mIFNFVFRJTkdTLmdlbmVyYWwuY2hpbGRyZW4ubm9kZVR5cGVPbkRvdWJsZUNsaWNrLm9wdGlvbnNcclxuICBhbGlnbk5ld05vZGVzVG9HcmlkOiBib29sZWFuXHJcbiAgZGVmYXVsdFRleHROb2RlV2lkdGg6IG51bWJlclxyXG4gIGRlZmF1bHRUZXh0Tm9kZUhlaWdodDogbnVtYmVyXHJcbiAgZGVmYXVsdEZpbGVOb2RlV2lkdGg6IG51bWJlclxyXG4gIGRlZmF1bHRGaWxlTm9kZUhlaWdodDogbnVtYmVyXHJcbiAgbWluTm9kZVNpemU6IG51bWJlclxyXG4gIGRpc2FibGVGb250U2l6ZVJlbGF0aXZlVG9ab29tOiBib29sZWFuXHJcblxyXG4gIGNhbnZhc01ldGFkYXRhQ29tcGF0aWJpbGl0eUVuYWJsZWQ6IGJvb2xlYW5cclxuICB0cmVhdEZpbGVOb2RlRWRnZXNBc0xpbmtzOiBib29sZWFuXHJcblxyXG4gIGNvbWJpbmVDdXN0b21TdHlsZXNJbkRyb3Bkb3duOiBib29sZWFuXHJcblxyXG4gIG5vZGVTdHlsaW5nRmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuICBjdXN0b21Ob2RlU3R5bGVBdHRyaWJ1dGVzOiBTdHlsZUF0dHJpYnV0ZVtdXHJcbiAgZGVmYXVsdFRleHROb2RlU3R5bGVBdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9XHJcblxyXG4gIGVkZ2VzU3R5bGluZ0ZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcbiAgY3VzdG9tRWRnZVN0eWxlQXR0cmlidXRlczogU3R5bGVBdHRyaWJ1dGVbXVxyXG4gIGRlZmF1bHRFZGdlTGluZURpcmVjdGlvbjoga2V5b2YgdHlwZW9mIFNFVFRJTkdTLmVkZ2VzU3R5bGluZ0ZlYXR1cmVFbmFibGVkLmNoaWxkcmVuLmRlZmF1bHRFZGdlTGluZURpcmVjdGlvbi5vcHRpb25zXHJcbiAgZGVmYXVsdEVkZ2VTdHlsZUF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH1cclxuICBlZGdlU3R5bGVVcGRhdGVXaGlsZURyYWdnaW5nOiBib29sZWFuXHJcbiAgZWRnZVN0eWxlRGlyZWN0Um90YXRlQXJyb3c6IGJvb2xlYW5cclxuICBlZGdlU3R5bGVQYXRoZmluZGVyR3JpZFJlc29sdXRpb246IG51bWJlclxyXG4gIGVkZ2VTdHlsZVBhdGhmaW5kZXJQYXRoUm91bmRlZDogYm9vbGVhblxyXG5cclxuICB2YXJpYWJsZUJyZWFrcG9pbnRGZWF0dXJlRW5hYmxlZDogYm9vbGVhblxyXG5cclxuICB6T3JkZXJpbmdGZWF0dXJlRW5hYmxlZDogYm9vbGVhblxyXG4gIHpPcmRlcmluZ1Nob3dPbmVMYXllclNoaWZ0T3B0aW9uczogYm9vbGVhblxyXG5cclxuICBjb21tYW5kc0ZlYXR1cmVFbmFibGVkOiBib29sZWFuXHJcbiAgem9vbVRvQ2xvbmVkTm9kZTogYm9vbGVhblxyXG4gIGNsb25lTm9kZU1hcmdpbjogbnVtYmVyXHJcbiAgZXhwYW5kTm9kZVN0ZXBTaXplOiBudW1iZXJcclxuXHJcbiAgZmxpcEVkZ2VGZWF0dXJlRW5hYmxlZDogYm9vbGVhblxyXG5cclxuICBiZXR0ZXJSZWFkb25seUVuYWJsZWQ6IGJvb2xlYW5cclxuICBkaXNhYmxlTm9kZVBvcHVwOiBib29sZWFuXHJcbiAgZGlzYWJsZVpvb206IGJvb2xlYW5cclxuICBkaXNhYmxlUGFuOiBib29sZWFuXHJcblxyXG4gIGF1dG9SZXNpemVOb2RlRmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuICBhdXRvUmVzaXplTm9kZUVuYWJsZWRCeURlZmF1bHQ6IGJvb2xlYW5cclxuICBhdXRvUmVzaXplTm9kZU1heEhlaWdodDogbnVtYmVyXHJcbiAgYXV0b1Jlc2l6ZU5vZGVTbmFwVG9HcmlkOiBib29sZWFuXHJcblxyXG4gIGNvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuICBjb2xsYXBzZWRHcm91cFByZXZpZXdPbkRyYWc6IGJvb2xlYW5cclxuXHJcbiAgZm9jdXNNb2RlRmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuXHJcbiAgcHJlc2VudGF0aW9uRmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuICBzaG93U2V0U3RhcnROb2RlSW5Qb3B1cDogYm9vbGVhblxyXG4gIGRlZmF1bHRTbGlkZVNpemU6IHN0cmluZ1xyXG4gIHdyYXBJblNsaWRlUGFkZGluZzogbnVtYmVyXHJcbiAgcmVzZXRWaWV3cG9ydE9uUHJlc2VudGF0aW9uRW5kOiBib29sZWFuXHJcbiAgdXNlQXJyb3dLZXlzVG9DaGFuZ2VTbGlkZXM6IGJvb2xlYW5cclxuICB1c2VQZ1VwUGdEb3duS2V5c1RvQ2hhbmdlU2xpZGVzOiBib29sZWFuXHJcbiAgem9vbVRvU2xpZGVXaXRob3V0UGFkZGluZzogYm9vbGVhblxyXG4gIHNsaWRlVHJhbnNpdGlvbkFuaW1hdGlvbkR1cmF0aW9uOiBudW1iZXJcclxuICBzbGlkZVRyYW5zaXRpb25BbmltYXRpb25JbnRlbnNpdHk6IG51bWJlclxyXG5cclxuICBjYW52YXNFbmNhcHN1bGF0aW9uRW5hYmxlZDogYm9vbGVhblxyXG5cclxuICBwb3J0YWxzRmVhdHVyZUVuYWJsZWQ6IGJvb2xlYW5cclxuICBtYWludGFpbkNsb3NlZFBvcnRhbFNpemU6IGJvb2xlYW5cclxuICBzaG93RWRnZXNJbnRvRGlzYWJsZWRQb3J0YWxzOiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTX1ZBTFVFUzogQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcyA9IHtcclxuICBkb3dubG9hZFRpbWVzdGFtcDogbmV3IERhdGUoKS5nZXRUaW1lKCksXHJcbiAgYXNrZWRGb3JEb25hdGlvbjogZmFsc2UsXHJcblxyXG4gIG5vZGVUeXBlT25Eb3VibGVDbGljazogJ3RleHQnLFxyXG4gIGFsaWduTmV3Tm9kZXNUb0dyaWQ6IHRydWUsXHJcbiAgZGVmYXVsdFRleHROb2RlV2lkdGg6IDI2MCxcclxuICBkZWZhdWx0VGV4dE5vZGVIZWlnaHQ6IDYwLFxyXG4gIGRlZmF1bHRGaWxlTm9kZVdpZHRoOiA0MDAsXHJcbiAgZGVmYXVsdEZpbGVOb2RlSGVpZ2h0OiA0MDAsXHJcbiAgbWluTm9kZVNpemU6IDYwLFxyXG4gIGRpc2FibGVGb250U2l6ZVJlbGF0aXZlVG9ab29tOiBmYWxzZSxcclxuXHJcbiAgY2FudmFzTWV0YWRhdGFDb21wYXRpYmlsaXR5RW5hYmxlZDogdHJ1ZSxcclxuICB0cmVhdEZpbGVOb2RlRWRnZXNBc0xpbmtzOiB0cnVlLFxyXG5cclxuICBjb21iaW5lQ3VzdG9tU3R5bGVzSW5Ecm9wZG93bjogZmFsc2UsXHJcblxyXG4gIG5vZGVTdHlsaW5nRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgY3VzdG9tTm9kZVN0eWxlQXR0cmlidXRlczogW10sXHJcbiAgZGVmYXVsdFRleHROb2RlU3R5bGVBdHRyaWJ1dGVzOiB7fSxcclxuXHJcbiAgZWRnZXNTdHlsaW5nRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgY3VzdG9tRWRnZVN0eWxlQXR0cmlidXRlczogW10sXHJcbiAgZGVmYXVsdEVkZ2VMaW5lRGlyZWN0aW9uOiAndW5pZGlyZWN0aW9uYWwnLFxyXG4gIGRlZmF1bHRFZGdlU3R5bGVBdHRyaWJ1dGVzOiB7fSxcclxuICBlZGdlU3R5bGVVcGRhdGVXaGlsZURyYWdnaW5nOiBmYWxzZSxcclxuICBlZGdlU3R5bGVEaXJlY3RSb3RhdGVBcnJvdzogZmFsc2UsXHJcbiAgZWRnZVN0eWxlUGF0aGZpbmRlckdyaWRSZXNvbHV0aW9uOiAxMCxcclxuICBlZGdlU3R5bGVQYXRoZmluZGVyUGF0aFJvdW5kZWQ6IHRydWUsXHJcblxyXG4gIHZhcmlhYmxlQnJlYWtwb2ludEZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG5cclxuICB6T3JkZXJpbmdGZWF0dXJlRW5hYmxlZDogdHJ1ZSxcclxuICB6T3JkZXJpbmdTaG93T25lTGF5ZXJTaGlmdE9wdGlvbnM6IGZhbHNlLFxyXG5cclxuICBjb21tYW5kc0ZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG4gIHpvb21Ub0Nsb25lZE5vZGU6IHRydWUsXHJcbiAgY2xvbmVOb2RlTWFyZ2luOiAyMCxcclxuICBleHBhbmROb2RlU3RlcFNpemU6IDIwLFxyXG5cclxuICBmbGlwRWRnZUZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG5cclxuICBiZXR0ZXJSZWFkb25seUVuYWJsZWQ6IHRydWUsXHJcbiAgZGlzYWJsZU5vZGVQb3B1cDogZmFsc2UsXHJcbiAgZGlzYWJsZVpvb206IGZhbHNlLFxyXG4gIGRpc2FibGVQYW46IGZhbHNlLFxyXG5cclxuICBhdXRvUmVzaXplTm9kZUZlYXR1cmVFbmFibGVkOiBmYWxzZSxcclxuICBhdXRvUmVzaXplTm9kZUVuYWJsZWRCeURlZmF1bHQ6IGZhbHNlLFxyXG4gIGF1dG9SZXNpemVOb2RlTWF4SGVpZ2h0OiAtMSxcclxuICBhdXRvUmVzaXplTm9kZVNuYXBUb0dyaWQ6IHRydWUsXHJcblxyXG4gIGNvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgY29sbGFwc2VkR3JvdXBQcmV2aWV3T25EcmFnOiB0cnVlLFxyXG5cclxuICBmb2N1c01vZGVGZWF0dXJlRW5hYmxlZDogdHJ1ZSxcclxuXHJcbiAgcHJlc2VudGF0aW9uRmVhdHVyZUVuYWJsZWQ6IHRydWUsXHJcbiAgc2hvd1NldFN0YXJ0Tm9kZUluUG9wdXA6IGZhbHNlLFxyXG4gIGRlZmF1bHRTbGlkZVNpemU6ICcxMjAweDY3NScsXHJcbiAgd3JhcEluU2xpZGVQYWRkaW5nOiAyMCxcclxuICByZXNldFZpZXdwb3J0T25QcmVzZW50YXRpb25FbmQ6IHRydWUsXHJcbiAgdXNlQXJyb3dLZXlzVG9DaGFuZ2VTbGlkZXM6IHRydWUsXHJcbiAgdXNlUGdVcFBnRG93bktleXNUb0NoYW5nZVNsaWRlczogdHJ1ZSxcclxuICB6b29tVG9TbGlkZVdpdGhvdXRQYWRkaW5nOiB0cnVlLFxyXG4gIHNsaWRlVHJhbnNpdGlvbkFuaW1hdGlvbkR1cmF0aW9uOiAwLjUsXHJcbiAgc2xpZGVUcmFuc2l0aW9uQW5pbWF0aW9uSW50ZW5zaXR5OiAxLjI1LFxyXG5cclxuICBjYW52YXNFbmNhcHN1bGF0aW9uRW5hYmxlZDogdHJ1ZSxcclxuXHJcbiAgcG9ydGFsc0ZlYXR1cmVFbmFibGVkOiB0cnVlLFxyXG4gIG1haW50YWluQ2xvc2VkUG9ydGFsU2l6ZTogdHJ1ZSxcclxuICBzaG93RWRnZXNJbnRvRGlzYWJsZWRQb3J0YWxzOiB0cnVlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTRVRUSU5HUyA9IHtcclxuICAvLyBAdHMtaWdub3JlXHJcbiAgZ2VuZXJhbDoge1xyXG4gICAgbGFiZWw6ICdHZW5lcmFsJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnR2VuZXJhbCBzZXR0aW5ncyBvZiB0aGUgQWR2YW5jZWQgQ2FudmFzIHBsdWdpbi4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdiZXR0ZXItZGVmYXVsdC1zZXR0aW5ncycsXHJcbiAgICBkaXNhYmxlVG9nZ2xlOiB0cnVlLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgbm9kZVR5cGVPbkRvdWJsZUNsaWNrOiB7XHJcbiAgICAgICAgbGFiZWw6ICdOb2RlIHR5cGUgb24gZG91YmxlIGNsaWNrJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSB0eXBlIG9mIG5vZGUgdGhhdCB3aWxsIGJlIGNyZWF0ZWQgd2hlbiBkb3VibGUgY2xpY2tpbmcgb24gdGhlIGNhbnZhcy4nLFxyXG4gICAgICAgIHR5cGU6ICdkcm9wZG93bicsXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgJ3RleHQnOiAnVGV4dCcsXHJcbiAgICAgICAgICAnZmlsZSc6ICdGaWxlJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSBhcyBEcm9wZG93blNldHRpbmcsXHJcbiAgICAgIGFsaWduTmV3Tm9kZXNUb0dyaWQ6IHtcclxuICAgICAgICBsYWJlbDogJ0Fsd2F5cyBhbGlnbiBuZXcgbm9kZXMgdG8gZ3JpZCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIG5ldyBub2RlcyB3aWxsIGJlIGFsaWduZWQgdG8gdGhlIGdyaWQuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgZGVmYXVsdFRleHROb2RlV2lkdGg6IHtcclxuICAgICAgICBsYWJlbDogJ0RlZmF1bHQgdGV4dCBub2RlIHdpZHRoJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBkZWZhdWx0IHdpZHRoIG9mIGEgdGV4dCBub2RlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgxLCBwYXJzZUludCh2YWx1ZSkgfHwgMClcclxuICAgICAgfSxcclxuICAgICAgZGVmYXVsdFRleHROb2RlSGVpZ2h0OiB7XHJcbiAgICAgICAgbGFiZWw6ICdEZWZhdWx0IHRleHQgbm9kZSBoZWlnaHQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIGEgdGV4dCBub2RlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgxLCBwYXJzZUludCh2YWx1ZSkgfHwgMClcclxuICAgICAgfSxcclxuICAgICAgZGVmYXVsdEZpbGVOb2RlV2lkdGg6IHtcclxuICAgICAgICBsYWJlbDogJ0RlZmF1bHQgZmlsZSBub2RlIHdpZHRoJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBkZWZhdWx0IHdpZHRoIG9mIGEgZmlsZSBub2RlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgxLCBwYXJzZUludCh2YWx1ZSkgfHwgMClcclxuICAgICAgfSxcclxuICAgICAgZGVmYXVsdEZpbGVOb2RlSGVpZ2h0OiB7XHJcbiAgICAgICAgbGFiZWw6ICdEZWZhdWx0IGZpbGUgbm9kZSBoZWlnaHQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIGEgZmlsZSBub2RlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgxLCBwYXJzZUludCh2YWx1ZSkgfHwgMClcclxuICAgICAgfSxcclxuICAgICAgbWluTm9kZVNpemU6IHtcclxuICAgICAgICBsYWJlbDogJ01pbmltdW0gbm9kZSBzaXplJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBtaW5pbXVtIHNpemUgb2YgYSBub2RlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgxLCBwYXJzZUludCh2YWx1ZSkgfHwgMClcclxuICAgICAgfSxcclxuICAgICAgZGlzYWJsZUZvbnRTaXplUmVsYXRpdmVUb1pvb206IHtcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgZm9udCBzaXplIHJlbGF0aXZlIHRvIHpvb20nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB0aGUgZm9udCBzaXplIG9mIGUuZy4gZ3JvdXAgbm9kZSB0aXRsZXMgYW5kIGVkZ2UgbGFiZWxzIHdpbGwgbm90IGluY3JlYXNlIHdoZW4gem9vbWluZyBvdXQuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgY2FudmFzTWV0YWRhdGFDb21wYXRpYmlsaXR5RW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdFbmFibGUgLmNhbnZhcyBtZXRhZGF0YSBjYWNoZSBjb21wYXRpYmlsaXR5JyxcclxuICAgIGRlc2NyaXB0aW9uOiAnTWFrZSAuY2FudmFzIGZpbGVzIGNvbXBhdGlibGUgd2l0aCB0aGUgYmFja2xpbmtzIGFuZCBvdXRnb2luZyBsaW5rcyBmZWF0dXJlIGFuZCBzaG93IHRoZSBjb25uZWN0aW9ucyBpbiB0aGUgZ3JhcGggdmlldy4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdmdWxsLW1ldGFkYXRhLWNhY2hlLXN1cHBvcnQnLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgdHJlYXRGaWxlTm9kZUVkZ2VzQXNMaW5rczoge1xyXG4gICAgICAgIGxhYmVsOiAnVHJlYXQgZWRnZXMgYmV0d2VlbiBmaWxlIG5vZGVzIGFzIGxpbmtzJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gZW5hYmxlZCwgZWRnZXMgYmV0d2VlbiBmaWxlIG5vZGVzIHdpbGwgYmUgdHJlYXRlZCBhcyBsaW5rcy4gVGhpcyBtZWFucyB0aGF0IGlmIGZpbGUgbm9kZSBBLm1kIGhhcyBhbiBlZGdlIHRvIGZpbGUgbm9kZSBCLm1kIGluIHRoZSBjYW52YXMsIGZpbGUgQS5tZCB3aWxsIGhhdmUgYSBsaW5rIHRvIGZpbGUgQi5tZCBpbiB0aGUgb3V0Z29pbmcgbGlua3Mgc2VjdGlvbiBhbmQgc2hvdyBhIGNvbm5lY3Rpb24gaW4gdGhlIGdyYXBoIHZpZXcuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgY29tYmluZUN1c3RvbVN0eWxlc0luRHJvcGRvd246IHtcclxuICAgIGxhYmVsOiAnQ29tYmluZSBjdXN0b20gc3R5bGVzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ29tYmluZSBhbGwgc3R5bGUgYXR0cmlidXRlcyBvZiBBZHZhbmNlZCBDYW52YXMgaW4gYSBzaW5nbGUgZHJvcGRvd24uJyxcclxuICAgIGluZm9TZWN0aW9uOiBudWxsLFxyXG4gICAgY2hpbGRyZW46IHsgfVxyXG4gIH0sXHJcbiAgbm9kZVN0eWxpbmdGZWF0dXJlRW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdOb2RlIHN0eWxpbmcnLFxyXG4gICAgZGVzY3JpcHRpb246ICdTdHlsZSB5b3VyIG5vZGVzIHdpdGggZGlmZmVyZW50IHNoYXBlcyBhbmQgYm9yZGVycy4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdub2RlLXN0eWxlcycsXHJcbiAgICBjaGlsZHJlbjoge1xyXG4gICAgICBjdXN0b21Ob2RlU3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgbGFiZWw6ICdDdXN0b20gbm9kZSBzdHlsZSBzZXR0aW5ncycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdBZGQgY3VzdG9tIHN0eWxlIHNldHRpbmdzIGZvciBub2Rlcy4gKEdvIHRvIEdpdEh1YiBmb3IgbW9yZSBpbmZvcm1hdGlvbiknLFxyXG4gICAgICAgIHR5cGU6ICdidXR0b24nLFxyXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHdpbmRvdy5vcGVuKFwiaHR0cHM6Ly9naXRodWIuY29tL0RldmVsb3Blci1NaWtlL29ic2lkaWFuLWFkdmFuY2VkLWNhbnZhcy9ibG9iL21haW4vUkVBRE1FLm1kI2N1c3RvbS1zdHlsZXNcIilcclxuICAgICAgfSBhcyBCdXR0b25TZXR0aW5nLFxyXG4gICAgICBkZWZhdWx0VGV4dE5vZGVTdHlsZUF0dHJpYnV0ZXM6IHtcclxuICAgICAgICBsYWJlbDogJ0RlZmF1bHQgdGV4dCBub2RlIHN0eWxlIGF0dHJpYnV0ZXMnLFxyXG4gICAgICAgIHR5cGU6ICdzdHlsZXMnLFxyXG4gICAgICAgIGdldFBhcmFtZXRlcnMoc2V0dGluZ3NNYW5hZ2VyKSB7XHJcbiAgICAgICAgICByZXR1cm4gWyAuLi5CVUlMVElOX05PREVfU1RZTEVfQVRUUklCVVRFUywgLi4uc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoJ2N1c3RvbU5vZGVTdHlsZUF0dHJpYnV0ZXMnKSBdXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHNldHRpbmcpID0+IHNldHRpbmcubm9kZVR5cGVzID09PSB1bmRlZmluZWQgfHwgc2V0dGluZy5ub2RlVHlwZXM/LmluY2x1ZGVzKCd0ZXh0JykpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGFzIFN0eWxlQXR0cmlidXRlc1NldHRpbmdcclxuICAgIH1cclxuICB9LFxyXG4gIGVkZ2VzU3R5bGluZ0ZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0VkZ2VzIHN0eWxpbmcnLFxyXG4gICAgZGVzY3JpcHRpb246ICdTdHlsZSB5b3VyIGVkZ2VzIHdpdGggZGlmZmVyZW50IHBhdGggc3R5bGVzLicsXHJcbiAgICBpbmZvU2VjdGlvbjogJ2VkZ2Utc3R5bGVzJyxcclxuICAgIGNoaWxkcmVuOiB7XHJcbiAgICAgIGN1c3RvbUVkZ2VTdHlsZUF0dHJpYnV0ZXM6IHtcclxuICAgICAgICBsYWJlbDogJ0N1c3RvbSBlZGdlIHN0eWxlIHNldHRpbmdzJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0FkZCBjdXN0b20gc3R5bGUgc2V0dGluZ3MgZm9yIGVkZ2VzLiAoR28gdG8gR2l0SHViIGZvciBtb3JlIGluZm9ybWF0aW9uKScsXHJcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXHJcbiAgICAgICAgb25DbGljazogKCkgPT4gd2luZG93Lm9wZW4oXCJodHRwczovL2dpdGh1Yi5jb20vRGV2ZWxvcGVyLU1pa2Uvb2JzaWRpYW4tYWR2YW5jZWQtY2FudmFzL2Jsb2IvbWFpbi9SRUFETUUubWQjY3VzdG9tLXN0eWxlc1wiKVxyXG4gICAgICB9IGFzIEJ1dHRvblNldHRpbmcsXHJcbiAgICAgIGRlZmF1bHRFZGdlTGluZURpcmVjdGlvbjoge1xyXG4gICAgICAgIGxhYmVsOiAnRGVmYXVsdCBlZGdlIGxpbmUgZGlyZWN0aW9uJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBkZWZhdWx0IGxpbmUgZGlyZWN0aW9uIG9mIGFuIGVkZ2UuJyxcclxuICAgICAgICB0eXBlOiAnZHJvcGRvd24nLFxyXG4gICAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICAgICdub25kaXJlY3Rpb25hbCc6ICdOb25kaXJlY3Rpb25hbCcsXHJcbiAgICAgICAgICAndW5pZGlyZWN0aW9uYWwnOiAnVW5pZGlyZWN0aW9uYWwnLFxyXG4gICAgICAgICAgJ2JpZGlyZWN0aW9uYWwnOiAnQmlkaXJlY3Rpb25hbCdcclxuICAgICAgICB9XHJcbiAgICAgIH0gYXMgRHJvcGRvd25TZXR0aW5nLFxyXG4gICAgICBkZWZhdWx0RWRnZVN0eWxlQXR0cmlidXRlczoge1xyXG4gICAgICAgIGxhYmVsOiAnRGVmYXVsdCBlZGdlIHN0eWxlIGF0dHJpYnV0ZXMnLFxyXG4gICAgICAgIHR5cGU6ICdzdHlsZXMnLFxyXG4gICAgICAgIGdldFBhcmFtZXRlcnMoc2V0dGluZ3NNYW5hZ2VyKSB7XHJcbiAgICAgICAgICByZXR1cm4gWyAuLi5CVUlMVElOX0VER0VfU1RZTEVfQVRUUklCVVRFUywgLi4uc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoJ2N1c3RvbUVkZ2VTdHlsZUF0dHJpYnV0ZXMnKSBdXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGFzIFN0eWxlQXR0cmlidXRlc1NldHRpbmcsXHJcbiAgICAgIGVkZ2VTdHlsZVVwZGF0ZVdoaWxlRHJhZ2dpbmc6IHtcclxuICAgICAgICBsYWJlbDogJ1VwZGF0ZSBlZGdlIHN0eWxlIHdoaWxlIGRyYWdnaW5nIChDYW4gYmUgdmVyeSBzbG93KScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBlZGdlIHN0eWxlIHdpbGwgYmUgdXBkYXRlZCB3aGlsZSBkcmFnZ2luZyBhbiBlZGdlLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGVkZ2VTdHlsZURpcmVjdFJvdGF0ZUFycm93OiB7XHJcbiAgICAgICAgbGFiZWw6ICdSb3RhdGUgYXJyb3cgaWYgcGF0aGZpbmRpbmcgbWV0aG9kIGlzIFwiRGlyZWN0XCInLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB0aGUgYXJyb3cgd2lsbCBiZSByb3RhdGVkIHRvIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGVkZ2UgaWYgdGhlIHBhdGhmaW5kaW5nIG1ldGhvZCBpcyBzZXQgdG8gXCJEaXJlY3RcIi4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBlZGdlU3R5bGVQYXRoZmluZGVyR3JpZFJlc29sdXRpb246IHtcclxuICAgICAgICBsYWJlbDogJ0EqIGdyaWQgcmVzb2x1dGlvbicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZ3JpZCB3aGVuIHVzaW5nIHRoZSBBKiBwYXRoIHN0eWxlLiBUaGUgbG93ZXIgdGhlIHZhbHVlLCB0aGUgbW9yZSBwcmVjaXNlIHRoZSBwYXRoIHdpbGwgYmUuIEJ1dCBpdCB3aWxsIGFsc28gdGFrZSBsb25nZXIgdG8gY2FsY3VsYXRlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCg1LCBwYXJzZUludCh2YWx1ZSkgfHwgMClcclxuICAgICAgfSxcclxuICAgICAgZWRnZVN0eWxlUGF0aGZpbmRlclBhdGhSb3VuZGVkOiB7XHJcbiAgICAgICAgbGFiZWw6ICdBKiByb3VuZGVkIHBhdGgnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB0aGUgQSogcGF0aCBzdHlsZSB3aWxsIGJlIHJvdW5kZWQuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgdmFyaWFibGVCcmVha3BvaW50RmVhdHVyZUVuYWJsZWQ6IHtcclxuICAgIGxhYmVsOiAnVmFyaWFibGUgYnJlYWtwb2ludCcsXHJcbiAgICBkZXNjcmlwdGlvbjogYENoYW5nZSB0aGUgem9vbSBicmVha3BvaW50ICh0aGUgem9vbSBsZXZlbCBhdCB3aGljaCB0aGUgbm9kZXMgd29uJ3QgcmVuZGVyIHRoZWlyIGNvbnRlbnQgYW55bW9yZSkgb24gYSBwZXItbm9kZSBiYXNpcyB1c2luZyB0aGUgJHtWQVJJQUJMRV9CUkVBS1BPSU5UX0NTU19WQVJ9IENTUyB2YXJpYWJsZS5gLFxyXG4gICAgaW5mb1NlY3Rpb246ICd2YXJpYWJsZS1icmVha3BvaW50cycsXHJcbiAgICBjaGlsZHJlbjogeyB9XHJcbiAgfSxcclxuICB6T3JkZXJpbmdGZWF0dXJlRW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdaIG9yZGVyaW5nIGNvbnRyb2xzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ2hhbmdlIHRoZSB6LWluZGV4IG9mIG5vZGVzIHVzaW5nIHRoZSBjb250ZXh0IG1lbnUuJyxcclxuICAgIGluZm9TZWN0aW9uOiAnei1vcmRlcmluZy1jb250cm9sJyxcclxuICAgIGNoaWxkcmVuOiB7XHJcbiAgICAgIHpPcmRlcmluZ1Nob3dPbmVMYXllclNoaWZ0T3B0aW9uczoge1xyXG4gICAgICAgIGxhYmVsOiAnU2hvdyBvbmUgbGF5ZXIgc2hpZnQgb3B0aW9ucycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHlvdSBjYW4gbW92ZSBub2RlcyBvbmUgbGF5ZXIgZm9yd2FyZCBvciBiYWNrd2FyZC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBjb21tYW5kc0ZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0V4dGVuZGVkIGNvbW1hbmRzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQWRkIG1vcmUgY29tbWFuZHMgdG8gdGhlIGNhbnZhcy4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdjYW52YXMtY29tbWFuZHMnLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgem9vbVRvQ2xvbmVkTm9kZToge1xyXG4gICAgICAgIGxhYmVsOiAnWm9vbSB0byBjbG9uZWQgbm9kZScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBjYW52YXMgd2lsbCB6b29tIHRvIHRoZSBjbG9uZWQgbm9kZS4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBjbG9uZU5vZGVNYXJnaW46IHtcclxuICAgICAgICBsYWJlbDogJ0Nsb25lIG5vZGUgbWFyZ2luJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXJnaW4gYmV0d2VlbiB0aGUgY2xvbmVkIG5vZGUgYW5kIHRoZSBzb3VyY2Ugbm9kZS4nLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT4gTWF0aC5tYXgoMCwgcGFyc2VJbnQodmFsdWUpIHx8IDApXHJcbiAgICAgIH0sXHJcbiAgICAgIGV4cGFuZE5vZGVTdGVwU2l6ZToge1xyXG4gICAgICAgIGxhYmVsOiAnRXhwYW5kIG5vZGUgc3RlcCBzaXplJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBzdGVwIHNpemUgZm9yIGV4cGFuZGluZyB0aGUgbm9kZS4nLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT4gTWF0aC5tYXgoMSwgcGFyc2VJbnQodmFsdWUpIHx8IDApXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGZsaXBFZGdlRmVhdHVyZUVuYWJsZWQ6IHtcclxuICAgIGxhYmVsOiAnRmxpcCBlZGdlcycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0ZsaXAgdGhlIGRpcmVjdGlvbiBvZiBlZGdlcyB1c2luZyB0aGUgcG9wdXAgbWVudS4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdmbGlwLWVkZ2UnLFxyXG4gICAgY2hpbGRyZW46IHsgfVxyXG4gIH0sXHJcbiAgYmV0dGVyUmVhZG9ubHlFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0JldHRlciByZWFkb25seScsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0ltcHJvdmUgdGhlIHJlYWRvbmx5IG1vZGUuJyxcclxuICAgIGluZm9TZWN0aW9uOiAnYmV0dGVyLXJlYWRvbmx5JyxcclxuICAgIGNoaWxkcmVuOiB7XHJcbiAgICAgIGRpc2FibGVOb2RlUG9wdXA6IHtcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgbm9kZSBwb3B1cCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBub2RlIHBvcHVwIHdpbGwgYmUgZGlzYWJsZWQuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgZGlzYWJsZVpvb206IHtcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgem9vbScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHpvb21pbmcgd2lsbCBiZSBkaXNhYmxlZC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBkaXNhYmxlUGFuOiB7XHJcbiAgICAgICAgbGFiZWw6ICdEaXNhYmxlIHBhbicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHBhbm5pbmcgd2lsbCBiZSBkaXNhYmxlZC4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBhdXRvUmVzaXplTm9kZUZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0F1dG8gcmVzaXplIG5vZGUnLFxyXG4gICAgZGVzY3JpcHRpb246ICdBdXRvbWF0aWNhbGx5IHJlc2l6ZSB0aGUgaGVpZ2h0IG9mIGEgbm9kZSB0byBmaXQgdGhlIGNvbnRlbnQuJyxcclxuICAgIGluZm9TZWN0aW9uOiAnYXV0by1ub2RlLXJlc2l6aW5nJyxcclxuICAgIGNoaWxkcmVuOiB7XHJcbiAgICAgIGF1dG9SZXNpemVOb2RlRW5hYmxlZEJ5RGVmYXVsdDoge1xyXG4gICAgICAgIGxhYmVsOiAnRW5hYmxlIGF1dG8gcmVzaXplIGJ5IGRlZmF1bHQnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB0aGUgYXV0byByZXNpemUgZmVhdHVyZSB3aWxsIGJlIGVuYWJsZWQgYnkgZGVmYXVsdCBmb3IgYWxsIG5vZGVzLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGF1dG9SZXNpemVOb2RlTWF4SGVpZ2h0OiB7XHJcbiAgICAgICAgbGFiZWw6ICdNYXggaGVpZ2h0JyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBtYXhpbXVtIGhlaWdodCBvZiB0aGUgbm9kZSB3aGVuIGF1dG8gcmVzaXppbmcgKC0xIGZvciB1bmxpbWl0ZWQpLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgtMSwgcGFyc2VJbnQodmFsdWUpID8/IC0xKVxyXG4gICAgICB9LFxyXG4gICAgICBhdXRvUmVzaXplTm9kZVNuYXBUb0dyaWQ6IHtcclxuICAgICAgICBsYWJlbDogJ1NuYXAgdG8gZ3JpZCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSBoZWlnaHQgb2YgdGhlIG5vZGUgd2lsbCBzbmFwIHRvIHRoZSBncmlkLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGNvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQ6IHtcclxuICAgIGxhYmVsOiAnQ29sbGFwc2libGUgZ3JvdXBzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnR3JvdXAgbm9kZXMgY2FuIGJlIGNvbGxhcHNlZCBhbmQgZXhwYW5kZWQgdG8ga2VlcCB0aGUgY2FudmFzIG9yZ2FuaXplZC4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdjb2xsYXBzaWJsZS1ncm91cHMnLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgY29sbGFwc2VkR3JvdXBQcmV2aWV3T25EcmFnOiB7XHJcbiAgICAgICAgbGFiZWw6ICdDb2xsYXBzZWQgZ3JvdXAgcHJldmlldyBvbiBkcmFnJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gZW5hYmxlZCwgYSBncm91cCB0aGF0IGlzIGNvbGxhcHNlZCBzaG93IGl0cyBib3JkZXIgd2hpbGUgZHJhZ2dpbmcgYSBub2RlLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGZvY3VzTW9kZUZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ0ZvY3VzIG1vZGUnLFxyXG4gICAgZGVzY3JpcHRpb246ICdGb2N1cyBvbiBhIHNpbmdsZSBub2RlIGFuZCBibHVyIGFsbCBvdGhlciBub2Rlcy4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdmb2N1cy1tb2RlJyxcclxuICAgIGNoaWxkcmVuOiB7IH1cclxuICB9LFxyXG4gIHByZXNlbnRhdGlvbkZlYXR1cmVFbmFibGVkOiB7XHJcbiAgICBsYWJlbDogJ1ByZXNlbnRhdGlvbnMnLFxyXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGUgYSBwcmVzZW50YXRpb24gZnJvbSB5b3VyIGNhbnZhcy4nLFxyXG4gICAgaW5mb1NlY3Rpb246ICdwcmVzZW50YXRpb24tbW9kZScsXHJcbiAgICBjaGlsZHJlbjoge1xyXG4gICAgICBzaG93U2V0U3RhcnROb2RlSW5Qb3B1cDoge1xyXG4gICAgICAgIGxhYmVsOiAnU2hvdyBcIlNldCBTdGFydCBOb2RlXCIgaW4gbm9kZSBwb3B1cCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdJZiB0dXJuZWQgb2ZmLCB5b3UgY2FuIHN0aWxsIHNldCB0aGUgc3RhcnQgbm9kZSB1c2luZyB0aGUgY29ycmVzcG9uZGluZyBjb21tYW5kLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlZmF1bHRTbGlkZVNpemU6IHtcclxuICAgICAgICBsYWJlbDogJ0RlZmF1bHQgc2xpZGUgcmF0aW8nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGRlZmF1bHQgcmF0aW8gb2YgdGhlIHNsaWRlLiBGb3IgZXhhbXBsZSwgMTY6OSBpcyAxMjAweDY3NSBhbmQgMzoyIGlzIDEzNTB4OTAwLicsXHJcbiAgICAgICAgdHlwZTogJ3RleHQnXHJcbiAgICAgIH0sXHJcbiAgICAgIHdyYXBJblNsaWRlUGFkZGluZzoge1xyXG4gICAgICAgIGxhYmVsOiAnV3JhcCBpbiBzbGlkZSBwYWRkaW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBwYWRkaW5nIG9mIHRoZSBzbGlkZSB3aGVuIHdyYXBwaW5nIHRoZSBjYW52YXMgaW4gYSBzbGlkZS4nLFxyXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT4gTWF0aC5tYXgoMCwgcGFyc2VJbnQodmFsdWUpIHx8IDApXHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc2V0Vmlld3BvcnRPblByZXNlbnRhdGlvbkVuZDoge1xyXG4gICAgICAgIGxhYmVsOiAnUmVzZXQgdmlld3BvcnQgb24gcHJlc2VudGF0aW9uIGVuZCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVuIGVuYWJsZWQsIHRoZSB2aWV3cG9ydCB3aWxsIGJlIHJlc2V0IHRvIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiBhZnRlciB0aGUgcHJlc2VudGF0aW9uIGVuZHMuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgdXNlQXJyb3dLZXlzVG9DaGFuZ2VTbGlkZXM6IHtcclxuICAgICAgICBsYWJlbDogJ1VzZSBhcnJvdyBrZXlzIHRvIGNoYW5nZSBzbGlkZXMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB5b3UgY2FuIHVzZSB0aGUgYXJyb3cga2V5cyB0byBjaGFuZ2Ugc2xpZGVzIGluIHByZXNlbnRhdGlvbiBtb2RlLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHVzZVBnVXBQZ0Rvd25LZXlzVG9DaGFuZ2VTbGlkZXM6IHtcclxuICAgICAgICBsYWJlbDogJ1VzZSBQZ1VwL1BnRG93biBrZXlzIHRvIGNoYW5nZSBzbGlkZXMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB5b3UgY2FuIHVzZSB0aGUgUGdVcC9QZ0Rvd24ga2V5cyB0byBjaGFuZ2Ugc2xpZGVzIGluIHByZXNlbnRhdGlvbiBtb2RlIChNYWtlcyB0aGUgcHJlc2VudGF0aW9uIG1vZGUgY29tcGF0aWJsZSB3aXRoIG1vc3QgcHJlc2VudGF0aW9uIHJlbW90ZXMpLicsXHJcbiAgICAgICAgdHlwZTogJ2Jvb2xlYW4nXHJcbiAgICAgIH0sXHJcbiAgICAgIHpvb21Ub1NsaWRlV2l0aG91dFBhZGRpbmc6IHtcclxuICAgICAgICBsYWJlbDogJ1pvb20gdG8gc2xpZGUgd2l0aG91dCBwYWRkaW5nJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1doZW4gZW5hYmxlZCwgdGhlIGNhbnZhcyB3aWxsIHpvb20gdG8gdGhlIHNsaWRlIHdpdGhvdXQgcGFkZGluZy4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBzbGlkZVRyYW5zaXRpb25BbmltYXRpb25EdXJhdGlvbjoge1xyXG4gICAgICAgIGxhYmVsOiAnU2xpZGUgdHJhbnNpdGlvbiBhbmltYXRpb24gZHVyYXRpb24nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGR1cmF0aW9uIG9mIHRoZSBzbGlkZSB0cmFuc2l0aW9uIGFuaW1hdGlvbiBpbiBzZWNvbmRzLiBTZXQgdG8gMCB0byBkaXNhYmxlIHRoZSBhbmltYXRpb24uJyxcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBwYXJzZTogKHZhbHVlOiBzdHJpbmcpID0+IE1hdGgubWF4KDAsIHBhcnNlRmxvYXQodmFsdWUpIHx8IDApXHJcbiAgICAgIH0sXHJcbiAgICAgIHNsaWRlVHJhbnNpdGlvbkFuaW1hdGlvbkludGVuc2l0eToge1xyXG4gICAgICAgIGxhYmVsOiAnU2xpZGUgdHJhbnNpdGlvbiBhbmltYXRpb24gaW50ZW5zaXR5JyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBpbnRlbnNpdHkgb2YgdGhlIHNsaWRlIHRyYW5zaXRpb24gYW5pbWF0aW9uLiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSwgdGhlIG1vcmUgdGhlIGNhbnZhcyB3aWxsIHpvb20gb3V0IGJlZm9yZSB6b29taW5nIGluIG9uIHRoZSBuZXh0IHNsaWRlLicsXHJcbiAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgcGFyc2U6ICh2YWx1ZTogc3RyaW5nKSA9PiBNYXRoLm1heCgwLCBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBjYW52YXNFbmNhcHN1bGF0aW9uRW5hYmxlZDoge1xyXG4gICAgbGFiZWw6ICdDYW52YXMgZW5jYXBzdWxhdGlvbicsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0VuY2Fwc3VsYXRlIGEgc2VsZWN0aW9uIG9mIG5vZGVzIGFuZCBlZGdlcyBpbnRvIGEgbmV3IGNhbnZhcyB1c2luZyB0aGUgY29udGV4dCBtZW51LicsXHJcbiAgICBpbmZvU2VjdGlvbjogJ2VuY2Fwc3VsYXRlLXNlbGVjdGlvbicsXHJcbiAgICBjaGlsZHJlbjogeyB9XHJcbiAgfSxcclxuICBwb3J0YWxzRmVhdHVyZUVuYWJsZWQ6IHtcclxuICAgIGxhYmVsOiAnUG9ydGFscycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBwb3J0YWxzIHRvIG90aGVyIGNhbnZhc2VzLicsXHJcbiAgICBpbmZvU2VjdGlvbjogJ3BvcnRhbHMnLFxyXG4gICAgY2hpbGRyZW46IHtcclxuICAgICAgbWFpbnRhaW5DbG9zZWRQb3J0YWxTaXplOiB7XHJcbiAgICAgICAgbGFiZWw6ICdNYWludGFpbiBjbG9zZWQgcG9ydGFsIHNpemUnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCB0aGUgcG9ydGFsIHdpbGwgbWFpbnRhaW4gaXRzIHNpemUgd2hlbiBjbG9zZWQuJyxcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgICAgfSxcclxuICAgICAgc2hvd0VkZ2VzSW50b0Rpc2FibGVkUG9ydGFsczoge1xyXG4gICAgICAgIGxhYmVsOiAnU2hvdyBlZGdlcyBpbnRvIGRpc2FibGVkIHBvcnRhbHMnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2hlbiBlbmFibGVkLCBlZGdlcyBpbnRvIGRpc2FibGVkIHBvcnRhbHMgd2lsbCBiZSBzaG93bi4nLFxyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59IGFzIGNvbnN0IHNhdGlzZmllcyB7XHJcbiAgW2tleSBpbiBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzXTogU2V0dGluZ3NIZWFkaW5nICYgeyBcclxuICAgIGNoaWxkcmVuOiB7IFxyXG4gICAgICBba2V5IGluIGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXNdPzogU2V0dGluZyBcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XHJcbiAgcHJpdmF0ZSBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcbiAgcHJpdmF0ZSBzZXR0aW5nczogQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlc1xyXG4gIHByaXZhdGUgc2V0dGluZ3NUYWI6IEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ1RhYlxyXG5cclxuICBjb25zdHJ1Y3RvcihwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luKSB7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxyXG4gIH1cclxuXHJcbiAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1NfVkFMVUVTLCBhd2FpdCB0aGlzLnBsdWdpbi5sb2FkRGF0YSgpKVxyXG4gICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS50cmlnZ2VyKFBsdWdpbkV2ZW50LlNldHRpbmdzQ2hhbmdlZClcclxuICB9XHJcblxyXG4gIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpXHJcbiAgfVxyXG5cclxuICBnZXRTZXR0aW5nPFQgZXh0ZW5kcyBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzPihrZXk6IFQpOiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzW1RdIHtcclxuICAgIHJldHVybiB0aGlzLnNldHRpbmdzW2tleV1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNldFNldHRpbmcoZGF0YTogUGFydGlhbDxBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzPikge1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24odGhpcy5zZXR0aW5ncywgZGF0YSlcclxuICAgIGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKClcclxuICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcihQbHVnaW5FdmVudC5TZXR0aW5nc0NoYW5nZWQpXHJcbiAgfVxyXG5cclxuICBhZGRTZXR0aW5nc1RhYigpIHtcclxuICAgIHRoaXMuc2V0dGluZ3NUYWIgPSBuZXcgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nVGFiKHRoaXMucGx1Z2luLCB0aGlzKVxyXG4gICAgdGhpcy5wbHVnaW4uYWRkU2V0dGluZ1RhYih0aGlzLnNldHRpbmdzVGFiKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG4gIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyXHJcblxyXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4sIHNldHRpbmdzTWFuYWdlcjogU2V0dGluZ3NNYW5hZ2VyKSB7XHJcbiAgICBzdXBlcihwbHVnaW4uYXBwLCBwbHVnaW4pXHJcbiAgICB0aGlzLnNldHRpbmdzTWFuYWdlciA9IHNldHRpbmdzTWFuYWdlclxyXG4gIH1cclxuXHJcbiAgZGlzcGxheSgpOiB2b2lkIHtcclxuICAgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzXHJcbiAgICBjb250YWluZXJFbC5lbXB0eSgpXHJcblxyXG4gICAgLy8gR2VuZXJhdGUgc2V0dGluZ3MgZnJvbSBTRVRUSU5HUyBvYmplY3RcclxuICAgIGZvciAoY29uc3QgW2hlYWRpbmdJZCwgaGVhZGluZ10gb2YgT2JqZWN0LmVudHJpZXMoU0VUVElOR1MpIGFzIFtzdHJpbmcsIFNldHRpbmdzSGVhZGluZ11bXSkge1xyXG4gICAgICB0aGlzLmNyZWF0ZUZlYXR1cmVIZWFkaW5nKFxyXG4gICAgICAgIGNvbnRhaW5lckVsLCBcclxuICAgICAgICBoZWFkaW5nLmxhYmVsLCBcclxuICAgICAgICBoZWFkaW5nLmRlc2NyaXB0aW9uLCBcclxuICAgICAgICBoZWFkaW5nLmluZm9TZWN0aW9uLFxyXG4gICAgICAgIGhlYWRpbmcuZGlzYWJsZVRvZ2dsZSA/IG51bGwgOiBoZWFkaW5nSWQgYXMga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlc1xyXG4gICAgICApXHJcblxyXG4gICAgICBmb3IgKGxldCBbc2V0dGluZ0lkLCBzZXR0aW5nXSBvZiBPYmplY3QuZW50cmllcyhoZWFkaW5nLmNoaWxkcmVuKSBhcyBba2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgU2V0dGluZ11bXSkge1xyXG4gICAgICAgIGlmICghKHNldHRpbmdJZCBpbiBERUZBVUxUX1NFVFRJTkdTX1ZBTFVFUykpIGNvbnRpbnVlXHJcblxyXG4gICAgICAgIHN3aXRjaCAoc2V0dGluZy50eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUZXh0U2V0dGluZyhjb250YWluZXJFbCwgc2V0dGluZ0lkLCBzZXR0aW5nIGFzIFRleHRTZXR0aW5nKVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOdW1iZXJTZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZylcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJvb2xlYW5TZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgQm9vbGVhblNldHRpbmcpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICdkcm9wZG93bic6XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlRHJvcGRvd25TZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgRHJvcGRvd25TZXR0aW5nKVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnYnV0dG9uJzpcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b25TZXR0aW5nKGNvbnRhaW5lckVsLCBzZXR0aW5nSWQsIHNldHRpbmcgYXMgQnV0dG9uU2V0dGluZylcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ3N0eWxlcyc6XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU3R5bGVzU2V0dGluZyhjb250YWluZXJFbCwgc2V0dGluZ0lkLCBzZXR0aW5nIGFzIFN0eWxlQXR0cmlidXRlc1NldHRpbmcpXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jcmVhdGVLb0ZpQmFkZ2UoY29udGFpbmVyRWwpXHJcblxyXG4gICAgY29uc3QgY3VycmVudFRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICBpZiAoY3VycmVudFRpbWVzdGFtcCAtIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoJ2Rvd25sb2FkVGltZXN0YW1wJykgPiBBU0tfRk9SX0RPTkFUSU9OX0RFTEFZXHJcbiAgICAgICYmICF0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKCdhc2tlZEZvckRvbmF0aW9uJykpIHtcclxuXHJcbiAgICAgIHRoaXMuY3JlYXRlS29GaU92ZXJsYXkoY29udGFpbmVyRWwpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUZlYXR1cmVIZWFkaW5nKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgbGFiZWw6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgaW5mb1NlY3Rpb246IHN0cmluZyB8IG51bGwsIHNldHRpbmdzS2V5OiBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzIHwgbnVsbCk6IFNldHRpbmdFbCB7XHJcbiAgICBjb25zdCBzZXR0aW5nID0gbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgLnNldEhlYWRpbmcoKVxyXG4gICAgICAuc2V0Q2xhc3MoJ2FjLXNldHRpbmdzLWhlYWRpbmcnKVxyXG4gICAgICAuc2V0TmFtZShsYWJlbClcclxuICAgICAgLnNldERlc2MoZGVzY3JpcHRpb24pXHJcblxyXG4gICAgaWYgKGluZm9TZWN0aW9uICE9PSBudWxsKSB7XHJcbiAgICAgIHNldHRpbmcuYWRkRXh0cmFCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG4gICAgICAgIC5zZXRUb29sdGlwKFwiT3BlbiBnaXRodWIgZG9jdW1lbnRhdGlvblwiKVxyXG4gICAgICAgIC5zZXRJY29uKCdpbmZvJylcclxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICB3aW5kb3cub3BlbihgJHtSRUFETUVfVVJMfSMke2luZm9TZWN0aW9ufWApXHJcbiAgICAgICAgfSlcclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZXR0aW5nc0tleSAhPT0gbnVsbCkge1xyXG4gICAgICBzZXR0aW5nLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG4gICAgICAgIHRvZ2dsZVxyXG4gICAgICAgICAgLnNldFRvb2x0aXAoXCJSZXF1aXJlcyBhIHJlbG9hZCB0byB0YWtlIGVmZmVjdC5cIilcclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKHNldHRpbmdzS2V5KSBhcyBib29sZWFuKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgW3NldHRpbmdzS2V5XTogdmFsdWUgfSlcclxuICAgICAgICAgICAgbmV3IE5vdGljZShcIlJlbG9hZCBvYnNpZGlhbiB0byBhcHBseSB0aGUgY2hhbmdlcy5cIilcclxuICAgICAgICAgIH0pXHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2V0dGluZ1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVUZXh0U2V0dGluZyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHNldHRpbmdJZDoga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgc2V0dGluZzogVGV4dFNldHRpbmcpIHtcclxuICAgIG5ldyBTZXR0aW5nRWwoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHNldHRpbmcubGFiZWwpXHJcbiAgICAgIC5zZXREZXNjKHNldHRpbmcuZGVzY3JpcHRpb24pXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKHNldHRpbmdJZCkgYXMgc3RyaW5nKVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dGluZ3NNYW5hZ2VyLnNldFNldHRpbmcoeyBbc2V0dGluZ0lkXTogc2V0dGluZy5wYXJzZSA/IHNldHRpbmcucGFyc2UodmFsdWUpIDogdmFsdWUgfSlcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZU51bWJlclNldHRpbmcoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBzZXR0aW5nSWQ6IGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMsIHNldHRpbmc6IE51bWJlclNldHRpbmcpIHtcclxuICAgIG5ldyBTZXR0aW5nRWwoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHNldHRpbmcubGFiZWwpXHJcbiAgICAgIC5zZXREZXNjKHNldHRpbmcuZGVzY3JpcHRpb24pXHJcbiAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxyXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKHNldHRpbmdJZCkudG9TdHJpbmcoKSlcclxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgW3NldHRpbmdJZF06IHNldHRpbmcucGFyc2UodmFsdWUpIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVCb29sZWFuU2V0dGluZyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIHNldHRpbmdJZDoga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcywgc2V0dGluZzogQm9vbGVhblNldHRpbmcpIHtcclxuICAgIG5ldyBTZXR0aW5nRWwoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHNldHRpbmcubGFiZWwpXHJcbiAgICAgIC5zZXREZXNjKHNldHRpbmcuZGVzY3JpcHRpb24pXHJcbiAgICAgIC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxyXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKHNldHRpbmdJZCkgYXMgYm9vbGVhbilcclxuICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHsgW3NldHRpbmdJZF06IHZhbHVlIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVEcm9wZG93blNldHRpbmcoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBzZXR0aW5nSWQ6IGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMsIHNldHRpbmc6IERyb3Bkb3duU2V0dGluZykge1xyXG4gICAgbmV3IFNldHRpbmdFbChjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUoc2V0dGluZy5sYWJlbClcclxuICAgICAgLnNldERlc2Moc2V0dGluZy5kZXNjcmlwdGlvbilcclxuICAgICAgLmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXHJcbiAgICAgICAgLmFkZE9wdGlvbnMoc2V0dGluZy5vcHRpb25zKVxyXG4gICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzTWFuYWdlci5nZXRTZXR0aW5nKHNldHRpbmdJZCkgYXMgc3RyaW5nKVxyXG4gICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuc2V0dGluZ3NNYW5hZ2VyLnNldFNldHRpbmcoeyBbc2V0dGluZ0lkXTogdmFsdWUgfSlcclxuICAgICAgICB9KVxyXG4gICAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNyZWF0ZUJ1dHRvblNldHRpbmcoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBzZXR0aW5nSWQ6IGtleW9mIEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMsIHNldHRpbmc6IEJ1dHRvblNldHRpbmcpIHtcclxuICAgIG5ldyBTZXR0aW5nRWwoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHNldHRpbmcubGFiZWwpXHJcbiAgICAgIC5zZXREZXNjKHNldHRpbmcuZGVzY3JpcHRpb24pXHJcbiAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxyXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KCdPcGVuJylcclxuICAgICAgICAub25DbGljaygoKSA9PiBzZXR0aW5nLm9uQ2xpY2soKSlcclxuICAgICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVTdHlsZXNTZXR0aW5nKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgc2V0dGluZ0lkOiBrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzLCBzZXR0aW5nOiBTdHlsZUF0dHJpYnV0ZXNTZXR0aW5nKSB7XHJcbiAgICBjb25zdCBuZXN0ZWRDb250YWluZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RldGFpbHMnKVxyXG4gICAgbmVzdGVkQ29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZCgnc2V0dGluZy1pdGVtJylcclxuICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKG5lc3RlZENvbnRhaW5lckVsKVxyXG5cclxuICAgIGNvbnN0IHN1bW1hcnlFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N1bW1hcnknKVxyXG4gICAgc3VtbWFyeUVsLnRleHRDb250ZW50ID0gc2V0dGluZy5sYWJlbFxyXG4gICAgbmVzdGVkQ29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoc3VtbWFyeUVsKVxyXG5cclxuICAgIGZvciAoY29uc3Qgc3R5bGVBdHRyaWJ1dGUgb2Ygc2V0dGluZy5nZXRQYXJhbWV0ZXJzKHRoaXMuc2V0dGluZ3NNYW5hZ2VyKSkge1xyXG4gICAgICBuZXcgU2V0dGluZ0VsKG5lc3RlZENvbnRhaW5lckVsKVxyXG4gICAgICAgIC5zZXROYW1lKHN0eWxlQXR0cmlidXRlLmxhYmVsKVxyXG4gICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxyXG4gICAgICAgICAgLmFkZE9wdGlvbnMoT2JqZWN0LmZyb21FbnRyaWVzKHN0eWxlQXR0cmlidXRlLm9wdGlvbnMubWFwKG9wdGlvbiA9PiBbb3B0aW9uLnZhbHVlLCBvcHRpb24udmFsdWUgPT09IG51bGwgPyBgJHtvcHRpb24ubGFiZWx9IChkZWZhdWx0KWAgOiBvcHRpb24ubGFiZWxdKSkpXHJcbiAgICAgICAgICAuc2V0VmFsdWUoKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmdldFNldHRpbmcoc2V0dGluZ0lkKSBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9KVtzdHlsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5XSA/PyAnbnVsbCcpXHJcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdGhpcy5zZXR0aW5nc01hbmFnZXIuZ2V0U2V0dGluZyhzZXR0aW5nSWQpIGFzIHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ251bGwnKSBkZWxldGUgbmV3VmFsdWVbc3R5bGVBdHRyaWJ1dGUuZGF0YXNldEtleV1cclxuICAgICAgICAgICAgZWxzZSBuZXdWYWx1ZVtzdHlsZUF0dHJpYnV0ZS5kYXRhc2V0S2V5XSA9IHZhbHVlXHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldHRpbmdzTWFuYWdlci5zZXRTZXR0aW5nKHtcclxuICAgICAgICAgICAgICBbc2V0dGluZ0lkXTogbmV3VmFsdWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVLb0ZpT3ZlcmxheShjb250YWluZXJFbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IHNpZGViYXJXaWR0aCA9IGNvbnRhaW5lckVsLnBhcmVudEVsZW1lbnQ/LnByZXZpb3VzRWxlbWVudFNpYmxpbmc/LmNsaWVudFdpZHRoID8/IDBcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdrb2ZpLW92ZXJsYXknKVxyXG4gICAgb3ZlcmxheS5zdHlsZS5sZWZ0ID0gYCR7c2lkZWJhcldpZHRofXB4YFxyXG5cclxuICAgIGNvbnN0IGRpc21pc3MgPSAoKSA9PiB7XHJcbiAgICAgIG92ZXJsYXkucmVtb3ZlKClcclxuICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuc2V0U2V0dGluZyh7IGFza2VkRm9yRG9uYXRpb246IHRydWUgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gxJylcclxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gJ0Vuam95aW5nIHRoZSBwbHVnaW4/J1xyXG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZCh0aXRsZSlcclxuXHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG4gICAgZGVzY3JpcHRpb24uaW5uZXJIVE1MID0gYEN1cnJlbnRseSwgQWR2YW5jZWQgQ2FudmFzIGhhcyByZWNlaXZlZCA8Yj5+JHtSRUNFSVZFRF9ET05BVElPTlN9JDwvYj4gaW4gZG9uYXRpb25zIHdpdGggYSB0b3RhbCBvZiA8Yj5+JHtTUEVOVF9IT1VSU30gaG91cnM8L2I+IHNwZW50IG9uIGRldmVsb3BtZW50LmBcclxuICAgIG92ZXJsYXkuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pXHJcblxyXG4gICAgY29uc3QgaG91cmx5UmF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Byb2dyZXNzJylcclxuICAgIGhvdXJseVJhdGUudmFsdWUgPSBSRUNFSVZFRF9ET05BVElPTlMgLyBTUEVOVF9IT1VSU1xyXG4gICAgaG91cmx5UmF0ZS5tYXggPSBIT1VSTFlfUkFURV9HT0FMXHJcbiAgICBvdmVybGF5LmFwcGVuZENoaWxkKGhvdXJseVJhdGUpXHJcblxyXG4gICAgY29uc3QgdGFyZ2V0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuICAgIHRhcmdldERlc2NyaXB0aW9uLmlubmVySFRNTCA9IGBQbGVhc2UgaGVscCBtZSBkZXZlbG9wIHRoaXMgcGx1Z2luIGZ1cnRoZXIgYnkgcmVhY2hpbmcgdGhlIGdvYWwgb2YgPGI+JHtIT1VSTFlfUkFURV9HT0FMfSQvaG91cjwvYj4uYFxyXG4gICAgb3ZlcmxheS5hcHBlbmRDaGlsZCh0YXJnZXREZXNjcmlwdGlvbilcclxuXHJcbiAgICBjb25zdCBrb0ZpQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpXHJcbiAgICBrb0ZpQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2tvZmktYnV0dG9uJylcclxuICAgIGtvRmlCdXR0b24uaHJlZiA9IEtPRklfUEFHRV9VUkxcclxuICAgIGtvRmlCdXR0b24udGFyZ2V0ID0gJ19ibGFuaydcclxuICAgIGtvRmlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkaXNtaXNzKVxyXG5cclxuICAgIGNvbnN0IGtvRmlJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXHJcbiAgICBrb0ZpSW1hZ2Uuc3JjID0gS09GSV9CQURHRV9VUklcclxuXHJcbiAgICBrb0ZpQnV0dG9uLmFwcGVuZENoaWxkKGtvRmlJbWFnZSlcclxuICAgIG92ZXJsYXkuYXBwZW5kQ2hpbGQoa29GaUJ1dHRvbilcclxuXHJcbiAgICBjb25zdCBub0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXHJcbiAgICBub0J1dHRvbi5jbGFzc0xpc3QuYWRkKCduby1idXR0b24nKVxyXG4gICAgbm9CdXR0b24udGV4dENvbnRlbnQgPSBcIkkgZG9uJ3Qgd2FudCB0byBoZWxwXCJcclxuICAgIG5vQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGlzbWlzcylcclxuICAgIG92ZXJsYXkuYXBwZW5kQ2hpbGQobm9CdXR0b24pXHJcblxyXG4gICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQob3ZlcmxheSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlS29GaUJhZGdlKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3Qga29GaUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxyXG4gICAga29GaUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdrb2ZpLWJ1dHRvbicpXHJcbiAgICBrb0ZpQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3N0aWNreScpXHJcbiAgICBrb0ZpQnV0dG9uLmhyZWYgPSBLT0ZJX1BBR0VfVVJMXHJcbiAgICBrb0ZpQnV0dG9uLnRhcmdldCA9ICdfYmxhbmsnXHJcblxyXG4gICAgY29uc3Qga29GaUltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcclxuICAgIGtvRmlJbWFnZS5zcmMgPSBLT0ZJX0JBREdFX1VSSVxyXG5cclxuICAgIGtvRmlCdXR0b24uYXBwZW5kQ2hpbGQoa29GaUltYWdlKVxyXG4gICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoa29GaUJ1dHRvbilcclxuICB9XHJcbn1cclxuIiwgImltcG9ydCB7IENhbnZhc05vZGVUeXBlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVBdHRyaWJ1dGVPcHRpb24ge1xyXG4gIGljb246IHN0cmluZ1xyXG4gIGxhYmVsOiBzdHJpbmdcclxuICB2YWx1ZTogc3RyaW5nIHwgbnVsbCAvLyBUaGUgZWxlbWVudCB3aXRoIHRoZSBudWxsIHZhbHVlIGlzIHRoZSBkZWZhdWx0XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVBdHRyaWJ1dGUge1xyXG4gIGRhdGFzZXRLZXk6IHN0cmluZ1xyXG4gIGxhYmVsOiBzdHJpbmdcclxuICBub2RlVHlwZXM/OiBDYW52YXNOb2RlVHlwZVtdXHJcbiAgb3B0aW9uczogU3R5bGVBdHRyaWJ1dGVPcHRpb25bXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQlVJTFRJTl9OT0RFX1NUWUxFX0FUVFJJQlVURVMgPSBbXHJcbiAge1xyXG4gICAgZGF0YXNldEtleTogJ3RleHRBbGlnbicsXHJcbiAgICBsYWJlbDogJ1RleHQgQWxpZ25tZW50JyxcclxuICAgIG5vZGVUeXBlczogWyd0ZXh0J10sXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAnYWxpZ24tbGVmdCcsXHJcbiAgICAgICAgbGFiZWw6ICdMZWZ0JyxcclxuICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2FsaWduLWNlbnRlcicsXHJcbiAgICAgICAgbGFiZWw6ICdDZW50ZXInLFxyXG4gICAgICAgIHZhbHVlOiAnY2VudGVyJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2FsaWduLXJpZ2h0JyxcclxuICAgICAgICBsYWJlbDogJ1JpZ2h0JyxcclxuICAgICAgICB2YWx1ZTogJ3JpZ2h0J1xyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfSxcclxuICB7XHJcbiAgICBkYXRhc2V0S2V5OiAnc2hhcGUnLFxyXG4gICAgbGFiZWw6ICdTaGFwZScsXHJcbiAgICBub2RlVHlwZXM6IFsndGV4dCddLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3JlY3RhbmdsZS1ob3Jpem9udGFsJyxcclxuICAgICAgICBsYWJlbDogJ1JvdW5kIFJlY3RhbmdsZScsXHJcbiAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdzaGFwZS1waWxsJyxcclxuICAgICAgICBsYWJlbDogJ1BpbGwnLFxyXG4gICAgICAgIHZhbHVlOiAncGlsbCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdkaWFtb25kJyxcclxuICAgICAgICBsYWJlbDogJ0RpYW1vbmQnLFxyXG4gICAgICAgIHZhbHVlOiAnZGlhbW9uZCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdzaGFwZS1wYXJhbGxlbG9ncmFtJyxcclxuICAgICAgICBsYWJlbDogJ1BhcmFsbGVsb2dyYW0nLFxyXG4gICAgICAgIHZhbHVlOiAncGFyYWxsZWxvZ3JhbSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdjaXJjbGUnLFxyXG4gICAgICAgIGxhYmVsOiAnQ2lyY2xlJyxcclxuICAgICAgICB2YWx1ZTogJ2NpcmNsZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdzaGFwZS1wcmVkZWZpbmVkLXByb2Nlc3MnLFxyXG4gICAgICAgIGxhYmVsOiAnUHJlZGVmaW5lZCBQcm9jZXNzJyxcclxuICAgICAgICB2YWx1ZTogJ3ByZWRlZmluZWQtcHJvY2VzcydcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdzaGFwZS1kb2N1bWVudCcsXHJcbiAgICAgICAgbGFiZWw6ICdEb2N1bWVudCcsXHJcbiAgICAgICAgdmFsdWU6ICdkb2N1bWVudCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdzaGFwZS1kYXRhYmFzZScsXHJcbiAgICAgICAgbGFiZWw6ICdEYXRhYmFzZScsXHJcbiAgICAgICAgdmFsdWU6ICdkYXRhYmFzZSdcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZGF0YXNldEtleTogJ2JvcmRlcicsXHJcbiAgICBsYWJlbDogJ0JvcmRlcicsXHJcbiAgICBvcHRpb25zOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAnYm9yZGVyLXNvbGlkJyxcclxuICAgICAgICBsYWJlbDogJ1NvbGlkJyxcclxuICAgICAgICB2YWx1ZTogbnVsbFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ2JvcmRlci1kYXNoZWQnLFxyXG4gICAgICAgIGxhYmVsOiAnRGFzaGVkJyxcclxuICAgICAgICB2YWx1ZTogJ2Rhc2hlZCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdib3JkZXItZG90dGVkJyxcclxuICAgICAgICBsYWJlbDogJ0RvdHRlZCcsXHJcbiAgICAgICAgdmFsdWU6ICdkb3R0ZWQnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAnZXllLW9mZicsXHJcbiAgICAgICAgbGFiZWw6ICdJbnZpc2libGUnLFxyXG4gICAgICAgIHZhbHVlOiAnaW52aXNpYmxlJ1xyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfVxyXG5dIGFzIFN0eWxlQXR0cmlidXRlW11cclxuXHJcbmV4cG9ydCBjb25zdCBCVUlMVElOX0VER0VfU1RZTEVfQVRUUklCVVRFUyA9IFtcclxuICB7XHJcbiAgICBkYXRhc2V0S2V5OiAncGF0aCcsXHJcbiAgICBsYWJlbDogJ1BhdGggU3R5bGUnLFxyXG4gICAgb3B0aW9uczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3BhdGgtc29saWQnLFxyXG4gICAgICAgIGxhYmVsOiAnU29saWQnLFxyXG4gICAgICAgIHZhbHVlOiBudWxsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpY29uOiAncGF0aC1kb3R0ZWQnLFxyXG4gICAgICAgIGxhYmVsOiAnRG90dGVkJyxcclxuICAgICAgICB2YWx1ZTogJ2RvdHRlZCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdwYXRoLXNob3J0LWRhc2hlZCcsXHJcbiAgICAgICAgbGFiZWw6ICdTaG9ydCBEYXNoZWQnLFxyXG4gICAgICAgIHZhbHVlOiAnc2hvcnQtZGFzaGVkJ1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3BhdGgtbG9uZy1kYXNoZWQnLFxyXG4gICAgICAgIGxhYmVsOiAnTG9uZyBEYXNoZWQnLFxyXG4gICAgICAgIHZhbHVlOiAnbG9uZy1kYXNoZWQnXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9LFxyXG4gIHtcclxuICAgIGRhdGFzZXRLZXk6ICdhcnJvdycsXHJcbiAgICBsYWJlbDogJ0Fycm93IFN0eWxlJyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy10cmlhbmdsZScsXHJcbiAgICAgICAgbGFiZWw6ICdUcmlhbmdsZScsXHJcbiAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy10cmlhbmdsZS1vdXRsaW5lJyxcclxuICAgICAgICBsYWJlbDogJ1RyaWFuZ2xlIE91dGxpbmUnLFxyXG4gICAgICAgIHZhbHVlOiAndHJpYW5nbGUtb3V0bGluZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy10aGluLXRyaWFuZ2xlJyxcclxuICAgICAgICBsYWJlbDogJ1RoaW4gVHJpYW5nbGUnLFxyXG4gICAgICAgIHZhbHVlOiAndGhpbi10cmlhbmdsZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy1oYWx2ZWQtdHJpYW5nbGUnLFxyXG4gICAgICAgIGxhYmVsOiAnSGFsdmVkIFRyaWFuZ2xlJyxcclxuICAgICAgICB2YWx1ZTogJ2hhbHZlZC10cmlhbmdsZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy1kaWFtb25kJyxcclxuICAgICAgICBsYWJlbDogJ0RpYW1vbmQnLFxyXG4gICAgICAgIHZhbHVlOiAnZGlhbW9uZCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy1kaWFtb25kLW91dGxpbmUnLFxyXG4gICAgICAgIGxhYmVsOiAnRGlhbW9uZCBPdXRsaW5lJyxcclxuICAgICAgICB2YWx1ZTogJ2RpYW1vbmQtb3V0bGluZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy1jaXJjbGUnLFxyXG4gICAgICAgIGxhYmVsOiAnQ2lyY2xlJyxcclxuICAgICAgICB2YWx1ZTogJ2NpcmNsZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdhcnJvdy1jaXJjbGUtb3V0bGluZScsXHJcbiAgICAgICAgbGFiZWw6ICdDaXJjbGUgT3V0bGluZScsXHJcbiAgICAgICAgdmFsdWU6ICdjaXJjbGUtb3V0bGluZSdcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgZGF0YXNldEtleTogJ3BhdGhmaW5kaW5nTWV0aG9kJyxcclxuICAgIGxhYmVsOiAnUGF0aGZpbmRpbmcgTWV0aG9kJyxcclxuICAgIG9wdGlvbnM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdwYXRoZmluZGluZy1tZXRob2QtYmV6aWVyJyxcclxuICAgICAgICBsYWJlbDogJ0JlemllcicsXHJcbiAgICAgICAgdmFsdWU6IG51bGxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdzbGFzaCcsXHJcbiAgICAgICAgbGFiZWw6ICdEaXJlY3QnLFxyXG4gICAgICAgIHZhbHVlOiAnZGlyZWN0J1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaWNvbjogJ3BhdGhmaW5kaW5nLW1ldGhvZC1zcXVhcmUnLFxyXG4gICAgICAgIGxhYmVsOiAnU3F1YXJlJyxcclxuICAgICAgICB2YWx1ZTogJ3NxdWFyZSdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGljb246ICdtYXAnLFxyXG4gICAgICAgIGxhYmVsOiAnQSonLFxyXG4gICAgICAgIHZhbHVlOiAnYS1zdGFyJ1xyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfVxyXG5dIGFzIFN0eWxlQXR0cmlidXRlW10iLCAiY29uc3QgQ0FOVkFTX0VWRU5UX1BSRUZJWCA9ICdjYW52YXMnXHJcbmNvbnN0IFBMVUdJTl9FVkVOVF9QUkVGSVggPSAnYWR2YW5jZWQtY2FudmFzJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFBsdWdpbkV2ZW50ID0ge1xyXG4gIFNldHRpbmdzQ2hhbmdlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06c2V0dGluZ3MtY2hhbmdlZGBcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENhbnZhc0V2ZW50ID0ge1xyXG4gIC8vIEJ1aWx0LWluIGV2ZW50c1xyXG4gIFNlbGVjdGlvbkNvbnRleHRNZW51OiBgJHtDQU5WQVNfRVZFTlRfUFJFRklYfTpzZWxlY3Rpb24tbWVudWAsXHJcbiAgTm9kZUNvbnRleHRNZW51OiBgJHtDQU5WQVNfRVZFTlRfUFJFRklYfTpub2RlLW1lbnVgLFxyXG4gIEVkZ2VDb250ZXh0TWVudTogYCR7Q0FOVkFTX0VWRU5UX1BSRUZJWH06ZWRnZS1tZW51YCxcclxuICBOb2RlQ29ubmVjdGlvbkRyb3BDb250ZXh0TWVudTogYCR7Q0FOVkFTX0VWRU5UX1BSRUZJWH06bm9kZS1jb25uZWN0aW9uLWRyb3AtbWVudWAsXHJcblxyXG4gIC8vIEN1c3RvbSBldmVudHNcclxuICBDYW52YXNDaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpjYW52YXMtY2hhbmdlZGAsXHJcbiAgVmlld3BvcnRDaGFuZ2VkOiB7XHJcbiAgICBCZWZvcmU6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OnZpZXdwb3J0LWNoYW5nZWQ6YmVmb3JlYCxcclxuICAgIEFmdGVyOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTp2aWV3cG9ydC1jaGFuZ2VkOmFmdGVyYFxyXG4gIH0sXHJcbiAgTm9kZU1vdmVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLW1vdmVkYCxcclxuICBEb3VibGVDbGljazogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06ZG91YmxlLWNsaWNrYCxcclxuICBEcmFnZ2luZ1N0YXRlQ2hhbmdlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06ZHJhZ2dpbmctc3RhdGUtY2hhbmdlZGAsXHJcbiAgTm9kZUNyZWF0ZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9Om5vZGUtY3JlYXRlZGAsXHJcbiAgRWRnZUNyZWF0ZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmVkZ2UtY3JlYXRlZGAsXHJcbiAgTm9kZUFkZGVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLWFkZGVkYCxcclxuICBFZGdlQWRkZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmVkZ2UtYWRkZWRgLFxyXG4gIE5vZGVDaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLWNoYW5nZWRgLFxyXG4gIEVkZ2VDaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTplZGdlLWNoYW5nZWRgLFxyXG4gIE5vZGVUZXh0Q29udGVudENoYW5nZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9Om5vZGUtdGV4dC1jb250ZW50LWNoYW5nZWRgLFxyXG4gIE5vZGVSZW1vdmVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpub2RlLXJlbW92ZWRgLFxyXG4gIEVkZ2VSZW1vdmVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTplZGdlLXJlbW92ZWRgLFxyXG4gIE9uQ29weTogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06Y29weWAsXHJcbiAgTm9kZUVkaXRpbmdTdGF0ZUNoYW5nZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9Om5vZGUtZWRpdGluZy1zdGF0ZS1jaGFuZ2VkYCxcclxuICBOb2RlQnJlYWtwb2ludENoYW5nZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9Om5vZGUtYnJlYWtwb2ludC1jaGFuZ2VkYCxcclxuICBOb2RlQkJveFJlcXVlc3RlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06bm9kZS1iYm94LXJlcXVlc3RlZGAsXHJcbiAgRWRnZUNlbnRlclJlcXVlc3RlZDogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06ZWRnZS1jZW50ZXItcmVxdWVzdGVkYCxcclxuICBDb250YWluaW5nTm9kZXNSZXF1ZXN0ZWQ6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmNvbnRhaW5pbmctbm9kZXMtcmVxdWVzdGVkYCxcclxuICBTZWxlY3Rpb25DaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpzZWxlY3Rpb24tY2hhbmdlZGAsXHJcbiAgWm9vbVRvQmJveDoge1xyXG4gICAgQmVmb3JlOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTp6b29tLXRvLWJib3g6YmVmb3JlYCxcclxuICAgIEFmdGVyOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTp6b29tLXRvLWJib3g6YWZ0ZXJgXHJcbiAgfSxcclxuICBQb3B1cE1lbnVDcmVhdGVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpwb3B1cC1tZW51LWNyZWF0ZWRgLFxyXG4gIE5vZGVJbnRlcmFjdGlvbjogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06bm9kZS1pbnRlcmFjdGlvbmAsXHJcbiAgVW5kbzogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06dW5kb2AsXHJcbiAgUmVkbzogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06cmVkb2AsXHJcbiAgUmVhZG9ubHlDaGFuZ2VkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpyZWFkb25seS1jaGFuZ2VkYCxcclxuICBEYXRhUmVxdWVzdGVkOiBgJHtQTFVHSU5fRVZFTlRfUFJFRklYfTpkYXRhLXJlcXVlc3RlZGAsXHJcbiAgTG9hZERhdGE6IGAke1BMVUdJTl9FVkVOVF9QUkVGSVh9OmxvYWQtZGF0YWAsXHJcbiAgQ2FudmFzU2F2ZWQ6IHtcclxuICAgIEJlZm9yZTogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06Y2FudmFzLXNhdmVkOmJlZm9yZWAsXHJcbiAgICBBZnRlcjogYCR7UExVR0lOX0VWRU5UX1BSRUZJWH06Y2FudmFzLXNhdmVkOmFmdGVyYFxyXG4gIH1cclxufSIsICJpbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuaW1wb3J0IHsgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcyB9IGZyb20gXCJzcmMvc2V0dGluZ3NcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcblxyXG4gIGFic3RyYWN0IGlzRW5hYmxlZCgpOiBib29sZWFuIHwga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlc1xyXG4gIGFic3RyYWN0IGluaXQoKTogdm9pZFxyXG5cclxuICBjb25zdHJ1Y3RvcihwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luKSB7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxyXG5cclxuICAgIGNvbnN0IGlzRW5hYmxlZCA9IHRoaXMuaXNFbmFibGVkKClcclxuICAgIFxyXG4gICAgaWYgKCEoaXNFbmFibGVkID09PSB0cnVlIHx8IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoaXNFbmFibGVkIGFzIGFueSkpKSByZXR1cm5cclxuXHJcbiAgICB0aGlzLmluaXQoKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc05vZGUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvZXZlbnRzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmV4cG9ydCBjb25zdCBWQVJJQUJMRV9CUkVBS1BPSU5UX0NTU19WQVIgPSAnLS12YXJpYWJsZS1icmVha3BvaW50J1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmFyaWFibGVCcmVha3BvaW50Q2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAndmFyaWFibGVCcmVha3BvaW50RmVhdHVyZUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZUJyZWFrcG9pbnRDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUsIGJyZWFrcG9pbnRSZWY6IHsgdmFsdWU6IGJvb2xlYW4gfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLm5vZGVFbClcclxuICAgICAgICBjb25zdCB2YXJpYWJsZUJyZWFrcG9pbnRTdHJpbmcgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoVkFSSUFCTEVfQlJFQUtQT0lOVF9DU1NfVkFSKVxyXG4gICAgICAgIGlmICh2YXJpYWJsZUJyZWFrcG9pbnRTdHJpbmcubGVuZ3RoID09PSAwKSByZXR1cm5cclxuXHJcbiAgICAgICAgY29uc3QgdmFyaWFibGVCcmVha3BvaW50ID0gcGFyc2VGbG9hdCh2YXJpYWJsZUJyZWFrcG9pbnRTdHJpbmcpXHJcbiAgICAgICAgaWYgKGlzTmFOKHZhcmlhYmxlQnJlYWtwb2ludCkpIHJldHVyblxyXG5cclxuICAgICAgICBicmVha3BvaW50UmVmLnZhbHVlID0gY2FudmFzLnpvb20gPiB2YXJpYWJsZUJyZWFrcG9pbnRcclxuICAgICAgfVxyXG4gICAgKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgYWRkSWNvbiB9IGZyb20gXCJvYnNpZGlhblwiXHJcblxyXG5jb25zdCBDVVNUT01fSUNPTlMgPSB7XHJcbiAgJ3NoYXBlLXBpbGwnOiBgPHJlY3Qgcng9XCIzMS4yNVwiIGhlaWdodD1cIjYyLjVcIiB3aWR0aD1cIjkzLjc1XCIgeT1cIjE4Ljc1XCIgeD1cIjMuMTI1XCIgc3Ryb2tlLXdpZHRoPVwiOC4zMzNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwidHJhbnNwYXJlbnRcIi8+YCxcclxuICAnc2hhcGUtcGFyYWxsZWxvZ3JhbSc6IGA8cmVjdCB0cmFuc2Zvcm09XCJza2V3WCgtMjApXCIgcng9XCI1XCIgaGVpZ2h0PVwiNTBcIiB3aWR0aD1cIjcwXCIgeT1cIjI1XCIgeD1cIjM1XCIgc3Ryb2tlLXdpZHRoPVwiOC4zMzNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwidHJhbnNwYXJlbnRcIi8+YCxcclxuICAnc2hhcGUtcHJlZGVmaW5lZC1wcm9jZXNzJzogYFxyXG4gICAgPGcgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJub25lXCIgdHJhbnNmb3JtPVwibWF0cml4KDQuMTY2NjY3LDAsMCw0LjE2NjY2NywwLDApXCI+XHJcbiAgICAgIDxwYXRoIGQ9XCJNIDQuOTk5Njg3IDMgTCAxOS4wMDAzMTIgMyBDIDIwLjEwNDY4OCAzIDIxIDMuODk1MzEyIDIxIDQuOTk5Njg3IEwgMjEgMTkuMDAwMzEyIEMgMjEgMjAuMTA0Njg4IDIwLjEwNDY4OCAyMSAxOS4wMDAzMTIgMjEgTCA0Ljk5OTY4NyAyMSBDIDMuODk1MzEyIDIxIDMgMjAuMTA0Njg4IDMgMTkuMDAwMzEyIEwgMyA0Ljk5OTY4NyBDIDMgMy44OTUzMTIgMy44OTUzMTIgMyA0Ljk5OTY4NyAzIFogTSA0Ljk5OTY4NyAzIFwiLz5cclxuICAgICAgPHBhdGggZD1cIk0gNyAzIEwgNyAyMSBcIi8+XHJcbiAgICAgIDxwYXRoIGQ9XCJNIDE3IDMgTCAxNyAyMSBcIi8+XHJcbiAgICA8L2c+XHJcbiAgYCxcclxuICAnc2hhcGUtZG9jdW1lbnQnOiBgPHBhdGggdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsIDUpXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCI4LjMzM1wiIGQ9XCJNODMuNzUgMjVDODUuODIgMjUgODcuNSAyNi42OCA4Ny41IDI4Ljc1TDg3LjUgNjQuMzc1UTY4Ljc1IDU0LjI1IDUwIDY0LjM3NSAzMS4yNSA3NC41IDEyLjUgNjQuMzc1TDEyLjUgMzAuNjI1IDEyLjUgMjguNzVDMTIuNSAyNi42OCAxNC4xOCAyNSAxNi4yNSAyNVpcIi8+YCxcclxuICAnc2hhcGUtZGF0YWJhc2UnOiBgXHJcbiAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMjAsIDIwKVwiIHN0cm9rZS13aWR0aD1cIjguMzMzXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIj5cclxuICAgICAgPHBhdGggZD1cIk0gMSA1MSBMIDEgMTEgQyAxIDUuNDggMTQuNDMgMSAzMSAxIEMgNDcuNTcgMSA2MSA1LjQ4IDYxIDExIEwgNjEgNTEgQyA2MSA1Ni41MiA0Ny41NyA2MSAzMSA2MSBDIDE0LjQzIDYxIDEgNTYuNTIgMSA1MSBaXCIvPlxyXG4gICAgICA8cGF0aCBkPVwiTSAxIDExIEMgMSAxNi41MiAxNC40MyAyMSAzMSAyMSBDIDQ3LjU3IDIxIDYxIDE2LjUyIDYxIDExXCIvPlxyXG4gICAgPC9nPlxyXG4gIGAsXHJcbiAgXHJcbiAgJ2JvcmRlci1zb2xpZCc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguMzMzXCIgZD1cIk05MS42NjY3IDQ1LjgzMzN2NC4xNjY3YzAgMi4wODMzLTIuMDgzMyA0LjE2NjctNC4xNjY3IDQuMTY2N0gxMi41Yy0yLjA4MzMgMC00LjE2NjctMi4wODMzLTQuMTY2Ny00LjE2Njd2LTQuMTY2N1wiLz5gLFxyXG4gICdib3JkZXItZGFzaGVkJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiOC4zMzNcIiBzdHJva2UtZGFzaGFycmF5PVwiMTMuN1wiIGQ9XCJNOTEuNjY2NyA0NS44MzMzdjQuMTY2N2MwIDIuMDgzMy0yLjA4MzMgNC4xNjY3LTQuMTY2NyA0LjE2NjdIMTIuNWMtMi4wODMzIDAtNC4xNjY3LTIuMDgzMy00LjE2NjctNC4xNjY3di00LjE2NjdcIi8+YCxcclxuICAnYm9yZGVyLWRvdHRlZCc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguMzMzXCIgc3Ryb2tlLWRhc2hhcnJheT1cIjguN1wiIGQ9XCJNOTEuNjY2NyA0NS44MzMzdjQuMTY2N2MwIDIuMDgzMy0yLjA4MzMgNC4xNjY3LTQuMTY2NyA0LjE2NjdIMTIuNWMtMi4wODMzIDAtNC4xNjY3LTIuMDgzMy00LjE2NjctNC4xNjY3di00LjE2NjdcIi8+YCxcclxuXHJcbiAgJ3BhdGgtc29saWQnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCI4LjVcIiBkPVwiTTM3LjUgNzkuMTY2N2gzNS40MTY3YTE0LjU4MzMgMTQuNTgzMyA5MCAwMDAtMjkuMTY2N2gtNDUuODMzM2ExNC41ODMzIDE0LjU4MzMgOTAgMDEwLTI5LjE2NjdINjIuNVwiLz5gLFxyXG4gICdwYXRoLWRvdHRlZCc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguNVwiIHN0cm9rZS1kYXNoYXJyYXk9XCI4LjhcIiBkPVwiTTM3LjUgNzkuMTY2N2gzNS40MTY3YTE0LjU4MzMgMTQuNTgzMyA5MCAwMDAtMjkuMTY2N2gtNDUuODMzM2ExNC41ODMzIDE0LjU4MzMgOTAgMDEwLTI5LjE2NjdINjIuNVwiLz5gLFxyXG4gICdwYXRoLXNob3J0LWRhc2hlZCc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS13aWR0aD1cIjguNVwiIHN0cm9rZS1kYXNoYXJyYXk9XCIxNVwiIGQ9XCJNMzcuNSA3OS4xNjY3aDM1LjQxNjdhMTQuNTgzMyAxNC41ODMzIDkwIDAwMC0yOS4xNjY3aC00NS44MzMzYTE0LjU4MzMgMTQuNTgzMyA5MCAwMTAtMjkuMTY2N0g2Mi41XCIvPmAsXHJcbiAgJ3BhdGgtbG9uZy1kYXNoZWQnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCI4LjVcIiBzdHJva2UtZGFzaGFycmF5PVwiMjNcIiBkPVwiTTM3LjUgNzkuMTY2N2gzNS40MTY3YTE0LjU4MzMgMTQuNTgzMyA5MCAwMDAtMjkuMTY2N2gtNDUuODMzM2ExNC41ODMzIDE0LjU4MzMgOTAgMDEwLTI5LjE2NjdINjIuNVwiLz5gLFxyXG5cclxuICAnYXJyb3ctdHJpYW5nbGUnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNIDE1IDEwIEwgODUgNTAgTCAxNSA5MCBaXCIvPmAsXHJcbiAgJ2Fycm93LXRyaWFuZ2xlLW91dGxpbmUnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiOC41XCIgZmlsbD1cIm5vbmVcIiBkPVwiTSAxNSAxMCBMIDg1IDUwIEwgMTUgOTAgWlwiLz5gLFxyXG4gICdhcnJvdy10aGluLXRyaWFuZ2xlJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjguNVwiIGZpbGw9XCJub25lXCIgZD1cIk0gMTUgMTAgTCA4NSA1MCBMIDE1IDkwXCIvPmAsXHJcbiAgJ2Fycm93LWhhbHZlZC10cmlhbmdsZSc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0gMTUgNTAgTCA4NSA1MCBMIDE1IDkwIFpcIi8+YCxcclxuICAnYXJyb3ctZGlhbW9uZCc6IGA8cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0gNTAgMCBMIDEwMCA1MCBMIDUwIDEwMCBMIDAgNTAgWlwiLz5gLFxyXG4gICdhcnJvdy1kaWFtb25kLW91dGxpbmUnOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiOC41XCIgZmlsbD1cIm5vbmVcIiBkPVwiTSA1MCAwIEwgMTAwIDUwIEwgNTAgMTAwIEwgMCA1MCBaXCIvPmAsXHJcbiAgJ2Fycm93LWNpcmNsZSc6IGA8Y2lyY2xlIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI0NVwiLz5gLFxyXG4gICdhcnJvdy1jaXJjbGUtb3V0bGluZSc6IGA8Y2lyY2xlIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjguNVwiIGZpbGw9XCJub25lXCIgY3g9XCI1MFwiIGN5PVwiNTBcIiByPVwiNDVcIi8+YCxcclxuXHJcbiAgJ3BhdGhmaW5kaW5nLW1ldGhvZC1iZXppZXInOiBgPHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCI4LjVcIiBkPVwiTTM3LjUgNzkuMTY2N2gzNS40MTY3YTE0LjU4MzMgMTQuNTgzMyA5MCAwMDAtMjkuMTY2N2gtNDUuODMzM2ExNC41ODMzIDE0LjU4MzMgOTAgMDEwLTI5LjE2NjdINjIuNVwiLz5gLFxyXG4gICdwYXRoZmluZGluZy1tZXRob2Qtc3F1YXJlJzogYDxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiOC41XCIgZD1cIk03Mi45MTY3IDc5LjE2NjcgNzIuOTE2NyA1MCAyNy4wODMzIDUwIDI3LjA4MzMgMjAuODMzM1wiLz5gLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uc0hlbHBlciB7XHJcbiAgc3RhdGljIGFkZEljb25zKCkge1xyXG4gICAgZm9yIChjb25zdCBbaWQsIHN2Z10gb2YgT2JqZWN0LmVudHJpZXMoQ1VTVE9NX0lDT05TKSkge1xyXG4gICAgICBhZGRJY29uKGlkLCBzdmcpXHJcbiAgICB9XHJcbiAgfVxyXG59IiwgImltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwic3JjL21haW5cIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCIuLi9ldmVudHNcIlxyXG5pbXBvcnQgeyBDYW52YXMsIENhbnZhc05vZGUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVidWdIZWxwZXIge1xyXG4gIHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW5cclxuICBsb2dnaW5nID0gdHJ1ZVxyXG5cclxuICBwcml2YXRlIG5vZGVBZGRlZENvdW50ID0gMFxyXG4gIHByaXZhdGUgbm9kZUNoYW5nZWRDb3VudCA9IDBcclxuICBwcml2YXRlIGVkZ2VBZGRlZENvdW50ID0gMFxyXG4gIHByaXZhdGUgZWRnZUNoYW5nZWRDb3VudCA9IDBcclxuXHJcbiAgY29uc3RydWN0b3IocGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbikge1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW5cclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChfY2FudmFzOiBDYW52YXMpID0+IHtcclxuICAgICAgICB0aGlzLm5vZGVBZGRlZENvdW50ID0gMFxyXG4gICAgICAgIHRoaXMubm9kZUNoYW5nZWRDb3VudCA9IDBcclxuICAgICAgICB0aGlzLmVkZ2VBZGRlZENvdW50ID0gMFxyXG4gICAgICAgIHRoaXMuZWRnZUNoYW5nZWRDb3VudCA9IDBcclxuICAgICAgfVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVBZGRlZCxcclxuICAgICAgKF9jYW52YXM6IENhbnZhcywgX25vZGU6IENhbnZhc05vZGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5sb2dnaW5nKSBjb25zb2xlLmNvdW50KCdcdUQ4M0RcdURGRTIgTm9kZUFkZGVkJylcclxuICAgICAgICB0aGlzLm5vZGVBZGRlZENvdW50KytcclxuICAgICAgfVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVDaGFuZ2VkLFxyXG4gICAgICAoX2NhbnZhczogQ2FudmFzLCBfbm9kZTogQ2FudmFzTm9kZSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmxvZ2dpbmcpIGNvbnNvbGUuY291bnQoJ1x1RDgzRFx1REZFMSBOb2RlQ2hhbmdlZCcpXHJcbiAgICAgICAgdGhpcy5ub2RlQ2hhbmdlZENvdW50KytcclxuICAgICAgfVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkVkZ2VBZGRlZCxcclxuICAgICAgKF9jYW52YXM6IENhbnZhcywgX2VkZ2U6IENhbnZhc05vZGUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5sb2dnaW5nKSBjb25zb2xlLmNvdW50KCdcdUQ4M0RcdURGRTIgRWRnZUFkZGVkJylcclxuICAgICAgICB0aGlzLmVkZ2VBZGRlZENvdW50KytcclxuICAgICAgfVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkVkZ2VDaGFuZ2VkLFxyXG4gICAgICAoX2NhbnZhczogQ2FudmFzLCBfZWRnZTogQ2FudmFzTm9kZSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmxvZ2dpbmcpIGNvbnNvbGUuY291bnQoJ1x1RDgzRFx1REZFMSBFZGdlQ2hhbmdlZCcpXHJcbiAgICAgICAgdGhpcy5lZGdlQ2hhbmdlZENvdW50KytcclxuICAgICAgfVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHJlc2V0RWZmaWNpZW5jeSgpIHtcclxuICAgIHRoaXMubm9kZUFkZGVkQ291bnQgPSAwXHJcbiAgICB0aGlzLm5vZGVDaGFuZ2VkQ291bnQgPSAwXHJcbiAgICB0aGlzLmVkZ2VBZGRlZENvdW50ID0gMFxyXG4gICAgdGhpcy5lZGdlQ2hhbmdlZENvdW50ID0gMFxyXG4gIH1cclxuXHJcbiAgbG9nRWZmaWNpZW5jeSgpIHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMucGx1Z2luLmdldEN1cnJlbnRDYW52YXMoKVxyXG4gICAgaWYgKCFjYW52YXMpIHJldHVyblxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdOb2RlQWRkZWQgRWZmaWNpZW5jeTonLCB0aGlzLm5vZGVBZGRlZENvdW50IC8gY2FudmFzLm5vZGVzLnNpemUpXHJcbiAgICBjb25zb2xlLmxvZygnTm9kZUNoYW5nZWQgRWZmaWNpZW5jeTonLCB0aGlzLm5vZGVDaGFuZ2VkQ291bnQgLyBjYW52YXMubm9kZXMuc2l6ZSlcclxuXHJcbiAgICBjb25zb2xlLmxvZygnRWRnZUFkZGVkIEVmZmljaWVuY3k6JywgdGhpcy5lZGdlQWRkZWRDb3VudCAvIGNhbnZhcy5lZGdlcy5zaXplKVxyXG4gICAgY29uc29sZS5sb2coJ0VkZ2VDaGFuZ2VkIEVmZmljaWVuY3k6JywgdGhpcy5lZGdlQ2hhbmdlZENvdW50IC8gY2FudmFzLmVkZ2VzLnNpemUpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcyB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9ldmVudHNcIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pZ3JhdGlvbkhlbHBlciB7XHJcbiAgcHJpdmF0ZSBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcblxyXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4pIHtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luXHJcbiAgfVxyXG5cclxuICBhc3luYyBtaWdyYXRlKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdGhpcy5taWdyYXRlTm9kZUFuZEVkZ2VTdHlsZXMoKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBtaWdyYXRlTm9kZUFuZEVkZ2VTdHlsZXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjYW52YXMubm9kZXMudmFsdWVzKCkpIHtcclxuICAgICAgICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuXHJcbiAgICAgICAgICBjb25zdCBuZXdTdHlsZUF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVsbCB9ID0ge31cclxuXHJcbiAgICAgICAgICBpZiAobm9kZURhdGEuaXNTdGlja2VyKSBuZXdTdHlsZUF0dHJpYnV0ZXNbJ2JvcmRlciddID0gJ2ludmlzaWJsZSdcclxuICAgICAgICAgIGlmIChub2RlRGF0YS5ib3JkZXJTdHlsZSkgbmV3U3R5bGVBdHRyaWJ1dGVzWydib3JkZXInXSA9IG5vZGVEYXRhLmJvcmRlclN0eWxlXHJcbiAgICAgICAgICBpZiAobm9kZURhdGEuc2hhcGUpIHtcclxuICAgICAgICAgICAgbmV3U3R5bGVBdHRyaWJ1dGVzLnRleHRBbGlnbiA9ICdjZW50ZXInXHJcbiAgICAgICAgICAgIG5ld1N0eWxlQXR0cmlidXRlcy5zaGFwZSA9IG5vZGVEYXRhLnNoYXBlXHJcblxyXG4gICAgICAgICAgICBpZiAobmV3U3R5bGVBdHRyaWJ1dGVzPy5zaGFwZSA9PT0gJ2NlbnRlcmVkLXJlY3RhbmdsZScpIGRlbGV0ZSBuZXdTdHlsZUF0dHJpYnV0ZXMuc2hhcGVcclxuICAgICAgICAgICAgaWYgKG5ld1N0eWxlQXR0cmlidXRlcz8uc2hhcGUgPT09ICdvdmFsJykgbmV3U3R5bGVBdHRyaWJ1dGVzLnNoYXBlID0gJ3BpbGwnXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGVsZXRlIG5vZGVEYXRhLmlzU3RpY2tlclxyXG4gICAgICAgICAgZGVsZXRlIG5vZGVEYXRhLmJvcmRlclN0eWxlXHJcbiAgICAgICAgICBkZWxldGUgbm9kZURhdGEuc2hhcGVcclxuXHJcbiAgICAgICAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAgICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgICAgICAgc3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAgICAgLi4ubm9kZURhdGEuc3R5bGVBdHRyaWJ1dGVzLFxyXG4gICAgICAgICAgICAgIC4uLm5ld1N0eWxlQXR0cmlidXRlc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBlZGdlIG9mIGNhbnZhcy5lZGdlcy52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgY29uc3QgZWRnZURhdGEgPSBlZGdlLmdldERhdGEoKVxyXG5cclxuICAgICAgICAgIGNvbnN0IG5ld1N0eWxlQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsIH0gPSB7fVxyXG5cclxuICAgICAgICAgIGlmIChlZGdlRGF0YS5lZGdlU3R5bGUpIG5ld1N0eWxlQXR0cmlidXRlcy5lZGdlID0gZWRnZURhdGEuZWRnZVN0eWxlXHJcbiAgICAgICAgICBpZiAoZWRnZURhdGEuZWRnZVBhdGhSb3V0ZSkgbmV3U3R5bGVBdHRyaWJ1dGVzLnBhdGhmaW5kaW5nTWV0aG9kID0gZWRnZURhdGEuZWRnZVBhdGhSb3V0ZVxyXG5cclxuICAgICAgICAgIGRlbGV0ZSBlZGdlRGF0YS5lZGdlU3R5bGVcclxuICAgICAgICAgIGRlbGV0ZSBlZGdlRGF0YS5lZGdlUGF0aFJvdXRlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBXb3Jrc3BhY2VXaW5kb3cgfSBmcm9tIFwib2JzaWRpYW5cIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpbmRvd3NNYW5hZ2VyIHtcclxuICBwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luXHJcbiAgd2luZG93czogV2luZG93W10gPSBbd2luZG93XVxyXG5cclxuICBjb25zdHJ1Y3RvcihwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luKSB7XHJcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbignd2luZG93LW9wZW4nLCBcclxuICAgICAgKF93aW46IFdvcmtzcGFjZVdpbmRvdywgd2luZG93OiBXaW5kb3cpID0+IHRoaXMud2luZG93cy5wdXNoKHdpbmRvdylcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKCd3aW5kb3ctY2xvc2UnLCBcclxuICAgICAgKF93aW46IFdvcmtzcGFjZVdpbmRvdywgd2luZG93OiBXaW5kb3cpID0+IHRoaXMud2luZG93cyA9IHRoaXMud2luZG93cy5maWx0ZXIoKHcpID0+IHcgIT09IHdpbmRvdylcclxuICAgICkpXHJcbiAgfVxyXG59IiwgImV4cG9ydCBmdW5jdGlvbiBhcm91bmQob2JqLCBmYWN0b3JpZXMpIHtcclxuICAgIGNvbnN0IHJlbW92ZXJzID0gT2JqZWN0LmtleXMoZmFjdG9yaWVzKS5tYXAoa2V5ID0+IGFyb3VuZDEob2JqLCBrZXksIGZhY3Rvcmllc1trZXldKSk7XHJcbiAgICByZXR1cm4gcmVtb3ZlcnMubGVuZ3RoID09PSAxID8gcmVtb3ZlcnNbMF0gOiBmdW5jdGlvbiAoKSB7IHJlbW92ZXJzLmZvckVhY2gociA9PiByKCkpOyB9O1xyXG59XHJcbmZ1bmN0aW9uIGFyb3VuZDEob2JqLCBtZXRob2QsIGNyZWF0ZVdyYXBwZXIpIHtcclxuICAgIGNvbnN0IG9yaWdpbmFsID0gb2JqW21ldGhvZF0sIGhhZE93biA9IG9iai5oYXNPd25Qcm9wZXJ0eShtZXRob2QpO1xyXG4gICAgbGV0IGN1cnJlbnQgPSBjcmVhdGVXcmFwcGVyKG9yaWdpbmFsKTtcclxuICAgIC8vIExldCBvdXIgd3JhcHBlciBpbmhlcml0IHN0YXRpYyBwcm9wcyBmcm9tIHRoZSB3cmFwcGluZyBtZXRob2QsXHJcbiAgICAvLyBhbmQgdGhlIHdyYXBwaW5nIG1ldGhvZCwgcHJvcHMgZnJvbSB0aGUgb3JpZ2luYWwgbWV0aG9kXHJcbiAgICBpZiAob3JpZ2luYWwpXHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGN1cnJlbnQsIG9yaWdpbmFsKTtcclxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih3cmFwcGVyLCBjdXJyZW50KTtcclxuICAgIG9ialttZXRob2RdID0gd3JhcHBlcjtcclxuICAgIC8vIFJldHVybiBhIGNhbGxiYWNrIHRvIGFsbG93IHNhZmUgcmVtb3ZhbFxyXG4gICAgcmV0dXJuIHJlbW92ZTtcclxuICAgIGZ1bmN0aW9uIHdyYXBwZXIoLi4uYXJncykge1xyXG4gICAgICAgIC8vIElmIHdlIGhhdmUgYmVlbiBkZWFjdGl2YXRlZCBhbmQgYXJlIG5vIGxvbmdlciB3cmFwcGVkLCByZW1vdmUgb3Vyc2VsdmVzXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG9yaWdpbmFsICYmIG9ialttZXRob2RdID09PSB3cmFwcGVyKVxyXG4gICAgICAgICAgICByZW1vdmUoKTtcclxuICAgICAgICByZXR1cm4gY3VycmVudC5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgICAvLyBJZiBubyBvdGhlciBwYXRjaGVzLCBqdXN0IGRvIGEgZGlyZWN0IHJlbW92YWxcclxuICAgICAgICBpZiAob2JqW21ldGhvZF0gPT09IHdyYXBwZXIpIHtcclxuICAgICAgICAgICAgaWYgKGhhZE93bilcclxuICAgICAgICAgICAgICAgIG9ialttZXRob2RdID0gb3JpZ2luYWw7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpbbWV0aG9kXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG9yaWdpbmFsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gRWxzZSBwYXNzIGZ1dHVyZSBjYWxscyB0aHJvdWdoLCBhbmQgcmVtb3ZlIHdyYXBwZXIgZnJvbSB0aGUgcHJvdG90eXBlIGNoYWluXHJcbiAgICAgICAgY3VycmVudCA9IG9yaWdpbmFsO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih3cmFwcGVyLCBvcmlnaW5hbCB8fCBGdW5jdGlvbik7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRlZHVwZShrZXksIG9sZEZuLCBuZXdGbikge1xyXG4gICAgY2hlY2tba2V5XSA9IGtleTtcclxuICAgIHJldHVybiBjaGVjaztcclxuICAgIGZ1bmN0aW9uIGNoZWNrKC4uLmFyZ3MpIHtcclxuICAgICAgICByZXR1cm4gKG9sZEZuW2tleV0gPT09IGtleSA/IG9sZEZuIDogbmV3Rm4pLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBhZnRlcihwcm9taXNlLCBjYikge1xyXG4gICAgcmV0dXJuIHByb21pc2UudGhlbihjYiwgY2IpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemUoYXN5bmNGdW5jdGlvbikge1xyXG4gICAgbGV0IGxhc3RSdW4gPSBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIGZ1bmN0aW9uIHdyYXBwZXIoLi4uYXJncykge1xyXG4gICAgICAgIHJldHVybiBsYXN0UnVuID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XHJcbiAgICAgICAgICAgIGFmdGVyKGxhc3RSdW4sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGFzeW5jRnVuY3Rpb24uYXBwbHkodGhpcywgYXJncykudGhlbihyZXMsIHJlaik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgd3JhcHBlci5hZnRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gbGFzdFJ1biA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4geyBhZnRlcihsYXN0UnVuLCByZXMpOyB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gd3JhcHBlcjtcclxufVxyXG4iLCAiaW1wb3J0IHsgYXJvdW5kIH0gZnJvbSBcIm1vbmtleS1hcm91bmRcIlxyXG5pbXBvcnQgeyBQbHVnaW4gfSBmcm9tIFwib2JzaWRpYW5cIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF0Y2hIZWxwZXIge1xyXG4gIHN0YXRpYyB0cnlQYXRjaFdvcmtzcGFjZVByb3RvdHlwZTxUPihwbHVnaW46IFBsdWdpbiwgZ2V0VGFyZ2V0OiAoKSA9PiBUfHVuZGVmaW5lZCwgZnVuY3Rpb25zOiB7IFtrZXk6IHN0cmluZ106IChuZXh0OiBhbnkpID0+ICguLi5hcmdzOiBhbnkpID0+IGFueSB9KTogUHJvbWlzZTxUPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgY29uc3QgdHJ5UGF0Y2ggPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KClcclxuICAgICAgICBpZiAoIXRhcmdldCkgcmV0dXJuIG51bGxcclxuXHJcbiAgICAgICAgY29uc3QgdW5pbnN0YWxsZXIgPSBhcm91bmQodGFyZ2V0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZnVuY3Rpb25zKVxyXG4gICAgICAgIHBsdWdpbi5yZWdpc3Rlcih1bmluc3RhbGxlcilcclxuXHJcbiAgICAgICAgcmV0dXJuIHRhcmdldFxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSB0cnlQYXRjaCgpXHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICByZXNvbHZlKHJlc3VsdClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbGlzdGVuZXIgPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5vbignbGF5b3V0LWNoYW5nZScsICgpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB0cnlQYXRjaCgpXHJcblxyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgIHBsdWdpbi5hcHAud29ya3NwYWNlLm9mZnJlZihsaXN0ZW5lcilcclxuICAgICAgICAgIHJlc29sdmUocmVzdWx0KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHBsdWdpbi5yZWdpc3RlckV2ZW50KGxpc3RlbmVyKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHN0YXRpYyBwYXRjaE9iamVjdFByb3RvdHlwZTxUPihwbHVnaW46IFBsdWdpbiwgdGFyZ2V0OiBULCBmdW5jdGlvbnM6IHsgW2tleTogc3RyaW5nXTogKG5leHQ6IGFueSkgPT4gKC4uLmFyZ3M6IGFueSkgPT4gYW55IH0pOiB2b2lkIHtcclxuICAgIGNvbnN0IHVuaW5zdGFsbGVyID0gYXJvdW5kKCh0YXJnZXQgYXMgYW55KS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGZ1bmN0aW9ucylcclxuICAgIHBsdWdpbi5yZWdpc3Rlcih1bmluc3RhbGxlcilcclxuICB9XHJcblxyXG4gIHN0YXRpYyBwYXRjaE9iamVjdEluc3RhbmNlPFQ+KHBsdWdpbjogUGx1Z2luLCB0YXJnZXQ6IFQsIGZ1bmN0aW9uczogeyBba2V5OiBzdHJpbmddOiAobmV4dDogYW55KSA9PiAoLi4uYXJnczogYW55KSA9PiBhbnkgfSk6IHZvaWQge1xyXG4gICAgY29uc3QgdW5pbnN0YWxsZXIgPSBhcm91bmQodGFyZ2V0IGFzIGFueSwgZnVuY3Rpb25zKVxyXG4gICAgcGx1Z2luLnJlZ2lzdGVyKHVuaW5zdGFsbGVyKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBCQm94LCBDYW52YXNEYXRhLCBDYW52YXNFZGdlLCBDYW52YXNFZGdlRGF0YSwgQ2FudmFzRWxlbWVudCwgQ2FudmFzTm9kZSwgQ2FudmFzTm9kZURhdGEsIENhbnZhc1ZpZXcgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgUGF0Y2hIZWxwZXIgZnJvbSBcInNyYy91dGlscy9wYXRjaC1oZWxwZXJcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCIuLi9ldmVudHNcIlxyXG5pbXBvcnQgeyByZXF1aXJlQXBpVmVyc2lvbiwgV29ya3NwYWNlTGVhZiwgZWRpdG9ySW5mb0ZpZWxkIH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuaW1wb3J0IHsgRWRpdG9yVmlldywgVmlld1VwZGF0ZSB9IGZyb20gXCJAY29kZW1pcnJvci92aWV3XCJcclxuaW1wb3J0IHsgYXJvdW5kIH0gZnJvbSBcIm1vbmtleS1hcm91bmRcIlxyXG5pbXBvcnQgSlNPTkMgZnJvbSBcInRpbnktanNvbmNcIlxyXG5pbXBvcnQgSlNPTlNTIGZyb20gXCJqc29uLXN0YWJsZS1zdHJpbmdpZnlcIlxyXG5pbXBvcnQgUGF0Y2hlciBmcm9tIFwiLi9wYXRjaGVyXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc1BhdGNoZXIgZXh0ZW5kcyBQYXRjaGVyIHtcclxuICBwcm90ZWN0ZWQgYXN5bmMgcGF0Y2goKSB7XHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG5cclxuICAgIC8vIFdhaXQgZm9yIGxheW91dCByZWFkeSAtPiBTdXBwb3J0IGRlZmVycmVkIHZpZXcgaW5pdGlhbGl6YXRpb25cclxuICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHJlc29sdmUoKSkpXHJcblxyXG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IGNhbnZhcyB2aWV3IGZ1bGx5IGxvYWRlZFxyXG4gICAgY29uc3QgZ2V0Q2FudmFzVmlldyA9IGFzeW5jICgpOiBQcm9taXNlPENhbnZhc1ZpZXcgfCBudWxsPiA9PiB7XHJcbiAgICAgIGNvbnN0IGNhbnZhc0xlYWYgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnY2FudmFzJyk/LmZpcnN0KClcclxuICAgICAgaWYgKCFjYW52YXNMZWFmKSByZXR1cm4gbnVsbFxyXG5cclxuICAgICAgaWYgKHJlcXVpcmVBcGlWZXJzaW9uKCcxLjcuMicpKSBhd2FpdCBjYW52YXNMZWFmLmxvYWRJZkRlZmVycmVkKCkgLy8gTG9hZCB0aGUgY2FudmFzIGlmIHRoZSB2aWV3IGlzIGRlZmVycmVkXHJcbiAgICAgIHJldHVybiBjYW52YXNMZWFmLnZpZXcgYXMgQ2FudmFzVmlld1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCB0aGUgY3VycmVudCBjYW52YXMgdmlldyBvciB3YWl0IGZvciBpdCB0byBiZSBjcmVhdGVkXHJcbiAgICBsZXQgY2FudmFzVmlldyA9IGF3YWl0IGdldENhbnZhc1ZpZXcoKVxyXG4gICAgY2FudmFzVmlldyA/Pz0gYXdhaXQgbmV3IFByb21pc2U8Q2FudmFzVmlldz4ocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbignbGF5b3V0LWNoYW5nZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdDYW52YXNWaWV3ID0gYXdhaXQgZ2V0Q2FudmFzVmlldygpXHJcbiAgICAgICAgaWYgKCFuZXdDYW52YXNWaWV3KSByZXR1cm5cclxuXHJcbiAgICAgICAgcmVzb2x2ZShuZXdDYW52YXNWaWV3KVxyXG4gICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub2ZmcmVmKGV2ZW50KVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChldmVudClcclxuICAgIH0pXHJcbiAgICBcclxuICAgIC8vIFBhdGNoIGNhbnZhcyB2aWV3XHJcbiAgICBQYXRjaEhlbHBlci5wYXRjaE9iamVjdFByb3RvdHlwZSh0aGlzLnBsdWdpbiwgY2FudmFzVmlldywge1xyXG4gICAgICBnZXRWaWV3RGF0YTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhc0RhdGEgPSB0aGlzLmNhbnZhcy5nZXREYXRhKClcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBKU09OU1MoY2FudmFzRGF0YSwgeyBzcGFjZTogMiB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdHJpbmdpZnkgY2FudmFzIGRhdGEgdXNpbmcganNvbi1zdGFibGUtc3RyaW5naWZ5OicsIGUpXHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNhbnZhc0RhdGEsIG51bGwsIDIpXHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdHJpbmdpZnkgY2FudmFzIGRhdGEgdXNpbmcgSlNPTi5zdHJpbmdpZnk6JywgZSlcclxuICAgICAgICAgICAgcmV0dXJuIG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgc2V0Vmlld0RhdGE6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChqc29uOiBzdHJpbmcsIC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGpzb24gPSBqc29uICE9PSAnJyA/IGpzb24gOiAne30nXHJcblxyXG4gICAgICAgIGxldCByZXN1bHRcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGpzb24sIC4uLmFyZ3MpXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBKU09OLCByZXBhaXJpbmcgdGhyb3VnaCBBZHZhbmNlZCBDYW52YXM6JywgZSlcclxuXHJcbiAgICAgICAgICAvLyBJbnZhbGlkIEpTT05cclxuICAgICAgICAgIHRoYXQucGx1Z2luLmNyZWF0ZUZpbGVTbmFwc2hvdCh0aGlzLmZpbGUucGF0aCwganNvbilcclxuXHJcbiAgICAgICAgICAvLyBUcnkgdG8gcGFyc2UgaXQgd2l0aCB0cmFpbGluZyBjb21tYXNcclxuICAgICAgICAgIGpzb24gPSBKU09OLnN0cmluZ2lmeShKU09OQy5wYXJzZShqc29uKSwgbnVsbCwgMilcclxuICAgICAgICAgIHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBqc29uLCAuLi5hcmdzKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuQ2FudmFzQ2hhbmdlZCwgdGhpcy5jYW52YXMpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFBhdGNoIGNhbnZhc1xyXG4gICAgUGF0Y2hIZWxwZXIucGF0Y2hPYmplY3RQcm90b3R5cGUodGhpcy5wbHVnaW4sIGNhbnZhc1ZpZXcuY2FudmFzLCB7XHJcbiAgICAgIG1hcmtWaWV3cG9ydENoYW5nZWQ6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5WaWV3cG9ydENoYW5nZWQuQmVmb3JlLCB0aGlzKVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LlZpZXdwb3J0Q2hhbmdlZC5BZnRlciwgdGhpcylcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIG1hcmtNb3ZlZDogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKG5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgbm9kZSlcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlTW92ZWQsIHRoaXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBvbkRvdWJsZUNsaWNrOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBwcmV2ZW50RGVmYXVsdCA9IHsgdmFsdWU6IGZhbHNlIH1cclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Eb3VibGVDbGljaywgdGhpcywgZXZlbnQsIHByZXZlbnREZWZhdWx0KVxyXG4gICAgICAgIGlmICghcHJldmVudERlZmF1bHQudmFsdWUpIG5leHQuY2FsbCh0aGlzLCBldmVudClcclxuICAgICAgfSxcclxuICAgICAgc2V0RHJhZ2dpbmc6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChkcmFnZ2luZzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBkcmFnZ2luZylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5EcmFnZ2luZ1N0YXRlQ2hhbmdlZCwgdGhpcywgZHJhZ2dpbmcpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBnZXRDb250YWluaW5nTm9kZXM6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChiYm94OiBCQm94KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGJib3gpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuQ29udGFpbmluZ05vZGVzUmVxdWVzdGVkLCB0aGlzLCBiYm94LCByZXN1bHQpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICB1cGRhdGVTZWxlY3Rpb246IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICh1cGRhdGU6ICgpID0+IHZvaWQpIHtcclxuICAgICAgICBjb25zdCBvbGRTZWxlY3Rpb24gPSBuZXcgU2V0KHRoaXMuc2VsZWN0aW9uKVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCB1cGRhdGUpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuU2VsZWN0aW9uQ2hhbmdlZCwgdGhpcywgb2xkU2VsZWN0aW9uLCAoKHVwZGF0ZTogKCkgPT4gdm9pZCkgPT4gbmV4dC5jYWxsKHRoaXMsIHVwZGF0ZSkpKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlVGV4dE5vZGU6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUNyZWF0ZWQsIHRoaXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIG5vZGVcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlRmlsZU5vZGU6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCBub2RlID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUNyZWF0ZWQsIHRoaXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIG5vZGVcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlRmlsZU5vZGVzOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICBub2Rlcy5mb3JFYWNoKChub2RlOiBDYW52YXNOb2RlKSA9PiB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ3JlYXRlZCwgdGhpcywgbm9kZSkpXHJcbiAgICAgICAgcmV0dXJuIG5vZGVzXHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZUdyb3VwTm9kZTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ3JlYXRlZCwgdGhpcywgbm9kZSlcclxuICAgICAgICByZXR1cm4gbm9kZVxyXG4gICAgICB9LFxyXG4gICAgICBjcmVhdGVMaW5rTm9kZTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ3JlYXRlZCwgdGhpcywgbm9kZSlcclxuICAgICAgICByZXR1cm4gbm9kZVxyXG4gICAgICB9LFxyXG4gICAgICBhZGROb2RlOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAobm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgICAgIHRoYXQucGF0Y2hOb2RlKG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIG5leHQuY2FsbCh0aGlzLCBub2RlKVxyXG4gICAgICB9LFxyXG4gICAgICBhZGRFZGdlOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoZWRnZTogQ2FudmFzRWRnZSkge1xyXG4gICAgICAgIHRoYXQucGF0Y2hFZGdlKGVkZ2UpXHJcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdwb3J0Q2hhbmdlZCkgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRWRnZUNyZWF0ZWQsIHRoaXMsIGVkZ2UpXHJcbiAgICAgICAgcmV0dXJuIG5leHQuY2FsbCh0aGlzLCBlZGdlKVxyXG4gICAgICB9LFxyXG4gICAgICByZW1vdmVOb2RlOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAobm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBub2RlKVxyXG4gICAgICAgIGlmICghdGhpcy5pc0NsZWFyaW5nKSB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlUmVtb3ZlZCwgdGhpcywgbm9kZSlcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlbW92ZUVkZ2U6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChlZGdlOiBDYW52YXNFZGdlKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGVkZ2UpXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQ2xlYXJpbmcpIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VSZW1vdmVkLCB0aGlzLCBlZGdlKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlQ29weTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIHRoaXMuaXNDb3B5aW5nID0gdHJ1ZVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoaXMuaXNDb3B5aW5nID0gZmFsc2VcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBnZXRTZWxlY3Rpb25EYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgaWYgKHRoaXMuaXNDb3B5aW5nKSB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5PbkNvcHksIHRoaXMsIHJlc3VsdClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHpvb21Ub0Jib3g6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChiYm94OiBCQm94KSB7XHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuWm9vbVRvQmJveC5CZWZvcmUsIHRoaXMsIGJib3gpXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGJib3gpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuWm9vbVRvQmJveC5BZnRlciwgdGhpcywgYmJveClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHNldFJlYWRvbmx5OiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAocmVhZG9ubHk6IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgcmVhZG9ubHkpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuUmVhZG9ubHlDaGFuZ2VkLCB0aGlzLCByZWFkb25seSlcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH0sXHJcbiAgICAgIHVuZG86IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGlzLmltcG9ydERhdGEodGhpcy5nZXREYXRhKCksIHRydWUpIC8vIEZvcmNlIHVwZGF0ZSB0aGUgY2FudmFzIGRhdGFcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5VbmRvLCB0aGlzKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgcmVkbzogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoaXMuaW1wb3J0RGF0YSh0aGlzLmdldERhdGEoKSwgdHJ1ZSkgLy8gRm9yY2UgdXBkYXRlIHRoZSBjYW52YXMgZGF0YVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LlJlZG8sIHRoaXMpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBjbGVhcjogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIHRoaXMuaXNDbGVhcmluZyA9IHRydWVcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGlzLmlzQ2xlYXJpbmcgPSBmYWxzZVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgLypzZXREYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgLy9cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICAvL1xyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSwqL1xyXG4gICAgICBnZXREYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRGF0YVJlcXVlc3RlZCwgdGhpcywgcmVzdWx0KVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgaW1wb3J0RGF0YTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKGRhdGE6IENhbnZhc0RhdGEsIGNsZWFyQ2FudmFzPzogYm9vbGVhbiwgc2lsZW50PzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEZpbGVQYXRoID0gdGhpcy52aWV3LmZpbGUucGF0aFxyXG4gICAgICAgIGNvbnN0IHNldERhdGEgPSAoZGF0YTogQ2FudmFzRGF0YSkgPT4ge1xyXG4gICAgICAgICAgLy8gU2tpcCBpZiB0aGUgY2FudmFzIGdvdCB1bmxvYWRlZCBvciB0aGUgZmlsZSBjaGFuZ2VkXHJcbiAgICAgICAgICBpZiAoIXRoaXMudmlldy5maWxlIHx8IHRoaXMudmlldy5maWxlLnBhdGggIT09IHRhcmdldEZpbGVQYXRoKSByZXR1cm5cclxuXHJcbiAgICAgICAgICB0aGlzLmltcG9ydERhdGEoZGF0YSwgdHJ1ZSwgdHJ1ZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc2lsZW50KSB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Mb2FkRGF0YSwgdGhpcywgZGF0YSwgc2V0RGF0YSlcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgZGF0YSwgY2xlYXJDYW52YXMpXHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgcmVxdWVzdFNhdmU6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5DYW52YXNTYXZlZC5CZWZvcmUsIHRoaXMpXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuQ2FudmFzU2F2ZWQuQWZ0ZXIsIHRoaXMpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFBhdGNoIGNhbnZhcyBwb3B1cCBtZW51XHJcbiAgICBQYXRjaEhlbHBlci5wYXRjaE9iamVjdFByb3RvdHlwZSh0aGlzLnBsdWdpbiwgY2FudmFzVmlldy5jYW52YXMubWVudSwge1xyXG4gICAgICByZW5kZXI6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uICguLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLCB0aGlzLmNhbnZhcylcclxuICAgICAgICBuZXh0LmNhbGwodGhpcykgLy8gUmUtQ2VudGVyIHRoZSBwb3B1cCBtZW51XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFBhdGNoIGludGVyYWN0aW9uIGxheWVyXHJcbiAgICBQYXRjaEhlbHBlci5wYXRjaE9iamVjdFByb3RvdHlwZSh0aGlzLnBsdWdpbiwgY2FudmFzVmlldy5jYW52YXMubm9kZUludGVyYWN0aW9uTGF5ZXIsIHtcclxuICAgICAgc2V0VGFyZ2V0OiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAobm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBub2RlKVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50Lk5vZGVJbnRlcmFjdGlvbiwgdGhpcy5jYW52YXMsIG5vZGUpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEFkZCBlZGl0b3IgZXh0ZW5zaW9uIGZvciBub2RlIHRleHQgY29udGVudCBjaGFuZ2UgbGlzdGVuZXJcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRWRpdG9yRXh0ZW5zaW9uKFtFZGl0b3JWaWV3LnVwZGF0ZUxpc3RlbmVyLm9mKCh1cGRhdGU6IFZpZXdVcGRhdGUpID0+IHtcclxuICAgICAgaWYgKCF1cGRhdGUuZG9jQ2hhbmdlZCkgcmV0dXJuXHJcblxyXG4gICAgICBjb25zdCBlZGl0b3IgPSB1cGRhdGUuc3RhdGUuZmllbGQoZWRpdG9ySW5mb0ZpZWxkKSBhcyBhbnlcclxuICAgICAgY29uc3Qgbm9kZSA9IGVkaXRvci5ub2RlIGFzIENhbnZhc05vZGUgfCB1bmRlZmluZWRcclxuICAgICAgaWYgKCFub2RlKSByZXR1cm5cclxuXHJcbiAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50Lk5vZGVUZXh0Q29udGVudENoYW5nZWQsIG5vZGUuY2FudmFzLCBub2RlLCB1cGRhdGUpXHJcbiAgICB9KV0pXHJcblxyXG4gICAgLy8gQ2FudmFzIGlzIG5vdyBwYXRjaGVkIC0gdXBkYXRlIGFsbCBvcGVuIGNhbnZhcyB2aWV3c1xyXG4gICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5pdGVyYXRlQWxsTGVhdmVzKChsZWFmOiBXb3Jrc3BhY2VMZWFmKSA9PiB7XHJcbiAgICAgIGlmIChsZWFmLnZpZXcuZ2V0Vmlld1R5cGUoKSAhPT0gJ2NhbnZhcycpIHJldHVyblxyXG5cclxuICAgICAgY29uc3QgY2FudmFzVmlldyA9IGxlYWYudmlldyBhcyBDYW52YXNWaWV3XHJcbiAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgY2FudmFzVmlldy5sZWFmLnJlYnVpbGRWaWV3KClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBhdGNoTm9kZShub2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG5cclxuICAgIFBhdGNoSGVscGVyLnBhdGNoT2JqZWN0SW5zdGFuY2UodGhpcy5wbHVnaW4sIG5vZGUsIHtcclxuICAgICAgc2V0RGF0YTogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKGRhdGE6IENhbnZhc05vZGVEYXRhLCBhZGRIaXN0b3J5PzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCBkYXRhKVxyXG5cclxuICAgICAgICBpZiAobm9kZS5pbml0aWFsaXplZCAmJiAhbm9kZS5pc0RpcnR5KSB7XHJcbiAgICAgICAgICBub2RlLmlzRGlydHkgPSB0cnVlXHJcbiAgICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQ2hhbmdlZCwgdGhpcy5jYW52YXMsIG5vZGUpXHJcbiAgICAgICAgICBkZWxldGUgbm9kZS5pc0RpcnR5XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTYXZlIHRoZSBkYXRhIHRvIHRoZSBmaWxlXHJcbiAgICAgICAgdGhpcy5jYW52YXMuZGF0YSA9IHRoaXMuY2FudmFzLmdldERhdGEoKVxyXG4gICAgICAgIHRoaXMuY2FudmFzLnZpZXcucmVxdWVzdFNhdmUoKVxyXG5cclxuICAgICAgICAvLyBBZGQgdG8gdGhlIHVuZG8gc3RhY2tcclxuICAgICAgICBpZiAoYWRkSGlzdG9yeSkgdGhpcy5jYW52YXMucHVzaEhpc3RvcnkodGhpcy5jYW52YXMuZGF0YSlcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICBzZXRJc0VkaXRpbmc6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChlZGl0aW5nOiBib29sZWFuLCAuLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgZWRpdGluZywgLi4uYXJncylcclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlRWRpdGluZ1N0YXRlQ2hhbmdlZCwgdGhpcy5jYW52YXMsIG5vZGUsIGVkaXRpbmcpXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICB1cGRhdGVCcmVha3BvaW50OiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoYnJlYWtwb2ludDogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IGJyZWFrcG9pbnRSZWYgPSB7IHZhbHVlOiBicmVha3BvaW50IH1cclxuICAgICAgICB0aGF0LnRyaWdnZXJXb3Jrc3BhY2VFdmVudChDYW52YXNFdmVudC5Ob2RlQnJlYWtwb2ludENoYW5nZWQsIHRoaXMuY2FudmFzLCBub2RlLCBicmVha3BvaW50UmVmKVxyXG4gICAgICAgIHJldHVybiBuZXh0LmNhbGwodGhpcywgYnJlYWtwb2ludFJlZi52YWx1ZSlcclxuICAgICAgfSxcclxuICAgICAgZ2V0QkJveDogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxyXG4gICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50Lk5vZGVCQm94UmVxdWVzdGVkLCB0aGlzLmNhbnZhcywgbm9kZSwgcmVzdWx0KVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgdGhpcy5ydW5BZnRlckluaXRpYWxpemVkKG5vZGUsICgpID0+IHtcclxuICAgICAgdGhpcy50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUFkZGVkLCBub2RlLmNhbnZhcywgbm9kZSlcclxuICAgICAgdGhpcy50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuTm9kZUNoYW5nZWQsIG5vZGUuY2FudmFzLCBub2RlKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcGF0Y2hFZGdlKGVkZ2U6IENhbnZhc0VkZ2UpIHtcclxuICAgIGNvbnN0IHRoYXQgPSB0aGlzXHJcblxyXG4gICAgUGF0Y2hIZWxwZXIucGF0Y2hPYmplY3RJbnN0YW5jZSh0aGlzLnBsdWdpbiwgZWRnZSwge1xyXG4gICAgICBzZXREYXRhOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoZGF0YTogQ2FudmFzRWRnZURhdGEsIGFkZEhpc3Rvcnk/OiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIGRhdGEpXHJcblxyXG4gICAgICAgIGlmIChlZGdlLmluaXRpYWxpemVkICYmICFlZGdlLmlzRGlydHkpIHtcclxuICAgICAgICAgIGVkZ2UuaXNEaXJ0eSA9IHRydWVcclxuICAgICAgICAgIHRoYXQudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VDaGFuZ2VkLCB0aGlzLmNhbnZhcywgZWRnZSlcclxuICAgICAgICAgIGRlbGV0ZSBlZGdlLmlzRGlydHlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNhdmUgdGhlIGRhdGEgdG8gdGhlIGZpbGVcclxuICAgICAgICB0aGlzLmNhbnZhcy5kYXRhID0gdGhpcy5jYW52YXMuZ2V0RGF0YSgpXHJcbiAgICAgICAgdGhpcy5jYW52YXMudmlldy5yZXF1ZXN0U2F2ZSgpXHJcblxyXG4gICAgICAgIC8vIEFkZCB0byB0aGUgdW5kbyBzdGFja1xyXG4gICAgICAgIGlmIChhZGRIaXN0b3J5KSB0aGlzLmNhbnZhcy5wdXNoSGlzdG9yeSh0aGlzLmNhbnZhcy5nZXREYXRhKCkpXHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgcmVuZGVyOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRWRnZUNoYW5nZWQsIHRoaXMuY2FudmFzLCBlZGdlKVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfSxcclxuICAgICAgZ2V0Q2VudGVyOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcbiAgICAgICAgdGhhdC50cmlnZ2VyV29ya3NwYWNlRXZlbnQoQ2FudmFzRXZlbnQuRWRnZUNlbnRlclJlcXVlc3RlZCwgdGhpcy5jYW52YXMsIGVkZ2UsIHJlc3VsdClcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIHRoaXMucnVuQWZ0ZXJJbml0aWFsaXplZChlZGdlLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VBZGRlZCwgZWRnZS5jYW52YXMsIGVkZ2UpXHJcbiAgICAgIC8vIHRoaXMudHJpZ2dlcldvcmtzcGFjZUV2ZW50KENhbnZhc0V2ZW50LkVkZ2VDaGFuZ2VkLCBlZGdlLmNhbnZhcywgZWRnZSkgLSBhbHJlYWR5IGZpcmVkIGluIHJlbmRlciBmdW5jdGlvblxyXG4gICAgfSlcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBydW5BZnRlckluaXRpYWxpemVkKGNhbnZhc0VsZW1lbnQ6IENhbnZhc0VsZW1lbnQsIG9uUmVhZHk6ICgpID0+IHZvaWQpIHtcclxuICAgIGlmIChjYW52YXNFbGVtZW50LmluaXRpYWxpemVkKSB7XHJcbiAgICAgIG9uUmVhZHkoKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG5cclxuICAgIC8vIFBhdGNoIENhbnZhc0VsZW1lbnQgb2JqZWN0XHJcbiAgICBjb25zdCB1bmluc3RhbGwgPSBhcm91bmQoY2FudmFzRWxlbWVudCwge1xyXG4gICAgICBpbml0aWFsaXplOiAobmV4dDogYW55KSA9PiBmdW5jdGlvbiAoLi4uYXJnczogYW55KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXHJcblxyXG4gICAgICAgIG9uUmVhZHkoKVxyXG4gICAgICAgIHVuaW5zdGFsbCgpIC8vIFVuaW5zdGFsbCB0aGUgcGF0Y2hcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHRoYXQucGx1Z2luLnJlZ2lzdGVyKHVuaW5zdGFsbClcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdHJpZ2dlcldvcmtzcGFjZUV2ZW50KGV2ZW50OiBzdHJpbmcsIC4uLmFyZ3M6IGFueSkge1xyXG4gICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS50cmlnZ2VyKGV2ZW50LCAuLi5hcmdzKVxyXG4gIH1cclxufVxyXG4iLCAiLyogSEVMUEVSUyAqL1xyXG5jb25zdCBzdHJpbmdPckNvbW1lbnRSZSA9IC8oXCIoPzpcXFxcP1teXSkqP1wiKXwoXFwvXFwvLiopfChcXC9cXCpbXl0qP1xcKlxcLykvZztcclxuY29uc3Qgc3RyaW5nT3JUcmFpbGluZ0NvbW1hUmUgPSAvKFwiKD86XFxcXD9bXl0pKj9cIil8KCxcXHMqKSg/PV18fSkvZztcclxuLyogTUFJTiAqL1xyXG5jb25zdCBKU09OQyA9IHtcclxuICAgIHBhcnNlOiAodGV4dCkgPT4ge1xyXG4gICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCk7IC8vIFRvIGJlIGV4dHJhIHNhZmVcclxuICAgICAgICB0cnkgeyAvLyBGYXN0IHBhdGggZm9yIHZhbGlkIEpTT05cclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIHsgLy8gU2xvdyBwYXRoIGZvciBKU09OQyBhbmQgaW52YWxpZCBpbnB1dHNcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dC5yZXBsYWNlKHN0cmluZ09yQ29tbWVudFJlLCAnJDEnKS5yZXBsYWNlKHN0cmluZ09yVHJhaWxpbmdDb21tYVJlLCAnJDEnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKiBFWFBPUlQgKi9cclxuZXhwb3J0IGRlZmF1bHQgSlNPTkM7XHJcbiIsICJpbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFBhdGNoZXIge1xyXG4gIHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW5cclxuXHJcbiAgY29uc3RydWN0b3IocGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbikge1xyXG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW5cclxuICAgIHRoaXMucGF0Y2goKVxyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGFic3RyYWN0IHBhdGNoKCk6IFByb21pc2U8dm9pZD5cclxufSIsICJpbXBvcnQgeyBURmlsZSB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCB7IENhbnZhc0RhdGEsIENhbnZhc05vZGVEYXRhIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgRmlsZUNhY2hlRW50cnksIE1ldGFkYXRhQ2FjaGVFbnRyeSwgTWV0YWRhdGFDYWNoZU1hcCwgUmVzb2x2ZWRMaW5rcyB9IGZyb20gXCJzcmMvQHR5cGVzL09ic2lkaWFuXCJcclxuaW1wb3J0IEhhc2hIZWxwZXIgZnJvbSBcInNyYy91dGlscy9oYXNoLWhlbHBlclwiXHJcbmltcG9ydCBQYXRjaEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL3BhdGNoLWhlbHBlclwiXHJcbmltcG9ydCBQYXRoSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvcGF0aC1oZWxwZXJcIlxyXG5pbXBvcnQgUGF0Y2hlciBmcm9tIFwiLi9wYXRjaGVyXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1ldGFkYXRhQ2FjaGVQYXRjaGVyIGV4dGVuZHMgUGF0Y2hlciB7XHJcbiAgcHJvdGVjdGVkIGFzeW5jIHBhdGNoKCkge1xyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdjYW52YXNNZXRhZGF0YUNvbXBhdGliaWxpdHlFbmFibGVkJykpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHRoYXQgPSB0aGlzXHJcbiAgICBhd2FpdCBQYXRjaEhlbHBlci5wYXRjaE9iamVjdFByb3RvdHlwZSh0aGlzLnBsdWdpbiwgdGhpcy5wbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUsIHtcclxuICAgICAgZ2V0Q2FjaGU6IChuZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChmaWxlcGF0aDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIC8vIEJ5cGFzcyB0aGUgXCJtZFwiIGV4dGVuc2lvbiBjaGVjayBieSBoYW5kbGluZyB0aGUgXCJjYW52YXNcIiBleHRlbnNpb24gaGVyZVxyXG4gICAgICAgIGlmIChQYXRoSGVscGVyLmV4dGVuc2lvbihmaWxlcGF0aCkgPT09ICdjYW52YXMnKSB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMuZmlsZUNhY2hlLmhhc093blByb3BlcnR5KGZpbGVwYXRoKSkgcmV0dXJuIG51bGxcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMuZmlsZUNhY2hlW2ZpbGVwYXRoXS5oYXNoXHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YUNhY2hlW2hhc2hdIHx8IG51bGxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXh0LmNhbGwodGhpcywgZmlsZXBhdGgsIC4uLmFyZ3MpXHJcbiAgICAgIH0sXHJcbiAgICAgIG9uQ3JlYXRlT3JNb2RpZnk6IChuZXh0OiBhbnkpID0+IGFzeW5jIGZ1bmN0aW9uIChmaWxlOiBURmlsZSwgLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICAvLyBDYWxsIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBpZiB0aGUgZmlsZSBpcyBub3QgYSBjYW52YXMgZmlsZVxyXG4gICAgICAgIGlmIChQYXRoSGVscGVyLmV4dGVuc2lvbihmaWxlLnBhdGgpICE9PSAnY2FudmFzJylcclxuICAgICAgICAgIHJldHVybiBuZXh0LmNhbGwodGhpcywgZmlsZSwgLi4uYXJncylcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjYWNoZVxyXG4gICAgICAgIHRoaXMuc2F2ZUZpbGVDYWNoZShmaWxlLnBhdGgsIHtcclxuICAgICAgICAgIGhhc2g6IEhhc2hIZWxwZXIuaGFzaChmaWxlLnBhdGgpLCAvLyBIYXNoIHdvdWxkbid0IGdldCBzZXQgaW4gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uXHJcbiAgICAgICAgICBtdGltZTogZmlsZS5zdGF0Lm10aW1lLFxyXG4gICAgICAgICAgc2l6ZTogZmlsZS5zdGF0LnNpemVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBSZXNvbHZlIGxpbmtzIChUaGlzIHdvdWxkbid0IGdldCBjYWxsZWQgaW4gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIHRvbylcclxuICAgICAgICAvLyBUT0RPOiBVc2Ugd29ya1F1ZXVlIGxpa2UgaW4gdGhlIG9yaWdpbmFsIGZ1bmN0aW9uXHJcbiAgICAgICAgdGhpcy5yZXNvbHZlTGlua3MoZmlsZS5wYXRoKVxyXG4gICAgICB9LFxyXG4gICAgICByZXNvbHZlTGlua3M6IChuZXh0OiBhbnkpID0+IGFzeW5jIGZ1bmN0aW9uIChmaWxlcGF0aDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIC8vIENhbGwgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGlmIHRoZSBmaWxlIGlzIG5vdCBhIGNhbnZhcyBmaWxlXHJcbiAgICAgICAgaWYgKFBhdGhIZWxwZXIuZXh0ZW5zaW9uKGZpbGVwYXRoKSAhPT0gJ2NhbnZhcycpXHJcbiAgICAgICAgICByZXR1cm4gbmV4dC5jYWxsKHRoaXMsIGZpbGVwYXRoLCAuLi5hcmdzKVxyXG5cclxuICAgICAgICAvLyBHZXQgY2FudmFzIGZpbGVcclxuICAgICAgICBjb25zdCBmaWxlID0gdGhpcy52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZmlsZXBhdGgpXHJcbiAgICAgICAgaWYgKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkgcmV0dXJuXHJcblxyXG4gICAgICAgIC8vIEdldCBmaWxlIGNhY2hlXHJcbiAgICAgICAgY29uc3QgZmlsZUNhY2hlID0gdGhpcy5maWxlQ2FjaGVbZmlsZS5wYXRoXSBhcyBGaWxlQ2FjaGVFbnRyeVxyXG4gICAgICAgIGlmICghZmlsZUNhY2hlKSByZXR1cm5cclxuXHJcbiAgICAgICAgLy8gUmVhZCBjYW52YXMgZGF0YVxyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBKU09OLnBhcnNlKGF3YWl0IHRoaXMudmF1bHQuY2FjaGVkUmVhZChmaWxlKSA/PyAne30nKSBhcyBDYW52YXNEYXRhXHJcbiAgICAgICAgaWYgKCFjb250ZW50Py5ub2RlcykgcmV0dXJuXHJcblxyXG4gICAgICAgIC8vIEV4dHJhY3QgY2FudmFzIGZpbGUgbm9kZSBlbWJlZHNcclxuICAgICAgICBjb25zdCBmaWxlTm9kZXNFbWJlZHMgPSBjb250ZW50Lm5vZGVzXHJcbiAgICAgICAgICAuZmlsdGVyKChub2RlOiBDYW52YXNOb2RlRGF0YSkgPT4gbm9kZS50eXBlID09PSAnZmlsZScgJiYgbm9kZS5maWxlKVxyXG4gICAgICAgICAgLm1hcCgobm9kZTogQ2FudmFzTm9kZURhdGEpID0+IG5vZGUuZmlsZSlcclxuICAgICAgICAgIC5tYXAoKHBhdGg6IHN0cmluZykgPT4gKHtcclxuICAgICAgICAgICAgbGluazogcGF0aCxcclxuICAgICAgICAgICAgb3JpZ2luYWw6IHBhdGgsXHJcbiAgICAgICAgICAgIGRpc3BsYXlUZXh0OiBwYXRoLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogeyBzdGFydDogeyBsaW5lOiAwLCBjb2w6IDAsIG9mZnNldDogMCB9LCBlbmQ6IHsgbGluZTogMCwgY29sOiAwLCBvZmZzZXQ6IDAgfSB9XHJcbiAgICAgICAgICB9KSlcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBjYW52YXMgdGV4dCBub2RlIGxpbmtzL2VtYmVkc1xyXG4gICAgICAgIGNvbnN0IHRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKClcclxuICAgICAgICBjb25zdCB0ZXh0Tm9kZXNNZXRhZGF0YVByb21pc2VzID0gY29udGVudC5ub2Rlc1xyXG4gICAgICAgICAgLmZpbHRlcigobm9kZTogQ2FudmFzTm9kZURhdGEpID0+IG5vZGUudHlwZSA9PT0gJ3RleHQnICYmIG5vZGUudGV4dClcclxuICAgICAgICAgIC5tYXAoKG5vZGU6IENhbnZhc05vZGVEYXRhKSA9PiBub2RlLnRleHQpXHJcbiAgICAgICAgICAubWFwKCh0ZXh0OiBzdHJpbmcpID0+IHRleHRFbmNvZGVyLmVuY29kZSh0ZXh0KS5idWZmZXIpXHJcbiAgICAgICAgICAubWFwKChidWZmZXI6IEFycmF5QnVmZmVyKSA9PiB0aGlzLmNvbXB1dGVNZXRhZGF0YUFzeW5jKGJ1ZmZlcikgYXMgUHJvbWlzZTxNZXRhZGF0YUNhY2hlRW50cnk+KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRleHROb2Rlc01ldGFkYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwodGV4dE5vZGVzTWV0YWRhdGFQcm9taXNlcykgLy8gV2FpdCBmb3IgYWxsIHRleHQgbm9kZXMgdG8gYmUgcmVzb2x2ZWRcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dE5vZGVzRW1iZWRzID0gdGV4dE5vZGVzTWV0YWRhdGFcclxuICAgICAgICAgIC5tYXAoKG1ldGFkYXRhOiBNZXRhZGF0YUNhY2hlRW50cnkpID0+IG1ldGFkYXRhLmVtYmVkcyB8fCBbXSlcclxuICAgICAgICAgIC5mbGF0KClcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dE5vZGVzTGlua3MgPSB0ZXh0Tm9kZXNNZXRhZGF0YVxyXG4gICAgICAgICAgLm1hcCgobWV0YWRhdGE6IE1ldGFkYXRhQ2FjaGVFbnRyeSkgPT4gbWV0YWRhdGEubGlua3MgfHwgW10pXHJcbiAgICAgICAgICAuZmxhdCgpXHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSBtZXRhZGF0YSBjYWNoZVxyXG4gICAgICAgIDsodGhpcy5tZXRhZGF0YUNhY2hlIGFzIE1ldGFkYXRhQ2FjaGVNYXApW2ZpbGVDYWNoZS5oYXNoXSA9IHtcclxuICAgICAgICAgIHY6IDEsXHJcbiAgICAgICAgICBlbWJlZHM6IFtcclxuICAgICAgICAgICAgLi4uZmlsZU5vZGVzRW1iZWRzLFxyXG4gICAgICAgICAgICAuLi50ZXh0Tm9kZXNFbWJlZHNcclxuICAgICAgICAgIF0sXHJcbiAgICAgICAgICBsaW5rczogW1xyXG4gICAgICAgICAgICAuLi50ZXh0Tm9kZXNMaW5rc1xyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0gYXMgTWV0YWRhdGFDYWNoZUVudHJ5XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSByZXNvbHZlZCBsaW5rc1xyXG4gICAgICAgIHRoaXMucmVzb2x2ZWRMaW5rc1tmaWxlLnBhdGhdID0gWy4uLmZpbGVOb2Rlc0VtYmVkcywgLi4udGV4dE5vZGVzRW1iZWRzLCAuLi50ZXh0Tm9kZXNMaW5rc10ucmVkdWNlKChhY2MsIGNhY2hlRW50cnkpID0+IHtcclxuICAgICAgICAgIGFjY1tjYWNoZUVudHJ5LmxpbmtdID0gKGFjY1tjYWNoZUVudHJ5LmxpbmtdIHx8IDApICsgMVxyXG4gICAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pXHJcblxyXG4gICAgICAgIC8vIFNob3cgbGlua3MgYmV0d2VlbiBmaWxlcyB3aXRoIGVkZ2VzXHJcbiAgICAgICAgaWYgKCF0aGF0LnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCd0cmVhdEZpbGVOb2RlRWRnZXNBc0xpbmtzJykpIHJldHVyblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEV4dHJhY3QgY2FudmFzIGZpbGUgZWRnZXNcclxuICAgICAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgY29udGVudD8uZWRnZXMgfHwgW10pIHtcclxuICAgICAgICAgIGNvbnN0IGZyb20gPSBjb250ZW50Lm5vZGVzLmZpbmQoKG5vZGU6IENhbnZhc05vZGVEYXRhKSA9PiBub2RlLmlkID09PSBlZGdlLmZyb21Ob2RlKVxyXG4gICAgICAgICAgY29uc3QgdG8gPSBjb250ZW50Lm5vZGVzLmZpbmQoKG5vZGU6IENhbnZhc05vZGVEYXRhKSA9PiBub2RlLmlkID09PSBlZGdlLnRvTm9kZSlcclxuICAgICAgICAgIGlmICghZnJvbSB8fCAhdG8pIGNvbnRpbnVlXHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgYm90aCBub2RlcyBhcmUgZmlsZSBub2Rlc1xyXG4gICAgICAgICAgaWYgKGZyb20udHlwZSAhPT0gJ2ZpbGUnIHx8IHRvLnR5cGUgIT09ICdmaWxlJyB8fCAhZnJvbS5maWxlIHx8ICF0by5maWxlKSBjb250aW51ZVxyXG5cclxuICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSBsaW5rIGZvciB0aGUgXCJmcm9tXCIgbm9kZSB0byB0aGUgXCJ0b1wiIG5vZGVcclxuICAgICAgICAgIHRoaXMucmVnaXN0ZXJJbnRlcm5hbExpbmtBQyhmaWxlLm5hbWUsIGZyb20uZmlsZSwgdG8uZmlsZSlcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWRnZSBpcyBiaWRpcmVjdGlvbmFsIG9yIHVuaWRpcmVjdGlvbmFsIC0gaWYgeWVzLCByZWdpc3RlciB0aGUgbGluayBmb3IgdGhlIFwidG9cIiBub2RlIHRvIHRoZSBcImZyb21cIiBub2RlIGFzIHdlbGxcclxuICAgICAgICAgIGlmICghKGVkZ2UudG9FbmQgIT09ICdub25lJyB8fCBlZGdlLmZyb21FbmQgPT09ICdhcnJvdycpKVxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVySW50ZXJuYWxMaW5rQUMoZmlsZS5uYW1lLCB0by5maWxlLCBmcm9tLmZpbGUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICByZWdpc3RlckludGVybmFsTGlua0FDOiAoX25leHQ6IGFueSkgPT4gZnVuY3Rpb24gKGNhbnZhc05hbWU6IHN0cmluZywgZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gVXBkYXRlIG1ldGFkYXRhIGNhY2hlIGZvciBcImZyb21cIiBub2RlXHJcbiAgICAgICAgY29uc3QgZnJvbUZpbGVIYXNoID0gdGhpcy5maWxlQ2FjaGVbZnJvbV0/Lmhhc2ggPz8gSGFzaEhlbHBlci5oYXNoKGZyb20pIC8vIFNvbWUgZmlsZXMgbWlnaHQgbm90IGJlIHJlc29sdmVkIHlldFxyXG4gICAgICAgIGNvbnN0IGZyb21GaWxlTWV0YWRhdGFDYWNoZSA9ICh0aGlzLm1ldGFkYXRhQ2FjaGVbZnJvbUZpbGVIYXNoXSA/PyB7IHY6IDEgfSkgYXMgTWV0YWRhdGFDYWNoZUVudHJ5XHJcbiAgICAgICAgdGhpcy5tZXRhZGF0YUNhY2hlW2Zyb21GaWxlSGFzaF0gPSB7XHJcbiAgICAgICAgICAuLi5mcm9tRmlsZU1ldGFkYXRhQ2FjaGUsXHJcbiAgICAgICAgICBsaW5rczogW1xyXG4gICAgICAgICAgICAuLi4oZnJvbUZpbGVNZXRhZGF0YUNhY2hlLmxpbmtzIHx8IFtdKSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGxpbms6IHRvLFxyXG4gICAgICAgICAgICAgIG9yaWdpbmFsOiB0byxcclxuICAgICAgICAgICAgICBkaXNwbGF5VGV4dDogYCR7Y2FudmFzTmFtZX0gXHUyMTkyICR7dG99YCxcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogeyBzdGFydDogeyBsaW5lOiAwLCBjb2w6IDAsIG9mZnNldDogMCB9LCBlbmQ6IHsgbGluZTogMCwgY29sOiAwLCBvZmZzZXQ6IDAgfSB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAvLyBVcGRhdGUgcmVzb2x2ZWQgbGlua3MgZm9yIFwiZnJvbVwiIG5vZGVcclxuICAgICAgICB0aGlzLnJlc29sdmVkTGlua3NbZnJvbV0gPSB7XHJcbiAgICAgICAgICAuLi50aGlzLnJlc29sdmVkTGlua3NbZnJvbV0sXHJcbiAgICAgICAgICBbdG9dOiAodGhpcy5yZXNvbHZlZExpbmtzW2Zyb21dPy5bdG9dIHx8IDApICsgMVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBQYXRjaCBjb21wbGV0ZSAtIHJlbG9hZCBncmFwaCB2aWV3cyBhbmQgbG9jYWwgZ3JhcGggdmlld3MgYXMgc29vbiBhcyB0aGUgbGF5b3V0IGlzIHJlYWR5XHJcbiAgICB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xyXG4gICAgICBjb25zdCBncmFwaFZpZXdzID0gWy4uLnRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdncmFwaCcpLCAuLi50aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnbG9jYWxncmFwaCcpXVxyXG4gICAgICBmb3IgKGNvbnN0IHZpZXcgb2YgZ3JhcGhWaWV3cykgKHZpZXcgYXMgYW55KS5yZWJ1aWxkVmlldygpXHJcbiAgICB9KVxyXG4gIH1cclxufSIsICJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhc2hIZWxwZXIge1xyXG4gIHN0YXRpYyBoYXNoKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JylcclxuICAgICAgLnVwZGF0ZShzdHIpXHJcbiAgICAgIC5kaWdlc3QoJ2hleCcpXHJcbiAgfVxyXG59IiwgImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdGhIZWxwZXIge1xyXG4gIHN0YXRpYyBleHRlbnNpb24ocGF0aDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiBwYXRoLmluY2x1ZGVzKCcuJykgPyBwYXRoLnNwbGl0KCcuJykucG9wKCkgOiB1bmRlZmluZWRcclxuICB9XHJcbn0iLCAiaW1wb3J0IFBhdGNoSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvcGF0Y2gtaGVscGVyXCJcclxuaW1wb3J0IFBhdGNoZXIgZnJvbSBcIi4vcGF0Y2hlclwiXHJcbmltcG9ydCB7IFRBYnN0cmFjdEZpbGUsIFRGaWxlLCBURm9sZGVyIH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhY2tsaW5rc1BhdGNoZXIgZXh0ZW5kcyBQYXRjaGVyIHtcclxuICBwcml2YXRlIGlzUmVjb21wdXRpbmdCYWNrbGlua3M6IGJvb2xlYW4gPSBmYWxzZVxyXG5cclxuICBwcm90ZWN0ZWQgYXN5bmMgcGF0Y2goKSB7XHJcbiAgICBpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2NhbnZhc01ldGFkYXRhQ29tcGF0aWJpbGl0eUVuYWJsZWQnKSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgdGhhdCA9IHRoaXNcclxuICAgIGNvbnN0IGJhY2tsaW5rUGF0Y2ggPSBQYXRjaEhlbHBlci50cnlQYXRjaFdvcmtzcGFjZVByb3RvdHlwZSh0aGlzLnBsdWdpbiwgKCkgPT4gKFxyXG4gICAgICAodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ2JhY2tsaW5rJykuZmlyc3QoKT8udmlldyBhcyBhbnkpPy5iYWNrbGlua1xyXG4gICAgKSwge1xyXG4gICAgICByZWNvbXB1dGVCYWNrbGluazogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKGZpbGU6IFRGaWxlLCAuLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIHRoYXQuaXNSZWNvbXB1dGluZ0JhY2tsaW5rcyA9IHRydWVcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgZmlsZSwgLi4uYXJncylcclxuICAgICAgICB0aGF0LmlzUmVjb21wdXRpbmdCYWNrbGlua3MgPSBmYWxzZVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCB2YXVsdFBhdGNoID0gUGF0Y2hIZWxwZXIucGF0Y2hPYmplY3RQcm90b3R5cGUodGhpcy5wbHVnaW4sIHRoaXMucGx1Z2luLmFwcC52YXVsdCwge1xyXG4gICAgICByZWN1cnNlQ2hpbGRyZW5BQzogKF9uZXh0OiBhbnkpID0+IGZ1bmN0aW9uIChvcmlnaW46IFRBYnN0cmFjdEZpbGUsIHRyYXZlcnNlOiAoZmlsZTogVEFic3RyYWN0RmlsZSkgPT4gdm9pZCkge1xyXG4gICAgICAgIGZvciAodmFyIHN0YWNrID0gW29yaWdpbl07IHN0YWNrLmxlbmd0aCA+IDA7KSB7XHJcbiAgICAgICAgICB2YXIgY3VycmVudCA9IHN0YWNrLnBvcCgpXHJcbiAgICAgICAgICBpZiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICB0cmF2ZXJzZShjdXJyZW50KVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBhIGZvbGRlciwgYWRkIGl0cyBjaGlsZHJlbiB0byB0aGUgc3RhY2tcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgaW5zdGFuY2VvZiBURm9sZGVyKSBzdGFjayA9IHN0YWNrLmNvbmNhdChjdXJyZW50LmNoaWxkcmVuKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZ2V0TWFya2Rvd25GaWxlczogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKGZpbGU6IFRGaWxlLCAuLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGlmICghdGhhdC5pc1JlY29tcHV0aW5nQmFja2xpbmtzKSByZXR1cm4gbmV4dC5jYWxsKHRoaXMsIGZpbGUsIC4uLmFyZ3MpXHJcblxyXG4gICAgICAgIC8vIElmIHdlIGFyZSByZWNvbXB1dGluZyBiYWNrbGlua3MsIHdlIG5lZWQgdG8gaW5jbHVkZSBtYXJrZG93biBhcyB3ZWxsIGFzIGNhbnZhcyBmaWxlc1xyXG4gICAgICAgIHZhciBmaWxlczogVEZpbGVbXSA9IFtdXHJcbiAgICAgICAgdmFyIHJvb3QgPSB0aGlzLmdldFJvb3QoKVxyXG5cclxuICAgICAgICB0aGlzLnJlY3Vyc2VDaGlsZHJlbkFDKHJvb3QsIChjaGlsZDogVEFic3RyYWN0RmlsZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEZpbGUgJiYgKGNoaWxkLmV4dGVuc2lvbiA9PT0gXCJtZFwiIHx8IGNoaWxkLmV4dGVuc2lvbiA9PT0gXCJjYW52YXNcIikpIHtcclxuICAgICAgICAgICAgZmlsZXMucHVzaChjaGlsZClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gZmlsZXNcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBbYmFja2xpbmtdID0gYXdhaXQgUHJvbWlzZS5hbGwoW2JhY2tsaW5rUGF0Y2gsIHZhdWx0UGF0Y2hdKVxyXG5cclxuICAgIC8vIFBhdGNoIHN1Y2Nlc3NmdWwgLSByZWNvbXB1dGUgYmFja2xpbmtzXHJcbiAgICBiYWNrbGluay5yZWNvbXB1dGVCYWNrbGluayh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IFBhdGNoSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvcGF0Y2gtaGVscGVyXCJcclxuaW1wb3J0IFBhdGNoZXIgZnJvbSBcIi4vcGF0Y2hlclwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPdXRnb2luZ0xpbmtzUGF0Y2hlciBleHRlbmRzIFBhdGNoZXIge1xyXG4gIHByb3RlY3RlZCBhc3luYyBwYXRjaCgpIHtcclxuICAgIGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnY2FudmFzTWV0YWRhdGFDb21wYXRpYmlsaXR5RW5hYmxlZCcpKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG4gICAgY29uc3Qgb3V0Z29pbmdMaW5rUGF0Y2ggPSBQYXRjaEhlbHBlci50cnlQYXRjaFdvcmtzcGFjZVByb3RvdHlwZSh0aGlzLnBsdWdpbiwgKCkgPT4gKFxyXG4gICAgICAodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ291dGdvaW5nLWxpbmsnKS5maXJzdCgpPy52aWV3IGFzIGFueSk/Lm91dGdvaW5nTGlua1xyXG4gICAgKSwge1xyXG4gICAgICByZWNvbXB1dGVMaW5rczogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc3QgaXNDYW52YXMgPSB0aGlzLmZpbGU/LmV4dGVuc2lvbiA9PT0gJ2NhbnZhcydcclxuXHJcbiAgICAgICAgLy8gVHJpY2sgdGhlIGFwcCBpbnRvIHRoaW5raW5nIHRoYXQgdGhlIGZpbGUgaXMgYSBtYXJrZG93biBmaWxlXHJcbiAgICAgICAgaWYgKGlzQ2FudmFzKSB0aGlzLmZpbGUuZXh0ZW5zaW9uID0gJ21kJ1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuXHJcbiAgICAgICAgLy8gUmV2ZXJ0IHRoZSBleHRlbnNpb24gY2hhbmdlXHJcbiAgICAgICAgaWYgKGlzQ2FudmFzKSB0aGlzLmZpbGUuZXh0ZW5zaW9uID0gJ2NhbnZhcydcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgICByZWNvbXB1dGVVbmxpbmtlZDogKG5leHQ6IGFueSkgPT4gZnVuY3Rpb24gKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgY29uc3QgaXNDYW52YXMgPSB0aGlzLmZpbGU/LmV4dGVuc2lvbiA9PT0gJ2NhbnZhcydcclxuXHJcbiAgICAgICAgLy8gVHJpY2sgdGhlIGFwcCBpbnRvIHRoaW5raW5nIHRoYXQgdGhlIGZpbGUgaXMgYSBtYXJrZG93biBmaWxlXHJcbiAgICAgICAgaWYgKGlzQ2FudmFzKSB0aGlzLmZpbGUuZXh0ZW5zaW9uID0gJ21kJ1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcclxuXHJcbiAgICAgICAgLy8gUmV2ZXJ0IHRoZSBleHRlbnNpb24gY2hhbmdlXHJcbiAgICAgICAgaWYgKGlzQ2FudmFzKSB0aGlzLmZpbGUuZXh0ZW5zaW9uID0gJ2NhbnZhcydcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IFtvdXRnb2luZ0xpbmtdID0gYXdhaXQgUHJvbWlzZS5hbGwoW291dGdvaW5nTGlua1BhdGNoXSlcclxuXHJcbiAgICAvLyBQYXRjaCBzdWNjZXNzZnVsIC0gcmVjb21wdXRlIG91dGdvaW5nIGxpbmtzXHJcbiAgICBvdXRnb2luZ0xpbmsucmVjb21wdXRlTGlua3MoKVxyXG4gICAgb3V0Z29pbmdMaW5rLnJlY29tcHV0ZVVubGlua2VkKClcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgc2V0SWNvbiwgc2V0VG9vbHRpcCB9IGZyb20gXCJvYnNpZGlhblwiXHJcbmltcG9ydCB7IEJCb3gsIENhbnZhcywgQ2FudmFzTm9kZSwgQ2FudmFzTm9kZURhdGEsIFBvc2l0aW9uLCBTaXplIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgU3R5bGVBdHRyaWJ1dGUgfSBmcm9tIFwic3JjL2NhbnZhcy1leHRlbnNpb25zL2FkdmFuY2VkLXN0eWxlcy9zdHlsZS1jb25maWdcIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuaW1wb3J0IEJCb3hIZWxwZXIgZnJvbSBcIi4vYmJveC1oZWxwZXJcIlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNZW51T3B0aW9uIHtcclxuICBpZD86IHN0cmluZ1xyXG4gIGxhYmVsOiBzdHJpbmdcclxuICBpY29uOiBzdHJpbmdcclxuICBjYWxsYmFjaz86ICgpID0+IHZvaWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzSGVscGVyIHtcclxuICBzdGF0aWMgcmVhZG9ubHkgR1JJRF9TSVpFID0gMjBcclxuXHJcbiAgc3RhdGljIGNhbnZhc0NvbW1hbmQocGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbiwgY2hlY2s6IChjYW52YXM6IENhbnZhcykgPT4gYm9vbGVhbiwgcnVuOiAoY2FudmFzOiBDYW52YXMpID0+IHZvaWQpOiAoY2hlY2tpbmc6IGJvb2xlYW4pID0+IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIChjaGVja2luZzogYm9vbGVhbikgPT4ge1xyXG4gICAgICBjb25zdCBjYW52YXMgPSBwbHVnaW4uZ2V0Q3VycmVudENhbnZhcygpXHJcbiAgICAgIGlmIChjaGVja2luZykgcmV0dXJuIGNhbnZhcyAhPT0gbnVsbCAmJiBjaGVjayhjYW52YXMpXHJcblxyXG4gICAgICBpZiAoY2FudmFzKSBydW4oY2FudmFzKVxyXG5cclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVDb250cm9sTWVudUJ1dHRvbihtZW51T3B0aW9uOiBNZW51T3B0aW9uKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgcXVpY2tTZXR0aW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGlmIChtZW51T3B0aW9uLmlkKSBxdWlja1NldHRpbmcuaWQgPSBtZW51T3B0aW9uLmlkXHJcbiAgICBxdWlja1NldHRpbmcuY2xhc3NMaXN0LmFkZCgnY2FudmFzLWNvbnRyb2wtaXRlbScpXHJcbiAgICBzZXRJY29uKHF1aWNrU2V0dGluZywgbWVudU9wdGlvbi5pY29uKVxyXG4gICAgc2V0VG9vbHRpcChxdWlja1NldHRpbmcsIG1lbnVPcHRpb24ubGFiZWwsIHsgcGxhY2VtZW50OiAnbGVmdCcgfSlcclxuICAgIHF1aWNrU2V0dGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1lbnVPcHRpb24uY2FsbGJhY2s/LigpKVxyXG5cclxuICAgIHJldHVybiBxdWlja1NldHRpbmdcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhZGRDb250cm9sTWVudUJ1dHRvbihjb250cm9sR3JvdXA6IEhUTUxFbGVtZW50LCBlbGVtZW50OiBIVE1MRWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQuaWQpIGNvbnRyb2xHcm91cC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApPy5yZW1vdmUoKVxyXG4gICAgY29udHJvbEdyb3VwLmFwcGVuZENoaWxkKGVsZW1lbnQpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlQ2FyZE1lbnVPcHRpb24oY2FudmFzOiBDYW52YXMsIG1lbnVPcHRpb246IE1lbnVPcHRpb24sIHByZXZpZXdOb2RlU2l6ZTogKCkgPT4gU2l6ZSwgb25QbGFjZWQ6IChjYW52YXM6IENhbnZhcywgcG9zOiBQb3NpdGlvbikgPT4gdm9pZCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG1lbnVPcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGlmIChtZW51T3B0aW9uLmlkKSBtZW51T3B0aW9uRWxlbWVudC5pZCA9IG1lbnVPcHRpb24uaWRcclxuICAgIG1lbnVPcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NhbnZhcy1jYXJkLW1lbnUtYnV0dG9uJylcclxuICAgIG1lbnVPcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZC1kcmFnZ2FibGUnKVxyXG4gICAgc2V0SWNvbihtZW51T3B0aW9uRWxlbWVudCwgbWVudU9wdGlvbi5pY29uKVxyXG4gICAgc2V0VG9vbHRpcChtZW51T3B0aW9uRWxlbWVudCwgbWVudU9wdGlvbi5sYWJlbCwgeyBwbGFjZW1lbnQ6ICd0b3AnIH0pXHJcblxyXG4gICAgbWVudU9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcclxuICAgICAgb25QbGFjZWQoY2FudmFzLCB0aGlzLmdldENlbnRlckNvb3JkaW5hdGVzKGNhbnZhcywgcHJldmlld05vZGVTaXplKCkpKVxyXG4gICAgfSlcclxuXHJcbiAgICBtZW51T3B0aW9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIChlKSA9PiB7XHJcbiAgICAgIGNhbnZhcy5kcmFnVGVtcE5vZGUoZSwgcHJldmlld05vZGVTaXplKCksIChwb3M6IFBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgY2FudmFzLmRlc2VsZWN0QWxsKClcclxuICAgICAgICBvblBsYWNlZChjYW52YXMsIHBvcylcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIG1lbnVPcHRpb25FbGVtZW50XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYWRkQ2FyZE1lbnVPcHRpb24oY2FudmFzOiBDYW52YXMsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAoZWxlbWVudC5pZCkgY2FudmFzPy5jYXJkTWVudUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCk/LnJlbW92ZSgpXHJcbiAgICBjYW52YXM/LmNhcmRNZW51RWwuYXBwZW5kQ2hpbGQoZWxlbWVudClcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVQb3B1cE1lbnVPcHRpb24obWVudU9wdGlvbjogTWVudU9wdGlvbik6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG1lbnVPcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuICAgIGlmIChtZW51T3B0aW9uLmlkKSBtZW51T3B0aW9uRWxlbWVudC5pZCA9IG1lbnVPcHRpb24uaWRcclxuICAgIG1lbnVPcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NsaWNrYWJsZS1pY29uJylcclxuICAgIHNldEljb24obWVudU9wdGlvbkVsZW1lbnQsIG1lbnVPcHRpb24uaWNvbilcclxuICAgIHNldFRvb2x0aXAobWVudU9wdGlvbkVsZW1lbnQsIG1lbnVPcHRpb24ubGFiZWwsIHsgcGxhY2VtZW50OiAndG9wJyB9KVxyXG4gICAgbWVudU9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtZW51T3B0aW9uLmNhbGxiYWNrPy4oKSlcclxuXHJcbiAgICByZXR1cm4gbWVudU9wdGlvbkVsZW1lbnRcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVFeHBhbmRhYmxlUG9wdXBNZW51T3B0aW9uKG1lbnVPcHRpb246IE1lbnVPcHRpb24sIHN1Yk1lbnVPcHRpb25zOiBNZW51T3B0aW9uW10pOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBtZW51T3B0aW9uRWxlbWVudCA9IHRoaXMuY3JlYXRlUG9wdXBNZW51T3B0aW9uKHtcclxuICAgICAgLi4ubWVudU9wdGlvbixcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICBjb25zdCBzdWJtZW51SWQgPSBgJHttZW51T3B0aW9uLmlkfS1zdWJtZW51YFxyXG5cclxuICAgICAgICBpZiAobWVudU9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xyXG4gICAgICAgICAgbWVudU9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJylcclxuICAgICAgICAgIG1lbnVPcHRpb25FbGVtZW50LnBhcmVudEVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoYCMke3N1Ym1lbnVJZH1gKT8ucmVtb3ZlKClcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWVudU9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJylcclxuXHJcbiAgICAgICAgLy8gQWRkIHBvcHVwIG1lbnVcclxuICAgICAgICBjb25zdCBzdWJtZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBzdWJtZW51LmlkID0gc3VibWVudUlkXHJcbiAgICAgICAgc3VibWVudS5jbGFzc0xpc3QuYWRkKCdjYW52YXMtc3VibWVudScpXHJcbiAgICAgIFxyXG4gICAgICAgIC8vIEFkZCBuZXN0ZWQgb3B0aW9uc1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3ViTWVudU9wdGlvbiBvZiBzdWJNZW51T3B0aW9ucykge1xyXG4gICAgICAgICAgY29uc3Qgc3ViTWVudU9wdGlvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZVBvcHVwTWVudU9wdGlvbihzdWJNZW51T3B0aW9uKVxyXG4gICAgICAgICAgc3VibWVudS5hcHBlbmRDaGlsZChzdWJNZW51T3B0aW9uRWxlbWVudClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lbnVPcHRpb25FbGVtZW50LnBhcmVudEVsZW1lbnQ/LmFwcGVuZENoaWxkKHN1Ym1lbnUpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIG1lbnVPcHRpb25FbGVtZW50XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYWRkUG9wdXBNZW51T3B0aW9uKGNhbnZhczogQ2FudmFzLCBlbGVtZW50OiBIVE1MRWxlbWVudCwgaW5kZXg6IG51bWJlciA9IC0xKSB7XHJcbiAgICBjb25zdCBwb3B1cE1lbnVFbCA9IGNhbnZhcz8ubWVudT8ubWVudUVsXHJcbiAgICBpZiAoIXBvcHVwTWVudUVsKSByZXR1cm5cclxuXHJcbiAgICBpZiAoZWxlbWVudC5pZCkge1xyXG4gICAgICBjb25zdCBvcHRpb25Ub1JlcGxhY2UgPSBwb3B1cE1lbnVFbC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApXHJcbiAgICAgIGlmIChvcHRpb25Ub1JlcGxhY2UgJiYgaW5kZXggPT09IC0xKSBpbmRleCA9IEFycmF5LmZyb20ocG9wdXBNZW51RWwuY2hpbGRyZW4pLmluZGV4T2Yob3B0aW9uVG9SZXBsYWNlKSAtIDFcclxuICAgICAgb3B0aW9uVG9SZXBsYWNlPy5yZW1vdmUoKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNpc3RlckVsZW1lbnQgPSBpbmRleCA+PSAwID8gcG9wdXBNZW51RWwuY2hpbGRyZW5baW5kZXhdIDogcG9wdXBNZW51RWwuY2hpbGRyZW5bcG9wdXBNZW51RWwuY2hpbGRyZW4ubGVuZ3RoICsgaW5kZXhdXHJcbiAgICBwb3B1cE1lbnVFbC5pbnNlcnRBZnRlcihlbGVtZW50LCBzaXN0ZXJFbGVtZW50KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldENlbnRlckNvb3JkaW5hdGVzKGNhbnZhczogQ2FudmFzLCBub2RlU2l6ZTogU2l6ZSk6IFBvc2l0aW9uIHtcclxuICAgIGNvbnN0IHZpZXdCb3VuZHMgPSBjYW52YXMuZ2V0Vmlld3BvcnRCQm94KClcclxuXHJcbiAgICByZXR1cm4geyBcclxuICAgICAgeDogKHZpZXdCb3VuZHMubWluWCArIHZpZXdCb3VuZHMubWF4WCkgLyAyIC0gbm9kZVNpemUud2lkdGggLyAyLFxyXG4gICAgICB5OiAodmlld0JvdW5kcy5taW5ZICsgdmlld0JvdW5kcy5tYXhZKSAvIDIgLSBub2RlU2l6ZS5oZWlnaHQgLyAyLFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldEJCb3goY2FudmFzTm9kZXM6IChDYW52YXNOb2RlIHwgQ2FudmFzTm9kZURhdGEpW10pIHtcclxuICAgIGxldCBtaW5YID0gSW5maW5pdHlcclxuICAgIGxldCBtaW5ZID0gSW5maW5pdHlcclxuICAgIGxldCBtYXhYID0gLUluZmluaXR5XHJcbiAgICBsZXQgbWF4WSA9IC1JbmZpbml0eVxyXG5cclxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjYW52YXNOb2Rlcykge1xyXG4gICAgICBjb25zdCBub2RlRGF0YSA9IChub2RlIGFzIGFueSkuZ2V0RGF0YSA/IChub2RlIGFzIENhbnZhc05vZGUpLmdldERhdGEoKSA6IG5vZGVcclxuXHJcbiAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBub2RlRGF0YS54KVxyXG4gICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgbm9kZURhdGEueSlcclxuICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIG5vZGVEYXRhLnggKyBub2RlRGF0YS53aWR0aClcclxuICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIG5vZGVEYXRhLnkgKyBub2RlRGF0YS5oZWlnaHQpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgbWluWCwgbWluWSwgbWF4WCwgbWF4WSB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgem9vbVRvQkJveChjYW52YXM6IENhbnZhcywgYmJveDogQkJveCkge1xyXG4gICAgLyogY29uc3Qgem9vbVggPSBjYW52YXMuY2FudmFzUmVjdC53aWR0aCAvICgxLjEgKiAoYmJveC5tYXhYIC0gYmJveC5taW5YKSlcclxuICAgIGNvbnN0IHpvb21ZID0gY2FudmFzLmNhbnZhc1JlY3QuaGVpZ2h0IC8gKDEuMSAqIChiYm94Lm1heFkgLSBiYm94Lm1pblkpKVxyXG4gICAgY29uc3Qgem9vbSA9IE1hdGguY2xhbXAoTWF0aC5taW4oem9vbVgsIHpvb21ZKSwgLTQsIDEpICovXHJcblxyXG4gICAgY29uc3QgUEFERElOR19DT1JSRUNUSU9OX0ZBQ1RPUiA9IDEgLyAxLjFcclxuICAgIGNvbnN0IHpvb21lZEJCb3ggPSBCQm94SGVscGVyLnNjYWxlQkJveChiYm94LCBQQURESU5HX0NPUlJFQ1RJT05fRkFDVE9SKVxyXG5cclxuICAgIGNhbnZhcy56b29tVG9CYm94KHpvb21lZEJCb3gpXHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSB6b29tIGZhY3RvciB3aXRob3V0IGNsYW1wXHJcbiAgICBjb25zdCBzY2FsZUZhY3RvciA9IE1hdGgubWluKFxyXG4gICAgICBjYW52YXMuY2FudmFzUmVjdC53aWR0aCAvIChiYm94Lm1heFggLSBiYm94Lm1pblgpLFxyXG4gICAgICBjYW52YXMuY2FudmFzUmVjdC5oZWlnaHQgLyAoYmJveC5tYXhZIC0gYmJveC5taW5ZKVxyXG4gICAgKVxyXG5cclxuICAgIGNhbnZhcy50Wm9vbSA9IE1hdGgubG9nMihzY2FsZUZhY3RvcilcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhZGRTdHlsZUF0dHJpYnV0ZXNUb1BvcHVwKHBsdWdpbjogQWR2YW5jZWRDYW52YXNQbHVnaW4sIGNhbnZhczogQ2FudmFzLCBzdHlsZUF0dHJpYnV0ZXM6IFN0eWxlQXR0cmlidXRlW10sIGN1cnJlbnRTdHlsZUF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgbnVsbCB9LCBzZXRTdHlsZUF0dHJpYnV0ZTogKGF0dHJpYnV0ZTogU3R5bGVBdHRyaWJ1dGUsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkKSB7XHJcbiAgICBpZiAoIXBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdjb21iaW5lQ3VzdG9tU3R5bGVzSW5Ecm9wZG93bicpKSBcclxuICAgICAgdGhpcy5hZGRTdHlsZUF0dHJpYnV0ZXNCdXR0b25zKGNhbnZhcywgc3R5bGVBdHRyaWJ1dGVzLCBjdXJyZW50U3R5bGVBdHRyaWJ1dGVzLCBzZXRTdHlsZUF0dHJpYnV0ZSlcclxuICAgIGVsc2UgdGhpcy5hZGRTdHlsZUF0dHJpYnV0ZXNEcm9wZG93bk1lbnUoY2FudmFzLCBzdHlsZUF0dHJpYnV0ZXMsIGN1cnJlbnRTdHlsZUF0dHJpYnV0ZXMsIHNldFN0eWxlQXR0cmlidXRlKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFkZFN0eWxlQXR0cmlidXRlc0J1dHRvbnMoY2FudmFzOiBDYW52YXMsIHN0eWxhYmxlQXR0cmlidXRlczogU3R5bGVBdHRyaWJ1dGVbXSwgY3VycmVudFN0eWxlQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsIH0sIHNldFN0eWxlQXR0cmlidXRlOiAoYXR0cmlidXRlOiBTdHlsZUF0dHJpYnV0ZSwgdmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQpIHtcclxuICAgIGZvciAoY29uc3Qgc3R5bGFibGVBdHRyaWJ1dGUgb2Ygc3R5bGFibGVBdHRyaWJ1dGVzKSB7XHJcbiAgICAgIGNvbnN0IHNlbGVjdGVkU3R5bGUgPSBzdHlsYWJsZUF0dHJpYnV0ZS5vcHRpb25zXHJcbiAgICAgICAgLmZpbmQob3B0aW9uID0+IGN1cnJlbnRTdHlsZUF0dHJpYnV0ZXNbc3R5bGFibGVBdHRyaWJ1dGUuZGF0YXNldEtleV0gPT09IG9wdGlvbi52YWx1ZSkgPz9cclxuICAgICAgICBzdHlsYWJsZUF0dHJpYnV0ZS5vcHRpb25zLmZpbmQodmFsdWUgPT4gdmFsdWUudmFsdWUgPT09IG51bGwpISFcclxuXHJcbiAgICAgIGNvbnN0IG1lbnVPcHRpb24gPSBDYW52YXNIZWxwZXIuY3JlYXRlRXhwYW5kYWJsZVBvcHVwTWVudU9wdGlvbih7XHJcbiAgICAgICAgaWQ6IGBtZW51LW9wdGlvbi0ke3N0eWxhYmxlQXR0cmlidXRlLmRhdGFzZXRLZXl9YCxcclxuICAgICAgICBsYWJlbDogc3R5bGFibGVBdHRyaWJ1dGUubGFiZWwsXHJcbiAgICAgICAgaWNvbjogc2VsZWN0ZWRTdHlsZS5pY29uXHJcbiAgICAgIH0sIHN0eWxhYmxlQXR0cmlidXRlLm9wdGlvbnMubWFwKChzdHlsZU9wdGlvbikgPT4gKHtcclxuICAgICAgICBsYWJlbDogc3R5bGVPcHRpb24ubGFiZWwsXHJcbiAgICAgICAgaWNvbjogc3R5bGVPcHRpb24uaWNvbixcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgLy8gU2V0IHN0eWxlIGF0dHJpYnV0ZVxyXG4gICAgICAgICAgc2V0U3R5bGVBdHRyaWJ1dGUoc3R5bGFibGVBdHRyaWJ1dGUsIHN0eWxlT3B0aW9uLnZhbHVlKVxyXG5cclxuICAgICAgICAgIC8vIEtlZXAgY29ycmVjdCByZWZlcmVuY2VcclxuICAgICAgICAgIGN1cnJlbnRTdHlsZUF0dHJpYnV0ZXNbc3R5bGFibGVBdHRyaWJ1dGUuZGF0YXNldEtleV0gPSBzdHlsZU9wdGlvbi52YWx1ZVxyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSBpY29uXHJcbiAgICAgICAgICBzZXRJY29uKG1lbnVPcHRpb24sIHN0eWxlT3B0aW9uLmljb24pXHJcblxyXG4gICAgICAgICAgLy8gQ2xvc2UgbWVudVxyXG4gICAgICAgICAgbWVudU9wdGlvbi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2snKSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pKSlcclxuXHJcbiAgICAgIC8vIEFkZCBtZW51IG9wdGlvbiB0byBtZW51IGJhclxyXG4gICAgICBDYW52YXNIZWxwZXIuYWRkUG9wdXBNZW51T3B0aW9uKGNhbnZhcywgbWVudU9wdGlvbilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBhZGRTdHlsZUF0dHJpYnV0ZXNEcm9wZG93bk1lbnUoY2FudmFzOiBDYW52YXMsIHN0eWxhYmxlQXR0cmlidXRlczogU3R5bGVBdHRyaWJ1dGVbXSwgY3VycmVudFN0eWxlQXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsIH0sIHNldFN0eWxlQXR0cmlidXRlOiAoYXR0cmlidXRlOiBTdHlsZUF0dHJpYnV0ZSwgdmFsdWU6IHN0cmluZyB8IG51bGwpID0+IHZvaWQpIHtcclxuICAgIGNvbnN0IFNUWUxFX01FTlVfSUQgPSAnc3R5bGUtbWVudSdcclxuICAgIGNvbnN0IFNUWUxFX01FTlVfRFJPUERPV05fSUQgPSAnc3R5bGUtbWVudS1kcm9wZG93bidcclxuICAgIGNvbnN0IFNUWUxFX01FTlVfRFJPUERPV05fU1VCTUVOVV9JRCA9ICdzdHlsZS1tZW51LWRyb3Bkb3duLXN1Ym1lbnUnXHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgcG9wdXAgbWVudSBleGlzdHNcclxuICAgIGNvbnN0IHBvcHVwTWVudUVsZW1lbnQgPSBjYW52YXM/Lm1lbnU/Lm1lbnVFbFxyXG4gICAgaWYgKCFwb3B1cE1lbnVFbGVtZW50KSByZXR1cm5cclxuICAgIFxyXG4gICAgLy8gUmVtb3ZlIHByZXZpb3VzIHN0eWxlIG1lbnVcclxuICAgIHBvcHVwTWVudUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7U1RZTEVfTUVOVV9JRH1gKT8ucmVtb3ZlKClcclxuXHJcbiAgICBjb25zdCBzdHlsZU1lbnVCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJylcclxuICAgIHN0eWxlTWVudUJ1dHRvbkVsZW1lbnQuaWQgPSBTVFlMRV9NRU5VX0lEXHJcbiAgICBzdHlsZU1lbnVCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2NsaWNrYWJsZS1pY29uJylcclxuXHJcbiAgICBzZXRJY29uKHN0eWxlTWVudUJ1dHRvbkVsZW1lbnQsICdwYWludGJydXNoJylcclxuICAgIHNldFRvb2x0aXAoc3R5bGVNZW51QnV0dG9uRWxlbWVudCwgJ1N0eWxlJywgeyBwbGFjZW1lbnQ6ICd0b3AnIH0pXHJcbiAgICBcclxuICAgIC8vIEFkZCBzdHlsZSBtZW51IHRvIHBvcHVwIG1lbnVcclxuICAgIHBvcHVwTWVudUVsZW1lbnQuYXBwZW5kQ2hpbGQoc3R5bGVNZW51QnV0dG9uRWxlbWVudClcclxuXHJcbiAgICAvLyBBZGQgY2xpY2sgZXZlbnRcclxuICAgIHN0eWxlTWVudUJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlzT3BlbiA9IHN0eWxlTWVudUJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnaGFzLWFjdGl2ZS1tZW51JylcclxuICAgICAgaWYgKCFpc09wZW4pIHtcclxuICAgICAgICBwb3B1cE1lbnVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke1NUWUxFX01FTlVfRFJPUERPV05fSUR9YCk/LnJlbW92ZSgpXHJcbiAgICAgICAgcG9wdXBNZW51RWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtTVFlMRV9NRU5VX0RST1BET1dOX1NVQk1FTlVfSUR9YCk/LnJlbW92ZSgpXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHN0eWxlTWVudURyb3Bkb3duRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgIHN0eWxlTWVudURyb3Bkb3duRWxlbWVudC5pZCA9IFNUWUxFX01FTlVfRFJPUERPV05fSURcclxuICAgICAgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUnKVxyXG5cclxuICAgICAgLy8gUG9zaXRpb24gY29ycmVjdGx5XHJcbiAgICAgIHN0eWxlTWVudURyb3Bkb3duRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSdcclxuICAgICAgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LnN0eWxlLm1heEhlaWdodCA9ICdpbml0aWFsJ1xyXG5cclxuICAgICAgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LnN0eWxlLnRvcCA9IGAke3BvcHVwTWVudUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fXB4YFxyXG5cclxuICAgICAgY29uc3QgY2FudmFzV3JhcHBlckNlbnRlclggPSBjYW52YXMud3JhcHBlckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyBjYW52YXMud3JhcHBlckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC8gMlxyXG5cclxuICAgICAgY29uc3QgbGVmdFBvc2l0aW9uID0gc3R5bGVNZW51QnV0dG9uRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gcG9wdXBNZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0XHJcbiAgICAgIGNvbnN0IHJpZ2h0UG9zaXRpb24gPSBwb3B1cE1lbnVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0IC0gc3R5bGVNZW51QnV0dG9uRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodFxyXG5cclxuICAgICAgLy8gU3dhcCBzaWRlcyBpZiBpdCBpcyB0b28gY2xvc2UgdG8gdGhlIGVkZ2VcclxuICAgICAgaWYgKHBvcHVwTWVudUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIGxlZnRQb3NpdGlvbiA8IGNhbnZhc1dyYXBwZXJDZW50ZXJYKVxyXG4gICAgICAgIHN0eWxlTWVudURyb3Bkb3duRWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdFBvc2l0aW9ufXB4YFxyXG4gICAgICBlbHNlIHN0eWxlTWVudURyb3Bkb3duRWxlbWVudC5zdHlsZS5yaWdodCA9IGAke3JpZ2h0UG9zaXRpb259cHhgXHJcblxyXG4gICAgICAvLyBBZGQgc3R5bGUgb3B0aW9uc1xyXG4gICAgICBmb3IgKGNvbnN0IHN0eWxhYmxlQXR0cmlidXRlIG9mIHN0eWxhYmxlQXR0cmlidXRlcykge1xyXG4gICAgICAgIGNvbnN0IHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbScpXHJcbiAgICAgICAgc3R5bGFibGVBdHRyaWJ1dGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RhcHBhYmxlJylcclxuXHJcbiAgICAgICAgLy8gQWRkIGljb25cclxuICAgICAgICBjb25zdCBpY29uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgaWNvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLWljb24nKVxyXG5cclxuICAgICAgICBsZXQgc2VsZWN0ZWRTdHlsZSA9IHN0eWxhYmxlQXR0cmlidXRlLm9wdGlvbnNcclxuICAgICAgICAgIC5maW5kKG9wdGlvbiA9PiBjdXJyZW50U3R5bGVBdHRyaWJ1dGVzW3N0eWxhYmxlQXR0cmlidXRlLmRhdGFzZXRLZXldID09PSBvcHRpb24udmFsdWUpID8/XHJcbiAgICAgICAgICBzdHlsYWJsZUF0dHJpYnV0ZS5vcHRpb25zLmZpbmQodmFsdWUgPT4gdmFsdWUudmFsdWUgPT09IG51bGwpISFcclxuICAgICAgICBzZXRJY29uKGljb25FbGVtZW50LCBzZWxlY3RlZFN0eWxlLmljb24pXHJcblxyXG4gICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5hcHBlbmRDaGlsZChpY29uRWxlbWVudClcclxuXHJcbiAgICAgICAgLy8gQWRkIGxhYmVsXHJcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBsYWJlbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1pdGVtLXRpdGxlJylcclxuICAgICAgICBsYWJlbEVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsYWJsZUF0dHJpYnV0ZS5sYWJlbFxyXG4gICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpXHJcblxyXG4gICAgICAgIC8vIEFkZCBleHBhbmQgaWNvblxyXG4gICAgICAgIGNvbnN0IGV4cGFuZEljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBleHBhbmRJY29uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0taWNvbicpXHJcbiAgICAgICAgc2V0SWNvbihleHBhbmRJY29uRWxlbWVudCwgJ2NoZXZyb24tcmlnaHQnKVxyXG4gICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5hcHBlbmRDaGlsZChleHBhbmRJY29uRWxlbWVudClcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHRvIGRyb3Bkb3duXHJcbiAgICAgICAgc3R5bGVNZW51RHJvcGRvd25FbGVtZW50LmFwcGVuZENoaWxkKHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudClcclxuXHJcbiAgICAgICAgLy8gQWRkIGhvdmVyIGVmZmVjdFxyXG4gICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZW50ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICBzdHlsYWJsZUF0dHJpYnV0ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgICBzdHlsYWJsZUF0dHJpYnV0ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vIEFkZCBjbGljayBldmVudFxyXG4gICAgICAgIHN0eWxhYmxlQXR0cmlidXRlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyBzdWJtZW51XHJcbiAgICAgICAgICBwb3B1cE1lbnVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke1NUWUxFX01FTlVfRFJPUERPV05fU1VCTUVOVV9JRH1gKT8ucmVtb3ZlKClcclxuXHJcbiAgICAgICAgICBjb25zdCBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICAgIHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQuaWQgPSBTVFlMRV9NRU5VX0RST1BET1dOX1NVQk1FTlVfSURcclxuICAgICAgICAgIHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudScpXHJcbiAgICAgIFxyXG4gICAgICAgICAgLy8gUG9zaXRpb24gY29ycmVjdGx5XHJcbiAgICAgICAgICBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xyXG4gICAgICAgICAgc3R5bGVNZW51RHJvcGRvd25TdWJtZW51RWxlbWVudC5zdHlsZS5tYXhIZWlnaHQgPSAnaW5pdGlhbCdcclxuXHJcbiAgICAgICAgICBjb25zdCB0b3BPZmZzZXQgPSBwYXJzZUZsb2F0KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN0eWxlTWVudURyb3Bkb3duRWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy10b3AnKSkgKyAoc3R5bGVNZW51RHJvcGRvd25FbGVtZW50Lm9mZnNldEhlaWdodCAtIHN0eWxlTWVudURyb3Bkb3duRWxlbWVudC5jbGllbnRIZWlnaHQpIC8gMlxyXG4gICAgICAgICAgc3R5bGVNZW51RHJvcGRvd25TdWJtZW51RWxlbWVudC5zdHlsZS50b3AgPSBgJHtzdHlsYWJsZUF0dHJpYnV0ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gdG9wT2Zmc2V0IC0gcG9wdXBNZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3B9cHhgXHJcblxyXG4gICAgICAgICAgLy8gU3dhcCBzaWRlcyBpZiBpdCBpcyB0b28gY2xvc2UgdG8gdGhlIGVkZ2VcclxuICAgICAgICAgIGNvbnN0IGxlZnRQb3NpdGlvbiA9IHN0eWxlTWVudURyb3Bkb3duRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCAtIHBvcHVwTWVudUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdFxyXG4gICAgICAgICAgY29uc3QgcmlnaHRQb3NpdGlvbiA9IHBvcHVwTWVudUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgLSBzdHlsZU1lbnVEcm9wZG93bkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdFxyXG5cclxuICAgICAgICAgIC8vIFN3YXAgc2lkZXMgaWYgaXQgaXMgdG9vIGNsb3NlIHRvIHRoZSBlZGdlXHJcbiAgICAgICAgICBpZiAocG9wdXBNZW51RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgbGVmdFBvc2l0aW9uIDwgY2FudmFzV3JhcHBlckNlbnRlclgpXHJcbiAgICAgICAgICAgIHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQuc3R5bGUubGVmdCA9IGAke2xlZnRQb3NpdGlvbn1weGBcclxuICAgICAgICAgIGVsc2Ugc3R5bGVNZW51RHJvcGRvd25TdWJtZW51RWxlbWVudC5zdHlsZS5yaWdodCA9IGAke3JpZ2h0UG9zaXRpb259cHhgXHJcblxyXG4gICAgICAgICAgLy8gQWRkIHN0eWxlIG9wdGlvbnNcclxuICAgICAgICAgIGZvciAoY29uc3Qgc3R5bGVPcHRpb24gb2Ygc3R5bGFibGVBdHRyaWJ1dGUub3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVPcHRpb25FbGVtZW50ID0gdGhpcy5jcmVhdGVEcm9wZG93bk9wdGlvbkVsZW1lbnQoe1xyXG4gICAgICAgICAgICAgIGxhYmVsOiBzdHlsZU9wdGlvbi5sYWJlbCxcclxuICAgICAgICAgICAgICBpY29uOiBzdHlsZU9wdGlvbi5pY29uLFxyXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgc3R5bGUgYXR0cmlidXRlXHJcbiAgICAgICAgICAgICAgICBzZXRTdHlsZUF0dHJpYnV0ZShzdHlsYWJsZUF0dHJpYnV0ZSwgc3R5bGVPcHRpb24udmFsdWUpXHJcbiAgXHJcbiAgICAgICAgICAgICAgICAvLyBLZWVwIGNvcnJlY3QgcmVmZXJlbmNlXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U3R5bGVBdHRyaWJ1dGVzW3N0eWxhYmxlQXR0cmlidXRlLmRhdGFzZXRLZXldID0gc3R5bGVPcHRpb24udmFsdWVcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU3R5bGUgPSBzdHlsZU9wdGlvblxyXG4gIFxyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGljb25cclxuICAgICAgICAgICAgICAgIHNldEljb24oaWNvbkVsZW1lbnQsIHN0eWxlT3B0aW9uLmljb24pXHJcbiAgXHJcbiAgICAgICAgICAgICAgICAvLyBDbG9zZSBtZW51XHJcbiAgICAgICAgICAgICAgICBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVFbGVtZW50LnJlbW92ZSgpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHNlbGVjdGVkIGljb25cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkU3R5bGUgPT09IHN0eWxlT3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgc3R5bGVNZW51RHJvcGRvd25TdWJtZW51T3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtb2Qtc2VsZWN0ZWQnKVxyXG5cclxuICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZEljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICAgICAgICBzZWxlY3RlZEljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1pY29uJylcclxuICAgICAgICAgICAgICBzZWxlY3RlZEljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZC1zZWxlY3RlZCcpXHJcblxyXG4gICAgICAgICAgICAgIHNldEljb24oc2VsZWN0ZWRJY29uRWxlbWVudCwgJ2NoZWNrJylcclxuICAgICAgICAgICAgICBzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVPcHRpb25FbGVtZW50LmFwcGVuZENoaWxkKHNlbGVjdGVkSWNvbkVsZW1lbnQpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBkcm9wZG93biBzdWJtZW51XHJcbiAgICAgICAgICAgIHN0eWxlTWVudURyb3Bkb3duU3VibWVudUVsZW1lbnQuYXBwZW5kQ2hpbGQoc3R5bGVNZW51RHJvcGRvd25TdWJtZW51T3B0aW9uRWxlbWVudClcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBBcHBlbmQgdG8gYm9keVxyXG4gICAgICAgICAgcG9wdXBNZW51RWxlbWVudC5hcHBlbmRDaGlsZChzdHlsZU1lbnVEcm9wZG93blN1Ym1lbnVFbGVtZW50KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFwcGVuZCB0byBib2R5XHJcbiAgICAgIHBvcHVwTWVudUVsZW1lbnQuYXBwZW5kQ2hpbGQoc3R5bGVNZW51RHJvcGRvd25FbGVtZW50KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHN0YXRpYyBjcmVhdGVEcm9wZG93bk9wdGlvbkVsZW1lbnQobWVudU9wdGlvbjogTWVudU9wdGlvbik6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG1lbnVEcm9wZG93bk9wdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgbWVudURyb3Bkb3duT3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtZW51LWl0ZW0nKVxyXG4gICAgbWVudURyb3Bkb3duT3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd0YXBwYWJsZScpXHJcblxyXG4gICAgLy8gQWRkIGljb25cclxuICAgIGNvbnN0IGljb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGljb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS1pY29uJylcclxuICAgIHNldEljb24oaWNvbkVsZW1lbnQsIG1lbnVPcHRpb24uaWNvbilcclxuICAgIG1lbnVEcm9wZG93bk9wdGlvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoaWNvbkVsZW1lbnQpXHJcblxyXG4gICAgLy8gQWRkIGxhYmVsXHJcbiAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgbGFiZWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUtaXRlbS10aXRsZScpXHJcbiAgICBsYWJlbEVsZW1lbnQudGV4dENvbnRlbnQgPSBtZW51T3B0aW9uLmxhYmVsXHJcbiAgICBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50LmFwcGVuZENoaWxkKGxhYmVsRWxlbWVudClcclxuXHJcbiAgICAvLyBBZGQgaG92ZXIgZWZmZWN0XHJcbiAgICBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJlbnRlcicsICgpID0+IHtcclxuICAgICAgbWVudURyb3Bkb3duT3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpXHJcbiAgICB9KVxyXG5cclxuICAgIG1lbnVEcm9wZG93bk9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgKCkgPT4ge1xyXG4gICAgICBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJylcclxuICAgIH0pXHJcblxyXG4gICAgLy8gQWRkIGNsaWNrIGV2ZW50XHJcbiAgICBtZW51RHJvcGRvd25PcHRpb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBtZW51T3B0aW9uLmNhbGxiYWNrPy4oKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gbWVudURyb3Bkb3duT3B0aW9uRWxlbWVudFxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGNyZWF0ZURyb3Bkb3duU2VwYXJhdG9yRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBzZXBhcmF0b3JFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIHNlcGFyYXRvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnbWVudS1zZXBhcmF0b3InKVxyXG5cclxuICAgIHJldHVybiBzZXBhcmF0b3JFbGVtZW50XHJcbiAgfVxyXG59IiwgImltcG9ydCB7IEJCb3gsIENhbnZhc05vZGVEYXRhLCBQb3NpdGlvbiwgU2lkZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCQm94SGVscGVyIHtcclxuICBzdGF0aWMgY29tYmluZUJCb3hlcyhiYm94ZXM6IEJCb3hbXSk6IEJCb3gge1xyXG4gICAgbGV0IG1pblggPSBJbmZpbml0eVxyXG4gICAgbGV0IG1pblkgPSBJbmZpbml0eVxyXG4gICAgbGV0IG1heFggPSAtSW5maW5pdHlcclxuICAgIGxldCBtYXhZID0gLUluZmluaXR5XHJcblxyXG4gICAgZm9yIChsZXQgYmJveCBvZiBiYm94ZXMpIHtcclxuICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIGJib3gubWluWClcclxuICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIGJib3gubWluWSlcclxuICAgICAgbWF4WCA9IE1hdGgubWF4KG1heFgsIGJib3gubWF4WClcclxuICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIGJib3gubWF4WSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBzY2FsZUJCb3goYmJveDogQkJveCwgc2NhbGU6IG51bWJlcik6IEJCb3gge1xyXG4gICAgbGV0IGRpZmZYID0gKHNjYWxlIC0gMSkgKiAoYmJveC5tYXhYIC0gYmJveC5taW5YKVxyXG4gICAgbGV0IGRpZmZZID0gKHNjYWxlIC0gMSkgKiAoYmJveC5tYXhZIC0gYmJveC5taW5ZKVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1pblg6IGJib3gubWluWCAtIGRpZmZYIC8gMixcclxuICAgICAgbWF4WDogYmJveC5tYXhYICsgZGlmZlggLyAyLFxyXG4gICAgICBtaW5ZOiBiYm94Lm1pblkgLSBkaWZmWSAvIDIsXHJcbiAgICAgIG1heFk6IGJib3gubWF4WSArIGRpZmZZIC8gMlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzQ29sbGlkaW5nKGJib3gxOiBCQm94LCBiYm94MjogQkJveCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGJib3gxLm1pblggPD0gYmJveDIubWF4WCAmJiBiYm94MS5tYXhYID49IGJib3gyLm1pblggJiYgYmJveDEubWluWSA8PSBiYm94Mi5tYXhZICYmIGJib3gxLm1heFkgPj0gYmJveDIubWluWVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGluc2lkZUJCb3gocG9zaXRpb246IFBvc2l0aW9ufEJCb3gsIGJib3g6IEJCb3gsIGNhblRvdWNoRWRnZTogQm9vbGVhbik6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgcHJvdmlkZWRCQm94ID0ge1xyXG4gICAgICBtaW5YOiAocG9zaXRpb24gYXMgQkJveCkubWluWCA/PyAocG9zaXRpb24gYXMgUG9zaXRpb24pLngsXHJcbiAgICAgIG1pblk6IChwb3NpdGlvbiBhcyBCQm94KS5taW5ZID8/IChwb3NpdGlvbiBhcyBQb3NpdGlvbikueSxcclxuICAgICAgbWF4WDogKHBvc2l0aW9uIGFzIEJCb3gpLm1heFggPz8gKHBvc2l0aW9uIGFzIFBvc2l0aW9uKS54LFxyXG4gICAgICBtYXhZOiAocG9zaXRpb24gYXMgQkJveCkubWF4WSA/PyAocG9zaXRpb24gYXMgUG9zaXRpb24pLnlcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGNhblRvdWNoRWRnZSA/IHByb3ZpZGVkQkJveC5taW5YID49IGJib3gubWluWCAmJiBwcm92aWRlZEJCb3gubWF4WCA8PSBiYm94Lm1heFggJiYgcHJvdmlkZWRCQm94Lm1pblkgPj0gYmJveC5taW5ZICYmIHByb3ZpZGVkQkJveC5tYXhZIDw9IGJib3gubWF4WSA6XHJcbiAgICAgIHByb3ZpZGVkQkJveC5taW5YID4gYmJveC5taW5YICYmIHByb3ZpZGVkQkJveC5tYXhYIDwgYmJveC5tYXhYICYmIHByb3ZpZGVkQkJveC5taW5ZID4gYmJveC5taW5ZICYmIHByb3ZpZGVkQkJveC5tYXhZIDwgYmJveC5tYXhZXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZW5sYXJnZUJCb3goYmJveDogQkJveCwgcGFkZGluZzogbnVtYmVyKTogQkJveCB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBtaW5YOiBiYm94Lm1pblggLSBwYWRkaW5nLFxyXG4gICAgICBtaW5ZOiBiYm94Lm1pblkgLSBwYWRkaW5nLFxyXG4gICAgICBtYXhYOiBiYm94Lm1heFggKyBwYWRkaW5nLFxyXG4gICAgICBtYXhZOiBiYm94Lm1heFkgKyBwYWRkaW5nXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgbW92ZUluRGlyZWN0aW9uKHBvc2l0aW9uOiBQb3NpdGlvbiwgc2lkZTogU2lkZSwgZGlzdGFuY2U6IG51bWJlcik6IFBvc2l0aW9uIHtcclxuICAgIHN3aXRjaCAoc2lkZSkge1xyXG4gICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgIHJldHVybiB7IHg6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnkgLSBkaXN0YW5jZSB9XHJcbiAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICByZXR1cm4geyB4OiBwb3NpdGlvbi54ICsgZGlzdGFuY2UsIHk6IHBvc2l0aW9uLnkgfVxyXG4gICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgIHJldHVybiB7IHg6IHBvc2l0aW9uLngsIHk6IHBvc2l0aW9uLnkgKyBkaXN0YW5jZSB9XHJcbiAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgIHJldHVybiB7IHg6IHBvc2l0aW9uLnggLSBkaXN0YW5jZSwgeTogcG9zaXRpb24ueSB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0Q2VudGVyT2ZCQm94U2lkZShiYm94OiBCQm94LCBzaWRlOiBTaWRlKTogUG9zaXRpb24ge1xyXG4gICAgc3dpdGNoIChzaWRlKSB7XHJcbiAgICAgIGNhc2UgJ3RvcCc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogKGJib3gubWluWCArIGJib3gubWF4WCkgLyAyLCB5OiBiYm94Lm1pblkgfVxyXG4gICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogYmJveC5tYXhYLCB5OiAoYmJveC5taW5ZICsgYmJveC5tYXhZKSAvIDIgfVxyXG4gICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgIHJldHVybiB7IHg6IChiYm94Lm1pblggKyBiYm94Lm1heFgpIC8gMiwgeTogYmJveC5tYXhZIH1cclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogYmJveC5taW5YLCB5OiAoYmJveC5taW5ZICsgYmJveC5tYXhZKSAvIDIgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFNpZGVWZWN0b3Ioc2lkZT86IFNpZGUpOiBQb3NpdGlvbiB7XHJcbiAgICBzd2l0Y2ggKHNpZGUpIHtcclxuICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAxIH1cclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHJldHVybiB7IHg6IDEsIHk6IDAgfVxyXG4gICAgICBjYXNlICdib3R0b20nOlxyXG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IC0xIH1cclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgcmV0dXJuIHsgeDogLTEsIHk6IDAgfVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldE9wcG9zaXRlU2lkZShzaWRlOiBTaWRlKTogU2lkZSB7XHJcbiAgICBzd2l0Y2ggKHNpZGUpIHtcclxuICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICByZXR1cm4gJ2JvdHRvbSdcclxuICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgIHJldHVybiAnbGVmdCdcclxuICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICByZXR1cm4gJ3RvcCdcclxuICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgcmV0dXJuICdyaWdodCdcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBpc0hvcml6b250YWwoc2lkZTogU2lkZSk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHNpZGUgPT09ICdsZWZ0JyB8fCBzaWRlID09PSAncmlnaHQnXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZGlyZWN0aW9uKHNpZGU6IFNpZGUpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIChzaWRlID09PSAncmlnaHQnIHx8IHNpZGUgPT09ICdib3R0b20nKSA/IDEgOiAtMVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIFBvc2l0aW9uIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvZXZlbnRzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmNvbnN0IEdST1VQX05PREVfU0laRSA9IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAzMDAgfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JvdXBDYW52YXNFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5DYW52YXNDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHtcclxuICAgICAgICBDYW52YXNIZWxwZXIuYWRkQ2FyZE1lbnVPcHRpb24oXHJcbiAgICAgICAgICBjYW52YXMsXHJcbiAgICAgICAgICBDYW52YXNIZWxwZXIuY3JlYXRlQ2FyZE1lbnVPcHRpb24oXHJcbiAgICAgICAgICAgIGNhbnZhcyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAnY3JlYXRlLWdyb3VwJyxcclxuICAgICAgICAgICAgICBsYWJlbDogJ0RyYWcgdG8gYWRkIGdyb3VwJyxcclxuICAgICAgICAgICAgICBpY29uOiAnZ3JvdXAnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+IEdST1VQX05PREVfU0laRSxcclxuICAgICAgICAgICAgKGNhbnZhczogQ2FudmFzLCBwb3M6IFBvc2l0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FudmFzLmNyZWF0ZUdyb3VwTm9kZSh7XHJcbiAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgIHNpemU6IEdST1VQX05PREVfU0laRVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IE1lbnUsIE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJ1xyXG5pbXBvcnQgeyBCQm94LCBDYW52YXMsIENhbnZhc0VkZ2UsIENhbnZhc0VsZW1lbnQsIENhbnZhc05vZGUsIFBvc2l0aW9uLCBTaXplIH0gZnJvbSAnc3JjL0B0eXBlcy9DYW52YXMnXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSAnc3JjL2V2ZW50cydcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tICcuL2NhbnZhcy1leHRlbnNpb24nXHJcblxyXG5jb25zdCBTVEFSVF9TTElERV9OQU1FID0gJ1N0YXJ0IFNsaWRlJ1xyXG5jb25zdCBERUZBVUxUX1NMSURFX05BTUUgPSAnTmV3IFNsaWRlJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlc2VudGF0aW9uQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBzYXZlZFZpZXdwb3J0OiBhbnkgPSBudWxsXHJcbiAgaXNQcmVzZW50YXRpb25Nb2RlOiBib29sZWFuID0gZmFsc2VcclxuICB2aXNpdGVkTm9kZUlkczogc3RyaW5nW10gPSBbXVxyXG4gIGZ1bGxzY3JlZW5Nb2RhbE9ic2VydmVyOiBNdXRhdGlvbk9ic2VydmVyIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ3ByZXNlbnRhdGlvbkZlYXR1cmVFbmFibGVkJyBhcyBjb25zdCB9XHJcbiAgXHJcbiAgaW5pdCgpIHtcclxuICAgIC8qIEFkZCB3cmFwIGluIHNsaWRlIG9wdGlvbiB0byBjb250ZXh0IG1lbnUgKi9cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuU2VsZWN0aW9uQ29udGV4dE1lbnUsXHJcbiAgICAgIChtZW51OiBNZW51LCBjYW52YXM6IENhbnZhcykgPT4ge1xyXG4gICAgICAgIG1lbnUuYWRkSXRlbSgoaXRlbSkgPT5cclxuICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgLnNldFRpdGxlKCdXcmFwIGluIHNsaWRlJylcclxuICAgICAgICAgICAgLnNldEljb24oJ2dhbGxlcnktdmVydGljYWwnKVxyXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB0aGlzLmFkZFNsaWRlKGNhbnZhcywgdW5kZWZpbmVkLCBcclxuICAgICAgICAgICAgICBCQm94SGVscGVyLmVubGFyZ2VCQm94KEJCb3hIZWxwZXIuY29tYmluZUJCb3hlcyhcclxuICAgICAgICAgICAgICAgIFsuLi5jYW52YXMuc2VsZWN0aW9uLnZhbHVlcygpXS5tYXAoKGVsZW1lbnQ6IENhbnZhc0VsZW1lbnQpID0+IGVsZW1lbnQuZ2V0QkJveCgpKVxyXG4gICAgICAgICAgICAgICksIHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ3dyYXBJblNsaWRlUGFkZGluZycpKVxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjcmVhdGUtbmV3LXNsaWRlJyxcclxuXHRcdFx0bmFtZTogJ0NyZWF0ZSBuZXcgc2xpZGUnLFxyXG5cdFx0XHRjaGVja0NhbGxiYWNrOiBDYW52YXNIZWxwZXIuY2FudmFzQ29tbWFuZChcclxuICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+ICFjYW52YXMucmVhZG9ubHkgJiYgIXRoaXMuaXNQcmVzZW50YXRpb25Nb2RlLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5hZGRTbGlkZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnc2V0LXN0YXJ0LW5vZGUnLFxyXG5cdFx0XHRuYW1lOiAnU2V0IHN0YXJ0IG5vZGUnLFxyXG5cdFx0XHRjaGVja0NhbGxiYWNrOiBDYW52YXNIZWxwZXIuY2FudmFzQ29tbWFuZChcclxuICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+ICFjYW52YXMucmVhZG9ubHkgJiYgIXRoaXMuaXNQcmVzZW50YXRpb25Nb2RlICYmIGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXMubGVuZ3RoID09PSAxLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5zZXRTdGFydE5vZGUoY2FudmFzLCBjYW52YXMubm9kZXMuZ2V0KGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXNbMF0uaWQpKVxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogJ3N0YXJ0LXByZXNlbnRhdGlvbicsXHJcbiAgICAgIG5hbWU6ICdTdGFydCBwcmVzZW50YXRpb24nLFxyXG4gICAgICBjaGVja0NhbGxiYWNrOiBDYW52YXNIZWxwZXIuY2FudmFzQ29tbWFuZChcclxuICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAoX2NhbnZhczogQ2FudmFzKSA9PiAhdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLnN0YXJ0UHJlc2VudGF0aW9uKGNhbnZhcylcclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6ICdjb250aW51ZS1wcmVzZW50YXRpb24nLFxyXG4gICAgICBuYW1lOiAnQ29udGludWUgcHJlc2VudGF0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gIXRoaXMuaXNQcmVzZW50YXRpb25Nb2RlLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5zdGFydFByZXNlbnRhdGlvbihjYW52YXMsIHRydWUpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnZW5kLXByZXNlbnRhdGlvbicsXHJcbiAgICAgIG5hbWU6ICdFbmQgcHJlc2VudGF0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmVuZFByZXNlbnRhdGlvbihjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAncHJldmlvdXMtbm9kZScsXHJcbiAgICAgIG5hbWU6ICdQcmV2aW91cyBub2RlJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLnByZXZpb3VzTm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiAnbmV4dC1ub2RlJyxcclxuICAgICAgbmFtZTogJ05leHQgbm9kZScsXHJcbiAgICAgIGNoZWNrQ2FsbGJhY2s6IENhbnZhc0hlbHBlci5jYW52YXNDb21tYW5kKFxyXG4gICAgICAgIHRoaXMucGx1Z2luLFxyXG4gICAgICAgIChfY2FudmFzOiBDYW52YXMpID0+IHRoaXMuaXNQcmVzZW50YXRpb25Nb2RlLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5uZXh0Tm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgLy8gUmVnaXN0ZXIgZXZlbnRzXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5vbkNhbnZhc0NoYW5nZWQoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlBvcHVwTWVudUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5vblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVNb3ZlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLm9uTm9kZU1vdmVkKGNhbnZhcywgbm9kZSlcclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBvbkNhbnZhc0NoYW5nZWQoY2FudmFzOiBDYW52YXMpOiB2b2lkIHtcclxuICAgIENhbnZhc0hlbHBlci5hZGRDYXJkTWVudU9wdGlvbihcclxuICAgICAgY2FudmFzLFxyXG4gICAgICBDYW52YXNIZWxwZXIuY3JlYXRlQ2FyZE1lbnVPcHRpb24oXHJcbiAgICAgICAgY2FudmFzLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGlkOiAnbmV3LXNsaWRlJyxcclxuICAgICAgICAgIGxhYmVsOiAnRHJhZyB0byBhZGQgc2xpZGUnLFxyXG4gICAgICAgICAgaWNvbjogJ2dhbGxlcnktdmVydGljYWwnXHJcbiAgICAgICAgfSxcclxuICAgICAgICAoKSA9PiB0aGlzLmdldERlZmF1bHRTbGlkZVNpemUoKSxcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMsIHBvczogUG9zaXRpb24pID0+IHRoaXMuYWRkU2xpZGUoY2FudmFzLCBwb3MpXHJcbiAgICAgIClcclxuICAgIClcclxuICB9XHJcblxyXG4gIG9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXM6IENhbnZhcyk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdzaG93U2V0U3RhcnROb2RlSW5Qb3B1cCcpKSByZXR1cm5cclxuXHJcbiAgICAvLyBJZiB0aGUgY2FudmFzIGlzIHJlYWRvbmx5IG9yIHRoZXJlIGFyZSBtdWx0aXBsZS9ubyBub2RlcyBzZWxlY3RlZCwgcmV0dXJuXHJcbiAgICBjb25zdCBzZWxlY3RlZE5vZGVzRGF0YSA9IGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXNcclxuICAgIGlmIChjYW52YXMucmVhZG9ubHkgfHwgc2VsZWN0ZWROb2Rlc0RhdGEubGVuZ3RoICE9PSAxIHx8IGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSA+IDEpIHJldHVyblxyXG4gICAgXHJcbiAgICBjb25zdCBzZWxlY3RlZE5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KHNlbGVjdGVkTm9kZXNEYXRhWzBdLmlkKVxyXG4gICAgaWYgKCFzZWxlY3RlZE5vZGUpIHJldHVyblxyXG4gICAgXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkUG9wdXBNZW51T3B0aW9uKFxyXG4gICAgICBjYW52YXMsXHJcbiAgICAgIENhbnZhc0hlbHBlci5jcmVhdGVQb3B1cE1lbnVPcHRpb24oe1xyXG4gICAgICAgIGlkOiAnc3RhcnQtbm9kZScsIFxyXG4gICAgICAgIGxhYmVsOiAnU2V0IGFzIHN0YXJ0IHNsaWRlJywgXHJcbiAgICAgICAgaWNvbjogJ3BsYXknLCBcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy5zZXRTdGFydE5vZGUoY2FudmFzLCBzZWxlY3RlZE5vZGUpXHJcbiAgICAgIH0pXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTm9kZU1vdmVkKF9jYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG4gICAgaWYgKCFub2RlRGF0YS5zaWRlUmF0aW8pIHJldHVyblxyXG5cclxuICAgIGNvbnN0IG5vZGVCQm94ID0gbm9kZS5nZXRCQm94KClcclxuICAgIGNvbnN0IG5vZGVTaXplID0ge1xyXG4gICAgICB3aWR0aDogbm9kZUJCb3gubWF4WCAtIG5vZGVCQm94Lm1pblgsXHJcbiAgICAgIGhlaWdodDogbm9kZUJCb3gubWF4WSAtIG5vZGVCQm94Lm1pbllcclxuICAgIH1cclxuICAgIGNvbnN0IG5vZGVBc3BlY3RSYXRpbyA9IG5vZGVTaXplLndpZHRoIC8gbm9kZVNpemUuaGVpZ2h0XHJcblxyXG4gICAgaWYgKG5vZGVBc3BlY3RSYXRpbyA8IG5vZGVEYXRhLnNpZGVSYXRpbylcclxuICAgICAgbm9kZVNpemUud2lkdGggPSBub2RlU2l6ZS5oZWlnaHQgKiBub2RlRGF0YS5zaWRlUmF0aW9cclxuICAgIGVsc2Ugbm9kZVNpemUuaGVpZ2h0ID0gbm9kZVNpemUud2lkdGggLyBub2RlRGF0YS5zaWRlUmF0aW9cclxuXHJcbiAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgd2lkdGg6IG5vZGVTaXplLndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IG5vZGVTaXplLmhlaWdodFxyXG4gICAgfSlcclxuICB9XHJcbiAgXHJcbiAgcHJpdmF0ZSBnZXRTdGFydE5vZGUoY2FudmFzOiBDYW52YXMpOiBDYW52YXNOb2RlfHVuZGVmaW5lZCB7XHJcbiAgICBmb3IgKGNvbnN0IFtfLCBub2RlXSBvZiBjYW52YXMubm9kZXMpIHtcclxuICAgICAgaWYgKG5vZGUuZ2V0RGF0YSgpLmlzU3RhcnROb2RlKSByZXR1cm4gbm9kZVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1bmRlZmluZWRcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2V0U3RhcnROb2RlKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlfHVuZGVmaW5lZCkge1xyXG4gICAgaWYgKCFub2RlKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBzdGFydE5vZGUgPSB0aGlzLmdldFN0YXJ0Tm9kZShjYW52YXMpXHJcbiAgICBpZiAoc3RhcnROb2RlKSBzdGFydE5vZGUuc2V0RGF0YSh7IC4uLnN0YXJ0Tm9kZS5nZXREYXRhKCksIGlzU3RhcnROb2RlOiBmYWxzZSB9KVxyXG5cclxuICAgIGlmIChub2RlICE9PSBzdGFydE5vZGUpIG5vZGUuc2V0RGF0YSh7IC4uLm5vZGUuZ2V0RGF0YSgpLCBpc1N0YXJ0Tm9kZTogdHJ1ZSB9LCB0cnVlKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXREZWZhdWx0U2xpZGVTaXplKCk6IFNpemUge1xyXG4gICAgY29uc3Qgc2xpZGVTaXplU3RyaW5nID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGVmYXVsdFNsaWRlU2l6ZScpXHJcbiAgICBjb25zdCBzbGlkZVNpemVBcnJheSA9IHNsaWRlU2l6ZVN0cmluZy5zcGxpdCgneCcpLm1hcCgodmFsdWU6IHN0cmluZykgPT4gcGFyc2VJbnQodmFsdWUpKVxyXG4gICAgcmV0dXJuIHsgd2lkdGg6IHNsaWRlU2l6ZUFycmF5WzBdLCBoZWlnaHQ6IHNsaWRlU2l6ZUFycmF5WzFdIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U2xpZGVBc3BlY3RSYXRpbygpOiBudW1iZXIge1xyXG4gICAgY29uc3Qgc2xpZGVTaXplID0gdGhpcy5nZXREZWZhdWx0U2xpZGVTaXplKClcclxuICAgIHJldHVybiBzbGlkZVNpemUud2lkdGggLyBzbGlkZVNpemUuaGVpZ2h0XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZFNsaWRlKGNhbnZhczogQ2FudmFzLCBwb3M/OiBQb3NpdGlvbiwgYmJveD86IEJCb3gpIHtcclxuICAgIGNvbnN0IGlzU3RhcnROb2RlID0gdGhpcy5nZXRTdGFydE5vZGUoY2FudmFzKSA9PSBudWxsXHJcbiAgICBjb25zdCBzbGlkZVNpemUgPSB0aGlzLmdldERlZmF1bHRTbGlkZVNpemUoKVxyXG4gICAgY29uc3Qgc2xpZGVBc3BlY3RSYXRpbyA9IHRoaXMuZ2V0U2xpZGVBc3BlY3RSYXRpbygpXHJcblxyXG4gICAgaWYgKGJib3gpIHtcclxuICAgICAgY29uc3QgYmJveFdpZHRoID0gYmJveC5tYXhYIC0gYmJveC5taW5YXHJcbiAgICAgIGNvbnN0IGJib3hIZWlnaHQgPSBiYm94Lm1heFkgLSBiYm94Lm1pbllcclxuXHJcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgbm9kZXMgZml0IGluc2lkZSB0aGUgYm91bmRpbmcgYm94IHdoaWxlIGtlZXBpbmcgdGhlIGFzcGVjdCByYXRpb1xyXG4gICAgICBpZiAoYmJveFdpZHRoIC8gYmJveEhlaWdodCA+IHNsaWRlQXNwZWN0UmF0aW8pIHtcclxuICAgICAgICBzbGlkZVNpemUud2lkdGggPSBiYm94V2lkdGhcclxuICAgICAgICBzbGlkZVNpemUuaGVpZ2h0ID0gYmJveFdpZHRoIC8gc2xpZGVBc3BlY3RSYXRpb1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNsaWRlU2l6ZS5oZWlnaHQgPSBiYm94SGVpZ2h0XHJcbiAgICAgICAgc2xpZGVTaXplLndpZHRoID0gYmJveEhlaWdodCAqIHNsaWRlQXNwZWN0UmF0aW9cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcG9zID0geyBcclxuICAgICAgICB4OiBiYm94Lm1pblgsXHJcbiAgICAgICAgeTogYmJveC5taW5ZXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBubyBwb3NpdGlvbiBpcyBwcm92aWRlZCwgdXNlIHRoZSBjZW50ZXIgb2YgdGhlIGNhbnZhc1xyXG4gICAgaWYgKCFwb3MpIHBvcyA9IENhbnZhc0hlbHBlci5nZXRDZW50ZXJDb29yZGluYXRlcyhjYW52YXMsIHRoaXMuZ2V0RGVmYXVsdFNsaWRlU2l6ZSgpKVxyXG5cclxuICAgIGNvbnN0IGdyb3VwTm9kZSA9IGNhbnZhcy5jcmVhdGVHcm91cE5vZGUoe1xyXG4gICAgICBwb3M6IHBvcyxcclxuICAgICAgc2l6ZTogc2xpZGVTaXplLFxyXG4gICAgICBsYWJlbDogaXNTdGFydE5vZGUgPyBTVEFSVF9TTElERV9OQU1FIDogREVGQVVMVF9TTElERV9OQU1FLFxyXG4gICAgICBmb2N1czogZmFsc2UsXHJcbiAgICB9KVxyXG5cclxuICAgIGdyb3VwTm9kZS5zZXREYXRhKHsgXHJcbiAgICAgIC4uLmdyb3VwTm9kZS5nZXREYXRhKCksIFxyXG4gICAgICBzaWRlUmF0aW86IHNsaWRlQXNwZWN0UmF0aW8sXHJcbiAgICAgIGlzU3RhcnROb2RlOiBpc1N0YXJ0Tm9kZSA/IHRydWUgOiB1bmRlZmluZWQsXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBhbmltYXRlTm9kZVRyYW5zaXRpb24oY2FudmFzOiBDYW52YXMsIGZyb21Ob2RlOiBDYW52YXNOb2RlfHVuZGVmaW5lZCwgdG9Ob2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCB1c2VDdXN0b21ab29tRnVuY3Rpb24gPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCd6b29tVG9TbGlkZVdpdGhvdXRQYWRkaW5nJylcclxuICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uTXMgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdzbGlkZVRyYW5zaXRpb25BbmltYXRpb25EdXJhdGlvbicpICogMTAwMFxyXG4gICAgXHJcbiAgICBpZiAoYW5pbWF0aW9uRHVyYXRpb25NcyA+IDAgJiYgZnJvbU5vZGUpIHtcclxuICAgICAgY29uc3QgYW5pbWF0aW9uSW50ZW5zaXR5ID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnc2xpZGVUcmFuc2l0aW9uQW5pbWF0aW9uSW50ZW5zaXR5JylcclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnROb2RlQkJveEVubGFyZ2VkID0gQkJveEhlbHBlci5zY2FsZUJCb3goZnJvbU5vZGUuZ2V0QkJveCgpLCBhbmltYXRpb25JbnRlbnNpdHkpXHJcbiAgICAgIGlmICh1c2VDdXN0b21ab29tRnVuY3Rpb24pIENhbnZhc0hlbHBlci56b29tVG9CQm94KGNhbnZhcywgY3VycmVudE5vZGVCQm94RW5sYXJnZWQpXHJcbiAgICAgIGVsc2UgY2FudmFzLnpvb21Ub0Jib3goY3VycmVudE5vZGVCQm94RW5sYXJnZWQpXHJcblxyXG4gICAgICBhd2FpdCBzbGVlcChhbmltYXRpb25EdXJhdGlvbk1zIC8gMilcclxuXHJcbiAgICAgIGlmIChmcm9tTm9kZS5nZXREYXRhKCkuaWQgIT09IHRvTm9kZS5nZXREYXRhKCkuaWQpIHtcclxuICAgICAgICAvLyBBZGQgMC4xIHRvIGZpeCBvYnNpZGlhbiBidWcgdGhhdCBjYXVzZXMgdGhlIGFuaW1hdGlvbiB0byBza2lwIGlmIHRoZSBiYm94IGlzIHRoZSBzYW1lXHJcbiAgICAgICAgY29uc3QgbmV4dE5vZGVCQm94RW5sYXJnZWQgPSBCQm94SGVscGVyLnNjYWxlQkJveCh0b05vZGUuZ2V0QkJveCgpLCBhbmltYXRpb25JbnRlbnNpdHkgKyAwLjEpXHJcbiAgICAgICAgaWYgKHVzZUN1c3RvbVpvb21GdW5jdGlvbikgQ2FudmFzSGVscGVyLnpvb21Ub0JCb3goY2FudmFzLCBuZXh0Tm9kZUJCb3hFbmxhcmdlZClcclxuICAgICAgICBlbHNlIGNhbnZhcy56b29tVG9CYm94KG5leHROb2RlQkJveEVubGFyZ2VkKVxyXG5cclxuICAgICAgICBhd2FpdCBzbGVlcChhbmltYXRpb25EdXJhdGlvbk1zIC8gMilcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBub2RlQkJveCA9IHRvTm9kZS5nZXRCQm94KClcclxuICAgIGlmICh1c2VDdXN0b21ab29tRnVuY3Rpb24pIENhbnZhc0hlbHBlci56b29tVG9CQm94KGNhbnZhcywgbm9kZUJCb3gpXHJcbiAgICBlbHNlIGNhbnZhcy56b29tVG9CYm94KG5vZGVCQm94KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBzdGFydFByZXNlbnRhdGlvbihjYW52YXM6IENhbnZhcywgdHJ5Q29udGludWU6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgLy8gT25seSByZXNldCB2aXNpdGVkIG5vZGVzIGlmIHdlIGFyZSBub3QgdHJ5aW5nIHRvIGNvbnRpbnVlXHJcbiAgICBpZiAoIXRyeUNvbnRpbnVlIHx8IHRoaXMudmlzaXRlZE5vZGVJZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnN0IHN0YXJ0Tm9kZSA9IHRoaXMuZ2V0U3RhcnROb2RlKGNhbnZhcylcclxuICAgICAgaWYgKCFzdGFydE5vZGUpIHtcclxuICAgICAgICBuZXcgTm90aWNlKCdObyBzdGFydCBub2RlIGZvdW5kLiBQbGVhc2UgbWFyayBhIG5vZGUgYXMgYSBzdGFydCBub2RlIHRyb3VnaCB0aGUgcG9wdXAgbWVudS4nKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnZpc2l0ZWROb2RlSWRzID0gW3N0YXJ0Tm9kZS5nZXREYXRhKCkuaWRdXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2F2ZSBjdXJyZW50IHZpZXdwb3J0XHJcbiAgICB0aGlzLnNhdmVkVmlld3BvcnQgPSB7XHJcbiAgICAgIHg6IGNhbnZhcy50eCxcclxuICAgICAgeTogY2FudmFzLnR5LFxyXG4gICAgICB6b29tOiBjYW52YXMudFpvb20sXHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW50ZXIgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICBjYW52YXMud3JhcHBlckVsLmZvY3VzKClcclxuICAgIGNhbnZhcy53cmFwcGVyRWwucmVxdWVzdEZ1bGxzY3JlZW4oKVxyXG4gICAgY2FudmFzLndyYXBwZXJFbC5jbGFzc0xpc3QuYWRkKCdwcmVzZW50YXRpb24tbW9kZScpXHJcblxyXG4gICAgLy8gTG9jayBjYW52YXNcclxuICAgIGNhbnZhcy5zZXRSZWFkb25seSh0cnVlKVxyXG5cclxuICAgIC8vIFJlZ2lzdGVyIGV2ZW50IGhhbmRsZXIgZm9yIGtleWJvYXJkIG5hdmlnYXRpb25cclxuICAgIGNhbnZhcy53cmFwcGVyRWwub25rZXlkb3duID0gKGU6IGFueSkgPT4ge1xyXG4gICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygndXNlQXJyb3dLZXlzVG9DaGFuZ2VTbGlkZXMnKSkge1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB0aGlzLm5leHROb2RlKGNhbnZhcylcclxuICAgICAgICBlbHNlIGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcpIHRoaXMucHJldmlvdXNOb2RlKGNhbnZhcylcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ3VzZVBnVXBQZ0Rvd25LZXlzVG9DaGFuZ2VTbGlkZXMnKSkge1xyXG4gICAgICAgIGlmIChlLmtleSA9PT0gJ1BhZ2VEb3duJykgdGhpcy5uZXh0Tm9kZShjYW52YXMpXHJcbiAgICAgICAgZWxzZSBpZiAoZS5rZXkgPT09ICdQYWdlVXAnKSB0aGlzLnByZXZpb3VzTm9kZShjYW52YXMpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBLZWVwIG1vZGFscyB3aGlsZSBpbiBmdWxsc2NyZWVuIG1vZGVcclxuICAgIHRoaXMuZnVsbHNjcmVlbk1vZGFsT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25SZWNvcmRzKSA9PiB7XHJcbiAgICAgIG11dGF0aW9uUmVjb3Jkcy5mb3JFYWNoKChtdXRhdGlvblJlY29yZCkgPT4ge1xyXG4gICAgICAgIG11dGF0aW9uUmVjb3JkLmFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKVxyXG4gICAgICAgICAgZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ/LmFwcGVuZENoaWxkKG5vZGUpXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb21wdC1pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50fG51bGxcclxuICAgICAgaWYgKGlucHV0RmllbGQpIGlucHV0RmllbGQuZm9jdXMoKVxyXG4gICAgfSlcclxuICAgIHRoaXMuZnVsbHNjcmVlbk1vZGFsT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSB9KVxyXG5cclxuICAgIC8vIFJlZ2lzdGVyIGV2ZW50IGhhbmRsZXIgZm9yIGV4aXRpbmcgcHJlc2VudGF0aW9uIG1vZGVcclxuICAgIGNhbnZhcy53cmFwcGVyRWwub25mdWxsc2NyZWVuY2hhbmdlID0gKF9lOiBhbnkpID0+IHtcclxuICAgICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSByZXR1cm5cclxuICAgICAgdGhpcy5lbmRQcmVzZW50YXRpb24oY2FudmFzKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaXNQcmVzZW50YXRpb25Nb2RlID0gdHJ1ZVxyXG5cclxuICAgIC8vIFdhaXQgZm9yIGZ1bGxzY3JlZW4gdG8gYmUgZW5hYmxlZFxyXG4gICAgYXdhaXQgc2xlZXAoNTAwKVxyXG5cclxuICAgIC8vIFpvb20gdG8gZmlyc3Qgbm9kZVxyXG4gICAgY29uc3Qgc3RhcnROb2RlSWQgPSB0aGlzLnZpc2l0ZWROb2RlSWRzLmZpcnN0KClcclxuICAgIGlmICghc3RhcnROb2RlSWQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHN0YXJ0Tm9kZSA9IGNhbnZhcy5ub2Rlcy5nZXQoc3RhcnROb2RlSWQpXHJcbiAgICBpZiAoIXN0YXJ0Tm9kZSkgcmV0dXJuXHJcblxyXG4gICAgdGhpcy5hbmltYXRlTm9kZVRyYW5zaXRpb24oY2FudmFzLCB1bmRlZmluZWQsIHN0YXJ0Tm9kZSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZW5kUHJlc2VudGF0aW9uKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICAvLyBVbnJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICB0aGlzLmZ1bGxzY3JlZW5Nb2RhbE9ic2VydmVyPy5kaXNjb25uZWN0KClcclxuICAgIHRoaXMuZnVsbHNjcmVlbk1vZGFsT2JzZXJ2ZXIgPSBudWxsXHJcbiAgICBjYW52YXMud3JhcHBlckVsLm9ua2V5ZG93biA9IG51bGxcclxuICAgIGNhbnZhcy53cmFwcGVyRWwub25mdWxsc2NyZWVuY2hhbmdlID0gbnVsbFxyXG5cclxuICAgIC8vIFVubG9jayBjYW52YXNcclxuICAgIGNhbnZhcy5zZXRSZWFkb25seShmYWxzZSlcclxuXHJcbiAgICAvLyBFeGl0IGZ1bGxzY3JlZW4gbW9kZVxyXG4gICAgY2FudmFzLndyYXBwZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdwcmVzZW50YXRpb24tbW9kZScpXHJcbiAgICBpZiAoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKClcclxuXHJcbiAgICAvLyBSZXNldCB2aWV3cG9ydFxyXG4gICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ3Jlc2V0Vmlld3BvcnRPblByZXNlbnRhdGlvbkVuZCcpKVxyXG4gICAgICBjYW52YXMuc2V0Vmlld3BvcnQodGhpcy5zYXZlZFZpZXdwb3J0LngsIHRoaXMuc2F2ZWRWaWV3cG9ydC55LCB0aGlzLnNhdmVkVmlld3BvcnQuem9vbSlcclxuICAgIFxyXG4gICAgdGhpcy5pc1ByZXNlbnRhdGlvbk1vZGUgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBuZXh0Tm9kZShjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3QgZnJvbU5vZGVJZCA9IHRoaXMudmlzaXRlZE5vZGVJZHMubGFzdCgpXHJcbiAgICBpZiAoIWZyb21Ob2RlSWQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGZyb21Ob2RlID0gY2FudmFzLm5vZGVzLmdldChmcm9tTm9kZUlkKVxyXG4gICAgaWYgKCFmcm9tTm9kZSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgb3V0Z29pbmdFZGdlcyA9IGNhbnZhcy5nZXRFZGdlc0Zvck5vZGUoZnJvbU5vZGUpLmZpbHRlcigoZWRnZTogQ2FudmFzRWRnZSkgPT4gZWRnZS5mcm9tLm5vZGUuZ2V0RGF0YSgpLmlkID09PSBmcm9tTm9kZUlkKVxyXG4gICAgbGV0IHRvTm9kZSA9IG91dGdvaW5nRWRnZXMuZmlyc3QoKT8udG8ubm9kZVxyXG5cclxuICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBvdXRnb2luZyBlZGdlcywgd2UgbmVlZCB0byBsb29rIGF0IHRoZSBlZGdlIGxhYmVsXHJcbiAgICBpZiAob3V0Z29pbmdFZGdlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIC8vIENyZWF0ZSBtYXAgb2YgZWRnZSBsYWJlbHMgdG8gbm9kZXNcclxuICAgICAgY29uc3Qgc29ydGVkRWRnZXMgPSBvdXRnb2luZ0VkZ2VzXHJcbiAgICAgICAgLnNvcnQoKGE6IENhbnZhc0VkZ2UsIGI6IENhbnZhc0VkZ2UpID0+IHtcclxuICAgICAgICAgIGlmICghYS5sYWJlbCkgcmV0dXJuIDFcclxuICAgICAgICAgIGlmICghYi5sYWJlbCkgcmV0dXJuIC0xXHJcblxyXG4gICAgICAgICAgcmV0dXJuIGEubGFiZWwubG9jYWxlQ29tcGFyZShiLmxhYmVsKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAvLyBGaW5kIHdoaWNoIGVkZ2VzIGFscmVhZHkgaGF2ZSBiZWVuIHRyYXZlcnNlZFxyXG4gICAgICBjb25zdCB0cmF2ZXJzZWRFZGdlc0NvdW50ID0gdGhpcy52aXNpdGVkTm9kZUlkc1xyXG4gICAgICAgIC5maWx0ZXIoKHZpc2l0ZWROb2RlSWQ6IHN0cmluZykgPT4gdmlzaXRlZE5vZGVJZCA9PT0gZnJvbU5vZGVJZCkubGVuZ3RoIC0gMVxyXG5cclxuICAgICAgLy8gU2VsZWN0IG5leHQgZWRnZVxyXG4gICAgICBjb25zdCBuZXh0RWRnZSA9IHNvcnRlZEVkZ2VzW3RyYXZlcnNlZEVkZ2VzQ291bnRdXHJcbiAgICAgIHRvTm9kZSA9IG5leHRFZGdlLnRvLm5vZGVcclxuICAgIH1cclxuXHJcbiAgICBpZiAodG9Ob2RlKSB7XHJcbiAgICAgIHRoaXMudmlzaXRlZE5vZGVJZHMucHVzaCh0b05vZGUuZ2V0RGF0YSgpLmlkKVxyXG4gICAgICB0aGlzLmFuaW1hdGVOb2RlVHJhbnNpdGlvbihjYW52YXMsIGZyb21Ob2RlLCB0b05vZGUpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBObyBtb3JlIG5vZGVzIGxlZnQsIGFuaW1hdGUgdG8gc2FtZSBub2RlXHJcbiAgICAgIHRoaXMuYW5pbWF0ZU5vZGVUcmFuc2l0aW9uKGNhbnZhcywgZnJvbU5vZGUsIGZyb21Ob2RlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBwcmV2aW91c05vZGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IGZyb21Ob2RlSWQgPSB0aGlzLnZpc2l0ZWROb2RlSWRzLnBvcCgpXHJcbiAgICBpZiAoIWZyb21Ob2RlSWQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGZyb21Ob2RlID0gY2FudmFzLm5vZGVzLmdldChmcm9tTm9kZUlkKVxyXG4gICAgaWYgKCFmcm9tTm9kZSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgdG9Ob2RlSWQgPSB0aGlzLnZpc2l0ZWROb2RlSWRzLmxhc3QoKVxyXG4gICAgaWYgKCF0b05vZGVJZCkgcmV0dXJuXHJcblxyXG4gICAgbGV0IHRvTm9kZSA9IGNhbnZhcy5ub2Rlcy5nZXQodG9Ob2RlSWQpXHJcbiAgICBpZiAoIXRvTm9kZSkgcmV0dXJuXHJcblxyXG4gICAgLy8gRmFsbCBiYWNrIHRvIHNhbWUgbm9kZSBpZiB0aGVyZSBhcmUgbm8gbW9yZSBub2RlcyBiZWZvcmVcclxuICAgIGlmICghdG9Ob2RlKSB7XHJcbiAgICAgIHRvTm9kZSA9IGZyb21Ob2RlXHJcbiAgICAgIHRoaXMudmlzaXRlZE5vZGVJZHMucHVzaChmcm9tTm9kZUlkKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuYW5pbWF0ZU5vZGVUcmFuc2l0aW9uKGNhbnZhcywgZnJvbU5vZGUsIHRvTm9kZSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzLCBDYW52YXNOb2RlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2V2ZW50c1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvblwiXHJcbmltcG9ydCB7IE1lbnUgfSBmcm9tIFwib2JzaWRpYW5cIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpPcmRlcmluZ0NhbnZhc0V4dGVuc2lvbiAgZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuICd6T3JkZXJpbmdGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQ29udGV4dE1lbnUsXHJcbiAgICAgIChtZW51OiBNZW51LCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLm5vZGVDb250ZXh0TWVudShub2RlLCBtZW51KVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlNlbGVjdGlvbkNvbnRleHRNZW51LFxyXG4gICAgICAobWVudTogTWVudSwgY2FudmFzOiBDYW52YXMpID0+IHRoaXMuc2VsZWN0aW9uQ29udGV4dE1lbnUoY2FudmFzLCBtZW51KVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbm9kZUNvbnRleHRNZW51KG5vZGU6IENhbnZhc05vZGUsIG1lbnU6IE1lbnUpIHtcclxuICAgIHRoaXMuYWRkWk9yZGVyaW5nQ29udGV4dE1lbnVJdGVtcyhub2RlLmNhbnZhcywgW25vZGVdLCBtZW51KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZWxlY3Rpb25Db250ZXh0TWVudShjYW52YXM6IENhbnZhcywgbWVudTogTWVudSkge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWROb2RlcyA9IGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXNcclxuICAgICAgLm1hcChub2RlRGF0YSA9PiBjYW52YXMubm9kZXMuZ2V0KG5vZGVEYXRhLmlkKSlcclxuICAgICAgLmZpbHRlcihub2RlID0+IG5vZGUgIT09IHVuZGVmaW5lZCkgYXMgQ2FudmFzTm9kZVtdXHJcblxyXG4gICAgdGhpcy5hZGRaT3JkZXJpbmdDb250ZXh0TWVudUl0ZW1zKGNhbnZhcywgc2VsZWN0ZWROb2RlcywgbWVudSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkWk9yZGVyaW5nQ29udGV4dE1lbnVJdGVtcyhjYW52YXM6IENhbnZhcywgbm9kZXM6IENhbnZhc05vZGVbXSwgbWVudTogTWVudSkge1xyXG4gICAgbWVudS5hZGRTZXBhcmF0b3IoKVxyXG5cclxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCd6T3JkZXJpbmdTaG93T25lTGF5ZXJTaGlmdE9wdGlvbnMnKSAmJiBub2Rlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgbWVudS5hZGRJdGVtKGl0ZW0gPT4ge1xyXG4gICAgICAgIGl0ZW0uc2V0VGl0bGUoJ01vdmUgb25lIGxheWVyIGZvcndhcmQnKVxyXG4gICAgICAgIGl0ZW0uc2V0SWNvbignYXJyb3ctdXAnKVxyXG4gICAgICAgIGl0ZW0ub25DbGljaygoKSA9PiB0aGlzLm1vdmVPbmVMYXllcihjYW52YXMsIG5vZGVzLmZpcnN0KCkhLCB0cnVlKSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcclxuICAgICAgICBpdGVtLnNldFRpdGxlKCdNb3ZlIG9uZSBsYXllciBiYWNrd2FyZCcpXHJcbiAgICAgICAgaXRlbS5zZXRJY29uKCdhcnJvdy1kb3duJylcclxuICAgICAgICBpdGVtLm9uQ2xpY2soKCkgPT4gdGhpcy5tb3ZlT25lTGF5ZXIoY2FudmFzLCBub2Rlcy5maXJzdCgpISwgZmFsc2UpKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIG1lbnUuYWRkSXRlbShpdGVtID0+IHtcclxuICAgICAgaXRlbS5zZXRUaXRsZSgnQnJpbmcgdG8gRnJvbnQnKVxyXG4gICAgICBpdGVtLnNldEljb24oJ2JyaW5nLXRvLWZyb250JylcclxuICAgICAgaXRlbS5vbkNsaWNrKCgpID0+IHRoaXMubW92ZU1heExheWVycyhjYW52YXMsIG5vZGVzLCB0cnVlKSlcclxuICAgIH0pXHJcblxyXG4gICAgbWVudS5hZGRJdGVtKGl0ZW0gPT4ge1xyXG4gICAgICBpdGVtLnNldFRpdGxlKCdTZW5kIHRvIEJhY2snKVxyXG4gICAgICBpdGVtLnNldEljb24oJ3NlbmQtdG8tYmFjaycpXHJcbiAgICAgIGl0ZW0ub25DbGljaygoKSA9PiB0aGlzLm1vdmVNYXhMYXllcnMoY2FudmFzLCBub2RlcywgZmFsc2UpKVxyXG4gICAgfSlcclxuXHJcbiAgICBtZW51LmFkZFNlcGFyYXRvcigpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdmVPbmVMYXllcihjYW52YXM6IENhbnZhcywgc2VsZWN0ZWROb2RlOiBDYW52YXNOb2RlLCBmb3J3YXJkOiBib29sZWFuKSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZE5vZGVCQm94ID0gc2VsZWN0ZWROb2RlLmdldEJCb3goKVxyXG4gICAgY29uc3QgY29sbGlkaW5nTm9kZXMgPSBbLi4uY2FudmFzLm5vZGVzLnZhbHVlcygpXVxyXG4gICAgICAuZmlsdGVyKG5vZGUgPT4gQkJveEhlbHBlci5pc0NvbGxpZGluZyhzZWxlY3RlZE5vZGVCQm94LCBub2RlLmdldEJCb3goKSkpIC8vIE9ubHkgbm9kZXMgdGhhdCBjb2xsaWRlIHdpdGggdGhlIHNlbGVjdGVkIG5vZGVcclxuICAgICAgLmZpbHRlcihub2RlID0+IG5vZGUgIT09IHNlbGVjdGVkTm9kZSkgLy8gRXhjbHVkZSB0aGUgc2VsZWN0ZWQgbm9kZVxyXG5cclxuICAgIGNvbnN0IG5lYXJlc3RaSW5kZXhOb2RlID0gY29sbGlkaW5nTm9kZXNcclxuICAgICAgLnNvcnQoKGEsIGIpID0+IGZvcndhcmQgPyBhLnpJbmRleCAtIGIuekluZGV4IDogYi56SW5kZXggLSBhLnpJbmRleCkgLy8gU29ydCBieSB6SW5kZXhcclxuICAgICAgLmZpbHRlcihub2RlID0+IGZvcndhcmQgPyBub2RlLnpJbmRleCA+IHNlbGVjdGVkTm9kZS56SW5kZXggOiBub2RlLnpJbmRleCA8IHNlbGVjdGVkTm9kZS56SW5kZXgpIC8vIE9ubHkgbm9kZXMgdGhhdCBhcmUgb25lIGxheWVyIGFib3ZlIG9yIGJlbG93IHRoZSBzZWxlY3RlZCBub2RlXHJcbiAgICAgIC5maXJzdCgpXHJcbiAgICBpZiAobmVhcmVzdFpJbmRleE5vZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIC8vIEFscmVhZHkgYXQgdGhlIHRvcCBvciBib3R0b21cclxuXHJcbiAgICBjb25zdCB0YXJnZXRaSW5kZXggPSBuZWFyZXN0WkluZGV4Tm9kZS56SW5kZXhcclxuXHJcbiAgICAvLyBTaGlmdCB0aGUgbmVhcmVzdCB6SW5kZXggbm9kZSB0byB0aGUgc2VsZWN0ZWQgbm9kZSdzIHpJbmRleFxyXG4gICAgdGhpcy5zZXROb2Rlc1pJbmRleChbbmVhcmVzdFpJbmRleE5vZGVdLCBzZWxlY3RlZE5vZGUuekluZGV4KVxyXG5cclxuICAgIC8vIFNoaWZ0IHRoZSBzZWxlY3RlZCBub2RlIHRvIHRoZSBuZWFyZXN0IHpJbmRleCBub2RlXHJcbiAgICB0aGlzLnNldE5vZGVzWkluZGV4KFtzZWxlY3RlZE5vZGVdLCB0YXJnZXRaSW5kZXgpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG1vdmVNYXhMYXllcnMoY2FudmFzOiBDYW52YXMsIHNlbGVjdGVkTm9kZXM6IENhbnZhc05vZGVbXSwgZm9yd2FyZDogYm9vbGVhbikge1xyXG4gICAgbGV0IHRhcmdldFpJbmRleCA9IGZvcndhcmQgPyBcclxuICAgICAgTWF0aC5tYXgoLi4udGhpcy5nZXRBbGxaSW5kZXhlcyhjYW52YXMpKSArIDEgOiBcclxuICAgICAgTWF0aC5taW4oLi4udGhpcy5nZXRBbGxaSW5kZXhlcyhjYW52YXMpKSAtIHNlbGVjdGVkTm9kZXMubGVuZ3RoXHJcblxyXG4gICAgdGhpcy5zZXROb2Rlc1pJbmRleChzZWxlY3RlZE5vZGVzLCB0YXJnZXRaSW5kZXgpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldE5vZGVzWkluZGV4KG5vZGVzOiBDYW52YXNOb2RlW10sIHpJbmRleDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBzb3J0ZWROb2RlcyA9IG5vZGVzLnNvcnQoKGEsIGIpID0+IGEuekluZGV4IC0gYi56SW5kZXgpXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBub2RlID0gc29ydGVkTm9kZXNbaV1cclxuICAgICAgY29uc3QgZmluYWxaSW5kZXggPSB6SW5kZXggKyBpXHJcblxyXG4gICAgICBub2RlLnpJbmRleCA9IGZpbmFsWkluZGV4XHJcbiAgICAgIG5vZGUubm9kZUVsLnN0eWxlLnpJbmRleCA9IGZpbmFsWkluZGV4LnRvU3RyaW5nKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0QWxsWkluZGV4ZXMoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIHJldHVybiBbLi4uY2FudmFzLm5vZGVzLnZhbHVlcygpXS5tYXAobiA9PiBuLnpJbmRleClcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciwgeyBNZW51T3B0aW9uIH0gZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2V2ZW50c1wiXHJcbmltcG9ydCB7IEFkdmFuY2VkQ2FudmFzUGx1Z2luU2V0dGluZ3NWYWx1ZXMgfSBmcm9tIFwic3JjL3NldHRpbmdzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJldHRlclJlYWRvbmx5Q2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnYmV0dGVyUmVhZG9ubHlFbmFibGVkJyBhcyBjb25zdCB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvKiBQb3B1cCBsaXN0ZW5lciAqL1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIF9ub2RlOiBhbnkpID0+IHRoaXMudXBkYXRlUG9wdXBNZW51KGNhbnZhcylcclxuICAgICkpXHJcblxyXG4gICAgLyogWm9vbSBhbmQgUGFuIGxpc3RlbmVyICovXHJcbiAgICBsZXQgbW92aW5nVG9CQm94ID0gZmFsc2VcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlZpZXdwb3J0Q2hhbmdlZC5CZWZvcmUsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4ge1xyXG4gICAgICAgIC8vIE9ubHkgYWxsb3cgdmlld3BvcnQgY2hhbmdlIG9uY2Ugd2hlbiB1c2luZyB6b29tIHRvIGJib3hcclxuICAgICAgICBpZiAobW92aW5nVG9CQm94KSB7XHJcbiAgICAgICAgICBtb3ZpbmdUb0JCb3ggPSBmYWxzZVxyXG5cclxuICAgICAgICAgIHRoaXMudXBkYXRlTG9ja2VkWm9vbShjYW52YXMpXHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2tlZFBhbihjYW52YXMpXHJcblxyXG4gICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNhbnZhcy5yZWFkb25seSkgcmV0dXJuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdkaXNhYmxlWm9vbScpKSB7XHJcbiAgICAgICAgICBjYW52YXMuem9vbSA9IGNhbnZhcy5sb2NrZWRab29tID8/IGNhbnZhcy56b29tXHJcbiAgICAgICAgICBjYW52YXMudFpvb20gPSBjYW52YXMubG9ja2VkWm9vbSA/PyBjYW52YXMudFpvb21cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdkaXNhYmxlUGFuJykpIHtcclxuICAgICAgICAgIGNhbnZhcy54ID0gY2FudmFzLmxvY2tlZFggPz8gY2FudmFzLnhcclxuICAgICAgICAgIGNhbnZhcy50eCA9IGNhbnZhcy5sb2NrZWRYID8/IGNhbnZhcy50eFxyXG4gICAgICAgICAgY2FudmFzLnkgPSBjYW52YXMubG9ja2VkWSA/PyBjYW52YXMueVxyXG4gICAgICAgICAgY2FudmFzLnR5ID0gY2FudmFzLmxvY2tlZFkgPz8gY2FudmFzLnR5XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApKVxyXG5cclxuICAgIC8vIEFsbG93IHZpZXdwb3J0IGNoYW5nZSB3aGVuIHVzaW5nIHpvb20gdG8gYmJveFxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5ab29tVG9CYm94LkJlZm9yZSxcclxuICAgICAgKCkgPT4gbW92aW5nVG9CQm94ID0gdHJ1ZVxyXG4gICAgKSlcclxuXHJcbiAgICAvKiBSZWFkb25seSBsaXN0ZW5lciAqL1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5SZWFkb25seUNoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgX3JlYWRvbmx5OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQb3B1cE1lbnUoY2FudmFzKVxyXG4gICAgICAgIHRoaXMudXBkYXRlTG9ja2VkWm9vbShjYW52YXMpXHJcbiAgICAgICAgdGhpcy51cGRhdGVMb2NrZWRQYW4oY2FudmFzKVxyXG4gICAgICB9XHJcbiAgICApKVxyXG5cclxuICAgIC8qIEFkZCBzZXR0aW5ncyAqL1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5DYW52YXNDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMuYWRkUXVpY2tTZXR0aW5ncyhjYW52YXMpXHJcbiAgICApKVxyXG4gIH1cclxuXHJcbiAgYWRkUXVpY2tTZXR0aW5ncyhjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3Qgc2V0dGluZ3NDb250YWluZXIgPSBjYW52YXMucXVpY2tTZXR0aW5nc0J1dHRvbj8ucGFyZW50RWxlbWVudFxyXG4gICAgaWYgKCFzZXR0aW5nc0NvbnRhaW5lcikgcmV0dXJuXHJcblxyXG4gICAgQ2FudmFzSGVscGVyLmFkZENvbnRyb2xNZW51QnV0dG9uKFxyXG4gICAgICBzZXR0aW5nc0NvbnRhaW5lcixcclxuICAgICAgdGhpcy5jcmVhdGVUb2dnbGUoe1xyXG4gICAgICAgIGlkOiAnZGlzYWJsZS1ub2RlLXBvcHVwJyxcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgbm9kZSBwb3B1cCcsXHJcbiAgICAgICAgaWNvbjogJ2Fycm93LXVwLXJpZ2h0LWZyb20tY2lyY2xlJyxcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy51cGRhdGVQb3B1cE1lbnUoY2FudmFzKVxyXG4gICAgICB9LCAnZGlzYWJsZU5vZGVQb3B1cCcpXHJcbiAgICApXHJcblxyXG4gICAgQ2FudmFzSGVscGVyLmFkZENvbnRyb2xNZW51QnV0dG9uKFxyXG4gICAgICBzZXR0aW5nc0NvbnRhaW5lcixcclxuICAgICAgdGhpcy5jcmVhdGVUb2dnbGUoe1xyXG4gICAgICAgIGlkOiAnZGlzYWJsZS16b29tJyxcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgem9vbScsXHJcbiAgICAgICAgaWNvbjogJ3pvb20taW4nLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnVwZGF0ZUxvY2tlZFpvb20oY2FudmFzKVxyXG4gICAgICB9LCAnZGlzYWJsZVpvb20nKVxyXG4gICAgKVxyXG5cclxuICAgIENhbnZhc0hlbHBlci5hZGRDb250cm9sTWVudUJ1dHRvbihcclxuICAgICAgc2V0dGluZ3NDb250YWluZXIsXHJcbiAgICAgIHRoaXMuY3JlYXRlVG9nZ2xlKHtcclxuICAgICAgICBpZDogJ2Rpc2FibGUtcGFuJyxcclxuICAgICAgICBsYWJlbDogJ0Rpc2FibGUgcGFuJyxcclxuICAgICAgICBpY29uOiAnbW92ZScsXHJcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMudXBkYXRlTG9ja2VkUGFuKGNhbnZhcylcclxuICAgICAgfSwgJ2Rpc2FibGVQYW4nKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjcmVhdGVUb2dnbGUobWVudU9wdGlvbjogTWVudU9wdGlvbiwgc2V0dGluZ0tleToga2V5b2YgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcyk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHRvZ2dsZSA9IENhbnZhc0hlbHBlci5jcmVhdGVDb250cm9sTWVudUJ1dHRvbih7XHJcbiAgICAgIC4uLm1lbnVPcHRpb24sXHJcbiAgICAgIGNhbGxiYWNrOiAoKSA9PiAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gIXRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoc2V0dGluZ0tleSlcclxuICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZXRTZXR0aW5nKHsgW3NldHRpbmdLZXldOiBuZXdWYWx1ZSB9KVxyXG5cclxuICAgICAgICB0b2dnbGUuZGF0YXNldC50b2dnbGVkID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZyhzZXR0aW5nS2V5KS50b1N0cmluZygpXHJcbiAgICAgICAgbWVudU9wdGlvbi5jYWxsYmFjaz8uY2FsbCh0aGlzKVxyXG4gICAgICB9KSgpXHJcbiAgICB9KVxyXG4gICAgdG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ3Nob3ctd2hpbGUtcmVhZG9ubHknKVxyXG5cclxuICAgIHRvZ2dsZS5kYXRhc2V0LnRvZ2dsZWQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKHNldHRpbmdLZXkpLnRvU3RyaW5nKClcclxuXHJcbiAgICByZXR1cm4gdG9nZ2xlXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZVBvcHVwTWVudShjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3QgaGlkZGVuID0gY2FudmFzLnJlYWRvbmx5ICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2Rpc2FibGVOb2RlUG9wdXAnKVxyXG4gICAgY2FudmFzLm1lbnUubWVudUVsLnN0eWxlLnZpc2liaWxpdHkgPSBoaWRkZW4gPyAnaGlkZGVuJyA6ICd2aXNpYmxlJ1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVMb2NrZWRab29tKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBjYW52YXMubG9ja2VkWm9vbSA9IGNhbnZhcy50Wm9vbVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVMb2NrZWRQYW4oY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNhbnZhcy5sb2NrZWRYID0gY2FudmFzLnR4XHJcbiAgICBjYW52YXMubG9ja2VkWSA9IGNhbnZhcy50eVxyXG4gIH1cclxufSIsICJpbXBvcnQgQXBwLCB7IFN1Z2dlc3RNb2RhbCwgVEZpbGUgfSBmcm9tICdvYnNpZGlhbidcclxuaW1wb3J0IFBhdGhIZWxwZXIgZnJvbSAnc3JjL3V0aWxzL3BhdGgtaGVscGVyJ1xyXG5cclxuZXhwb3J0IGNsYXNzIEZpbGVOYW1lTW9kYWwgZXh0ZW5kcyBTdWdnZXN0TW9kYWw8c3RyaW5nPiB7XHJcbiAgcGFyZW50UGF0aDogc3RyaW5nXHJcbiAgZmlsZUV4dGVuc2lvbjogc3RyaW5nXHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwYXJlbnRQYXRoOiBzdHJpbmcsIGZpbGVFeHRlbnNpb246IHN0cmluZykge1xyXG4gICAgc3VwZXIoYXBwKVxyXG5cclxuICAgIHRoaXMucGFyZW50UGF0aCA9IHBhcmVudFBhdGhcclxuICAgIHRoaXMuZmlsZUV4dGVuc2lvbiA9IGZpbGVFeHRlbnNpb25cclxuICB9XHJcblxyXG4gIGdldFN1Z2dlc3Rpb25zKHF1ZXJ5OiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICBjb25zdCBxdWVyeVdpdGhvdXRFeHRlbnNpb24gPSBxdWVyeS5yZXBsYWNlKG5ldyBSZWdFeHAoYFxcXFwuJHt0aGlzLmZpbGVFeHRlbnNpb259JGApLCAnJylcclxuICAgIGlmIChxdWVyeVdpdGhvdXRFeHRlbnNpb24gPT09ICcnKSByZXR1cm4gW11cclxuXHJcbiAgICBjb25zdCBxdWVyeVdpdGhFeHRlbnNpb24gPSBxdWVyeVdpdGhvdXRFeHRlbnNpb24gKyAnLicgKyB0aGlzLmZpbGVFeHRlbnNpb25cclxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gW2Ake3RoaXMucGFyZW50UGF0aH0vJHtxdWVyeVdpdGhFeHRlbnNpb259YCwgcXVlcnlXaXRoRXh0ZW5zaW9uXVxyXG4gICAgICAvLyBGaWx0ZXIgb3V0IHN1Z2dlc3Rpb25zIGZvciBmaWxlcyB0aGF0IGFscmVhZHkgZXhpc3RcclxuICAgICAgLmZpbHRlcihzID0+IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChzKSA9PT0gbnVsbClcclxuXHJcbiAgICByZXR1cm4gc3VnZ2VzdGlvbnNcclxuICB9XHJcblxyXG4gIHJlbmRlclN1Z2dlc3Rpb24odGV4dDogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIGVsLnNldFRleHQodGV4dClcclxuICB9XHJcblxyXG4gIG9uQ2hvb3NlU3VnZ2VzdGlvbihfdGV4dDogc3RyaW5nLCBfZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkge31cclxuXHJcbiAgYXdhaXRJbnB1dCgpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCBfcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMub25DaG9vc2VTdWdnZXN0aW9uID0gKHRleHQ6IHN0cmluZykgPT4geyByZXNvbHZlKHRleHQpIH1cclxuICAgICAgdGhpcy5vcGVuKClcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZVNlbGVjdE1vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPHN0cmluZz4ge1xyXG4gIGZpbGVzOiBzdHJpbmdbXVxyXG4gIHN1Z2dlc3ROZXdGaWxlOiBib29sZWFuXHJcblxyXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBleHRlbnNpb25zUmVnZXg/OiBSZWdFeHAsIHN1Z2dlc3ROZXdGaWxlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIHN1cGVyKGFwcClcclxuXHJcbiAgICB0aGlzLmZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKVxyXG4gICAgICAubWFwKGZpbGUgPT4gZmlsZS5wYXRoKVxyXG4gICAgICAuZmlsdGVyKHBhdGggPT4gUGF0aEhlbHBlci5leHRlbnNpb24ocGF0aCk/Lm1hdGNoKGV4dGVuc2lvbnNSZWdleCA/PyAvLiovKSlcclxuICAgIHRoaXMuc3VnZ2VzdE5ld0ZpbGUgPSBzdWdnZXN0TmV3RmlsZVxyXG5cclxuICAgIHRoaXMuc2V0UGxhY2Vob2xkZXIoJ1R5cGUgdG8gc2VhcmNoLi4uJylcclxuICAgIHRoaXMuc2V0SW5zdHJ1Y3Rpb25zKFt7XHJcbiAgICAgICAgY29tbWFuZDogJ1x1MjE5MVx1MjE5MycsXHJcbiAgICAgICAgcHVycG9zZTogJ3RvIG5hdmlnYXRlJ1xyXG4gICAgfSwge1xyXG4gICAgICAgIGNvbW1hbmQ6ICdcdTIxQjUnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBvcGVuJ1xyXG4gICAgfSwge1xyXG4gICAgICAgIGNvbW1hbmQ6ICdzaGlmdCBcdTIxQjUnLFxyXG4gICAgICAgIHB1cnBvc2U6ICd0byBjcmVhdGUnXHJcbiAgICB9LCB7XHJcbiAgICAgICAgY29tbWFuZDogJ2VzYycsXHJcbiAgICAgICAgcHVycG9zZTogJ3RvIGRpc21pc3MnXHJcbiAgICB9XSlcclxuXHJcbiAgICB0aGlzLnNjb3BlLnJlZ2lzdGVyKFsnU2hpZnQnXSwgJ0VudGVyJywgKChlKSA9PiB7XHJcbiAgICAgIHRoaXMub25DaG9vc2VTdWdnZXN0aW9uKHRoaXMuaW5wdXRFbC52YWx1ZSwgZSlcclxuICAgICAgdGhpcy5jbG9zZSgpXHJcbiAgICB9KSlcclxuICB9XHJcblxyXG4gIGdldFN1Z2dlc3Rpb25zKHF1ZXJ5OiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICBjb25zdCBzdWdnZXN0aW9ucyA9IHRoaXMuZmlsZXMuZmlsdGVyKHBhdGggPT4gcGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpKVxyXG4gICAgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCA9PT0gMCAmJiB0aGlzLnN1Z2dlc3ROZXdGaWxlKSBzdWdnZXN0aW9ucy5wdXNoKHF1ZXJ5KVxyXG5cclxuICAgIHJldHVybiBzdWdnZXN0aW9uc1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyU3VnZ2VzdGlvbihwYXRoOiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3Qgc2ltcGxpZmllZFBhdGggPSBwYXRoLnJlcGxhY2UoL1xcLm1kJC8sICcnKVxyXG4gICAgZWwuc2V0VGV4dChzaW1wbGlmaWVkUGF0aClcclxuICB9XHJcblxyXG4gIG9uQ2hvb3NlU3VnZ2VzdGlvbihfcGF0aDogc3RyaW5nLCBfZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkge31cclxuXHJcbiAgYXdhaXRJbnB1dCgpOiBQcm9taXNlPFRGaWxlPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIF9yZWplY3QpID0+IHtcclxuICAgICAgdGhpcy5vbkNob29zZVN1Z2dlc3Rpb24gPSAocGF0aDogc3RyaW5nLCBfZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF0aClcclxuXHJcbiAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSlcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlKGZpbGUpXHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zdWdnZXN0TmV3RmlsZSkgcmV0dXJuXHJcblxyXG4gICAgICAgIGlmIChQYXRoSGVscGVyLmV4dGVuc2lvbihwYXRoKSA9PT0gdW5kZWZpbmVkKSBwYXRoICs9ICcubWQnXHJcbiAgICAgICAgY29uc3QgbmV3RmlsZSA9IHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShwYXRoLCAnJylcclxuICAgICAgICByZXNvbHZlKG5ld0ZpbGUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMub3BlbigpXHJcbiAgICB9KVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBNZW51IH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgRmlsZU5hbWVNb2RhbCB9IGZyb20gXCJzcmMvdXRpbHMvbW9kYWwtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvZXZlbnRzXCJcclxuXHJcbmNvbnN0IEVOQ0FQU1VMQVRFRF9GSUxFX05PREVfU0laRSA9IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiAzMDAgfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW5jYXBzdWxhdGVDYW52YXNFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuICdjYW52YXNFbmNhcHN1bGF0aW9uRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgLyogQWRkIGNvbW1hbmQgdG8gZW5jYXBzdWxhdGUgc2VsZWN0aW9uICovXHJcbiAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgICAgaWQ6ICdlbmNhcHN1bGF0ZS1zZWxlY3Rpb24nLFxyXG4gICAgICBuYW1lOiAnRW5jYXBzdWxhdGUgc2VsZWN0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5ICYmIGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSA+IDAsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmVuY2Fwc3VsYXRlU2VsZWN0aW9uKGNhbnZhcylcclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICAvKiBBZGQgZW5jYXBzdWxhdGUgb3B0aW9uIHRvIGNvbnRleHQgbWVudSAqL1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5TZWxlY3Rpb25Db250ZXh0TWVudSxcclxuICAgICAgKG1lbnU6IE1lbnUsIGNhbnZhczogQ2FudmFzKSA9PiB7XHJcbiAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PlxyXG4gICAgICAgICAgaXRlbVxyXG4gICAgICAgICAgICAuc2V0VGl0bGUoJ0VuY2Fwc3VsYXRlJylcclxuICAgICAgICAgICAgLnNldEljb24oJ2ZpbGUtcGx1cycpXHJcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHRoaXMuZW5jYXBzdWxhdGVTZWxlY3Rpb24oY2FudmFzKSlcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBhc3luYyBlbmNhcHN1bGF0ZVNlbGVjdGlvbihjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gY2FudmFzLmdldFNlbGVjdGlvbkRhdGEoKVxyXG5cclxuICAgIC8vIENyZWF0ZSBuZXcgZmlsZVxyXG4gICAgY29uc3Qgc291cmNlRmlsZUZvbGRlciA9IGNhbnZhcy52aWV3LmZpbGUucGFyZW50Py5wYXRoXHJcbiAgICBpZiAoIXNvdXJjZUZpbGVGb2xkZXIpIHJldHVybiAvLyBTaG91bGQgbmV2ZXIgaGFwcGVuXHJcblxyXG4gICAgY29uc3QgdGFyZ2V0RmlsZVBhdGggPSBhd2FpdCBuZXcgRmlsZU5hbWVNb2RhbChcclxuICAgICAgdGhpcy5wbHVnaW4uYXBwLFxyXG4gICAgICBzb3VyY2VGaWxlRm9sZGVyLFxyXG4gICAgICAnY2FudmFzJ1xyXG4gICAgKS5hd2FpdElucHV0KClcclxuXHJcbiAgICBjb25zdCBuZXdGaWxlRGF0YSA9IHsgbm9kZXM6IHNlbGVjdGlvbi5ub2RlcywgZWRnZXM6IHNlbGVjdGlvbi5lZGdlcyB9XHJcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZSh0YXJnZXRGaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkobmV3RmlsZURhdGEsIG51bGwsIDIpKVxyXG5cclxuICAgIC8vIFJlbW92ZSBmcm9tIGN1cnJlbnQgY2FudmFzXHJcbiAgICBmb3IgKGNvbnN0IG5vZGVEYXRhIG9mIHNlbGVjdGlvbi5ub2Rlcykge1xyXG4gICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGVzLmdldChub2RlRGF0YS5pZClcclxuICAgICAgaWYgKG5vZGUpIGNhbnZhcy5yZW1vdmVOb2RlKG5vZGUpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIGxpbmsgdG8gbmV3IGZpbGUgaW4gY3VycmVudCBjYW52YXNcclxuICAgIGNhbnZhcy5jcmVhdGVGaWxlTm9kZSh7XHJcbiAgICAgIHBvczoge1xyXG4gICAgICAgIHg6IHNlbGVjdGlvbi5jZW50ZXIueCAtIEVOQ0FQU1VMQVRFRF9GSUxFX05PREVfU0laRS53aWR0aCAvIDIsXHJcbiAgICAgICAgeTogc2VsZWN0aW9uLmNlbnRlci55IC0gRU5DQVBTVUxBVEVEX0ZJTEVfTk9ERV9TSVpFLmhlaWdodCAvIDJcclxuICAgICAgfSxcclxuICAgICAgc2l6ZTogRU5DQVBTVUxBVEVEX0ZJTEVfTk9ERV9TSVpFLFxyXG4gICAgICBmaWxlOiBmaWxlXHJcbiAgICB9KVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc0VkZ2UsIENhbnZhc0VkZ2VEYXRhLCBDYW52YXNOb2RlRGF0YSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IHsgRmlsZVNlbGVjdE1vZGFsIH0gZnJvbSBcInNyYy91dGlscy9tb2RhbC1oZWxwZXJcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuXHJcbnR5cGUgRGlyZWN0aW9uID0gJ3VwJyB8ICdkb3duJyB8ICdsZWZ0JyB8ICdyaWdodCdcclxuY29uc3QgRElSRUNUSU9OUyA9IFsndXAnLCAnZG93bicsICdsZWZ0JywgJ3JpZ2h0J10gYXMgRGlyZWN0aW9uW11cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1hbmRzQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnY29tbWFuZHNGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnY3JlYXRlLXRleHQtbm9kZScsXHJcbiAgICAgIG5hbWU6ICdDcmVhdGUgdGV4dCBub2RlJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5LFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5jcmVhdGVUZXh0Tm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnY3JlYXRlLWZpbGUtbm9kZScsXHJcbiAgICAgIG5hbWU6ICdDcmVhdGUgZmlsZSBub2RlJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5LFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5jcmVhdGVGaWxlTm9kZShjYW52YXMpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnc2VsZWN0LWFsbC1lZGdlcycsXHJcbiAgICAgIG5hbWU6ICdTZWxlY3QgYWxsIGVkZ2VzJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gdHJ1ZSxcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+IGNhbnZhcy51cGRhdGVTZWxlY3Rpb24oKCkgPT4gXHJcbiAgICAgICAgICBjYW52YXMuc2VsZWN0aW9uID0gbmV3IFNldChjYW52YXMuZWRnZXMudmFsdWVzKCkpXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgICBpZDogJ3pvb20tdG8tc2VsZWN0aW9uJyxcclxuICAgICAgbmFtZTogJ1pvb20gdG8gc2VsZWN0aW9uJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiBjYW52YXMuc2VsZWN0aW9uLnNpemUgPiAwLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gY2FudmFzLnpvb21Ub1NlbGVjdGlvbigpXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgZm9yIChjb25zdCBkaXJlY3Rpb24gb2YgRElSRUNUSU9OUykge1xyXG4gICAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgICAgICBpZDogYGNsb25lLW5vZGUtJHtkaXJlY3Rpb259YCxcclxuICAgICAgICBuYW1lOiBgQ2xvbmUgbm9kZSAke2RpcmVjdGlvbn1gLFxyXG4gICAgICAgIGNoZWNrQ2FsbGJhY2s6IENhbnZhc0hlbHBlci5jYW52YXNDb21tYW5kKFxyXG4gICAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+ICFjYW52YXMucmVhZG9ubHkgJiYgY2FudmFzLnNlbGVjdGlvbi5zaXplID09PSAxICYmIGNhbnZhcy5zZWxlY3Rpb24udmFsdWVzKCkubmV4dCgpLnZhbHVlPy5nZXREYXRhKCkudHlwZSA9PT0gJ3RleHQnLFxyXG4gICAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmNsb25lTm9kZShjYW52YXMsIGRpcmVjdGlvbilcclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnBsdWdpbi5hZGRDb21tYW5kKHtcclxuICAgICAgICBpZDogYGV4cGFuZC1ub2RlLSR7ZGlyZWN0aW9ufWAsXHJcbiAgICAgICAgbmFtZTogYEV4cGFuZCBub2RlICR7ZGlyZWN0aW9ufWAsXHJcbiAgICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgICB0aGlzLnBsdWdpbixcclxuICAgICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gIWNhbnZhcy5yZWFkb25seSAmJiBjYW52YXMuc2VsZWN0aW9uLnNpemUgPT09IDEsXHJcbiAgICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMuZXhwYW5kTm9kZShjYW52YXMsIGRpcmVjdGlvbilcclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnZmxpcC1zZWxlY3Rpb24taG9yaXpvbnRhbGx5JyxcclxuICAgICAgbmFtZTogJ0ZsaXAgc2VsZWN0aW9uIGhvcml6b250YWxseScsXHJcbiAgICAgIGNoZWNrQ2FsbGJhY2s6IENhbnZhc0hlbHBlci5jYW52YXNDb21tYW5kKFxyXG4gICAgICAgIHRoaXMucGx1Z2luLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gIWNhbnZhcy5yZWFkb25seSAmJiBjYW52YXMuc2VsZWN0aW9uLnNpemUgPiAwLFxyXG4gICAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5mbGlwU2VsZWN0aW9uKGNhbnZhcywgdHJ1ZSBcclxuICAgICAgKSlcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiAnZmxpcC1zZWxlY3Rpb24tdmVydGljYWxseScsXHJcbiAgICAgIG5hbWU6ICdGbGlwIHNlbGVjdGlvbiB2ZXJ0aWNhbGx5JyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiAhY2FudmFzLnJlYWRvbmx5ICYmIGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSA+IDAsXHJcbiAgICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLmZsaXBTZWxlY3Rpb24oY2FudmFzLCBmYWxzZSlcclxuICAgICAgKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlVGV4dE5vZGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IHNpemUgPSBjYW52YXMuY29uZmlnLmRlZmF1bHRUZXh0Tm9kZURpbWVuc2lvbnNcclxuICAgIGNvbnN0IHBvcyA9IENhbnZhc0hlbHBlci5nZXRDZW50ZXJDb29yZGluYXRlcyhjYW52YXMsIHNpemUpXHJcblxyXG4gICAgY2FudmFzLmNyZWF0ZVRleHROb2RlKHsgcG9zOiBwb3MsIHNpemU6IHNpemUgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgY3JlYXRlRmlsZU5vZGUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IHNpemUgPSBjYW52YXMuY29uZmlnLmRlZmF1bHRGaWxlTm9kZURpbWVuc2lvbnNcclxuICAgIGNvbnN0IHBvcyA9IENhbnZhc0hlbHBlci5nZXRDZW50ZXJDb29yZGluYXRlcyhjYW52YXMsIHNpemUpXHJcbiAgICBjb25zdCBmaWxlID0gYXdhaXQgbmV3IEZpbGVTZWxlY3RNb2RhbCh0aGlzLnBsdWdpbi5hcHAsIHVuZGVmaW5lZCwgdHJ1ZSkuYXdhaXRJbnB1dCgpXHJcblxyXG4gICAgY2FudmFzLmNyZWF0ZUZpbGVOb2RlKHsgcG9zOiBwb3MsIHNpemU6IHNpemUsIGZpbGU6IGZpbGUgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2xvbmVOb2RlKGNhbnZhczogQ2FudmFzLCBjbG9uZURpcmVjdGlvbjogRGlyZWN0aW9uKSB7XHJcbiAgICBjb25zdCBzb3VyY2VOb2RlID0gY2FudmFzLnNlbGVjdGlvbi52YWx1ZXMoKS5uZXh0KCkudmFsdWVcclxuICAgIGlmICghc291cmNlTm9kZSkgcmV0dXJuXHJcbiAgICBjb25zdCBzb3VyY2VOb2RlRGF0YSA9IHNvdXJjZU5vZGUuZ2V0RGF0YSgpXHJcblxyXG4gICAgY29uc3Qgbm9kZU1hcmdpbiA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2Nsb25lTm9kZU1hcmdpbicpXHJcbiAgICBjb25zdCBvZmZzZXQgPSB7IFxyXG4gICAgICB4OiAoc291cmNlTm9kZS53aWR0aCArIG5vZGVNYXJnaW4pICogKGNsb25lRGlyZWN0aW9uID09PSAnbGVmdCcgPyAtMSA6IChjbG9uZURpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IDEgOiAwKSksXHJcbiAgICAgIHk6IChzb3VyY2VOb2RlLmhlaWdodCArIG5vZGVNYXJnaW4pICogKGNsb25lRGlyZWN0aW9uID09PSAndXAnID8gLTEgOiAoY2xvbmVEaXJlY3Rpb24gPT09ICdkb3duJyA/IDEgOiAwKSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjbG9uZWROb2RlID0gY2FudmFzLmNyZWF0ZVRleHROb2RlKHtcclxuICAgICAgcG9zOiB7XHJcbiAgICAgICAgeDogc291cmNlTm9kZS54ICsgb2Zmc2V0LngsXHJcbiAgICAgICAgeTogc291cmNlTm9kZS55ICsgb2Zmc2V0LnlcclxuICAgICAgfSxcclxuICAgICAgc2l6ZToge1xyXG4gICAgICAgIHdpZHRoOiBzb3VyY2VOb2RlLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogc291cmNlTm9kZS5oZWlnaHRcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjbG9uZWROb2RlLnNldERhdGEoeyBcclxuICAgICAgLi4uY2xvbmVkTm9kZS5nZXREYXRhKCksIFxyXG4gICAgICBjb2xvcjogc291cmNlTm9kZURhdGEuY29sb3IsXHJcbiAgICAgIHN0eWxlQXR0cmlidXRlczogc291cmNlTm9kZURhdGEuc3R5bGVBdHRyaWJ1dGVzXHJcbiAgICB9KVxyXG5cclxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCd6b29tVG9DbG9uZWROb2RlJykpXHJcbiAgICAgIGNhbnZhcy56b29tVG9CYm94KGNsb25lZE5vZGUuZ2V0QkJveCgpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBleHBhbmROb2RlKGNhbnZhczogQ2FudmFzLCBleHBhbmREaXJlY3Rpb246IERpcmVjdGlvbikge1xyXG4gICAgY29uc3Qgbm9kZSA9IGNhbnZhcy5zZWxlY3Rpb24udmFsdWVzKCkubmV4dCgpLnZhbHVlXHJcbiAgICBpZiAoIW5vZGUpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IGV4cGFuZE5vZGVTdGVwU2l6ZSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2V4cGFuZE5vZGVTdGVwU2l6ZScpXHJcbiAgICBjb25zdCBleHBhbmQgPSB7XHJcbiAgICAgIHg6IGV4cGFuZERpcmVjdGlvbiA9PT0gJ2xlZnQnID8gLTEgOiAoZXhwYW5kRGlyZWN0aW9uID09PSAncmlnaHQnID8gMSA6IDApLFxyXG4gICAgICB5OiBleHBhbmREaXJlY3Rpb24gPT09ICd1cCcgPyAtMSA6IChleHBhbmREaXJlY3Rpb24gPT09ICdkb3duJyA/IDEgOiAwKVxyXG4gICAgfVxyXG5cclxuICAgIG5vZGUuc2V0RGF0YSh7XHJcbiAgICAgIC4uLm5vZGUuZ2V0RGF0YSgpLFxyXG4gICAgICB3aWR0aDogbm9kZS53aWR0aCArIGV4cGFuZC54ICogZXhwYW5kTm9kZVN0ZXBTaXplLFxyXG4gICAgICBoZWlnaHQ6IG5vZGUuaGVpZ2h0ICsgZXhwYW5kLnkgKiBleHBhbmROb2RlU3RlcFNpemVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZsaXBTZWxlY3Rpb24oY2FudmFzOiBDYW52YXMsIGhvcml6b250YWxseTogYm9vbGVhbikge1xyXG4gICAgY29uc3Qgc2VsZWN0aW9uRGF0YSA9IGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKClcclxuICAgIGlmIChzZWxlY3Rpb25EYXRhLm5vZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgbm9kZUlkcyA9IG5ldyBTZXQoKVxyXG5cclxuICAgIC8vIEZsaXAgbm9kZXNcclxuICAgIGZvciAoY29uc3Qgbm9kZURhdGEgb2Ygc2VsZWN0aW9uRGF0YS5ub2Rlcykge1xyXG4gICAgICBub2RlSWRzLmFkZChub2RlRGF0YS5pZClcclxuXHJcbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KG5vZGVEYXRhLmlkKVxyXG4gICAgICBpZiAoIW5vZGUpIGNvbnRpbnVlXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBuZXdYID0gaG9yaXpvbnRhbGx5ID9cclxuICAgICAgICAyICogc2VsZWN0aW9uRGF0YS5jZW50ZXIueCAtIG5vZGVEYXRhLnggLSBub2RlRGF0YS53aWR0aCA6XHJcbiAgICAgICAgbm9kZURhdGEueFxyXG5cclxuICAgICAgY29uc3QgbmV3WSA9IGhvcml6b250YWxseSA/XHJcbiAgICAgICAgbm9kZURhdGEueSA6XHJcbiAgICAgICAgMiAqIHNlbGVjdGlvbkRhdGEuY2VudGVyLnkgLSBub2RlRGF0YS55IC0gbm9kZURhdGEuaGVpZ2h0XHJcblxyXG4gICAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICAgIHg6IG5ld1gsXHJcbiAgICAgICAgeTogbmV3WVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZsaXAgZWRnZXNcclxuICAgIGZvciAoY29uc3QgZWRnZSBvZiBjYW52YXMuZWRnZXMudmFsdWVzKCkpIHtcclxuICAgICAgY29uc3QgZWRnZURhdGEgPSBlZGdlLmdldERhdGEoKSBhcyBDYW52YXNFZGdlRGF0YVxyXG5cclxuICAgICAgbGV0IG5ld0Zyb21TaWRlID0gZWRnZURhdGEuZnJvbVNpZGVcclxuICAgICAgaWYgKG5vZGVJZHMuaGFzKGVkZ2VEYXRhLmZyb21Ob2RlKSAmJiBCQm94SGVscGVyLmlzSG9yaXpvbnRhbChlZGdlRGF0YS5mcm9tU2lkZSkgPT09IGhvcml6b250YWxseSlcclxuICAgICAgICBuZXdGcm9tU2lkZSA9IEJCb3hIZWxwZXIuZ2V0T3Bwb3NpdGVTaWRlKGVkZ2VEYXRhLmZyb21TaWRlKVxyXG5cclxuICAgICAgbGV0IG5ld1RvU2lkZSA9IGVkZ2VEYXRhLnRvU2lkZVxyXG4gICAgICBpZiAobm9kZUlkcy5oYXMoZWRnZURhdGEudG9Ob2RlKSAmJiBCQm94SGVscGVyLmlzSG9yaXpvbnRhbChlZGdlRGF0YS50b1NpZGUpID09PSBob3Jpem9udGFsbHkpXHJcbiAgICAgICAgbmV3VG9TaWRlID0gQkJveEhlbHBlci5nZXRPcHBvc2l0ZVNpZGUoZWRnZURhdGEudG9TaWRlKVxyXG5cclxuICAgICAgZWRnZS5zZXREYXRhKHtcclxuICAgICAgICAuLi5lZGdlRGF0YSxcclxuICAgICAgICBmcm9tU2lkZTogbmV3RnJvbVNpZGUsXHJcbiAgICAgICAgdG9TaWRlOiBuZXdUb1NpZGVcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMucHVzaEhpc3RvcnkoY2FudmFzLmdldERhdGEoKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzLCBDYW52YXNOb2RlLCBDYW52YXNOb2RlRGF0YSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvY2FudmFzLWhlbHBlclwiXHJcbmltcG9ydCB7IFZpZXdVcGRhdGUgfSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRvUmVzaXplTm9kZUNhbnZhc0V4dGVuc2lvbiAgZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuICdhdXRvUmVzaXplTm9kZUZlYXR1cmVFbmFibGVkJyBhcyBjb25zdCB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpID0+IHRoaXMub25Ob2RlQ3JlYXRlZChjYW52YXMsIG5vZGUpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuUG9wdXBNZW51Q3JlYXRlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLm9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXMpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZUVkaXRpbmdTdGF0ZUNoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSwgZWRpdGluZzogYm9vbGVhbikgPT4gdGhpcy5vbk5vZGVFZGl0aW5nU3RhdGVDaGFuZ2VkKGNhbnZhcywgbm9kZSwgZWRpdGluZylcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlVGV4dENvbnRlbnRDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUsIHZpZXdVcGRhdGU6IFZpZXdVcGRhdGUpID0+IHRoaXMub25Ob2RlVGV4dENvbnRlbnRDaGFuZ2VkKGNhbnZhcywgbm9kZSwgdmlld1VwZGF0ZS52aWV3LmRvbSlcclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlzVmFsaWROb2RlVHlwZShub2RlRGF0YTogQ2FudmFzTm9kZURhdGEpIHtcclxuICAgIHJldHVybiBub2RlRGF0YS50eXBlID09PSAndGV4dCcgfHwgKG5vZGVEYXRhLnR5cGUgPT09ICdmaWxlJyAmJiBub2RlRGF0YS5maWxlPy5lbmRzV2l0aCgnLm1kJykpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTm9kZUNyZWF0ZWQoX2NhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCBhdXRvUmVzaXplTm9kZUVuYWJsZWRCeURlZmF1bHQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdhdXRvUmVzaXplTm9kZUVuYWJsZWRCeURlZmF1bHQnKVxyXG4gICAgaWYgKCFhdXRvUmVzaXplTm9kZUVuYWJsZWRCeURlZmF1bHQpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgIGlmIChub2RlRGF0YS50eXBlICE9PSAndGV4dCcgJiYgbm9kZURhdGEudHlwZSAhPT0gJ2ZpbGUnKSByZXR1cm4gLy8gRmlsZSBleHRlbnNpb24gY2FuIHN0aWxsIGJlIGNoYW5nZWQgaW4gdGhlIGZ1dHVyZVxyXG5cclxuICAgIG5vZGUuc2V0RGF0YSh7XHJcbiAgICAgIC4uLm5vZGUuZ2V0RGF0YSgpLFxyXG4gICAgICBhdXRvUmVzaXplSGVpZ2h0OiB0cnVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGlmIChjYW52YXMucmVhZG9ubHkpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHNlbGVjdGVkTm9kZXMgPSBjYW52YXMuZ2V0U2VsZWN0aW9uRGF0YSgpLm5vZGVzXHJcbiAgICAgIC5maWx0ZXIobm9kZURhdGEgPT4gdGhpcy5pc1ZhbGlkTm9kZVR5cGUobm9kZURhdGEpKVxyXG4gICAgICAubWFwKG5vZGVEYXRhID0+IGNhbnZhcy5ub2Rlcy5nZXQobm9kZURhdGEuaWQpKVxyXG4gICAgICAuZmlsdGVyKG5vZGUgPT4gbm9kZSAhPT0gdW5kZWZpbmVkKSBhcyBDYW52YXNOb2RlW11cclxuICAgIGlmIChzZWxlY3RlZE5vZGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgYXV0b1Jlc2l6ZUhlaWdodEVuYWJsZWQgPSBzZWxlY3RlZE5vZGVzLnNvbWUobm9kZSA9PiBub2RlLmdldERhdGEoKS5hdXRvUmVzaXplSGVpZ2h0KVxyXG4gICAgXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkUG9wdXBNZW51T3B0aW9uKFxyXG4gICAgICBjYW52YXMsXHJcbiAgICAgIENhbnZhc0hlbHBlci5jcmVhdGVQb3B1cE1lbnVPcHRpb24oe1xyXG4gICAgICAgIGlkOiAnYXV0by1yZXNpemUtaGVpZ2h0JyxcclxuICAgICAgICBsYWJlbDogYXV0b1Jlc2l6ZUhlaWdodEVuYWJsZWQgPyAnRGlzYWJsZSBhdXRvLXJlc2l6ZScgOiAnRW5hYmxlIGF1dG8tcmVzaXplJyxcclxuICAgICAgICBpY29uOiBhdXRvUmVzaXplSGVpZ2h0RW5hYmxlZCA/ICdzY2FuLXRleHQnIDogJ2xvY2snLFxyXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB0aGlzLnRvZ2dsZUF1dG9SZXNpemVIZWlnaHRFbmFibGVkKGNhbnZhcywgc2VsZWN0ZWROb2RlcywgYXV0b1Jlc2l6ZUhlaWdodEVuYWJsZWQpXHJcbiAgICAgIH0pXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHRvZ2dsZUF1dG9SZXNpemVIZWlnaHRFbmFibGVkKGNhbnZhczogQ2FudmFzLCBub2RlczogQ2FudmFzTm9kZVtdLCBhdXRvUmVzaXplSGVpZ2h0OiBib29sZWFuKSB7XHJcbiAgICBub2Rlcy5mb3JFYWNoKG5vZGUgPT4gbm9kZS5zZXREYXRhKHtcclxuICAgICAgLi4ubm9kZS5nZXREYXRhKCksXHJcbiAgICAgIGF1dG9SZXNpemVIZWlnaHQ6ICFhdXRvUmVzaXplSGVpZ2h0XHJcbiAgICB9KSlcclxuXHJcbiAgICB0aGlzLm9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXMpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbkJlUmVzaXplZChub2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcbiAgICByZXR1cm4gbm9kZURhdGEuYXV0b1Jlc2l6ZUhlaWdodFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBvbk5vZGVFZGl0aW5nU3RhdGVDaGFuZ2VkKF9jYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSwgZWRpdGluZzogYm9vbGVhbikge1xyXG4gICAgaWYgKCF0aGlzLmlzVmFsaWROb2RlVHlwZShub2RlLmdldERhdGEoKSkpIHJldHVyblxyXG4gICAgaWYgKCF0aGlzLmNhbkJlUmVzaXplZChub2RlKSkgcmV0dXJuXHJcblxyXG4gICAgYXdhaXQgc2xlZXAoMTApXHJcblxyXG4gICAgaWYgKGVkaXRpbmcpIHtcclxuICAgICAgdGhpcy5vbk5vZGVUZXh0Q29udGVudENoYW5nZWQoX2NhbnZhcywgbm9kZSwgbm9kZS5jaGlsZC5lZGl0TW9kZS5jbS5kb20pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlbmRlcmVkTWFya2Rvd25Db250YWluZXIgPSBub2RlLm5vZGVFbC5xdWVyeVNlbGVjdG9yKFwiLm1hcmtkb3duLXByZXZpZXctdmlldy5tYXJrZG93bi1yZW5kZXJlZFwiKSBhcyBIVE1MRWxlbWVudCB8IG51bGxcclxuICAgIGlmICghcmVuZGVyZWRNYXJrZG93bkNvbnRhaW5lcikgcmV0dXJuXHJcblxyXG4gICAgcmVuZGVyZWRNYXJrZG93bkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIm1pbi1jb250ZW50XCJcclxuICAgIGxldCBuZXdIZWlnaHQgPSByZW5kZXJlZE1hcmtkb3duQ29udGFpbmVyLmNsaWVudEhlaWdodFxyXG4gICAgcmVuZGVyZWRNYXJrZG93bkNvbnRhaW5lci5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImhlaWdodFwiKVxyXG5cclxuICAgIHRoaXMuc2V0Tm9kZUhlaWdodChub2RlLCBuZXdIZWlnaHQpXHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgYXN5bmMgb25Ob2RlVGV4dENvbnRlbnRDaGFuZ2VkKF9jYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSwgZG9tOiBIVE1MRWxlbWVudCkge1xyXG4gICAgaWYgKCF0aGlzLmlzVmFsaWROb2RlVHlwZShub2RlLmdldERhdGEoKSkpIHJldHVyblxyXG4gICAgaWYgKCF0aGlzLmNhbkJlUmVzaXplZChub2RlKSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgY21TY3JvbGxlciA9IGRvbS5xdWVyeVNlbGVjdG9yKFwiLmNtLXNjcm9sbGVyXCIpIGFzIEhUTUxFbGVtZW50IHwgbnVsbFxyXG4gICAgaWYgKCFjbVNjcm9sbGVyKSByZXR1cm5cclxuXHJcbiAgICBjbVNjcm9sbGVyLnN0eWxlLmhlaWdodCA9IFwibWluLWNvbnRlbnRcIlxyXG4gICAgY29uc3QgbmV3SGVpZ2h0ID0gY21TY3JvbGxlci5zY3JvbGxIZWlnaHRcclxuICAgIGNtU2Nyb2xsZXIuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJoZWlnaHRcIilcclxuXHJcbiAgICB0aGlzLnNldE5vZGVIZWlnaHQobm9kZSwgbmV3SGVpZ2h0KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXROb2RlSGVpZ2h0KG5vZGU6IENhbnZhc05vZGUsIGhlaWdodDogbnVtYmVyKSB7XHJcbiAgICBpZiAoaGVpZ2h0ID09PSAwKSByZXR1cm5cclxuICAgIFxyXG4gICAgLy8gTGltaXQgdGhlIGhlaWdodCB0byB0aGUgbWF4aW11bSBhbGxvd2VkXHJcbiAgICBjb25zdCBtYXhIZWlnaHQgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdhdXRvUmVzaXplTm9kZU1heEhlaWdodCcpXHJcbiAgICBpZiAobWF4SGVpZ2h0ICE9IC0xICYmIGhlaWdodCA+IG1heEhlaWdodCkgaGVpZ2h0ID0gbWF4SGVpZ2h0XHJcblxyXG4gICAgY29uc3Qgbm9kZURhdGEgPSBub2RlLmdldERhdGEoKVxyXG5cclxuICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgbm9kZS5jYW52YXMuY29uZmlnLm1pbkNvbnRhaW5lckRpbWVuc2lvbilcclxuXHJcbiAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnYXV0b1Jlc2l6ZU5vZGVTbmFwVG9HcmlkJykpXHJcbiAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyBDYW52YXNIZWxwZXIuR1JJRF9TSVpFKSAqIENhbnZhc0hlbHBlci5HUklEX1NJWkVcclxuXHJcbiAgICBub2RlLnNldERhdGEoe1xyXG4gICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgaGVpZ2h0OiBoZWlnaHRcclxuICAgIH0pXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuaW1wb3J0IHsgQkJveCwgQ2FudmFzLCBDYW52YXNEYXRhLCBDYW52YXNFZGdlLCBDYW52YXNFbGVtZW50LCBDYW52YXNOb2RlLCBDYW52YXNOb2RlRGF0YSwgQ2FudmFzVmlldyB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvY2FudmFzLWhlbHBlclwiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvblwiXHJcblxyXG5jb25zdCBQT1JUQUxfUEFERElORyA9IDUwXHJcbmNvbnN0IE1JTl9PUEVOX1BPUlRBTF9TSVpFID0geyB3aWR0aDogMjAwLCBoZWlnaHQ6IDIwMCB9XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3J0YWxzQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAncG9ydGFsc0ZlYXR1cmVFbmFibGVkJyBhcyBjb25zdCB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC52YXVsdC5vbignbW9kaWZ5JywgKGZpbGU6IFRGaWxlKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhbnZhc2VzID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ2NhbnZhcycpLm1hcChsZWFmID0+IChsZWFmLnZpZXcgYXMgQ2FudmFzVmlldykuY2FudmFzKVxyXG5cclxuICAgICAgZm9yIChjb25zdCBjYW52YXMgb2YgY2FudmFzZXMpIHtcclxuICAgICAgICBpZiAoY2FudmFzID09PSB1bmRlZmluZWQpIGNvbnRpbnVlXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaGFzUG9ydGFsc1RvRmlsZSA9IGNhbnZhcy5nZXREYXRhKCkubm9kZXMuZmlsdGVyKG5vZGVEYXRhID0+IFxyXG4gICAgICAgICAgbm9kZURhdGEudHlwZSA9PT0gJ2ZpbGUnICYmIFxyXG4gICAgICAgICAgbm9kZURhdGEucG9ydGFsVG9GaWxlID09PSBmaWxlLnBhdGhcclxuICAgICAgICApLmxlbmd0aCA+IDBcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIHdob2xlIGNhbnZhcyBkYXRhXHJcbiAgICAgICAgaWYgKGhhc1BvcnRhbHNUb0ZpbGUpIHtcclxuICAgICAgICAgIGNhbnZhcy5zZXREYXRhKGNhbnZhcy5nZXREYXRhKCkpXHJcblxyXG4gICAgICAgICAgLy8gTWFpbnRhaW4gaGlzdG9yeVxyXG4gICAgICAgICAgY2FudmFzLmhpc3RvcnkuY3VycmVudC0tXHJcbiAgICAgICAgICBjYW52YXMuaGlzdG9yeS5kYXRhLnBvcCgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlBvcHVwTWVudUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy51cGRhdGVQb3B1cE1lbnUoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVSZW1vdmVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpID0+IHRoaXMub25Ob2RlUmVtb3ZlZChjYW52YXMsIG5vZGUpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZU1vdmVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpID0+IHRoaXMub25Ob2RlTW92ZWQoY2FudmFzLCBub2RlKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkRyYWdnaW5nU3RhdGVDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIHN0YXJ0ZWREcmFnZ2luZzogYm9vbGVhbikgPT4gdGhpcy5vbkRyYWdnaW5nU3RhdGVDaGFuZ2VkKGNhbnZhcywgc3RhcnRlZERyYWdnaW5nKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNvbnRhaW5pbmdOb2Rlc1JlcXVlc3RlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBiYm94OiBCQm94LCBub2RlczogQ2FudmFzTm9kZVtdKSA9PiB0aGlzLm9uQ29udGFpbmluZ05vZGVzUmVxdWVzdGVkKGNhbnZhcywgYmJveCwgbm9kZXMpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuU2VsZWN0aW9uQ2hhbmdlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBvbGRTZWxlY3Rpb246IFNldDxDYW52YXNFbGVtZW50PiwgdXBkYXRlU2VsZWN0aW9uOiAodXBkYXRlOiAoKSA9PiB2b2lkKSA9PiB2b2lkKSA9PiB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlZChjYW52YXMsIG9sZFNlbGVjdGlvbiwgdXBkYXRlU2VsZWN0aW9uKVxyXG4gICAgKSlcclxuICAgIFxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5EYXRhUmVxdWVzdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIGRhdGE6IENhbnZhc0RhdGEpID0+IHRoaXMucmVtb3ZlUG9ydGFsQ2FudmFzRGF0YShjYW52YXMsIGRhdGEpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTG9hZERhdGEsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgZGF0YTogQ2FudmFzRGF0YSwgc2V0RGF0YTogKGRhdGE6IENhbnZhc0RhdGEpID0+IHZvaWQpID0+IHtcclxuICAgICAgICB0aGlzLmdldENhbnZhc0RhdGFXaXRoUG9ydGFscyhjYW52YXMsIGRhdGEpXHJcbiAgICAgICAgICAudGhlbigobmV3RGF0YTogQ2FudmFzRGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBTa2lwIGlmIHRoZSBkYXRhIGRpZG4ndCBjaGFuZ2VcclxuICAgICAgICAgICAgaWYgKG5ld0RhdGEubm9kZXMubGVuZ3RoID09PSBkYXRhLm5vZGVzLmxlbmd0aCAmJiBuZXdEYXRhLmVkZ2VzLmxlbmd0aCA9PT0gZGF0YS5lZGdlcy5sZW5ndGgpIHJldHVyblxyXG4gICAgICAgICAgICBzZXREYXRhKG5ld0RhdGEpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB1cGRhdGVQb3B1cE1lbnUoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGlmIChjYW52YXMucmVhZG9ubHkpIHJldHVyblxyXG5cclxuICAgIC8vIE9ubHkgc2VhcmNoIGZvciB2YWxpZCBub2Rlc1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRGaWxlTm9kZXMgPSBjYW52YXMuZ2V0U2VsZWN0aW9uRGF0YSgpLm5vZGVzLm1hcChub2RlRGF0YSA9PiB7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KG5vZGVEYXRhLmlkKVxyXG4gICAgICBpZiAoIW5vZGUpIHJldHVybiBudWxsXHJcblxyXG4gICAgICBpZiAobm9kZURhdGEudHlwZSAhPT0gJ2ZpbGUnKSByZXR1cm4gbnVsbFxyXG4gICAgICBpZiAobm9kZS5maWxlPy5leHRlbnNpb24gPT09ICdjYW52YXMnKSByZXR1cm4gbm9kZVxyXG4gICAgICBcclxuICAgICAgLy8gQ2xvc2UgcG9ydGFsIG9mIG5vbi1jYW52YXMgZmlsZVxyXG4gICAgICBpZiAobm9kZURhdGEucG9ydGFsVG9GaWxlKSB0aGlzLnNldFBvcnRhbE9wZW4oY2FudmFzLCBub2RlLCBmYWxzZSlcclxuXHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9KS5maWx0ZXIobm9kZSA9PiBub2RlICE9PSBudWxsKSBhcyBDYW52YXNOb2RlW11cclxuICAgIFxyXG4gICAgaWYgKHNlbGVjdGVkRmlsZU5vZGVzLmxlbmd0aCAhPT0gMSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgcG9ydGFsTm9kZSA9IHNlbGVjdGVkRmlsZU5vZGVzWzBdXHJcbiAgICBjb25zdCBwb3J0YWxOb2RlRGF0YSA9IHBvcnRhbE5vZGUuZ2V0RGF0YSgpXHJcblxyXG4gICAgLy8gSWYgZmlsZSBjaGFuZ2VkXHJcbiAgICBpZiAocG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlICYmIHBvcnRhbE5vZGVEYXRhLmZpbGUgIT09IHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSkge1xyXG4gICAgICB0aGlzLnNldFBvcnRhbE9wZW4oY2FudmFzLCBwb3J0YWxOb2RlLCB0cnVlKVxyXG4gICAgfVxyXG5cclxuICAgIENhbnZhc0hlbHBlci5hZGRQb3B1cE1lbnVPcHRpb24oXHJcbiAgICAgIGNhbnZhcyxcclxuICAgICAgQ2FudmFzSGVscGVyLmNyZWF0ZVBvcHVwTWVudU9wdGlvbih7XHJcbiAgICAgICAgaWQ6ICd0b2dnbGUtcG9ydGFsJyxcclxuICAgICAgICBsYWJlbDogcG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlID8gJ0Nsb3NlIHBvcnRhbCcgOiAnT3BlbiBwb3J0YWwnLFxyXG4gICAgICAgIGljb246IHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSA/ICdkb29yLW9wZW4nIDogJ2Rvb3ItY2xvc2VkJyxcclxuICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zZXRQb3J0YWxPcGVuKGNhbnZhcywgcG9ydGFsTm9kZSwgcG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZVBvcHVwTWVudShjYW52YXMpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRQb3J0YWxPcGVuKGNhbnZhczogQ2FudmFzLCBwb3J0YWxOb2RlOiBDYW52YXNOb2RlLCBvcGVuOiBib29sZWFuKSB7XHJcbiAgICBjb25zdCBwb3J0YWxOb2RlRGF0YSA9IHBvcnRhbE5vZGUuZ2V0RGF0YSgpXHJcbiAgICBwb3J0YWxOb2RlLnNldERhdGEoe1xyXG4gICAgICAuLi5wb3J0YWxOb2RlRGF0YSxcclxuICAgICAgcG9ydGFsVG9GaWxlOiBvcGVuID8gcG9ydGFsTm9kZURhdGEuZmlsZSA6IHVuZGVmaW5lZFxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBVcGRhdGUgd2hvbGUgY2FudmFzIGRhdGFcclxuICAgIGNhbnZhcy5zZXREYXRhKGNhbnZhcy5nZXREYXRhKCkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTm9kZVJlbW92ZWQoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgIGlmIChub2RlRGF0YS50eXBlICE9PSAnZmlsZScgfHwgIW5vZGVEYXRhLnBvcnRhbFRvRmlsZSkgcmV0dXJuXHJcblxyXG4gICAgLy8gUmVtb3ZlIG5lc3RlZCBub2RlcyBhbmQgZWRnZXNcclxuICAgIE9iamVjdC5rZXlzKG5vZGVEYXRhLnBvcnRhbElkTWFwcz8ubm9kZUlkTWFwID8/IHt9KS5tYXAocmVmTm9kZUlkID0+IGNhbnZhcy5ub2Rlcy5nZXQocmVmTm9kZUlkKSlcclxuICAgICAgLmZpbHRlcihub2RlID0+IG5vZGUgIT09IHVuZGVmaW5lZClcclxuICAgICAgLmZvckVhY2gobm9kZSA9PiBjYW52YXMucmVtb3ZlTm9kZShub2RlISkpXHJcblxyXG4gICAgT2JqZWN0LmtleXMobm9kZURhdGEucG9ydGFsSWRNYXBzPy5lZGdlSWRNYXAgPz8ge30pLm1hcChyZWZFZGdlSWQgPT4gY2FudmFzLmVkZ2VzLmdldChyZWZFZGdlSWQpKVxyXG4gICAgICAuZmlsdGVyKGVkZ2UgPT4gZWRnZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAuZm9yRWFjaChlZGdlID0+IGNhbnZhcy5yZW1vdmVFZGdlKGVkZ2UhKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Db250YWluaW5nTm9kZXNSZXF1ZXN0ZWQoX2NhbnZhczogQ2FudmFzLCBfYmJveDogQkJveCwgbm9kZXM6IENhbnZhc05vZGVbXSkge1xyXG4gICAgLy8gUmVtb3ZlIG5vZGVzIGZyb20gcG9ydGFscyBmcm9tIHRoZSBsaXN0XHJcbiAgICBub2Rlcy5zcGxpY2UoMCwgbm9kZXMubGVuZ3RoLCAuLi5ub2Rlcy5maWx0ZXIobm9kZSA9PiBub2RlLmdldERhdGEoKS5wb3J0YWxJZCA9PT0gdW5kZWZpbmVkKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25TZWxlY3Rpb25DaGFuZ2VkKGNhbnZhczogQ2FudmFzLCBvbGRTZWxlY3Rpb246IFNldDxDYW52YXNFbGVtZW50PiwgdXBkYXRlU2VsZWN0aW9uOiAodXBkYXRlOiAoKSA9PiB2b2lkKSA9PiB2b2lkKSB7XHJcbiAgICAvLyBVbnNlbGVjdCBub2RlcyBmcm9tIHBvcnRhbHNcclxuICAgIHVwZGF0ZVNlbGVjdGlvbigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRTZWxlY3Rpb24gPSBBcnJheS5mcm9tKGNhbnZhcy5zZWxlY3Rpb24pXHJcbiAgICAgICAgLmZpbHRlcihub2RlID0+IG5vZGUuZ2V0RGF0YSgpLnBvcnRhbElkID09PSB1bmRlZmluZWQpXHJcbiAgICAgIGNhbnZhcy5zZWxlY3Rpb24gPSBuZXcgU2V0KHVwZGF0ZWRTZWxlY3Rpb24pXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIE1vdmUgcHJldmlvdXNseSBzZWxlY3RlZCBwb3J0YWxzIHRvIHRoZSBiYWNrXHJcbiAgICBjb25zdCBwcmV2aW91c2x5U2VsZWN0ZWRQb3J0YWxOb2Rlc0lkcyA9IEFycmF5LmZyb20ob2xkU2VsZWN0aW9uKVxyXG4gICAgICAuZmlsdGVyKG5vZGUgPT4gKG5vZGUuZ2V0RGF0YSgpIGFzIGFueSkucG9ydGFsVG9GaWxlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgIC5mbGF0TWFwKG5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBvcnRhbE5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgICAgICBjb25zdCBuZXN0ZWRQb3J0YWxzSWRzID0gdGhpcy5nZXROZXN0ZWRQb3J0YWxzSWRzKGNhbnZhcywgcG9ydGFsTm9kZURhdGEuaWQpXHJcblxyXG4gICAgICAgIHJldHVybiBbcG9ydGFsTm9kZURhdGEuaWQsIC4uLm5lc3RlZFBvcnRhbHNJZHNdXHJcbiAgICAgIH0pXHJcblxyXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGNhbnZhcy5ub2Rlcy52YWx1ZXMoKSkge1xyXG4gICAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcblxyXG4gICAgICAvLyBOb3QgZnJvbSB1bnNlbGVjdGVkIHBvcnRhbFxyXG4gICAgICBpZiAobm9kZURhdGEucG9ydGFsSWQgPT09IHVuZGVmaW5lZCB8fCAhcHJldmlvdXNseVNlbGVjdGVkUG9ydGFsTm9kZXNJZHMuaW5jbHVkZXMobm9kZURhdGEucG9ydGFsSWQpKSBjb250aW51ZVxyXG5cclxuICAgICAgLy8gTW92ZSB0byBmcm9udFxyXG4gICAgICBub2RlLnVwZGF0ZVpJbmRleCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE5lc3RlZFBvcnRhbHNJZHMoY2FudmFzOiBDYW52YXMsIHBvcnRhbElkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICBjb25zdCBuZXN0ZWRQb3J0YWxzSWRzOiBzdHJpbmdbXSA9IFtdXHJcblxyXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGNhbnZhcy5ub2Rlcy52YWx1ZXMoKSkge1xyXG4gICAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcblxyXG4gICAgICBpZiAobm9kZURhdGEucG9ydGFsSWQgPT09IHBvcnRhbElkKSB7XHJcbiAgICAgICAgbmVzdGVkUG9ydGFsc0lkcy5wdXNoKG5vZGVEYXRhLmlkKVxyXG4gICAgICAgIG5lc3RlZFBvcnRhbHNJZHMucHVzaCguLi50aGlzLmdldE5lc3RlZFBvcnRhbHNJZHMoY2FudmFzLCBub2RlRGF0YS5pZCkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmVzdGVkUG9ydGFsc0lkc1xyXG4gIH1cclxuXHJcbiAgcmVzdG9yZU9iamVjdFNuYXBwaW5nU3RhdGU6ICgpID0+IHZvaWRcclxuICBwcml2YXRlIG9uRHJhZ2dpbmdTdGF0ZUNoYW5nZWQoY2FudmFzOiBDYW52YXMsIHN0YXJ0ZWREcmFnZ2luZzogYm9vbGVhbikge1xyXG4gICAgLy8gSWYgbm8gb3BlbiBwb3J0YWwgZ2V0cyBkcmFnZ2VkLCByZXR1cm5cclxuICAgIGlmICghY2FudmFzLmdldFNlbGVjdGlvbkRhdGEoKS5ub2Rlcy5zb21lKG5vZGUgPT4gbm9kZS50eXBlID09PSAnZmlsZScgJiYgbm9kZS5wb3J0YWxUb0ZpbGUpKSByZXR1cm5cclxuXHJcbiAgICAvLyBEaXNhYmxlIG9iamVjdCBzbmFwcGluZyB0byBmaXggc2VsZi1hbGlnbmluZ1xyXG4gICAgaWYgKHN0YXJ0ZWREcmFnZ2luZykge1xyXG4gICAgICBjb25zdCBvYmplY3RTbmFwcGluZ0VuYWJsZWQgPSBjYW52YXMub3B0aW9ucy5zbmFwVG9PYmplY3RzXHJcbiAgICAgIHRoaXMucmVzdG9yZU9iamVjdFNuYXBwaW5nU3RhdGUgPSAoKSA9PiBjYW52YXMudG9nZ2xlT2JqZWN0U25hcHBpbmcob2JqZWN0U25hcHBpbmdFbmFibGVkKVxyXG5cclxuICAgICAgaWYgKG9iamVjdFNuYXBwaW5nRW5hYmxlZCkgY2FudmFzLnRvZ2dsZU9iamVjdFNuYXBwaW5nKGZhbHNlKVxyXG4gICAgfSBlbHNlIHRoaXMucmVzdG9yZU9iamVjdFNuYXBwaW5nU3RhdGU/LigpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uTm9kZU1vdmVkKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXHJcbiAgICBpZiAobm9kZURhdGEudHlwZSAhPT0gJ2ZpbGUnIHx8ICFub2RlRGF0YS5wb3J0YWxUb0ZpbGUpIHJldHVyblxyXG5cclxuICAgIHRoaXMub25PcGVuUG9ydGFsTW92ZWQoY2FudmFzLCBub2RlKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbk9wZW5Qb3J0YWxNb3ZlZChjYW52YXM6IENhbnZhcywgcG9ydGFsTm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgbGV0IHBvcnRhbE5vZGVEYXRhID0gcG9ydGFsTm9kZS5nZXREYXRhKClcclxuXHJcbiAgICAvLyBVcGRhdGUgbmVzdGVkIG5vZGVzIHBvc2l0aW9uc1xyXG4gICAgY29uc3QgbmVzdGVkTm9kZXNJZE1hcCA9IHBvcnRhbE5vZGUuZ2V0RGF0YSgpLnBvcnRhbElkTWFwcz8ubm9kZUlkTWFwXHJcbiAgICBpZiAoIW5lc3RlZE5vZGVzSWRNYXApIHJldHVyblxyXG5cclxuICAgIGNvbnN0IG5lc3RlZE5vZGVzID0gT2JqZWN0LmtleXMobmVzdGVkTm9kZXNJZE1hcCkubWFwKHJlZk5vZGVJZCA9PiBjYW52YXMubm9kZXMuZ2V0KHJlZk5vZGVJZCkpXHJcbiAgICAgIC5maWx0ZXIobm9kZSA9PiBub2RlICE9PSB1bmRlZmluZWQpIGFzIENhbnZhc05vZGVbXVxyXG4gICAgY29uc3Qgc291cmNlQkJveCA9IENhbnZhc0hlbHBlci5nZXRCQm94KG5lc3RlZE5vZGVzKVxyXG5cclxuICAgIC8vIFJlc2l6ZSBwb3J0YWxcclxuICAgIGNvbnN0IHRhcmdldFNpemUgPSB0aGlzLmdldFBvcnRhbFNpemUoc291cmNlQkJveClcclxuICAgIGlmIChwb3J0YWxOb2RlRGF0YS53aWR0aCAhPT0gdGFyZ2V0U2l6ZS53aWR0aCB8fCBwb3J0YWxOb2RlRGF0YS5oZWlnaHQgIT09IHRhcmdldFNpemUuaGVpZ2h0KSB7XHJcbiAgICAgIHBvcnRhbE5vZGUuc2V0RGF0YSh7XHJcbiAgICAgICAgLi4ucG9ydGFsTm9kZURhdGEsXHJcbiAgICAgICAgd2lkdGg6IHRhcmdldFNpemUud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0OiB0YXJnZXRTaXplLmhlaWdodFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gTW92ZSBuZXN0ZWQgbm9kZXNcclxuICAgIGNvbnN0IHBvcnRhbE9mZnNldCA9IHtcclxuICAgICAgeDogcG9ydGFsTm9kZURhdGEueCAtIHNvdXJjZUJCb3gubWluWCArIFBPUlRBTF9QQURESU5HLFxyXG4gICAgICB5OiBwb3J0YWxOb2RlRGF0YS55IC0gc291cmNlQkJveC5taW5ZICsgUE9SVEFMX1BBRERJTkdcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGNvbnN0IG5lc3RlZE5vZGUgb2YgbmVzdGVkTm9kZXMpIHtcclxuICAgICAgY29uc3QgbmVzdGVkTm9kZURhdGEgPSBuZXN0ZWROb2RlLmdldERhdGEoKVxyXG5cclxuICAgICAgbmVzdGVkTm9kZS5zZXREYXRhKHtcclxuICAgICAgICAuLi5uZXN0ZWROb2RlRGF0YSxcclxuICAgICAgICB4OiBuZXN0ZWROb2RlRGF0YS54ICsgcG9ydGFsT2Zmc2V0LngsXHJcbiAgICAgICAgeTogbmVzdGVkTm9kZURhdGEueSArIHBvcnRhbE9mZnNldC55XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbW92ZVBvcnRhbENhbnZhc0RhdGEoX2NhbnZhczogQ2FudmFzLCBkYXRhOiBDYW52YXNEYXRhKSB7XHJcbiAgICBkYXRhLmVkZ2VzID0gZGF0YS5lZGdlcy5maWx0ZXIoZWRnZURhdGEgPT4ge1xyXG4gICAgICBpZiAoZWRnZURhdGEucG9ydGFsSWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlXHJcblxyXG4gICAgICBjb25zdCBmcm9tTm9kZURhdGEgPSBkYXRhLm5vZGVzLmZpbmQobm9kZURhdGEgPT4gbm9kZURhdGEuaWQgPT09IGVkZ2VEYXRhLmZyb21Ob2RlKVxyXG4gICAgICBjb25zdCB0b05vZGVEYXRhID0gZGF0YS5ub2Rlcy5maW5kKG5vZGVEYXRhID0+IG5vZGVEYXRhLmlkID09PSBlZGdlRGF0YS50b05vZGUpXHJcbiAgICAgIGlmICghZnJvbU5vZGVEYXRhIHx8ICF0b05vZGVEYXRhKSByZXR1cm4gdHJ1ZVxyXG5cclxuICAgICAgaWYgKGZyb21Ob2RlRGF0YS5wb3J0YWxJZCA9PT0gdW5kZWZpbmVkICYmIHRvTm9kZURhdGEucG9ydGFsSWQgPT09IHVuZGVmaW5lZCkgeyAvLyBOb3JtYWwgZWRnZVxyXG4gICAgICAgIHJldHVybiB0cnVlIFxyXG4gICAgICB9IGVsc2UgaWYgKGZyb21Ob2RlRGF0YS5wb3J0YWxJZCAhPT0gdW5kZWZpbmVkICYmIHRvTm9kZURhdGEucG9ydGFsSWQgIT09IHVuZGVmaW5lZCkgeyAvLyBDb21wbGV0ZWx5IGZyb20gcG9ydGFsXHJcbiAgICAgICAgLy8gU2F2ZSB0byBwb3J0YWwgZmlsZT8gT1IgZGVsZXRlIVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9IGVsc2UgeyAvLyBQYXJ0aWFsbHkgZnJvbSBwb3J0YWxcclxuICAgICAgICBjb25zdCBmcm9tUG9ydGFsTm9kZURhdGEgPSBmcm9tTm9kZURhdGEucG9ydGFsSWQgIT09IHVuZGVmaW5lZCA/IGZyb21Ob2RlRGF0YSA6IHRvTm9kZURhdGFcclxuICAgICAgICBjb25zdCBub3RGcm9tUG9ydGFsTm9kZURhdGEgPSBmcm9tTm9kZURhdGEucG9ydGFsSWQgIT09IHVuZGVmaW5lZCA/IHRvTm9kZURhdGEgOiBmcm9tTm9kZURhdGFcclxuXHJcbiAgICAgICAgbm90RnJvbVBvcnRhbE5vZGVEYXRhLmVkZ2VzVG9Ob2RlRnJvbVBvcnRhbCA9IG5vdEZyb21Qb3J0YWxOb2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWwgPz8ge31cclxuICAgICAgICBub3RGcm9tUG9ydGFsTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsW2Zyb21Qb3J0YWxOb2RlRGF0YS5wb3J0YWxJZCFdID0gbm90RnJvbVBvcnRhbE5vZGVEYXRhLmVkZ2VzVG9Ob2RlRnJvbVBvcnRhbFtmcm9tUG9ydGFsTm9kZURhdGEucG9ydGFsSWQhXSA/PyBbXVxyXG4gICAgICAgIG5vdEZyb21Qb3J0YWxOb2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWxbZnJvbVBvcnRhbE5vZGVEYXRhLnBvcnRhbElkIV0ucHVzaChlZGdlRGF0YSlcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgZGF0YS5ub2RlcyA9IGRhdGEubm9kZXMuZmlsdGVyKG5vZGVEYXRhID0+IG5vZGVEYXRhLnBvcnRhbElkID09PSB1bmRlZmluZWQpXHJcblxyXG4gICAgZm9yIChjb25zdCBwb3J0YWxOb2RlRGF0YSBvZiBkYXRhLm5vZGVzKSB7XHJcbiAgICAgIGlmIChwb3J0YWxOb2RlRGF0YS50eXBlICE9PSAnZmlsZScpIGNvbnRpbnVlXHJcblxyXG4gICAgICAvLyBSZXNldCBwb3J0YWwgc2l6ZVxyXG4gICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnbWFpbnRhaW5DbG9zZWRQb3J0YWxTaXplJykpIHtcclxuICAgICAgICBwb3J0YWxOb2RlRGF0YS53aWR0aCA9IHBvcnRhbE5vZGVEYXRhLmNsb3NlZFBvcnRhbFdpZHRoID8/IHBvcnRhbE5vZGVEYXRhLndpZHRoXHJcbiAgICAgICAgcG9ydGFsTm9kZURhdGEuaGVpZ2h0ID0gcG9ydGFsTm9kZURhdGEuY2xvc2VkUG9ydGFsSGVpZ2h0ID8/IHBvcnRhbE5vZGVEYXRhLmhlaWdodFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgcmVmZXJlbmNlcyB0byBwb3J0YWwgbm9kZXMgYW5kIGVkZ2VzXHJcbiAgICAgIGRlbGV0ZSBwb3J0YWxOb2RlRGF0YS5jbG9zZWRQb3J0YWxXaWR0aFxyXG4gICAgICBkZWxldGUgcG9ydGFsTm9kZURhdGEuY2xvc2VkUG9ydGFsSGVpZ2h0XHJcbiAgICAgIGRlbGV0ZSBwb3J0YWxOb2RlRGF0YS5wb3J0YWxJZE1hcHNcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgZ2V0Q2FudmFzRGF0YVdpdGhQb3J0YWxzKGNhbnZhczogQ2FudmFzLCBkYXRhUmVmOiBDYW52YXNEYXRhKTogUHJvbWlzZTxDYW52YXNEYXRhPiB7XHJcbiAgICAvLyBEZWVwIGNvcHkgZGF0YSAtIElmIGFub3RoZXIgZmlsZSBnZXRzIG9wZW5lZCBpbiB0aGUgc2FtZSB2aWV3LCB0aGUgZGF0YSB3b3VsZCBnZXQgb3ZlcndyaXR0ZW5cclxuICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGFSZWYpKSBhcyBDYW52YXNEYXRhXHJcblxyXG4gICAgLy8gT3BlbiBwb3J0YWxzXHJcbiAgICB0aGlzLm5lc3RlZFBvcnRhbHMgPSB7fVxyXG4gICAgY29uc3QgYWRkZWREYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwoZGF0YS5ub2Rlcy5tYXAobm9kZURhdGEgPT4gdGhpcy50cnlPcGVuUG9ydGFsKGNhbnZhcywgbm9kZURhdGEpKSlcclxuICAgIGZvciAoY29uc3QgbmV3RGF0YSBvZiBhZGRlZERhdGEpIHtcclxuICAgICAgZGF0YS5ub2Rlcy5wdXNoKC4uLm5ld0RhdGEubm9kZXMpXHJcbiAgICAgIGRhdGEuZWRnZXMucHVzaCguLi5uZXdEYXRhLmVkZ2VzKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBjcm9zcy1wb3J0YWwgZWRnZXNcclxuICAgIGZvciAoY29uc3Qgb3JpZ2luTm9kZURhdGEgb2YgZGF0YS5ub2Rlcykge1xyXG4gICAgICBpZiAob3JpZ2luTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsID09PSB1bmRlZmluZWQpIGNvbnRpbnVlXHJcblxyXG4gICAgICBmb3IgKGNvbnN0IFtyZWxhdGl2ZVBvcnRhbElkLCBlZGdlc10gb2YgT2JqZWN0LmVudHJpZXMob3JpZ2luTm9kZURhdGEuZWRnZXNUb05vZGVGcm9tUG9ydGFsKSkge1xyXG4gICAgICAgIGNvbnN0IGlkUHJlZml4ID0gb3JpZ2luTm9kZURhdGEucG9ydGFsSWQgPyBgJHtvcmlnaW5Ob2RlRGF0YS5wb3J0YWxJZH0tYCA6ICcnXHJcblxyXG4gICAgICAgIGNvbnN0IHBvcnRhbElkID0gYCR7aWRQcmVmaXh9JHtyZWxhdGl2ZVBvcnRhbElkfWBcclxuICAgICAgICBjb25zdCB0YXJnZXRQb3J0YWxEYXRhID0gZGF0YS5ub2Rlcy5maW5kKG5vZGVEYXRhID0+IG5vZGVEYXRhLmlkID09PSBwb3J0YWxJZClcclxuXHJcbiAgICAgICAgLy8gSWYgdGFyZ2V0IHBvcnRhbCBpcyBkZWxldGVkLCByZW1vdmUgZWRnZXNcclxuICAgICAgICBpZiAoIXRhcmdldFBvcnRhbERhdGEpIHtcclxuICAgICAgICAgIGRlbGV0ZSBvcmlnaW5Ob2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWwhW3BvcnRhbElkXVxyXG4gICAgICAgICAgY29udGludWVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIElmIHBvcnRhbCBpcyBvcGVuLCBhZGQgZWRnZXNcclxuICAgICAgICBpZiAodGFyZ2V0UG9ydGFsRGF0YS5wb3J0YWxUb0ZpbGUpIHtcclxuICAgICAgICAgIC8vIFB1c2ggZWRnZXMgd2l0aCB1cGRhdGVkIGZyb20gYW5kIHRvIGlkc1xyXG4gICAgICAgICAgZGF0YS5lZGdlcy5wdXNoKC4uLmVkZ2VzLm1hcChlZGdlID0+ICh7XHJcbiAgICAgICAgICAgIC4uLmVkZ2UsXHJcbiAgICAgICAgICAgIHBvcnRhbElkOiBvcmlnaW5Ob2RlRGF0YS5wb3J0YWxJZCxcclxuICAgICAgICAgICAgZnJvbU5vZGU6IGAke2lkUHJlZml4fSR7ZWRnZS5mcm9tTm9kZX1gLFxyXG4gICAgICAgICAgICB0b05vZGU6IGAke2lkUHJlZml4fSR7ZWRnZS50b05vZGV9YFxyXG4gICAgICAgICAgfSkpKVxyXG5cclxuICAgICAgICAgIGRlbGV0ZSBvcmlnaW5Ob2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWwhW3BvcnRhbElkXVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnc2hvd0VkZ2VzSW50b0Rpc2FibGVkUG9ydGFscycpKSB7XHJcbiAgICAgICAgICAvLyBJZiBwb3J0YWwgaXMgY2xvc2VkLCBhZGQgYWx0ZXJuYXRpdmUgZWRnZXMgZGlyZWN0bHkgdG8gcG9ydGFsXHJcbiAgICAgICAgICAvLyBCdXQgZG9uJ3QgZGVsZXRlIHRoZSBlZGdlc1xyXG5cclxuICAgICAgICAgIGRhdGEuZWRnZXMucHVzaCguLi5lZGdlcy5tYXAoZWRnZSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFdoaWNoIGVuZCBpcyBmcm9tIHBvcnRhbD9cclxuICAgICAgICAgICAgY29uc3QgZnJvbU5vZGVJZCA9IGAke2lkUHJlZml4fSR7ZWRnZS5mcm9tTm9kZX1gXHJcbiAgICAgICAgICAgIGNvbnN0IGZyb21Ob2RlID0gZGF0YS5ub2Rlcy5maW5kKG5vZGVEYXRhID0+IG5vZGVEYXRhLmlkID09PSBmcm9tTm9kZUlkKVxyXG4gICAgICAgICAgICBjb25zdCB0b05vZGVJZCA9IGAke2lkUHJlZml4fSR7ZWRnZS50b05vZGV9YFxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAuLi5lZGdlLFxyXG4gICAgICAgICAgICAgIGZyb21Ob2RlOiBmcm9tTm9kZSA/IGZyb21Ob2RlSWQgOiBwb3J0YWxJZCxcclxuICAgICAgICAgICAgICB0b05vZGU6IGZyb21Ob2RlID8gcG9ydGFsSWQgOiB0b05vZGVJZCxcclxuICAgICAgICAgICAgICBwb3J0YWxJZDogcG9ydGFsSWQgLy8gTWFyayBpdCBhcyB0ZW1wb3JhcnlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyBtb3JlIGVkZ2VzLCBkZWxldGUgdGhlIHByb3BlcnR5XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhvcmlnaW5Ob2RlRGF0YS5lZGdlc1RvTm9kZUZyb21Qb3J0YWwhKS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgZGVsZXRlIG9yaWdpbk5vZGVEYXRhLmVkZ2VzVG9Ob2RlRnJvbVBvcnRhbFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG5lc3RlZFBvcnRhbHM6IHsgW3BvcnRhbElkOiBzdHJpbmddOiBzdHJpbmdbXSB9ID0ge31cclxuICBwcml2YXRlIGFzeW5jIHRyeU9wZW5Qb3J0YWwoY2FudmFzOiBDYW52YXMsIHBvcnRhbE5vZGVEYXRhOiBDYW52YXNOb2RlRGF0YSwgcGFyZW50UG9ydGFsSWQ/OiBzdHJpbmcpOiBQcm9taXNlPENhbnZhc0RhdGE+IHtcclxuICAgIGNvbnN0IGFkZGVkRGF0YTogQ2FudmFzRGF0YSA9IHsgbm9kZXM6IFtdLCBlZGdlczogW10gfVxyXG4gICAgaWYgKHBvcnRhbE5vZGVEYXRhLnR5cGUgIT09ICdmaWxlJyB8fCAhcG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlKSByZXR1cm4gYWRkZWREYXRhXHJcblxyXG4gICAgLy8gVXBkYXRlIHBvcnRhbCBmaWxlXHJcbiAgICBwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUgPSBwb3J0YWxOb2RlRGF0YS5maWxlXHJcblxyXG4gICAgLy8gRml4IGRpcmVjdCByZWN1cnNpb25cclxuICAgIGlmIChwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUgPT09IGNhbnZhcy52aWV3LmZpbGUucGF0aCkge1xyXG4gICAgICBwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUgPSB1bmRlZmluZWRcclxuICAgICAgcmV0dXJuIGFkZGVkRGF0YVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpeCBpbmRpcmVjdCByZWN1cnNpb25cclxuICAgIGlmIChwYXJlbnRQb3J0YWxJZCkge1xyXG4gICAgICBpZiAodGhpcy5uZXN0ZWRQb3J0YWxzW3BhcmVudFBvcnRhbElkXT8uaW5jbHVkZXMocG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlISkpIHtcclxuICAgICAgICBwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUgPSB1bmRlZmluZWRcclxuICAgICAgICByZXR1cm4gYWRkZWREYXRhXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRoaXMubmVzdGVkUG9ydGFsc1twYXJlbnRQb3J0YWxJZF0gPSB0aGlzLm5lc3RlZFBvcnRhbHNbcGFyZW50UG9ydGFsSWRdID8/IFtdXHJcbiAgICAgIHRoaXMubmVzdGVkUG9ydGFsc1twYXJlbnRQb3J0YWxJZF0ucHVzaChwb3J0YWxOb2RlRGF0YS5wb3J0YWxUb0ZpbGUhKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBvcnRhbEZpbGUgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBvcnRhbE5vZGVEYXRhLmZpbGUhKVxyXG4gICAgaWYgKCEocG9ydGFsRmlsZSBpbnN0YW5jZW9mIFRGaWxlKSB8fCBwb3J0YWxGaWxlLmV4dGVuc2lvbiAhPT0gJ2NhbnZhcycpIHtcclxuICAgICAgcG9ydGFsTm9kZURhdGEucG9ydGFsVG9GaWxlID0gdW5kZWZpbmVkXHJcbiAgICAgIHJldHVybiBhZGRlZERhdGFcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwb3J0YWxGaWxlRGF0YVN0cmluZyA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKHBvcnRhbEZpbGUpXHJcbiAgICBpZiAocG9ydGFsRmlsZURhdGFTdHJpbmcgPT09ICcnKSByZXR1cm4gYWRkZWREYXRhXHJcblxyXG4gICAgY29uc3QgcG9ydGFsRmlsZURhdGEgPSBKU09OLnBhcnNlKHBvcnRhbEZpbGVEYXRhU3RyaW5nKSBhcyBDYW52YXNEYXRhXHJcbiAgICBpZiAoIXBvcnRhbEZpbGVEYXRhKSB7XHJcbiAgICAgIHBvcnRhbE5vZGVEYXRhLnBvcnRhbFRvRmlsZSA9IHVuZGVmaW5lZFxyXG4gICAgICByZXR1cm4gYWRkZWREYXRhXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHBvcnRhbCBub2RlcyBhbmQgZWRnZXMgaWQgbWFwXHJcbiAgICBwb3J0YWxOb2RlRGF0YS5wb3J0YWxJZE1hcHMgPSB7XHJcbiAgICAgIG5vZGVJZE1hcDoge30sXHJcbiAgICAgIGVkZ2VJZE1hcDoge31cclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgbmVzdGVkIG5vZGUgb2Zmc2V0XHJcbiAgICBjb25zdCBzb3VyY2VNaW5Db29yZGluYXRlcyA9IENhbnZhc0hlbHBlci5nZXRCQm94KHBvcnRhbEZpbGVEYXRhLm5vZGVzKVxyXG4gICAgY29uc3QgcG9ydGFsT2Zmc2V0ID0ge1xyXG4gICAgICB4OiBwb3J0YWxOb2RlRGF0YS54IC0gc291cmNlTWluQ29vcmRpbmF0ZXMubWluWCArIFBPUlRBTF9QQURESU5HLFxyXG4gICAgICB5OiBwb3J0YWxOb2RlRGF0YS55IC0gc291cmNlTWluQ29vcmRpbmF0ZXMubWluWSArIFBPUlRBTF9QQURESU5HXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIG5vZGVzIGZyb20gcG9ydGFsXHJcbiAgICBmb3IgKGNvbnN0IG5vZGVEYXRhRnJvbVBvcnRhbCBvZiBwb3J0YWxGaWxlRGF0YS5ub2Rlcykge1xyXG4gICAgICBjb25zdCByZWZOb2RlSWQgPSBgJHtwb3J0YWxOb2RlRGF0YS5pZH0tJHtub2RlRGF0YUZyb21Qb3J0YWwuaWR9YFxyXG4gICAgICBwb3J0YWxOb2RlRGF0YS5wb3J0YWxJZE1hcHMubm9kZUlkTWFwW3JlZk5vZGVJZF0gPSBub2RlRGF0YUZyb21Qb3J0YWwuaWRcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGFkZGVkTm9kZSA9IHtcclxuICAgICAgICAuLi5ub2RlRGF0YUZyb21Qb3J0YWwsXHJcbiAgICAgICAgaWQ6IHJlZk5vZGVJZCxcclxuICAgICAgICB4OiBub2RlRGF0YUZyb21Qb3J0YWwueCArIHBvcnRhbE9mZnNldC54LFxyXG4gICAgICAgIHk6IG5vZGVEYXRhRnJvbVBvcnRhbC55ICsgcG9ydGFsT2Zmc2V0LnksXHJcbiAgICAgICAgcG9ydGFsSWQ6IHBvcnRhbE5vZGVEYXRhLmlkXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFkZGVkRGF0YS5ub2Rlcy5wdXNoKGFkZGVkTm9kZSlcclxuXHJcbiAgICAgIGNvbnN0IG5lc3RlZE5vZGVzID0gYXdhaXQgdGhpcy50cnlPcGVuUG9ydGFsKGNhbnZhcywgYWRkZWROb2RlLCBwYXJlbnRQb3J0YWxJZCA/PyBwb3J0YWxOb2RlRGF0YS5pZClcclxuICAgICAgYWRkZWREYXRhLm5vZGVzLnB1c2goLi4ubmVzdGVkTm9kZXMubm9kZXMpXHJcbiAgICAgIGFkZGVkRGF0YS5lZGdlcy5wdXNoKC4uLm5lc3RlZE5vZGVzLmVkZ2VzKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFkZCBlZGdlcyBmcm9tIHBvcnRhbFxyXG4gICAgZm9yIChjb25zdCBlZGdlRGF0YUZyb21Qb3J0YWwgb2YgcG9ydGFsRmlsZURhdGEuZWRnZXMpIHtcclxuICAgICAgY29uc3QgcmVmRWRnZUlkID0gYCR7cG9ydGFsTm9kZURhdGEuaWR9LSR7ZWRnZURhdGFGcm9tUG9ydGFsLmlkfWBcclxuICAgICAgcG9ydGFsTm9kZURhdGEucG9ydGFsSWRNYXBzLmVkZ2VJZE1hcFtyZWZFZGdlSWRdID0gZWRnZURhdGFGcm9tUG9ydGFsLmlkXHJcblxyXG4gICAgICBjb25zdCBmcm9tUmVmTm9kZSA9IE9iamVjdC5lbnRyaWVzKHBvcnRhbE5vZGVEYXRhLnBvcnRhbElkTWFwcy5ub2RlSWRNYXApXHJcbiAgICAgICAgLmZpbmQoKFtfcmVmTm9kZUlkLCBub2RlSWRdKSA9PiBub2RlSWQgPT09IGVkZ2VEYXRhRnJvbVBvcnRhbC5mcm9tTm9kZSk/LlswXVxyXG4gICAgICBjb25zdCB0b1JlZk5vZGUgPSBPYmplY3QuZW50cmllcyhwb3J0YWxOb2RlRGF0YS5wb3J0YWxJZE1hcHMubm9kZUlkTWFwKVxyXG4gICAgICAgIC5maW5kKChbX3JlZk5vZGVJZCwgbm9kZUlkXSkgPT4gbm9kZUlkID09PSBlZGdlRGF0YUZyb21Qb3J0YWwudG9Ob2RlKT8uWzBdXHJcblxyXG4gICAgICBpZiAoIWZyb21SZWZOb2RlIHx8ICF0b1JlZk5vZGUpIGNvbnRpbnVlXHJcblxyXG4gICAgICBhZGRlZERhdGEuZWRnZXMucHVzaCh7XHJcbiAgICAgICAgLi4uZWRnZURhdGFGcm9tUG9ydGFsLFxyXG4gICAgICAgIGlkOiByZWZFZGdlSWQsXHJcbiAgICAgICAgZnJvbU5vZGU6IGZyb21SZWZOb2RlLFxyXG4gICAgICAgIHRvTm9kZTogdG9SZWZOb2RlLFxyXG4gICAgICAgIHBvcnRhbElkOiBwb3J0YWxOb2RlRGF0YS5pZFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc2l6ZSBwb3J0YWxcclxuICAgIGNvbnN0IG5lc3RlZE5vZGVzQkJveCA9IENhbnZhc0hlbHBlci5nZXRCQm94KGFkZGVkRGF0YS5ub2RlcylcclxuICAgIGNvbnN0IHRhcmdldFNpemUgPSB0aGlzLmdldFBvcnRhbFNpemUobmVzdGVkTm9kZXNCQm94KVxyXG5cclxuICAgIC8vIFNhdmUgY2xvc2VkIHBvcnRhbCBzaXplXHJcbiAgICBwb3J0YWxOb2RlRGF0YS5jbG9zZWRQb3J0YWxXaWR0aCA9IHBvcnRhbE5vZGVEYXRhLndpZHRoXHJcbiAgICBwb3J0YWxOb2RlRGF0YS5jbG9zZWRQb3J0YWxIZWlnaHQgPSBwb3J0YWxOb2RlRGF0YS5oZWlnaHRcclxuXHJcbiAgICAvLyBTZXQgb3BlbiBwb3J0YWwgc2l6ZVxyXG4gICAgcG9ydGFsTm9kZURhdGEud2lkdGggPSB0YXJnZXRTaXplLndpZHRoXHJcbiAgICBwb3J0YWxOb2RlRGF0YS5oZWlnaHQgPSB0YXJnZXRTaXplLmhlaWdodFxyXG5cclxuICAgIHJldHVybiBhZGRlZERhdGFcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0UG9ydGFsU2l6ZShzb3VyY2VCQm94OiBCQm94KSB7XHJcbiAgICBjb25zdCBzb3VyY2VTaXplID0ge1xyXG4gICAgICB3aWR0aDogc291cmNlQkJveC5tYXhYIC0gc291cmNlQkJveC5taW5YLFxyXG4gICAgICBoZWlnaHQ6IHNvdXJjZUJCb3gubWF4WSAtIHNvdXJjZUJCb3gubWluWVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRhcmdldFNpemUgPSB7XHJcbiAgICAgIHdpZHRoOiBNYXRoLm1heChzb3VyY2VTaXplLndpZHRoICsgUE9SVEFMX1BBRERJTkcgKiAyLCBNSU5fT1BFTl9QT1JUQUxfU0laRS53aWR0aCksXHJcbiAgICAgIGhlaWdodDogTWF0aC5tYXgoc291cmNlU2l6ZS5oZWlnaHQgKyBQT1JUQUxfUEFERElORyAqIDIsIE1JTl9PUEVOX1BPUlRBTF9TSVpFLmhlaWdodClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0YXJnZXRTaXplLndpZHRoKSkgdGFyZ2V0U2l6ZS53aWR0aCA9IE1JTl9PUEVOX1BPUlRBTF9TSVpFLndpZHRoXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0YXJnZXRTaXplLmhlaWdodCkpIHRhcmdldFNpemUuaGVpZ2h0ID0gTUlOX09QRU5fUE9SVEFMX1NJWkUuaGVpZ2h0XHJcblxyXG4gICAgcmV0dXJuIHRhcmdldFNpemVcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzLCBDYW52YXNFZGdlLCBDYW52YXNOb2RlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQsIFBsdWdpbkV2ZW50IH0gZnJvbSBcInNyYy9ldmVudHNcIlxyXG5pbXBvcnQgeyBGaWxlU2VsZWN0TW9kYWwgfSBmcm9tIFwic3JjL3V0aWxzL21vZGFsLWhlbHBlclwiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvblwiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJldHRlckRlZmF1bHRTZXR0aW5nc0NhbnZhc0V4dGVuc2lvbiAgZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5tb2RpZnlDYW52YXNTZXR0aW5ncyh0aGlzLnBsdWdpbi5nZXRDdXJyZW50Q2FudmFzKCkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBQbHVnaW5FdmVudC5TZXR0aW5nc0NoYW5nZWQsXHJcbiAgICAgICgpID0+IHRoaXMubW9kaWZ5Q2FudmFzU2V0dGluZ3ModGhpcy5wbHVnaW4uZ2V0Q3VycmVudENhbnZhcygpKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5tb2RpZnlDYW52YXNTZXR0aW5ncyhjYW52YXMpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuRG91YmxlQ2xpY2ssXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgZXZlbnQ6IE1vdXNlRXZlbnQsIHByZXZlbnREZWZhdWx0OiB7IHZhbHVlOiBib29sZWFuIH0pID0+IHRoaXMub25Eb3VibGVDbGljayhjYW52YXMsIGV2ZW50LCBwcmV2ZW50RGVmYXVsdClcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQ3JlYXRlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbmZvcmNlTm9kZUdyaWRBbGlnbm1lbnQoY2FudmFzLCBub2RlKVxyXG4gICAgICAgIHRoaXMuYXBwbHlEZWZhdWx0Tm9kZVN0eWxlcyhjYW52YXMsIG5vZGUpXHJcbiAgICAgIH1cclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5FZGdlQ3JlYXRlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBlZGdlOiBDYW52YXNFZGdlKSA9PiB0aGlzLmFwcGx5RGVmYXVsdEVkZ2VTdHlsZXMoY2FudmFzLCBlZGdlKVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbW9kaWZ5Q2FudmFzU2V0dGluZ3MoY2FudmFzOiBDYW52YXMgfCBudWxsKSB7XHJcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXHJcblxyXG4gICAgY2FudmFzLmNvbmZpZy5kZWZhdWx0VGV4dE5vZGVEaW1lbnNpb25zID0ge1xyXG4gICAgICB3aWR0aDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGVmYXVsdFRleHROb2RlV2lkdGgnKSxcclxuICAgICAgaGVpZ2h0OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdkZWZhdWx0VGV4dE5vZGVIZWlnaHQnKVxyXG4gICAgfVxyXG5cclxuICAgIGNhbnZhcy5jb25maWcuZGVmYXVsdEZpbGVOb2RlRGltZW5zaW9ucyA9IHtcclxuICAgICAgd2lkdGg6IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2RlZmF1bHRGaWxlTm9kZVdpZHRoJyksXHJcbiAgICAgIGhlaWdodDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGVmYXVsdEZpbGVOb2RlSGVpZ2h0JylcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMuY29uZmlnLm1pbkNvbnRhaW5lckRpbWVuc2lvbiA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ21pbk5vZGVTaXplJylcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgb25Eb3VibGVDbGljayhjYW52YXM6IENhbnZhcywgZXZlbnQ6IE1vdXNlRXZlbnQsIHByZXZlbnREZWZhdWx0OiB7IHZhbHVlOiBib29sZWFuIH0pIHtcclxuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkIHx8IGV2ZW50LnRhcmdldCAhPT0gY2FudmFzLndyYXBwZXJFbCB8fCBjYW52YXMuaXNEcmFnZ2luZyB8fCBjYW52YXMucmVhZG9ubHkpIHJldHVyblxyXG4gICAgcHJldmVudERlZmF1bHQudmFsdWUgPSB0cnVlXHJcblxyXG4gICAgbGV0IHBvcyA9IGNhbnZhcy5wb3NGcm9tRXZ0KGV2ZW50KVxyXG5cclxuICAgIHN3aXRjaCAodGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnbm9kZVR5cGVPbkRvdWJsZUNsaWNrJykpIHtcclxuICAgICAgY2FzZSAnZmlsZSc6XHJcbiAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IG5ldyBGaWxlU2VsZWN0TW9kYWwodGhpcy5wbHVnaW4uYXBwLCB1bmRlZmluZWQsIHRydWUpLmF3YWl0SW5wdXQoKVxyXG4gICAgICAgIGNhbnZhcy5jcmVhdGVGaWxlTm9kZSh7XHJcbiAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgIHBvc2l0aW9uOiAnY2VudGVyJyxcclxuICAgICAgICAgIGZpbGU6IGZpbGVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBicmVha1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNhbnZhcy5jcmVhdGVUZXh0Tm9kZSh7XHJcbiAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgIHBvc2l0aW9uOiAnY2VudGVyJ1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGVuZm9yY2VOb2RlR3JpZEFsaWdubWVudChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkge1xyXG4gICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdhbGlnbk5ld05vZGVzVG9HcmlkJykpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgIG5vZGUuc2V0RGF0YSh7XHJcbiAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICB4OiBNYXRoLnJvdW5kKG5vZGVEYXRhLnggLyBDYW52YXNIZWxwZXIuR1JJRF9TSVpFKSAqIENhbnZhc0hlbHBlci5HUklEX1NJWkUsXHJcbiAgICAgIHk6IE1hdGgucm91bmQobm9kZURhdGEueSAvIENhbnZhc0hlbHBlci5HUklEX1NJWkUpICogQ2FudmFzSGVscGVyLkdSSURfU0laRVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXBwbHlEZWZhdWx0Tm9kZVN0eWxlcyhfY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpIHtcclxuICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgIGlmIChub2RlRGF0YS50eXBlICE9PSAndGV4dCcpIHJldHVyblxyXG5cclxuICAgIG5vZGUuc2V0RGF0YSh7XHJcbiAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICBzdHlsZUF0dHJpYnV0ZXM6IHtcclxuICAgICAgICAuLi5ub2RlRGF0YS5zdHlsZUF0dHJpYnV0ZXMsXHJcbiAgICAgICAgLi4udGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGVmYXVsdFRleHROb2RlU3R5bGVBdHRyaWJ1dGVzJylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgYXBwbHlEZWZhdWx0RWRnZVN0eWxlcyhjYW52YXM6IENhbnZhcywgZWRnZTogQ2FudmFzRWRnZSkge1xyXG4gICAgY29uc3QgZWRnZURhdGEgPSBlZGdlLmdldERhdGEoKVxyXG5cclxuICAgIGVkZ2Uuc2V0RGF0YSh7XHJcbiAgICAgIC4uLmVkZ2VEYXRhLFxyXG4gICAgICBzdHlsZUF0dHJpYnV0ZXM6IHtcclxuICAgICAgICAuLi5lZGdlRGF0YS5zdHlsZUF0dHJpYnV0ZXMsXHJcbiAgICAgICAgLi4udGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnZGVmYXVsdEVkZ2VTdHlsZUF0dHJpYnV0ZXMnKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIFdhaXQgdW50aWwgdGhlIGNvbm5lY3RpbmcgY2xhc3MgaXMgcmVtb3ZlZCAoZWxzZSwgdGhlIGRpcmVjdGlvbiB3aWxsIGJlIHJlc2V0IG9uIG1vdXNlbW92ZSAob25Db25uZWN0aW9uUG9pbnRlcmRvd24pKVxyXG4gICAgaWYgKGNhbnZhcy5jYW52YXNFbC5oYXNDbGFzcygnaXMtY29ubmVjdGluZycpKSB7XHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xyXG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICAgIGlmICghY2FudmFzLmNhbnZhc0VsLmhhc0NsYXNzKCdpcy1jb25uZWN0aW5nJykpIHJlc29sdmUoKVxyXG4gICAgICAgIH0pLm9ic2VydmUoY2FudmFzLmNhbnZhc0VsLCB7IGF0dHJpYnV0ZXM6IHRydWUsIGF0dHJpYnV0ZUZpbHRlcjogWydjbGFzcyddIH0pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbGluZURpcmVjdGlvbiA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2RlZmF1bHRFZGdlTGluZURpcmVjdGlvbicpXHJcbiAgICBlZGdlLnNldERhdGEoe1xyXG4gICAgICAuLi5lZGdlLmdldERhdGEoKSxcclxuICAgICAgZnJvbUVuZDogbGluZURpcmVjdGlvbiA9PT0gJ2JpZGlyZWN0aW9uYWwnID8gJ2Fycm93JyA6ICdub25lJyxcclxuICAgICAgdG9FbmQ6IGxpbmVEaXJlY3Rpb24gPT09ICdub25kaXJlY3Rpb25hbCcgPyAnbm9uZScgOiAnYXJyb3cnLFxyXG4gICAgfSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgV29ya3NwYWNlV2luZG93IH0gZnJvbSBcIm9ic2lkaWFuXCJcclxuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2V2ZW50c1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvblwiXHJcblxyXG5jb25zdCBERUZBVUxUX0NPTE9SU19DT1VOVCA9IDZcclxuY29uc3QgQ1VTVE9NX0NPTE9SU19NT0RfU1RZTEVTX0lEID0gJ21vZC1jdXN0b20tY29sb3JzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sb3JQYWxldHRlQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBvYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlcnxudWxsID0gbnVsbFxyXG4gIFxyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG4gIFxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgICd3aW5kb3ctb3BlbicsXHJcbiAgICAgIChfd2luOiBXb3Jrc3BhY2VXaW5kb3csIF93aW5kb3c6IFdpbmRvdykgPT4gdGhpcy51cGRhdGVDdXN0b21Db2xvck1vZFN0eWxlQ2xhc3NlcygpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgJ2Nzcy1jaGFuZ2UnLFxyXG4gICAgICAoKSA9PiB0aGlzLnVwZGF0ZUN1c3RvbUNvbG9yTW9kU3R5bGVDbGFzc2VzKClcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy51cGRhdGVDdXN0b21Db2xvck1vZFN0eWxlQ2xhc3NlcygpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Qb3B1cE1lbnVDcmVhdGVkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMucGF0Y2hDb2xvclNlbGVjdGlvbihjYW52YXMpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyKCgpID0+IHRoaXMub2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgdXBkYXRlQ3VzdG9tQ29sb3JNb2RTdHlsZUNsYXNzZXMoKSB7XHJcbiAgICBjb25zdCBjdXN0b21Dc3MgPSB0aGlzLmdldEN1c3RvbUNvbG9ycygpLm1hcCgoY29sb3JJZCkgPT4gYFxyXG4gICAgICAubW9kLWNhbnZhcy1jb2xvci0ke2NvbG9ySWR9IHtcclxuICAgICAgICAtLWNhbnZhcy1jb2xvcjogdmFyKC0tY2FudmFzLWNvbG9yLSR7Y29sb3JJZH0pO1xyXG4gICAgICB9XHJcbiAgICBgKS5qb2luKCcnKVxyXG5cclxuICAgIGZvciAoY29uc3Qgd2luIG9mIHRoaXMucGx1Z2luLndpbmRvd3NNYW5hZ2VyLndpbmRvd3MpIHtcclxuICAgICAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50XHJcbiAgICAgIFxyXG4gICAgICBkb2MuZ2V0RWxlbWVudEJ5SWQoQ1VTVE9NX0NPTE9SU19NT0RfU1RZTEVTX0lEKT8ucmVtb3ZlKClcclxuXHJcbiAgICAgIGNvbnN0IGN1c3RvbUNvbG9yTW9kU3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxyXG4gICAgICBjdXN0b21Db2xvck1vZFN0eWxlLmlkID0gQ1VTVE9NX0NPTE9SU19NT0RfU1RZTEVTX0lEXHJcbiAgICAgIGRvYy5oZWFkLmFwcGVuZENoaWxkKGN1c3RvbUNvbG9yTW9kU3R5bGUpXHJcblxyXG4gICAgICBjdXN0b21Db2xvck1vZFN0eWxlLnRleHRDb250ZW50ID0gY3VzdG9tQ3NzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHBhdGNoQ29sb3JTZWxlY3Rpb24oY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGlmICh0aGlzLm9ic2VydmVyKSB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKVxyXG5cclxuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4ge1xyXG4gICAgICBjb25zdCBjb2xvck1lbnVPcGVuZWQgPSBtdXRhdGlvbnMuc29tZShtdXRhdGlvbiA9PiBcclxuICAgICAgICBPYmplY3QudmFsdWVzKG11dGF0aW9uLmFkZGVkTm9kZXMpLnNvbWUoKG5vZGU6IE5vZGUpID0+IFxyXG4gICAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYW52YXMtc3VibWVudScpICYmIE9iamVjdC52YWx1ZXMobm9kZS5jaGlsZE5vZGVzKS5zb21lKChub2RlOiBOb2RlKSA9PlxyXG4gICAgICAgICAgICBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgbm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhbnZhcy1jb2xvci1waWNrZXItaXRlbScpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICAgIGlmICghY29sb3JNZW51T3BlbmVkKSByZXR1cm5cclxuXHJcbiAgICAgIGNvbnN0IHN1Ym1lbnUgPSBjYW52YXMubWVudS5tZW51RWwucXVlcnlTZWxlY3RvcignLmNhbnZhcy1zdWJtZW51JylcclxuICAgICAgaWYgKCFzdWJtZW51KSByZXR1cm5cclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnROb2RlQ29sb3IgPSBjYW52YXMuZ2V0U2VsZWN0aW9uRGF0YSgpLm5vZGVzLm1hcChub2RlID0+IG5vZGUuY29sb3IpLmxhc3QoKVxyXG4gICAgICBmb3IgKGNvbnN0IGNvbG9ySWQgb2YgdGhpcy5nZXRDdXN0b21Db2xvcnMoKSkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUNvbG9yTWVudUl0ZW0gPSB0aGlzLmNyZWF0ZUNvbG9yTWVudUl0ZW0oY2FudmFzLCBjb2xvcklkKVxyXG4gICAgICAgIGlmIChjdXJyZW50Tm9kZUNvbG9yID09PSBjb2xvcklkKSBjdXN0b21Db2xvck1lbnVJdGVtLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpXHJcbiAgICAgICAgXHJcbiAgICAgICAgc3VibWVudS5pbnNlcnRCZWZvcmUoY3VzdG9tQ29sb3JNZW51SXRlbSwgc3VibWVudS5sYXN0Q2hpbGQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKGNhbnZhcy5tZW51Lm1lbnVFbCwgeyBjaGlsZExpc3Q6IHRydWUgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY3JlYXRlQ29sb3JNZW51SXRlbShjYW52YXM6IENhbnZhcywgY29sb3JJZDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBtZW51SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICBtZW51SXRlbS5jbGFzc0xpc3QuYWRkKCdjYW52YXMtY29sb3ItcGlja2VyLWl0ZW0nKVxyXG4gICAgbWVudUl0ZW0uY2xhc3NMaXN0LmFkZChgbW9kLWNhbnZhcy1jb2xvci0ke2NvbG9ySWR9YClcclxuXHJcbiAgICBtZW51SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgbWVudUl0ZW0uY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJylcclxuXHJcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjYW52YXMuc2VsZWN0aW9uKSB7XHJcbiAgICAgICAgaXRlbS5zZXRDb2xvcihjb2xvcklkKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjYW52YXMucmVxdWVzdFNhdmUoKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gbWVudUl0ZW1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0Q3VzdG9tQ29sb3JzKCk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IGNvbG9yczogc3RyaW5nW10gPSBbXVxyXG5cclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgIGNvbnN0IGNvbG9ySWQgPSAoREVGQVVMVF9DT0xPUlNfQ09VTlQgKyBjb2xvcnMubGVuZ3RoICsgMSkudG9TdHJpbmcoKVxyXG4gICAgICBpZiAoIWdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZShgLS1jYW52YXMtY29sb3ItJHtjb2xvcklkfWApKSBicmVha1xyXG5cclxuICAgICAgY29sb3JzLnB1c2goY29sb3JJZClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29sb3JzXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IHNldEljb24gfSBmcm9tIFwib2JzaWRpYW5cIlxyXG5pbXBvcnQgeyBCQm94LCBDYW52YXMsIENhbnZhc0RhdGEsIENhbnZhc05vZGUsIFNlbGVjdGlvbkRhdGEgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvZXZlbnRzXCJcclxuaW1wb3J0IEJCb3hIZWxwZXIgZnJvbSBcInNyYy91dGlscy9iYm94LWhlbHBlclwiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvblwiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuXHJcbmNvbnN0IENPTExBUFNFX0JVVFRPTl9JRCA9ICdncm91cC1jb2xsYXBzZS1idXR0b24nXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xsYXBzaWJsZUdyb3Vwc0NhbnZhc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ2NvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZUNoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4gdGhpcy5vbk5vZGVDaGFuZ2VkKGNhbnZhcywgbm9kZSlcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlQkJveFJlcXVlc3RlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlLCBiYm94OiBCQm94KSA9PiB0aGlzLm9uTm9kZUJCb3hSZXF1ZXN0ZWQoY2FudmFzLCBub2RlLCBiYm94KVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk9uQ29weSxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBzZWxlY3Rpb25EYXRhOiBTZWxlY3Rpb25EYXRhKSA9PiB0aGlzLm9uQ29weShjYW52YXMsIHNlbGVjdGlvbkRhdGEpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuRGF0YVJlcXVlc3RlZCxcclxuICAgICAgKF9jYW52YXM6IENhbnZhcywgZGF0YTogQ2FudmFzRGF0YSkgPT4gdGhpcy5leHBhbmRDb2xsYXBzZWROb2RlcyhkYXRhKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkxvYWREYXRhLFxyXG4gICAgICAoX2NhbnZhczogQ2FudmFzLCBkYXRhOiBDYW52YXNEYXRhLCBfc2V0RGF0YTogKGRhdGE6IENhbnZhc0RhdGEpID0+IHZvaWQpID0+IHRoaXMuY29sbGFwc2VOb2RlcyhkYXRhKVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Ob2RlQ2hhbmdlZChjYW52YXM6IENhbnZhcywgZ3JvdXBOb2RlOiBDYW52YXNOb2RlKSB7XHJcbiAgICBjb25zdCBncm91cE5vZGVEYXRhID0gZ3JvdXBOb2RlLmdldERhdGEoKVxyXG4gICAgaWYgKGdyb3VwTm9kZURhdGEudHlwZSAhPT0gJ2dyb3VwJykgcmV0dXJuXHJcblxyXG4gICAgLy8gUmVtb3ZlIHRoZSBjb2xsYXBzZS9leHBhbmQgYnV0dG9uXHJcbiAgICBncm91cE5vZGUubm9kZUVsPy5xdWVyeVNlbGVjdG9yQWxsKGAjJHtDT0xMQVBTRV9CVVRUT05fSUR9YCkuZm9yRWFjaCgoZWwpID0+IGVsLnJlbW92ZSgpKVxyXG5cclxuICAgIC8vIEFkZCBjb2xsYXBzZS9leHBhbmQgYnV0dG9uIG5leHQgdG8gdGhlIGxhYmVsXHJcbiAgICBjb25zdCBjb2xsYXBzZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxyXG4gICAgY29sbGFwc2VCdXR0b24uaWQgPSBDT0xMQVBTRV9CVVRUT05fSURcclxuICAgIHNldEljb24oY29sbGFwc2VCdXR0b24sIGdyb3VwTm9kZURhdGEuaXNDb2xsYXBzZWQgPyAncGx1cy1jaXJjbGUnIDogJ21pbnVzLWNpcmNsZScpXHJcblxyXG4gICAgY29sbGFwc2VCdXR0b24ub25jbGljayA9ICgpID0+IHsgXHJcbiAgICAgIHRoaXMuc2V0Q29sbGFwc2VkKGNhbnZhcywgZ3JvdXBOb2RlLCBncm91cE5vZGUuZ2V0RGF0YSgpLmlzQ29sbGFwc2VkID8gdW5kZWZpbmVkIDogdHJ1ZSlcclxuICAgICAgY2FudmFzLm1hcmtNb3ZlZChncm91cE5vZGUpXHJcbiAgICB9XHJcblxyXG4gICAgZ3JvdXBOb2RlLmxhYmVsRWw/Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBjb2xsYXBzZUJ1dHRvbilcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25Db3B5KF9jYW52YXM6IENhbnZhcywgc2VsZWN0aW9uRGF0YTogU2VsZWN0aW9uRGF0YSkge1xyXG4gICAgZm9yIChjb25zdCBjb2xsYXBzZWRHcm91cERhdGEgb2Ygc2VsZWN0aW9uRGF0YS5ub2Rlcykge1xyXG4gICAgICBpZiAoY29sbGFwc2VkR3JvdXBEYXRhLnR5cGUgIT09ICdncm91cCcgfHwgIWNvbGxhcHNlZEdyb3VwRGF0YS5pc0NvbGxhcHNlZCB8fCAhY29sbGFwc2VkR3JvdXBEYXRhLmNvbGxhcHNlZERhdGEpIGNvbnRpbnVlXHJcblxyXG4gICAgICBzZWxlY3Rpb25EYXRhLm5vZGVzLnB1c2goLi4uY29sbGFwc2VkR3JvdXBEYXRhLmNvbGxhcHNlZERhdGEubm9kZXMubWFwKG5vZGVEYXRhID0+ICh7IFxyXG4gICAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICAgIC8vIFJlc3RvcmUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBub2RlIHRvIHRoZSBncm91cFxyXG4gICAgICAgIHg6IG5vZGVEYXRhLnggKyBjb2xsYXBzZWRHcm91cERhdGEueCxcclxuICAgICAgICB5OiBub2RlRGF0YS55ICsgY29sbGFwc2VkR3JvdXBEYXRhLnlcclxuICAgICAgfSkpKVxyXG4gICAgICBzZWxlY3Rpb25EYXRhLmVkZ2VzLnB1c2goLi4uY29sbGFwc2VkR3JvdXBEYXRhLmNvbGxhcHNlZERhdGEuZWRnZXMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldENvbGxhcHNlZChjYW52YXM6IENhbnZhcywgZ3JvdXBOb2RlOiBDYW52YXNOb2RlLCBjb2xsYXBzZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQpIHtcclxuICAgIGdyb3VwTm9kZS5zZXREYXRhKHsgLi4uZ3JvdXBOb2RlLmdldERhdGEoKSwgaXNDb2xsYXBzZWQ6IGNvbGxhcHNlZCB9KVxyXG4gICAgY2FudmFzLnNldERhdGEoY2FudmFzLmdldERhdGEoKSlcclxuXHJcbiAgICBjYW52YXMuaGlzdG9yeS5jdXJyZW50LS1cclxuICAgIGNhbnZhcy5wdXNoSGlzdG9yeShjYW52YXMuZ2V0RGF0YSgpKVxyXG4gIH1cclxuXHJcbiAgb25Ob2RlQkJveFJlcXVlc3RlZChfY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUsIGJib3g6IEJCb3gpIHtcclxuICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgIGlmIChub2RlRGF0YS50eXBlICE9PSAnZ3JvdXAnIHx8ICFub2RlRGF0YS5pc0NvbGxhcHNlZCkgcmV0dXJuXHJcblxyXG4gICAgLy8gU2V0IHdpZHRoIHRvIGxhYmVsIHdpZHRoXHJcbiAgICBiYm94Lm1heFggPSBiYm94Lm1pblggKyAobm9kZS5ub2RlRWw/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoID8/IDApXHJcbiAgICBcclxuICAgIC8vIFNldCBoZWlnaHQgb2YgdG8gMCAoRG9uJ3QgZHJhZyBhbnkgbm9kZXMgd2l0aCBpdClcclxuICAgIGJib3gubWF4WSA9IGJib3gubWluWVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBleHBhbmRDb2xsYXBzZWROb2RlcyhkYXRhOiBDYW52YXNEYXRhKSB7XHJcbiAgICBkYXRhLm5vZGVzID0gZGF0YS5ub2Rlcy5mbGF0TWFwKChncm91cE5vZGVEYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbGxhcHNlZERhdGEgPSBncm91cE5vZGVEYXRhLmNvbGxhcHNlZERhdGFcclxuICAgICAgaWYgKGNvbGxhcHNlZERhdGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIFtncm91cE5vZGVEYXRhXVxyXG5cclxuICAgICAgZ3JvdXBOb2RlRGF0YS5jb2xsYXBzZWREYXRhID0gdW5kZWZpbmVkXHJcblxyXG4gICAgICBkYXRhLmVkZ2VzLnB1c2goLi4uY29sbGFwc2VkRGF0YS5lZGdlcylcclxuICAgICAgcmV0dXJuIFtncm91cE5vZGVEYXRhLCAuLi5jb2xsYXBzZWREYXRhLm5vZGVzLm1hcCgobm9kZURhdGEpID0+IChcclxuICAgICAgICB7XHJcbiAgICAgICAgICAuLi5ub2RlRGF0YSxcclxuICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9mIHRoZSBub2RlIHRvIHRoZSBncm91cFxyXG4gICAgICAgICAgeDogbm9kZURhdGEueCArIGdyb3VwTm9kZURhdGEueCxcclxuICAgICAgICAgIHk6IG5vZGVEYXRhLnkgKyBncm91cE5vZGVEYXRhLnlcclxuICAgICAgICB9XHJcbiAgICAgICkpXVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29sbGFwc2VOb2RlcyhkYXRhOiBDYW52YXNEYXRhKSB7XHJcbiAgICBkYXRhLm5vZGVzLmZvckVhY2goKGdyb3VwTm9kZURhdGEpID0+IHtcclxuICAgICAgaWYgKCFncm91cE5vZGVEYXRhLmlzQ29sbGFwc2VkKSByZXR1cm5cclxuXHJcbiAgICAgIGNvbnN0IGdyb3VwTm9kZUJCb3ggPSBDYW52YXNIZWxwZXIuZ2V0QkJveChbZ3JvdXBOb2RlRGF0YV0pXHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lZE5vZGVzRGF0YSA9IGRhdGEubm9kZXMuZmlsdGVyKChub2RlRGF0YSkgPT5cclxuICAgICAgICBub2RlRGF0YS5pZCAhPT0gZ3JvdXBOb2RlRGF0YS5pZCAmJiBCQm94SGVscGVyLmluc2lkZUJCb3goQ2FudmFzSGVscGVyLmdldEJCb3goW25vZGVEYXRhXSksIGdyb3VwTm9kZUJCb3gsIGZhbHNlKVxyXG4gICAgICApXHJcbiAgICAgIGNvbnN0IGNvbnRhaW5lZEVkZ2VzRGF0YSA9IGRhdGEuZWRnZXMuZmlsdGVyKChlZGdlRGF0YSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBjb250YWluZWROb2Rlc0RhdGEuc29tZSgobm9kZURhdGEpID0+IG5vZGVEYXRhLmlkID09PSBlZGdlRGF0YS5mcm9tTm9kZSkgfHwgXHJcbiAgICAgICAgICBjb250YWluZWROb2Rlc0RhdGEuc29tZSgobm9kZURhdGEpID0+IG5vZGVEYXRhLmlkID09PSBlZGdlRGF0YS50b05vZGUpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBkYXRhLm5vZGVzID0gZGF0YS5ub2Rlcy5maWx0ZXIoKG5vZGVEYXRhKSA9PiAhY29udGFpbmVkTm9kZXNEYXRhLmluY2x1ZGVzKG5vZGVEYXRhKSlcclxuICAgICAgZGF0YS5lZGdlcyA9IGRhdGEuZWRnZXMuZmlsdGVyKChlZGdlRGF0YSkgPT4gIWNvbnRhaW5lZEVkZ2VzRGF0YS5pbmNsdWRlcyhlZGdlRGF0YSkpXHJcblxyXG4gICAgICBncm91cE5vZGVEYXRhLmNvbGxhcHNlZERhdGEgPSB7XHJcbiAgICAgICAgbm9kZXM6IGNvbnRhaW5lZE5vZGVzRGF0YS5tYXAoKG5vZGVEYXRhKSA9PiAoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIC4uLm5vZGVEYXRhLFxyXG4gICAgICAgICAgICAvLyBTdG9yZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIG5vZGUgdG8gdGhlIGdyb3VwXHJcbiAgICAgICAgICAgIHg6IG5vZGVEYXRhLnggLSBncm91cE5vZGVEYXRhLngsXHJcbiAgICAgICAgICAgIHk6IG5vZGVEYXRhLnkgLSBncm91cE5vZGVEYXRhLnlcclxuICAgICAgICAgIH1cclxuICAgICAgICApKSxcclxuICAgICAgICBlZGdlczogY29udGFpbmVkRWRnZXNEYXRhXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcyB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2V2ZW50c1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4vY2FudmFzLWV4dGVuc2lvblwiXHJcblxyXG5jb25zdCBDT05UUk9MX01FTlVfRk9DVVNfVE9HR0xFX0lEID0gJ2ZvY3VzLW1vZGUtdG9nZ2xlJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9jdXNNb2RlQ2FudmFzRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnZm9jdXNNb2RlRmVhdHVyZUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgICBpZDogJ3RvZ2dsZS1mb2N1cy1tb2RlJyxcclxuICAgICAgbmFtZTogJ1RvZ2dsZSBGb2N1cyBNb2RlJyxcclxuICAgICAgY2hlY2tDYWxsYmFjazogQ2FudmFzSGVscGVyLmNhbnZhc0NvbW1hbmQoXHJcbiAgICAgICAgdGhpcy5wbHVnaW4sXHJcbiAgICAgICAgKF9jYW52YXM6IENhbnZhcykgPT4gdHJ1ZSxcclxuICAgICAgICAoY2FudmFzOiBDYW52YXMpID0+IHRoaXMudG9nZ2xlRm9jdXNNb2RlKGNhbnZhcylcclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5hZGRDb250cm9sTWVudVRvZ2dsZShjYW52YXMpXHJcbiAgICApKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRDb250cm9sTWVudVRvZ2dsZShjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3Qgc2V0dGluZ3NDb250YWluZXIgPSBjYW52YXMucXVpY2tTZXR0aW5nc0J1dHRvbj8ucGFyZW50RWxlbWVudFxyXG4gICAgaWYgKCFzZXR0aW5nc0NvbnRhaW5lcikgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgY29udHJvbE1lbnVGb2N1c1RvZ2dsZSA9IENhbnZhc0hlbHBlci5jcmVhdGVDb250cm9sTWVudUJ1dHRvbih7XHJcbiAgICAgIGlkOiBDT05UUk9MX01FTlVfRk9DVVNfVE9HR0xFX0lELFxyXG4gICAgICBsYWJlbDogJ0ZvY3VzIE1vZGUnLFxyXG4gICAgICBpY29uOiAnZm9jdXMnLFxyXG4gICAgICBjYWxsYmFjazogKCkgPT4gdGhpcy50b2dnbGVGb2N1c01vZGUoY2FudmFzKVxyXG4gICAgfSlcclxuXHJcbiAgICBDYW52YXNIZWxwZXIuYWRkQ29udHJvbE1lbnVCdXR0b24oc2V0dGluZ3NDb250YWluZXIsIGNvbnRyb2xNZW51Rm9jdXNUb2dnbGUpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHRvZ2dsZUZvY3VzTW9kZShjYW52YXM6IENhbnZhcykge1xyXG4gICAgY29uc3QgY29udHJvbE1lbnVGb2N1c1RvZ2dsZSA9IGNhbnZhcy5xdWlja1NldHRpbmdzQnV0dG9uPy5wYXJlbnRFbGVtZW50Py5xdWVyeVNlbGVjdG9yKGAjJHtDT05UUk9MX01FTlVfRk9DVVNfVE9HR0xFX0lEfWApIGFzIEhUTUxFbGVtZW50XHJcbiAgICBpZiAoIWNvbnRyb2xNZW51Rm9jdXNUb2dnbGUpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IG5ld1ZhbHVlID0gY29udHJvbE1lbnVGb2N1c1RvZ2dsZS5kYXRhc2V0LnRvZ2dsZWQgIT09ICd0cnVlJ1xyXG5cclxuICAgIGNhbnZhcy53cmFwcGVyRWwuZGF0YXNldC5mb2N1c01vZGVFbmFibGVkID0gbmV3VmFsdWUudG9TdHJpbmcoKVxyXG4gICAgY29udHJvbE1lbnVGb2N1c1RvZ2dsZS5kYXRhc2V0LnRvZ2dsZWQgPSBuZXdWYWx1ZS50b1N0cmluZygpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgQ2FudmFzRWRnZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgQ2FudmFzSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvY2FudmFzLWhlbHBlclwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbGlwRWRnZUNhbnZhc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gJ2ZsaXBFZGdlRmVhdHVyZUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuUG9wdXBNZW51Q3JlYXRlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLm9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXMpXHJcbiAgICApKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzOiBDYW52YXMpIHtcclxuICAgIGNvbnN0IHBvcHVwTWVudUVsID0gY2FudmFzPy5tZW51Py5tZW51RWxcclxuICAgIGlmICghcG9wdXBNZW51RWwpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IFBPU1NJQkxFX0lDT05TID0gWydsdWNpZGUtYXJyb3ctcmlnaHQnLCAnbHVjaWRlLW1vdmUtaG9yaXpvbnRhbCcsICdsaW5lLWhvcml6b250YWwnXVxyXG4gICAgbGV0IGVkZ2VEaXJlY3Rpb25CdXR0b24gPSBudWxsXHJcbiAgICBmb3IgKGNvbnN0IGljb24gb2YgUE9TU0lCTEVfSUNPTlMpIHtcclxuICAgICAgZWRnZURpcmVjdGlvbkJ1dHRvbiA9IHBvcHVwTWVudUVsLnF1ZXJ5U2VsZWN0b3IoYGJ1dHRvbjpub3QoW2lkXSkgPiAuc3ZnLWljb24uJHtpY29ufWApPy5wYXJlbnRFbGVtZW50XHJcbiAgICAgIGlmIChlZGdlRGlyZWN0aW9uQnV0dG9uKSBicmVha1xyXG4gICAgfVxyXG4gICAgaWYgKCFlZGdlRGlyZWN0aW9uQnV0dG9uKSByZXR1cm5cclxuXHJcbiAgICBlZGdlRGlyZWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5vbkVkZ2VEaXJlY3Rpb25Ecm9wZG93bkNyZWF0ZWQoY2FudmFzKSlcclxuICB9XHJcblxyXG4gIHByaXZhdGUgb25FZGdlRGlyZWN0aW9uRHJvcGRvd25DcmVhdGVkKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBjb25zdCBkcm9wZG93bkVsID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCdkaXYubWVudScpXHJcbiAgICBpZiAoIWRyb3Bkb3duRWwpIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHNlcGFyYXRvckVsID0gQ2FudmFzSGVscGVyLmNyZWF0ZURyb3Bkb3duU2VwYXJhdG9yRWxlbWVudCgpXHJcbiAgICBkcm9wZG93bkVsLmFwcGVuZENoaWxkKHNlcGFyYXRvckVsKVxyXG5cclxuICAgIGNvbnN0IGZsaXBFZGdlQnV0dG9uID0gQ2FudmFzSGVscGVyLmNyZWF0ZURyb3Bkb3duT3B0aW9uRWxlbWVudCh7XHJcbiAgICAgIGljb246ICdmbGlwLWhvcml6b250YWwtMicsXHJcbiAgICAgIGxhYmVsOiAnRmxpcCBFZGdlJyxcclxuICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZmxpcEVkZ2UoY2FudmFzKVxyXG4gICAgfSlcclxuICAgIGRyb3Bkb3duRWwuYXBwZW5kQ2hpbGQoZmxpcEVkZ2VCdXR0b24pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGZsaXBFZGdlKGNhbnZhczogQ2FudmFzKSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZEVkZ2VzID0gWy4uLmNhbnZhcy5zZWxlY3Rpb25dLmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLnBhdGggIT09IHVuZGVmaW5lZCkgYXMgQ2FudmFzRWRnZVtdXHJcbiAgICBpZiAoc2VsZWN0ZWRFZGdlcy5sZW5ndGggPT09IDApIHJldHVyblxyXG5cclxuICAgIGZvciAoY29uc3QgZWRnZSBvZiBzZWxlY3RlZEVkZ2VzKSB7XHJcbiAgICAgIGNvbnN0IGVkZ2VEYXRhID0gZWRnZS5nZXREYXRhKClcclxuXHJcbiAgICAgIGVkZ2Uuc2V0RGF0YSh7XHJcbiAgICAgICAgLi4uZWRnZURhdGEsXHJcbiAgICAgICAgZnJvbU5vZGU6IGVkZ2VEYXRhLnRvTm9kZSxcclxuICAgICAgICBmcm9tU2lkZTogZWRnZURhdGEudG9TaWRlLFxyXG5cclxuICAgICAgICB0b05vZGU6IGVkZ2VEYXRhLmZyb21Ob2RlLFxyXG4gICAgICAgIHRvU2lkZTogZWRnZURhdGEuZnJvbVNpZGVcclxuICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMucHVzaEhpc3RvcnkoY2FudmFzLmdldERhdGEoKSlcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IENhbnZhc0hlbHBlciBmcm9tIFwic3JjL3V0aWxzL2NhbnZhcy1oZWxwZXJcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCwgUGx1Z2luRXZlbnQgfSBmcm9tIFwic3JjL2V2ZW50c1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4uL2NhbnZhcy1leHRlbnNpb25cIlxyXG5pbXBvcnQgeyBCVUlMVElOX05PREVfU1RZTEVfQVRUUklCVVRFUywgU3R5bGVBdHRyaWJ1dGUgfSBmcm9tIFwiLi9zdHlsZS1jb25maWdcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9kZVN0eWxlc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgYWxsTm9kZVN0eWxlczogU3R5bGVBdHRyaWJ1dGVbXVxyXG5cclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnbm9kZVN0eWxpbmdGZWF0dXJlRW5hYmxlZCcgYXMgY29uc3QgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5hbGxOb2RlU3R5bGVzID0gWy4uLkJVSUxUSU5fTk9ERV9TVFlMRV9BVFRSSUJVVEVTLCAuLi50aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdjdXN0b21Ob2RlU3R5bGVBdHRyaWJ1dGVzJyldXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIFBsdWdpbkV2ZW50LlNldHRpbmdzQ2hhbmdlZCxcclxuICAgICAgKCkgPT4gdGhpcy5hbGxOb2RlU3R5bGVzID0gWy4uLkJVSUxUSU5fTk9ERV9TVFlMRV9BVFRSSUJVVEVTLCAuLi50aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdjdXN0b21Ob2RlU3R5bGVBdHRyaWJ1dGVzJyldXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuUG9wdXBNZW51Q3JlYXRlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzKSA9PiB0aGlzLm9uUG9wdXBNZW51Q3JlYXRlZChjYW52YXMpXHJcbiAgICApKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzOiBDYW52YXMpOiB2b2lkIHtcclxuICAgIGNvbnN0IHNlbGVjdGlvbk5vZGVEYXRhID0gY2FudmFzLmdldFNlbGVjdGlvbkRhdGEoKS5ub2Rlc1xyXG4gICAgaWYgKGNhbnZhcy5yZWFkb25seSB8fCBzZWxlY3Rpb25Ob2RlRGF0YS5sZW5ndGggPT09IDAgfHwgc2VsZWN0aW9uTm9kZURhdGEubGVuZ3RoICE9PSBjYW52YXMuc2VsZWN0aW9uLnNpemUpXHJcbiAgICAgIHJldHVyblxyXG5cclxuICAgIGNvbnN0IHNlbGVjdGVkTm9kZVR5cGVzID0gbmV3IFNldChzZWxlY3Rpb25Ob2RlRGF0YS5tYXAobm9kZSA9PiBub2RlLnR5cGUpKVxyXG4gICAgY29uc3QgYXZhaWxhYmxlTm9kZVN0eWxlcyA9IHRoaXMuYWxsTm9kZVN0eWxlcy5maWx0ZXIoc3R5bGUgPT4gIXN0eWxlLm5vZGVUeXBlcyB8fCBzdHlsZS5ub2RlVHlwZXMuc29tZSh0eXBlID0+IHNlbGVjdGVkTm9kZVR5cGVzLmhhcyh0eXBlKSkpXHJcblxyXG4gICAgQ2FudmFzSGVscGVyLmFkZFN0eWxlQXR0cmlidXRlc1RvUG9wdXAoXHJcbiAgICAgIHRoaXMucGx1Z2luLCBjYW52YXMsIGF2YWlsYWJsZU5vZGVTdHlsZXMsXHJcbiAgICAgIHNlbGVjdGlvbk5vZGVEYXRhWzBdLnN0eWxlQXR0cmlidXRlcyA/PyB7fSxcclxuICAgICAgKGF0dHJpYnV0ZSwgdmFsdWUpID0+IHRoaXMuc2V0U3R5bGVBdHRyaWJ1dGVGb3JTZWxlY3Rpb24oY2FudmFzLCBhdHRyaWJ1dGUsIHZhbHVlKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRTdHlsZUF0dHJpYnV0ZUZvclNlbGVjdGlvbihjYW52YXM6IENhbnZhcywgYXR0cmlidXRlOiBTdHlsZUF0dHJpYnV0ZSwgdmFsdWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcclxuICAgIGNvbnN0IHNlbGVjdGlvbk5vZGVEYXRhID0gY2FudmFzLmdldFNlbGVjdGlvbkRhdGEoKS5ub2Rlc1xyXG4gICAgZm9yIChjb25zdCBub2RlRGF0YSBvZiBzZWxlY3Rpb25Ob2RlRGF0YSkge1xyXG4gICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGVzLmdldChub2RlRGF0YS5pZClcclxuICAgICAgaWYgKCFub2RlKSBjb250aW51ZVxyXG5cclxuICAgICAgLy8gT25seSBhcHBseSB0aGUgYXR0cmlidXRlIGlmIHRoZSBub2RlIHR5cGUgaXMgYWxsb3dlZFxyXG4gICAgICBpZiAoYXR0cmlidXRlLm5vZGVUeXBlcyAmJiAhYXR0cmlidXRlLm5vZGVUeXBlcy5pbmNsdWRlcyhub2RlRGF0YS50eXBlKSkgY29udGludWVcclxuXHJcbiAgICAgIG5vZGUuc2V0RGF0YSh7XHJcbiAgICAgICAgLi4ubm9kZURhdGEsXHJcbiAgICAgICAgc3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAuLi5ub2RlRGF0YS5zdHlsZUF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICBbYXR0cmlidXRlLmRhdGFzZXRLZXldOiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY2FudmFzLnB1c2hIaXN0b3J5KGNhbnZhcy5nZXREYXRhKCkpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgUG9zaXRpb24sIFNpZGUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEVkZ2VQYXRoZmluZGluZ01ldGhvZCB7XHJcbiAgYWJzdHJhY3QgZ2V0UGF0aChwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luLCBjYW52YXM6IENhbnZhcywgZnJvbVBvczogUG9zaXRpb24sIGZyb21CQm94U2lkZVBvczogUG9zaXRpb24sIGZyb21TaWRlOiBTaWRlLCB0b1BvczogUG9zaXRpb24sIHRvQkJveFNpZGVQb3M6IFBvc2l0aW9uLCB0b1NpZGU6IFNpZGUpOiBFZGdlUGF0aCB8IG51bGxcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFZGdlUGF0aCB7XHJcbiAgc3ZnUGF0aDogc3RyaW5nXHJcbiAgY2VudGVyOiBQb3NpdGlvblxyXG4gIHJvdGF0ZUFycm93czogYm9vbGVhblxyXG59IiwgImltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN2Z1BhdGhIZWxwZXIge1xyXG4gIHN0YXRpYyBwYXRoQXJyYXlUb1N2Z1BhdGgocG9zaXRpb25zOiBQb3NpdGlvbltdLCByb3VuZGVkID0gZmFsc2UpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgdGVuc2lvbiA9IDAuMlxyXG4gICAgbGV0IG5ld1Bvc2l0aW9ucyA9IFsuLi5wb3NpdGlvbnNdXHJcblxyXG4gICAgaWYgKHJvdW5kZWQgJiYgcG9zaXRpb25zLmxlbmd0aCA+IDIpIHtcclxuICAgICAgbmV3UG9zaXRpb25zID0gW3Bvc2l0aW9uc1swXV1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9zaXRpb25zLmxlbmd0aCAtIDI7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHAxID0gcG9zaXRpb25zW2ldXHJcbiAgICAgICAgY29uc3QgcDIgPSBwb3NpdGlvbnNbaSArIDFdXHJcbiAgICAgICAgY29uc3QgcDMgPSBwb3NpdGlvbnNbaSArIDJdXHJcblxyXG4gICAgICAgIGNvbnN0IHQxID0gKDEgLSB0ZW5zaW9uKSAvIDJcclxuICAgICAgICBjb25zdCB0MiA9IDEgLSB0MVxyXG5cclxuICAgICAgICBjb25zdCB4ID1cclxuICAgICAgICAgIHQyICogdDIgKiB0MiAqIHAxLnggK1xyXG4gICAgICAgICAgMyAqIHQyICogdDIgKiB0MSAqIHAyLnggK1xyXG4gICAgICAgICAgMyAqIHQyICogdDEgKiB0MSAqIHAzLnggK1xyXG4gICAgICAgICAgdDEgKiB0MSAqIHQxICogcDIueFxyXG5cclxuICAgICAgICBjb25zdCB5ID1cclxuICAgICAgICAgIHQyICogdDIgKiB0MiAqIHAxLnkgK1xyXG4gICAgICAgICAgMyAqIHQyICogdDIgKiB0MSAqIHAyLnkgK1xyXG4gICAgICAgICAgMyAqIHQyICogdDEgKiB0MSAqIHAzLnkgK1xyXG4gICAgICAgICAgdDEgKiB0MSAqIHQxICogcDIueVxyXG5cclxuICAgICAgICBuZXdQb3NpdGlvbnMucHVzaCh7IHg6IHgsIHk6IHkgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbGFzdFBvaW50ID0gcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGggLSAxXVxyXG4gICAgICBuZXdQb3NpdGlvbnMucHVzaChsYXN0UG9pbnQpXHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdQb3NpdGlvbnMubGVuZ3RoIC0gMjsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHAxID0gbmV3UG9zaXRpb25zW2ldXHJcbiAgICAgIGNvbnN0IHAyID0gbmV3UG9zaXRpb25zW2kgKyAxXVxyXG4gICAgICBjb25zdCBwMyA9IG5ld1Bvc2l0aW9uc1tpICsgMl1cclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnREaXJlY3Rpb24gPSB7XHJcbiAgICAgICAgeDogcDIueCAtIHAxLngsXHJcbiAgICAgICAgeTogcDIueSAtIHAxLnlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgbmV4dERpcmVjdGlvbiA9IHtcclxuICAgICAgICB4OiBwMy54IC0gcDIueCxcclxuICAgICAgICB5OiBwMy55IC0gcDIueVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY3VycmVudERpcmVjdGlvbi54ICE9PSBuZXh0RGlyZWN0aW9uLnggJiYgY3VycmVudERpcmVjdGlvbi55ICE9PSBuZXh0RGlyZWN0aW9uLnkpIGNvbnRpbnVlXHJcblxyXG4gICAgICBuZXdQb3NpdGlvbnMuc3BsaWNlKGkgKyAxLCAxKVxyXG4gICAgICBpLS1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3UG9zaXRpb25zLm1hcCgocG9zaXRpb24sIGluZGV4KSA9PiBcclxuICAgICAgYCR7aW5kZXggPT09IDAgPyAnTScgOiAnTCd9ICR7cG9zaXRpb24ueH0gJHtwb3NpdGlvbi55fWBcclxuICAgICkuam9pbignICcpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgUG9zaXRpb24sIFNpZGUgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgRWRnZVBhdGhmaW5kaW5nTWV0aG9kLCB7IEVkZ2VQYXRoIH0gZnJvbSBcIi4vZWRnZS1wYXRoZmluZGluZy1tZXRob2RcIlxyXG5pbXBvcnQgU3ZnUGF0aEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL3N2Zy1wYXRoLWhlbHBlclwiXHJcbmltcG9ydCBBZHZhbmNlZENhbnZhc1BsdWdpbiBmcm9tIFwic3JjL21haW5cIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRnZVBhdGhmaW5kaW5nRGlyZWN0IGV4dGVuZHMgRWRnZVBhdGhmaW5kaW5nTWV0aG9kIHtcclxuICBnZXRQYXRoKF9wbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luLCBfY2FudmFzOiBDYW52YXMsIGZyb21Qb3M6IFBvc2l0aW9uLCBfZnJvbUJCb3hTaWRlUG9zOiBQb3NpdGlvbiwgX2Zyb21TaWRlOiBTaWRlLCB0b1BvczogUG9zaXRpb24sIF90b0JCb3hTaWRlUG9zOiBQb3NpdGlvbiwgX3RvU2lkZTogU2lkZSk6IEVkZ2VQYXRoIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN2Z1BhdGg6IFN2Z1BhdGhIZWxwZXIucGF0aEFycmF5VG9TdmdQYXRoKFtmcm9tUG9zLCB0b1Bvc10sIGZhbHNlKSxcclxuICAgICAgY2VudGVyOiB7XHJcbiAgICAgICAgeDogKGZyb21Qb3MueCArIHRvUG9zLngpIC8gMixcclxuICAgICAgICB5OiAoZnJvbVBvcy55ICsgdG9Qb3MueSkgLyAyXHJcbiAgICAgIH0sXHJcbiAgICAgIHJvdGF0ZUFycm93czogdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIFBvc2l0aW9uLCBTaWRlIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IEVkZ2VQYXRoZmluZGluZ01ldGhvZCwgeyBFZGdlUGF0aCB9IGZyb20gXCIuL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kXCJcclxuaW1wb3J0IFN2Z1BhdGhIZWxwZXIgZnJvbSBcInNyYy91dGlscy9zdmctcGF0aC1oZWxwZXJcIlxyXG5pbXBvcnQgQWR2YW5jZWRDYW52YXNQbHVnaW4gZnJvbSBcInNyYy9tYWluXCJcclxuaW1wb3J0IEJCb3hIZWxwZXIgZnJvbSBcInNyYy91dGlscy9iYm94LWhlbHBlclwiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkZ2VQYXRoZmluZGluZ1NxdWFyZSBleHRlbmRzIEVkZ2VQYXRoZmluZGluZ01ldGhvZCB7XHJcbiAgZ2V0UGF0aChfcGx1Z2luOiBBZHZhbmNlZENhbnZhc1BsdWdpbiwgX2NhbnZhczogQ2FudmFzLCBmcm9tUG9zOiBQb3NpdGlvbiwgZnJvbUJCb3hTaWRlUG9zOiBQb3NpdGlvbiwgZnJvbVNpZGU6IFNpZGUsIHRvUG9zOiBQb3NpdGlvbiwgdG9CQm94U2lkZVBvczogUG9zaXRpb24sIHRvU2lkZTogU2lkZSk6IEVkZ2VQYXRoIHtcclxuICAgIGxldCBwYXRoQXJyYXk6IFBvc2l0aW9uW10gPSBbXVxyXG4gICAgbGV0IGNlbnRlcjogUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfVxyXG5cclxuICAgIGlmIChmcm9tU2lkZSA9PT0gdG9TaWRlKSB7XHJcbiAgICAgIC8vIFNhbWUgc2lkZSAtPiBNYWtlIGEgVVxyXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBCQm94SGVscGVyLmRpcmVjdGlvbihmcm9tU2lkZSlcclxuXHJcbiAgICAgIGlmIChCQm94SGVscGVyLmlzSG9yaXpvbnRhbChmcm9tU2lkZSkpIHtcclxuICAgICAgICBwYXRoQXJyYXkgPSBbXHJcbiAgICAgICAgICBmcm9tUG9zLFxyXG4gICAgICAgICAgeyB4OiBNYXRoLm1heChmcm9tQkJveFNpZGVQb3MueCwgdG9CQm94U2lkZVBvcy54KSArIGRpcmVjdGlvbiAqIENhbnZhc0hlbHBlci5HUklEX1NJWkUsIHk6IGZyb21CQm94U2lkZVBvcy55IH0sXHJcbiAgICAgICAgICB7IHg6IE1hdGgubWF4KGZyb21CQm94U2lkZVBvcy54LCB0b0JCb3hTaWRlUG9zLngpICsgZGlyZWN0aW9uICogQ2FudmFzSGVscGVyLkdSSURfU0laRSwgeTogdG9CQm94U2lkZVBvcy55IH0sXHJcbiAgICAgICAgICB0b1Bvc1xyXG4gICAgICAgIF1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXRoQXJyYXkgPSBbXHJcbiAgICAgICAgICBmcm9tUG9zLFxyXG4gICAgICAgICAgeyB4OiBmcm9tQkJveFNpZGVQb3MueCwgeTogTWF0aC5tYXgoZnJvbUJCb3hTaWRlUG9zLnksIHRvQkJveFNpZGVQb3MueSkgKyBkaXJlY3Rpb24gKiBDYW52YXNIZWxwZXIuR1JJRF9TSVpFIH0sXHJcbiAgICAgICAgICB7IHg6IHRvQkJveFNpZGVQb3MueCwgeTogTWF0aC5tYXgoZnJvbUJCb3hTaWRlUG9zLnksIHRvQkJveFNpZGVQb3MueSkgKyBkaXJlY3Rpb24gKiBDYW52YXNIZWxwZXIuR1JJRF9TSVpFIH0sXHJcbiAgICAgICAgICB0b1Bvc1xyXG4gICAgICAgIF1cclxuICAgICAgfVxyXG5cclxuICAgICAgY2VudGVyID0geyBcclxuICAgICAgICB4OiAocGF0aEFycmF5WzFdLnggKyBwYXRoQXJyYXlbMl0ueCkgLyAyLFxyXG4gICAgICAgIHk6IChwYXRoQXJyYXlbMV0ueSArIHBhdGhBcnJheVsyXS55KSAvIDJcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChCQm94SGVscGVyLmlzSG9yaXpvbnRhbChmcm9tU2lkZSkgPT09IEJCb3hIZWxwZXIuaXNIb3Jpem9udGFsKHRvU2lkZSkpIHtcclxuICAgICAgLy8gU2FtZSBheGlzLCBkaWZmZXJlbnQgc2lkZSAtPiBNYWtlIGEgWlxyXG4gICAgICBpZiAoQkJveEhlbHBlci5pc0hvcml6b250YWwoZnJvbVNpZGUpKSB7XHJcbiAgICAgICAgcGF0aEFycmF5ID0gW1xyXG4gICAgICAgICAgZnJvbVBvcyxcclxuICAgICAgICAgIHsgeDogZnJvbUJCb3hTaWRlUG9zLnggKyAodG9CQm94U2lkZVBvcy54IC0gZnJvbUJCb3hTaWRlUG9zLngpIC8gMiwgeTogZnJvbUJCb3hTaWRlUG9zLnkgfSxcclxuICAgICAgICAgIHsgeDogZnJvbUJCb3hTaWRlUG9zLnggKyAodG9CQm94U2lkZVBvcy54IC0gZnJvbUJCb3hTaWRlUG9zLngpIC8gMiwgeTogdG9CQm94U2lkZVBvcy55IH0sXHJcbiAgICAgICAgICB0b1Bvc1xyXG4gICAgICAgIF1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXRoQXJyYXkgPSBbXHJcbiAgICAgICAgICBmcm9tUG9zLFxyXG4gICAgICAgICAgeyB4OiBmcm9tQkJveFNpZGVQb3MueCwgeTogZnJvbUJCb3hTaWRlUG9zLnkgKyAodG9CQm94U2lkZVBvcy55IC0gZnJvbUJCb3hTaWRlUG9zLnkpIC8gMiB9LFxyXG4gICAgICAgICAgeyB4OiB0b0JCb3hTaWRlUG9zLngsIHk6IGZyb21CQm94U2lkZVBvcy55ICsgKHRvQkJveFNpZGVQb3MueSAtIGZyb21CQm94U2lkZVBvcy55KSAvIDIgfSxcclxuICAgICAgICAgIHRvUG9zXHJcbiAgICAgICAgXVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjZW50ZXIgPSB7IFxyXG4gICAgICAgIHg6IChmcm9tQkJveFNpZGVQb3MueCArIHRvQkJveFNpZGVQb3MueCkgLyAyLCBcclxuICAgICAgICB5OiAoZnJvbUJCb3hTaWRlUG9zLnkgKyB0b0JCb3hTaWRlUG9zLnkpIC8gMiBcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gRGlmZmVyZW50IGF4aXMgLT4gTWFrZSBhIExcclxuICAgICAgaWYgKEJCb3hIZWxwZXIuaXNIb3Jpem9udGFsKGZyb21TaWRlKSkge1xyXG4gICAgICAgIHBhdGhBcnJheSA9IFtcclxuICAgICAgICAgIGZyb21Qb3MsXHJcbiAgICAgICAgICB7IHg6IHRvQkJveFNpZGVQb3MueCwgeTogZnJvbUJCb3hTaWRlUG9zLnkgfSxcclxuICAgICAgICAgIHRvUG9zXHJcbiAgICAgICAgXVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhdGhBcnJheSA9IFtcclxuICAgICAgICAgIGZyb21Qb3MsXHJcbiAgICAgICAgICB7IHg6IGZyb21CQm94U2lkZVBvcy54LCB5OiB0b0JCb3hTaWRlUG9zLnkgfSxcclxuICAgICAgICAgIHRvUG9zXHJcbiAgICAgICAgXVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjZW50ZXIgPSB7IFxyXG4gICAgICAgIHg6IHBhdGhBcnJheVsxXS54LFxyXG4gICAgICAgIHk6IHBhdGhBcnJheVsxXS55XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdmdQYXRoOiBTdmdQYXRoSGVscGVyLnBhdGhBcnJheVRvU3ZnUGF0aChwYXRoQXJyYXksIGZhbHNlKSxcclxuICAgICAgY2VudGVyOiBjZW50ZXIsXHJcbiAgICAgIHJvdGF0ZUFycm93czogZmFsc2VcclxuICAgIH1cclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQkJveCwgQ2FudmFzLCBQb3NpdGlvbiwgU2lkZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCBFZGdlUGF0aGZpbmRpbmdNZXRob2QsIHsgRWRnZVBhdGggfSBmcm9tIFwiLi9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZFwiXHJcbmltcG9ydCBTdmdQYXRoSGVscGVyIGZyb20gXCJzcmMvdXRpbHMvc3ZnLXBhdGgtaGVscGVyXCJcclxuaW1wb3J0IEFkdmFuY2VkQ2FudmFzUGx1Z2luIGZyb20gXCJzcmMvbWFpblwiXHJcbmltcG9ydCBCQm94SGVscGVyIGZyb20gXCJzcmMvdXRpbHMvYmJveC1oZWxwZXJcIlxyXG5cclxuY29uc3QgTUFYX01TX0NBTENVTEFUSU9OID0gMTAwXHJcbmNvbnN0IERJUkVDVElPTlMgPSBbXHJcbiAgeyBkeDogMSwgZHk6IDAgfSwgeyBkeDogLTEsIGR5OiAwIH0sIHsgZHg6IDAsIGR5OiAxIH0sIHsgZHg6IDAsIGR5OiAtMSB9LFxyXG4gIHsgZHg6IDEsIGR5OiAxIH0sIHsgZHg6IC0xLCBkeTogMSB9LCB7IGR4OiAxLCBkeTogLTEgfSwgeyBkeDogLTEsIGR5OiAtMSB9LFxyXG5dIGFzIGNvbnN0XHJcbmNvbnN0IERJQUdPTkFMX0NPU1QgPSBNYXRoLnNxcnQoMilcclxuXHJcbmNsYXNzIE5vZGUge1xyXG4gIHg6IG51bWJlclxyXG4gIHk6IG51bWJlclxyXG4gIGdDb3N0OiBudW1iZXJcclxuICBoQ29zdDogbnVtYmVyXHJcbiAgZkNvc3Q6IG51bWJlclxyXG4gIHBhcmVudDogTm9kZXxudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnggPSB4XHJcbiAgICB0aGlzLnkgPSB5XHJcblxyXG4gICAgdGhpcy5nQ29zdCA9IDBcclxuICAgIHRoaXMuaENvc3QgPSAwXHJcbiAgICB0aGlzLmZDb3N0ID0gMFxyXG4gICAgdGhpcy5wYXJlbnQgPSBudWxsXHJcbiAgfVxyXG5cclxuICAvLyBPbmx5IGNoZWNrIGZvciB4IGFuZCB5LCBub3QgZ0Nvc3QsIGhDb3N0LCBmQ29zdCwgb3IgcGFyZW50XHJcbiAgaW5MaXN0KG5vZGVzOiBOb2RlW10pOiBib29sZWFuIHtcclxuICAgIHJldHVybiBub2Rlcy5zb21lKG4gPT4gbi54ID09PSB0aGlzLnggJiYgbi55ID09PSB0aGlzLnkpXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGdlUGF0aGZpbmRpbmdBU3RhciBleHRlbmRzIEVkZ2VQYXRoZmluZGluZ01ldGhvZCB7XHJcbiAgZ2V0UGF0aChwbHVnaW46IEFkdmFuY2VkQ2FudmFzUGx1Z2luLCBjYW52YXM6IENhbnZhcywgZnJvbVBvczogUG9zaXRpb24sIF9mcm9tQkJveFNpZGVQb3M6IFBvc2l0aW9uLCBmcm9tU2lkZTogU2lkZSwgdG9Qb3M6IFBvc2l0aW9uLCBfdG9CQm94U2lkZVBvczogUG9zaXRpb24sIHRvU2lkZTogU2lkZSk6IEVkZ2VQYXRoIHwgbnVsbCB7ICAgICAgICBcclxuICAgIGNvbnN0IG5vZGVCQm94ZXMgPSBbLi4uY2FudmFzLm5vZGVzLnZhbHVlcygpXVxyXG4gICAgICAuZmlsdGVyKG5vZGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBpc0dyb3VwID0gbm9kZURhdGEudHlwZSA9PT0gJ2dyb3VwJyAvLyBFeGNsdWRlIGdyb3VwIG5vZGVzXHJcbiAgICAgICAgY29uc3QgaXNPcGVuUG9ydGFsID0gbm9kZURhdGEucG9ydGFsVG9GaWxlICE9PSB1bmRlZmluZWQgLy8gRXhjbHVkZSBvcGVuIHBvcnRhbHNcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gIWlzR3JvdXAgJiYgIWlzT3BlblBvcnRhbFxyXG4gICAgICB9KS5tYXAobm9kZSA9PiBub2RlLmdldEJCb3goKSlcclxuICAgIFxyXG4gICAgY29uc3QgZnJvbVBvc1dpdGhNYXJnaW4gPSBCQm94SGVscGVyLm1vdmVJbkRpcmVjdGlvbihmcm9tUG9zLCBmcm9tU2lkZSwgMTApXHJcbiAgICBjb25zdCB0b1Bvc1dpdGhNYXJnaW4gPSBCQm94SGVscGVyLm1vdmVJbkRpcmVjdGlvbih0b1BvcywgdG9TaWRlLCAxMClcclxuXHJcbiAgICBjb25zdCBncmlkUmVzb2x1dGlvbiA9IHBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdlZGdlU3R5bGVQYXRoZmluZGVyR3JpZFJlc29sdXRpb24nKVxyXG4gICAgY29uc3QgcGF0aEFycmF5ID0gdGhpcy5hU3RhckFsZ29yaXRobShmcm9tUG9zV2l0aE1hcmdpbiwgZnJvbVNpZGUsIHRvUG9zV2l0aE1hcmdpbiwgdG9TaWRlLCBub2RlQkJveGVzLCBncmlkUmVzb2x1dGlvbilcclxuICAgIGlmICghcGF0aEFycmF5KSByZXR1cm4gbnVsbCAvLyBObyBwYXRoIGZvdW5kIC0gdXNlIGRlZmF1bHQgcGF0aFxyXG5cclxuICAgIC8vIE1ha2UgY29ubmVjdGlvbiBwb2ludHMgdG8gdGhlIG5vZGUgcmVtb3ZpbmcgdGhlIG1hcmdpblxyXG4gICAgcGF0aEFycmF5LnNwbGljZSgwLCAwLCBmcm9tUG9zKVxyXG4gICAgcGF0aEFycmF5LnNwbGljZShwYXRoQXJyYXkubGVuZ3RoLCAwLCB0b1BvcylcclxuXHJcbiAgICBjb25zdCByb3VuZGVkUGF0aCA9IHBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdlZGdlU3R5bGVQYXRoZmluZGVyUGF0aFJvdW5kZWQnKVxyXG4gICAgY29uc3Qgc3ZnUGF0aCA9IFN2Z1BhdGhIZWxwZXIucGF0aEFycmF5VG9TdmdQYXRoKHBhdGhBcnJheSwgcm91bmRlZFBhdGgpXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3ZnUGF0aDogc3ZnUGF0aCxcclxuICAgICAgY2VudGVyOiBwYXRoQXJyYXlbTWF0aC5mbG9vcihwYXRoQXJyYXkubGVuZ3RoIC8gMildLFxyXG4gICAgICByb3RhdGVBcnJvd3M6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFTdGFyQWxnb3JpdGhtKGZyb21Qb3M6IFBvc2l0aW9uLCBmcm9tU2lkZTogU2lkZSwgdG9Qb3M6IFBvc2l0aW9uLCB0b1NpZGU6IFNpZGUsIG9ic3RhY2xlczogQkJveFtdLCBncmlkUmVzb2x1dGlvbjogbnVtYmVyKTogUG9zaXRpb25bXSB8IG51bGwge1xyXG4gICAgY29uc3Qgc3RhcnQ6IE5vZGUgPSBuZXcgTm9kZShcclxuICAgICAgTWF0aC5mbG9vcihmcm9tUG9zLnggLyBncmlkUmVzb2x1dGlvbikgKiBncmlkUmVzb2x1dGlvbixcclxuICAgICAgTWF0aC5mbG9vcihmcm9tUG9zLnkgLyBncmlkUmVzb2x1dGlvbikgKiBncmlkUmVzb2x1dGlvblxyXG4gICAgKVxyXG4gICAgLy8gUm91bmQgc3RhcnQgYW5kIGVuZCBwb3NpdGlvbnMgdG8gdGhlIG5lYXJlc3QgZ3JpZCBjZWxsIG91dHNpZGUgb2YgdGhlIG5vZGVzIHRvIGNvbm5lY3RcclxuICAgIGlmIChmcm9tU2lkZSA9PT0gJ3JpZ2h0JyAmJiBmcm9tUG9zLnggIT09IHN0YXJ0LngpIHN0YXJ0LnggKz0gZ3JpZFJlc29sdXRpb25cclxuICAgIGlmIChmcm9tU2lkZSA9PT0gJ2JvdHRvbScgJiYgZnJvbVBvcy55ICE9PSBzdGFydC55KSBzdGFydC55ICs9IGdyaWRSZXNvbHV0aW9uXHJcbiAgXHJcbiAgICBjb25zdCBlbmQ6IE5vZGUgPSBuZXcgTm9kZShcclxuICAgICAgTWF0aC5mbG9vcih0b1Bvcy54IC8gZ3JpZFJlc29sdXRpb24pICogZ3JpZFJlc29sdXRpb24sXHJcbiAgICAgIE1hdGguZmxvb3IodG9Qb3MueSAvIGdyaWRSZXNvbHV0aW9uKSAqIGdyaWRSZXNvbHV0aW9uXHJcbiAgICApXHJcbiAgICAvLyBSb3VuZCBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucyB0byB0aGUgbmVhcmVzdCBncmlkIGNlbGwgb3V0c2lkZSBvZiB0aGUgbm9kZXMgdG8gY29ubmVjdFxyXG4gICAgaWYgKHRvU2lkZSA9PT0gJ3JpZ2h0JyAmJiB0b1Bvcy54ICE9PSBlbmQueCkgZW5kLnggKz0gZ3JpZFJlc29sdXRpb25cclxuICAgIGlmICh0b1NpZGUgPT09ICdib3R0b20nICYmIHRvUG9zLnkgIT09IGVuZC55KSBlbmQueSArPSBncmlkUmVzb2x1dGlvblxyXG4gICAgXHJcbiAgICAvLyBDaGVjayBpZiBzdGFydCBhbmQgZW5kIHBvc2l0aW9ucyBhcmUgdmFsaWRcclxuICAgIGlmICh0aGlzLmlzSW5zaWRlT2JzdGFjbGUoc3RhcnQsIG9ic3RhY2xlcykgfHwgdGhpcy5pc0luc2lkZU9ic3RhY2xlKGVuZCwgb2JzdGFjbGVzKSkgcmV0dXJuIG51bGxcclxuICBcclxuICAgIGNvbnN0IG9wZW5TZXQ6IE5vZGVbXSA9IFtzdGFydF1cclxuICAgIGNvbnN0IGNsb3NlZFNldDogTm9kZVtdID0gW11cclxuXHJcbiAgICBjb25zdCBzdGFydFRpbWVzdGFtcCA9IHBlcmZvcm1hbmNlLm5vdygpXHJcbiAgXHJcbiAgICB3aGlsZSAob3BlblNldC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIC8vIEZpbmQgdGhlIG5vZGUgd2l0aCB0aGUgbG93ZXN0IGZDb3N0IGluIHRoZSBvcGVuIHNldFxyXG4gICAgICBsZXQgY3VycmVudDogTm9kZXxudWxsID0gbnVsbFxyXG4gICAgICBsZXQgbG93ZXN0RkNvc3QgPSBJbmZpbml0eVxyXG4gIFxyXG4gICAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygb3BlblNldCkge1xyXG4gICAgICAgIGlmIChub2RlLmZDb3N0IDwgbG93ZXN0RkNvc3QpIHtcclxuICAgICAgICAgIGN1cnJlbnQgPSBub2RlXHJcbiAgICAgICAgICBsb3dlc3RGQ29zdCA9IG5vZGUuZkNvc3RcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBjYWxjdWxhdGlvbiBpcyB0YWtpbmcgdG9vIGxvbmdcclxuICAgICAgaWYgKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lc3RhbXAgPiBNQVhfTVNfQ0FMQ1VMQVRJT04pXHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICBcclxuICAgICAgLy8gTm8gcGF0aCBmb3VuZFxyXG4gICAgICBpZiAoIWN1cnJlbnQpXHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICBcclxuICAgICAgLy8gUmVtb3ZlIHRoZSBjdXJyZW50IG5vZGUgZnJvbSB0aGUgb3BlbiBzZXQgYW5kIGFkZCBpdCB0byB0aGUgY2xvc2VkIHNldFxyXG4gICAgICBvcGVuU2V0LnNwbGljZShvcGVuU2V0LmluZGV4T2YoY3VycmVudCksIDEpXHJcbiAgICAgIGNsb3NlZFNldC5wdXNoKGN1cnJlbnQpXHJcbiAgXHJcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgcmVhY2hlZCB0aGUgZW5kXHJcbiAgICAgIGlmIChjdXJyZW50LnggPT09IGVuZC54ICYmIGN1cnJlbnQueSA9PT0gZW5kLnkpXHJcbiAgICAgICAgcmV0dXJuIFtmcm9tUG9zLCAuLi50aGlzLnJlY29uc3RydWN0UGF0aChjdXJyZW50KSwgdG9Qb3NdLm1hcChub2RlID0+ICh7IHg6IG5vZGUueCwgeTogbm9kZS55IH0pKVxyXG4gIFxyXG4gICAgICAvLyBMb2NhdGlvbiBpcyBub3Qgc3RhcnQgb3IgZW5kLCBhbGwgdG91Y2hpbmcgcG9zaXRpb25zIGFyZSBpbnZhbGlkXHJcbiAgICAgIGlmICghKGN1cnJlbnQueCA9PT0gc3RhcnQueCAmJiBjdXJyZW50LnkgPT09IHN0YXJ0LnkpICYmIHRoaXMuaXNUb3VjaGluZ09ic3RhY2xlKGN1cnJlbnQsIG9ic3RhY2xlcykpXHJcbiAgICAgICAgY29udGludWVcclxuICBcclxuICAgICAgLy8gRXhwYW5kIG5laWdoYm9yc1xyXG4gICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIHRoaXMuZ2V0UG9zc2libGVOZWlnaGJvcnMoY3VycmVudCwgb2JzdGFjbGVzLCBncmlkUmVzb2x1dGlvbikpIHtcclxuICAgICAgICAvLyBTa2lwIGlmIGFscmVhZHkgcHJvY2Vzc2VkXHJcbiAgICAgICAgaWYgKG5laWdoYm9yLmluTGlzdChjbG9zZWRTZXQpKVxyXG4gICAgICAgICAgY29udGludWVcclxuICBcclxuICAgICAgICAvLyBDYWxjdWxhdGUgdGVudGF0aXZlIGdDb3N0XHJcbiAgICAgICAgY29uc3QgdGVudGF0aXZlR0Nvc3QgPSBjdXJyZW50LmdDb3N0ICsgdGhpcy5nZXRNb3ZlbWVudENvc3Qoe1xyXG4gICAgICAgICAgZHg6IG5laWdoYm9yLnggLSBjdXJyZW50LngsXHJcbiAgICAgICAgICBkeTogbmVpZ2hib3IueSAtIGN1cnJlbnQueSxcclxuICAgICAgICB9KVxyXG4gIFxyXG4gICAgICAgIC8vIENoZWNrIGlmIG5laWdoYm9yIGlzIG5vdCBhbHJlYWR5IGluIHRoZSBvcGVuIHNldCBvciBpZiB0aGUgbmV3IGdDb3N0IGlzIGxvd2VyXHJcbiAgICAgICAgaWYgKCFuZWlnaGJvci5pbkxpc3Qob3BlblNldCkgfHwgdGVudGF0aXZlR0Nvc3QgPCBuZWlnaGJvci5nQ29zdCkge1xyXG4gICAgICAgICAgbmVpZ2hib3IucGFyZW50ID0gY3VycmVudFxyXG4gICAgICAgICAgbmVpZ2hib3IuZ0Nvc3QgPSB0ZW50YXRpdmVHQ29zdFxyXG4gICAgICAgICAgbmVpZ2hib3IuaENvc3QgPSB0aGlzLmhldXJpc3RpYyhuZWlnaGJvciwgZW5kKVxyXG4gICAgICAgICAgbmVpZ2hib3IuZkNvc3QgPSBuZWlnaGJvci5nQ29zdCArIG5laWdoYm9yLmhDb3N0XHJcbiAgXHJcbiAgICAgICAgICAvLyBBZGQgbmVpZ2hib3IgdG8gdGhlIG9wZW4gc2V0XHJcbiAgICAgICAgICBvcGVuU2V0LnB1c2gobmVpZ2hib3IpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICAvLyBObyBwYXRoIGZvdW5kXHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuICBcclxuICAvLyBNYW5oYXR0YW4gZGlzdGFuY2VcclxuICBwcml2YXRlIGhldXJpc3RpYyhub2RlOiBOb2RlLCBlbmQ6IE5vZGUpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguYWJzKG5vZGUueCAtIGVuZC54KSArIE1hdGguYWJzKG5vZGUueSAtIGVuZC55KVxyXG4gIH1cclxuICBcclxuICAvLyBEZWZpbmUgYSBmdW5jdGlvbiB0byBjaGVjayBpZiBhIHBvc2l0aW9uIGlzbid0IGluc2lkZSBhbnkgb2JzdGFjbGVcclxuICBwcml2YXRlIGlzVG91Y2hpbmdPYnN0YWNsZShub2RlOiBQb3NpdGlvbiwgb2JzdGFjbGVzOiBCQm94W10pOiBib29sZWFuIHtcclxuICAgIHJldHVybiBvYnN0YWNsZXMuc29tZShvYnN0YWNsZSA9PiBCQm94SGVscGVyLmluc2lkZUJCb3gobm9kZSwgb2JzdGFjbGUsIHRydWUpKVxyXG4gIH1cclxuICBcclxuICBwcml2YXRlIGlzSW5zaWRlT2JzdGFjbGUobm9kZTogUG9zaXRpb24sIG9ic3RhY2xlczogQkJveFtdKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gb2JzdGFjbGVzLnNvbWUob2JzdGFjbGUgPT4gQkJveEhlbHBlci5pbnNpZGVCQm94KG5vZGUsIG9ic3RhY2xlLCBmYWxzZSkpXHJcbiAgfVxyXG4gIFxyXG4gIC8vIERlZmluZSBhIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBtb3ZlbWVudCBjb3N0IGJhc2VkIG9uIGRpcmVjdGlvblxyXG4gIHByaXZhdGUgZ2V0TW92ZW1lbnRDb3N0KGRpcmVjdGlvbjogeyBkeDogbnVtYmVyOyBkeTogbnVtYmVyIH0pOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIGRpcmVjdGlvbi5keCAhPT0gMCAmJiBkaXJlY3Rpb24uZHkgIT09IDAgPyBESUFHT05BTF9DT1NUIDogMVxyXG4gIH1cclxuICBcclxuICBwcml2YXRlIGdldFBvc3NpYmxlTmVpZ2hib3JzKG5vZGU6IE5vZGUsIG9ic3RhY2xlczogQkJveFtdLCBncmlkUmVzb2x1dGlvbjogbnVtYmVyKTogTm9kZVtdIHtcclxuICAgIGNvbnN0IG5laWdoYm9yczogTm9kZVtdID0gW11cclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBkaXJlY3Rpb24gb2YgRElSRUNUSU9OUykge1xyXG4gICAgICBjb25zdCBuZWlnaGJvciA9IG5ldyBOb2RlKFxyXG4gICAgICAgIG5vZGUueCArIGRpcmVjdGlvbi5keCAqIGdyaWRSZXNvbHV0aW9uLCBcclxuICAgICAgICBub2RlLnkgKyBkaXJlY3Rpb24uZHkgKiBncmlkUmVzb2x1dGlvblxyXG4gICAgICApXHJcbiAgICAgIG5laWdoYm9yLmdDb3N0ID0gbm9kZS5nQ29zdCArIHRoaXMuZ2V0TW92ZW1lbnRDb3N0KGRpcmVjdGlvbilcclxuICBcclxuICAgICAgaWYgKHRoaXMuaXNJbnNpZGVPYnN0YWNsZShuZWlnaGJvciwgb2JzdGFjbGVzKSkgY29udGludWVcclxuICBcclxuICAgICAgbmVpZ2hib3JzLnB1c2gobmVpZ2hib3IpXHJcbiAgICB9XHJcbiAgXHJcbiAgICByZXR1cm4gbmVpZ2hib3JzXHJcbiAgfVxyXG4gIFxyXG4gIHByaXZhdGUgcmVjb25zdHJ1Y3RQYXRoKG5vZGU6IE5vZGUpOiBOb2RlW10ge1xyXG4gICAgY29uc3QgcGF0aDogTm9kZVtdID0gW11cclxuICAgIHdoaWxlIChub2RlKSB7XHJcbiAgICAgIHBhdGgucHVzaChub2RlKVxyXG4gICAgICBub2RlID0gbm9kZS5wYXJlbnQhXHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGF0aC5yZXZlcnNlKClcclxuICB9XHJcbn0iLCAiaW1wb3J0IHsgQkJveCwgQ2FudmFzLCBDYW52YXNFZGdlLCBDYW52YXNFbGVtZW50LCBDYW52YXNOb2RlLCBQb3NpdGlvbiwgU2lkZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCBDYW52YXNIZWxwZXIgZnJvbSBcInNyYy91dGlscy9jYW52YXMtaGVscGVyXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQsIFBsdWdpbkV2ZW50IH0gZnJvbSBcInNyYy9ldmVudHNcIlxyXG5pbXBvcnQgQkJveEhlbHBlciBmcm9tIFwic3JjL3V0aWxzL2Jib3gtaGVscGVyXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vY2FudmFzLWV4dGVuc2lvblwiXHJcbmltcG9ydCB7IEJVSUxUSU5fRURHRV9TVFlMRV9BVFRSSUJVVEVTLCBTdHlsZUF0dHJpYnV0ZSB9IGZyb20gXCIuL3N0eWxlLWNvbmZpZ1wiXHJcbmltcG9ydCBFZGdlUGF0aGZpbmRpbmdNZXRob2QgZnJvbSBcIi4vZWRnZS1wYXRoZmluZGluZy1tZXRob2RzL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kXCJcclxuaW1wb3J0IEVkZ2VQYXRoZmluZGluZ0RpcmVjdCBmcm9tIFwiLi9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZHMvcGF0aGZpbmRpbmctZGlyZWN0XCJcclxuaW1wb3J0IEVkZ2VQYXRoZmluZGluZ1NxdWFyZSBmcm9tIFwiLi9lZGdlLXBhdGhmaW5kaW5nLW1ldGhvZHMvcGF0aGZpbmRpbmctc3F1YXJlXCJcclxuaW1wb3J0IEVkZ2VQYXRoZmluZGluZ0FTdGFyIGZyb20gXCIuL2VkZ2UtcGF0aGZpbmRpbmctbWV0aG9kcy9wYXRoZmluZGluZy1hLXN0YXJcIlxyXG5cclxuY29uc3QgRURHRV9QQVRIRklORElOR19NRVRIT0RTOiB7IFtrZXk6IHN0cmluZ106IG5ldygpID0+IEVkZ2VQYXRoZmluZGluZ01ldGhvZCB9ID0ge1xyXG4gICdkaXJlY3QnOiBFZGdlUGF0aGZpbmRpbmdEaXJlY3QsXHJcbiAgJ3NxdWFyZSc6IEVkZ2VQYXRoZmluZGluZ1NxdWFyZSxcclxuICAnYS1zdGFyJzogRWRnZVBhdGhmaW5kaW5nQVN0YXJcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRnZVN0eWxlc0V4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgYWxsRWRnZVN0eWxlQXR0cmlidXRlczogU3R5bGVBdHRyaWJ1dGVbXVxyXG5cclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiAnZWRnZXNTdHlsaW5nRmVhdHVyZUVuYWJsZWQnIGFzIGNvbnN0IH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuYWxsRWRnZVN0eWxlQXR0cmlidXRlcyA9IFsuLi5CVUlMVElOX0VER0VfU1RZTEVfQVRUUklCVVRFUywgLi4udGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnY3VzdG9tRWRnZVN0eWxlQXR0cmlidXRlcycpXVxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBQbHVnaW5FdmVudC5TZXR0aW5nc0NoYW5nZWQsXHJcbiAgICAgICgpID0+IHRoaXMuYWxsRWRnZVN0eWxlQXR0cmlidXRlcyA9IFsuLi5CVUlMVElOX0VER0VfU1RZTEVfQVRUUklCVVRFUywgLi4udGhpcy5wbHVnaW4uc2V0dGluZ3MuZ2V0U2V0dGluZygnY3VzdG9tRWRnZVN0eWxlQXR0cmlidXRlcycpXVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LlBvcHVwTWVudUNyZWF0ZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy5vblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkVkZ2VDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIGVkZ2U6IENhbnZhc0VkZ2UpID0+IHRoaXMub25FZGdlQ2hhbmdlZChjYW52YXMsIGVkZ2UpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuRWRnZUNlbnRlclJlcXVlc3RlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBlZGdlOiBDYW52YXNFZGdlLCBjZW50ZXI6IFBvc2l0aW9uKSA9PiB0aGlzLm9uRWRnZUNlbnRlclJlcXVlc3RlZChjYW52YXMsIGVkZ2UsIGNlbnRlcilcclxuICAgICkpXHJcblxyXG4gICAgLy8gVE9ETzogQ291bGQgYmUgb3B0aW1pemVkIGFuZCBpZ25vcmUgaW5pdGlhbCBub2RlIGNyZWF0aW9uXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50Lk5vZGVBZGRlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLnVwZGF0ZUFsbEVkZ2VzSW5BcmVhKGNhbnZhcywgbm9kZS5nZXRCQm94KCkpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZU1vdmVkLFxyXG4gICAgICAvLyBPbmx5IHVwZGF0ZSBlZGdlcyB0aGlzIHdheSBpZiBhIG5vZGUgZ290IG1vdmVkIHdpdGggdGhlIGFycm93IGtleXNcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiBub2RlLmluaXRpYWxpemVkICYmICFjYW52YXMuaXNEcmFnZ2luZyA/IHRoaXMudXBkYXRlQWxsRWRnZXNJbkFyZWEoY2FudmFzLCBub2RlLmdldEJCb3goKSkgOiB2b2lkIDBcclxuICAgICkpXHJcblxyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlUmVtb3ZlZCxcclxuICAgICAgKGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKSA9PiB0aGlzLnVwZGF0ZUFsbEVkZ2VzSW5BcmVhKGNhbnZhcywgbm9kZS5nZXRCQm94KCkpXHJcbiAgICApKVxyXG5cclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuRHJhZ2dpbmdTdGF0ZUNoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgaXNEcmFnZ2luZzogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmIChpc0RyYWdnaW5nKSByZXR1cm5cclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWROb2RlcyA9IGNhbnZhcy5nZXRTZWxlY3Rpb25EYXRhKCkubm9kZXNcclxuICAgICAgICAgIC5tYXAobm9kZURhdGEgPT4gY2FudmFzLm5vZGVzLmdldChub2RlRGF0YS5pZCkpXHJcbiAgICAgICAgICAuZmlsdGVyKG5vZGUgPT4gbm9kZSAhPT0gdW5kZWZpbmVkKSBhcyBDYW52YXNOb2RlW11cclxuICAgICAgICBjb25zdCBzZWxlY3RlZE5vZGVCQm94ZXMgPSBzZWxlY3RlZE5vZGVzLm1hcChub2RlID0+IG5vZGUuZ2V0QkJveCgpKVxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTm9kZUJCb3ggPSBCQm94SGVscGVyLmNvbWJpbmVCQm94ZXMoc2VsZWN0ZWROb2RlQkJveGVzKVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUFsbEVkZ2VzSW5BcmVhKGNhbnZhcywgc2VsZWN0ZWROb2RlQkJveClcclxuICAgICAgfVxyXG4gICAgKSlcclxuICB9XHJcblxyXG4gIC8vIFNraXAgaWYgaXNEcmFnZ2luZyBhbmQgc2V0dGluZyBpc24ndCBlbmFibGVkXHJcbiAgcHJpdmF0ZSBzaG91bGRVcGRhdGVFZGdlKGNhbnZhczogQ2FudmFzKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gIWNhbnZhcy5pc0RyYWdnaW5nIHx8IHRoaXMucGx1Z2luLnNldHRpbmdzLmdldFNldHRpbmcoJ2VkZ2VTdHlsZVVwZGF0ZVdoaWxlRHJhZ2dpbmcnKSB8fCBjYW52YXMuY2FudmFzRWwuaGFzQ2xhc3MoJ2lzLWNvbm5lY3RpbmcnKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvblBvcHVwTWVudUNyZWF0ZWQoY2FudmFzOiBDYW52YXMpOiB2b2lkIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkRWRnZXMgPSBbLi4uY2FudmFzLnNlbGVjdGlvbl0uZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0ucGF0aCAhPT0gdW5kZWZpbmVkKSBhcyBDYW52YXNFZGdlW11cclxuICAgIGlmIChjYW52YXMucmVhZG9ubHkgfHwgc2VsZWN0ZWRFZGdlcy5sZW5ndGggPT09IDAgfHwgc2VsZWN0ZWRFZGdlcy5sZW5ndGggIT09IGNhbnZhcy5zZWxlY3Rpb24uc2l6ZSlcclxuICAgICAgcmV0dXJuXHJcblxyXG4gICAgQ2FudmFzSGVscGVyLmFkZFN0eWxlQXR0cmlidXRlc1RvUG9wdXAoXHJcbiAgICAgIHRoaXMucGx1Z2luLCBjYW52YXMsIHRoaXMuYWxsRWRnZVN0eWxlQXR0cmlidXRlcyxcclxuICAgICAgc2VsZWN0ZWRFZGdlc1swXS5nZXREYXRhKCkuc3R5bGVBdHRyaWJ1dGVzID8/IHt9LFxyXG4gICAgICAoYXR0cmlidXRlLCB2YWx1ZSkgPT4gdGhpcy5zZXRTdHlsZUF0dHJpYnV0ZUZvclNlbGVjdGlvbihjYW52YXMsIGF0dHJpYnV0ZSwgdmFsdWUpXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNldFN0eWxlQXR0cmlidXRlRm9yU2VsZWN0aW9uKGNhbnZhczogQ2FudmFzLCBhdHRyaWJ1dGU6IFN0eWxlQXR0cmlidXRlLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRFZGdlcyA9IFsuLi5jYW52YXMuc2VsZWN0aW9uXS5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbS5wYXRoICE9PSB1bmRlZmluZWQpIGFzIENhbnZhc0VkZ2VbXVxyXG5cclxuICAgIGZvciAoY29uc3QgZWRnZSBvZiBzZWxlY3RlZEVkZ2VzKSB7XHJcbiAgICAgIGNvbnN0IGVkZ2VEYXRhID0gZWRnZS5nZXREYXRhKClcclxuXHJcbiAgICAgIGVkZ2Uuc2V0RGF0YSh7XHJcbiAgICAgICAgLi4uZWRnZURhdGEsXHJcbiAgICAgICAgc3R5bGVBdHRyaWJ1dGVzOiB7XHJcbiAgICAgICAgICAuLi5lZGdlRGF0YS5zdHlsZUF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICBbYXR0cmlidXRlLmRhdGFzZXRLZXldOiB2YWx1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY2FudmFzLnB1c2hIaXN0b3J5KGNhbnZhcy5nZXREYXRhKCkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUFsbEVkZ2VzSW5BcmVhKGNhbnZhczogQ2FudmFzLCBiYm94OiBCQm94KSB7XHJcbiAgICBpZiAoIXRoaXMuc2hvdWxkVXBkYXRlRWRnZShjYW52YXMpKSByZXR1cm5cclxuXHJcbiAgICBmb3IgKGNvbnN0IGVkZ2Ugb2YgY2FudmFzLmVkZ2VzLnZhbHVlcygpKSB7XHJcbiAgICAgIGlmICghQkJveEhlbHBlci5pc0NvbGxpZGluZyhlZGdlLmdldEJCb3goKSwgYmJveCkpIGNvbnRpbnVlXHJcblxyXG4gICAgICBjYW52YXMubWFya0RpcnR5KGVkZ2UpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIG9uRWRnZUNoYW5nZWQoY2FudmFzOiBDYW52YXMsIGVkZ2U6IENhbnZhc0VkZ2UpIHtcclxuICAgIC8vIFNraXAgaWYgZWRnZSBpc24ndCBkaXJ0eSBvciBzZWxlY3RlZFxyXG4gICAgaWYgKCFjYW52YXMuZGlydHkuaGFzKGVkZ2UpICYmICFjYW52YXMuc2VsZWN0aW9uLmhhcyhlZGdlKSkgcmV0dXJuXHJcblxyXG4gICAgaWYgKCF0aGlzLnNob3VsZFVwZGF0ZUVkZ2UoY2FudmFzKSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgZWRnZURhdGEgPSBlZGdlLmdldERhdGEoKVxyXG4gICAgXHJcbiAgICAvLyBSZXNldCBwYXRoIHRvIGRlZmF1bHRcclxuICAgIGlmICghZWRnZS5iZXppZXIpIHJldHVyblxyXG4gICAgZWRnZS5jZW50ZXIgPSB1bmRlZmluZWRcclxuICAgIGVkZ2UudXBkYXRlUGF0aCgpXHJcblxyXG4gICAgLy8gU2V0IHBhdGhmaW5kaW5nIG1ldGhvZFxyXG4gICAgY29uc3QgcGF0aGZpbmRpbmdNZXRob2QgPSBlZGdlRGF0YS5zdHlsZUF0dHJpYnV0ZXM/LnBhdGhmaW5kaW5nTWV0aG9kXHJcbiAgICBpZiAocGF0aGZpbmRpbmdNZXRob2QpIHtcclxuICAgICAgY29uc3QgZnJvbUJCb3hTaWRlUG9zID0gQkJveEhlbHBlci5nZXRDZW50ZXJPZkJCb3hTaWRlKGVkZ2UuZnJvbS5ub2RlLmdldEJCb3goKSwgZWRnZS5mcm9tLnNpZGUpXHJcbiAgICAgIGNvbnN0IGZyb21Qb3MgPSBlZGdlLmZyb20uZW5kID09PSAnbm9uZScgPyBcclxuICAgICAgICBmcm9tQkJveFNpZGVQb3MgOlxyXG4gICAgICAgIGVkZ2UuYmV6aWVyLmZyb21cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRvQkJveFNpZGVQb3MgPSBCQm94SGVscGVyLmdldENlbnRlck9mQkJveFNpZGUoZWRnZS50by5ub2RlLmdldEJCb3goKSwgZWRnZS50by5zaWRlKVxyXG4gICAgICBjb25zdCB0b1BvcyA9IGVkZ2UudG8uZW5kID09PSAnbm9uZScgPyBcclxuICAgICAgICB0b0JCb3hTaWRlUG9zIDpcclxuICAgICAgICBlZGdlLmJlemllci50b1xyXG5cclxuICAgICAgY29uc3QgcGF0aCA9IG5ldyBFREdFX1BBVEhGSU5ESU5HX01FVEhPRFNbcGF0aGZpbmRpbmdNZXRob2RdKCkuZ2V0UGF0aCh0aGlzLnBsdWdpbiwgY2FudmFzLCBmcm9tUG9zLCBmcm9tQkJveFNpZGVQb3MsIGVkZ2UuZnJvbS5zaWRlLCB0b1BvcywgdG9CQm94U2lkZVBvcywgZWRnZS50by5zaWRlKVxyXG4gICAgICBpZiAoIXBhdGgpIHJldHVyblxyXG5cclxuICAgICAgZWRnZS5jZW50ZXIgPSBwYXRoLmNlbnRlclxyXG4gICAgICBlZGdlLnBhdGguaW50ZXJhY3Rpb24uc2V0QXR0cihcImRcIiwgcGF0aD8uc3ZnUGF0aClcclxuICAgICAgZWRnZS5wYXRoLmRpc3BsYXkuc2V0QXR0cihcImRcIiwgcGF0aD8uc3ZnUGF0aClcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgbGFiZWwgcG9zaXRpb25cclxuICAgIGVkZ2UubGFiZWxFbGVtZW50Py5yZW5kZXIoKVxyXG5cclxuICAgIC8vIFNldCBhcnJvdyBwb2x5Z29uXHJcbiAgICBjb25zdCBhcnJvd1BvbHlnb25Qb2ludHMgPSB0aGlzLmdldEFycm93UG9seWdvblBvaW50cyhlZGdlRGF0YS5zdHlsZUF0dHJpYnV0ZXM/LmFycm93KVxyXG4gICAgaWYgKGVkZ2UuZnJvbUxpbmVFbmQ/LmVsKSBlZGdlLmZyb21MaW5lRW5kLmVsLnF1ZXJ5U2VsZWN0b3IoJ3BvbHlnb24nKT8uc2V0QXR0cmlidXRlKCdwb2ludHMnLCBhcnJvd1BvbHlnb25Qb2ludHMpXHJcbiAgICBpZiAoZWRnZS50b0xpbmVFbmQ/LmVsKSBlZGdlLnRvTGluZUVuZC5lbC5xdWVyeVNlbGVjdG9yKCdwb2x5Z29uJyk/LnNldEF0dHJpYnV0ZSgncG9pbnRzJywgYXJyb3dQb2x5Z29uUG9pbnRzKVxyXG5cclxuICAgIC8vIFJvdGF0ZSBhcnJvd3MgYWNjb3JkaW5nbHlcclxuICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKCdlZGdlU3R5bGVEaXJlY3RSb3RhdGVBcnJvdycpKSB7XHJcbiAgICAgIHRoaXMucm90YXRlQXJyb3dzKGVkZ2UsIHBhdGhmaW5kaW5nTWV0aG9kKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvbkVkZ2VDZW50ZXJSZXF1ZXN0ZWQoX2NhbnZhczogQ2FudmFzLCBlZGdlOiBDYW52YXNFZGdlLCBjZW50ZXI6IFBvc2l0aW9uKSB7XHJcbiAgICBjZW50ZXIueCA9IGVkZ2UuY2VudGVyPy54ID8/IGNlbnRlci54XHJcbiAgICBjZW50ZXIueSA9IGVkZ2UuY2VudGVyPy55ID8/IGNlbnRlci55XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldEFycm93UG9seWdvblBvaW50cyhhcnJvd1N0eWxlPzogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XHJcbiAgICBpZiAoYXJyb3dTdHlsZSA9PT0gJ2hhbHZlZC10cmlhbmdsZScpXHJcbiAgICAgIHJldHVybiBgLTIsMCA3LjUsMTIgLTIsMTJgXHJcbiAgICBlbHNlIGlmIChhcnJvd1N0eWxlID09PSAndGhpbi10cmlhbmdsZScpXHJcbiAgICAgIHJldHVybiBgMCwwIDcsMTAgMCwwIDAsMTAgMCwwIC03LDEwYFxyXG4gICAgZWxzZSBpZiAoYXJyb3dTdHlsZSA9PT0gJ2RpYW1vbmQnIHx8IGFycm93U3R5bGUgPT09ICdkaWFtb25kLW91dGxpbmUnKVxyXG4gICAgICByZXR1cm4gYDAsMCA1LDEwIDAsMjAgLTUsMTBgXHJcbiAgICBlbHNlIGlmIChhcnJvd1N0eWxlID09PSAnY2lyY2xlJyB8fCBhcnJvd1N0eWxlID09PSAnY2lyY2xlLW91dGxpbmUnKVxyXG4gICAgICByZXR1cm4gYDAgMCwgNC45NSAxLjgsIDcuNSA2LjQ1LCA2LjYgMTEuNywgMi43IDE1LCAtMi43IDE1LCAtNi42IDExLjcsIC03LjUgNi40NSwgLTQuOTUgMS44YFxyXG4gICAgZWxzZSAvLyBEZWZhdWx0IHRyaWFuZ2xlXHJcbiAgICAgIHJldHVybiBgMCwwIDYuNSwxMC40IC02LjUsMTAuNGBcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcm90YXRlQXJyb3dzKGVkZ2U6IENhbnZhc0VkZ2UsIHBhdGhSb3V0ZVR5cGU/OiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICAvLyBSZXNldCBhcnJvdyByb3RhdGlvblxyXG4gICAgaWYgKHBhdGhSb3V0ZVR5cGUgIT09ICdkaXJlY3QnKSB7XHJcbiAgICAgIGlmIChlZGdlLmZyb21MaW5lRW5kPy5lbCkgZWRnZS5mcm9tTGluZUVuZC5lbC5zdHlsZS50cmFuc2xhdGUgPSBcIlwiXHJcbiAgICAgIGlmIChlZGdlLnRvTGluZUVuZD8uZWwpIGVkZ2UudG9MaW5lRW5kLmVsLnN0eWxlLnRyYW5zbGF0ZSA9IFwiXCJcclxuXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBzZXRBcnJvd1JvdGF0aW9uID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzaWRlOiBTaWRlLCByb3RhdGlvbjogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1cclxuICAgICAgICAucmVwbGFjZSgvcm90YXRlXFwoWy1cXGRdKyhkZWd8cmFkKVxcKS9nLCBgcm90YXRlKCR7cm90YXRpb259cmFkKWApXHJcblxyXG4gICAgICBjb25zdCBvZmZzZXQgPSBCQm94SGVscGVyLmdldFNpZGVWZWN0b3Ioc2lkZSlcclxuICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2xhdGUgPSBgJHtvZmZzZXQueCAqIDd9cHggJHtvZmZzZXQueSAqIC03fXB4YFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVkZ2VSb3RhdGlvbiA9IE1hdGguYXRhbjIoZWRnZS5iZXppZXIudG8ueSAtIGVkZ2UuYmV6aWVyLmZyb20ueSwgZWRnZS5iZXppZXIudG8ueCAtIGVkZ2UuYmV6aWVyLmZyb20ueCkgLSAoTWF0aC5QSSAvIDIpXHJcblxyXG4gICAgaWYgKGVkZ2UuZnJvbUxpbmVFbmQ/LmVsKSBzZXRBcnJvd1JvdGF0aW9uKGVkZ2UuZnJvbUxpbmVFbmQuZWwsIGVkZ2UuZnJvbS5zaWRlLCBlZGdlUm90YXRpb24pXHJcbiAgICBpZiAoZWRnZS50b0xpbmVFbmQ/LmVsKSBzZXRBcnJvd1JvdGF0aW9uKGVkZ2UudG9MaW5lRW5kLmVsLCBlZGdlLnRvLnNpZGUsIGVkZ2VSb3RhdGlvbiAtIE1hdGguUEkpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgQ2FudmFzTm9kZSwgQ2FudmFzTm9kZURhdGEgfSBmcm9tIFwic3JjL0B0eXBlcy9DYW52YXNcIlxyXG5pbXBvcnQgeyBDYW52YXNFdmVudCB9IGZyb20gXCJzcmMvZXZlbnRzXCJcclxuaW1wb3J0IFNldHRpbmdzTWFuYWdlciBmcm9tIFwic3JjL3NldHRpbmdzXCJcclxuaW1wb3J0IENhbnZhc0V4dGVuc2lvbiBmcm9tIFwiLi4vY2FudmFzLWV4dGVuc2lvblwiXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXhwb3NlZE5vZGVEYXRhKHNldHRpbmdzOiBTZXR0aW5nc01hbmFnZXIpOiAoa2V5b2YgQ2FudmFzTm9kZURhdGEpW10ge1xyXG4gIGNvbnN0IGV4cG9zZWREYXRhOiAoa2V5b2YgQ2FudmFzTm9kZURhdGEpW10gPSBbXVxyXG5cclxuICBpZiAoc2V0dGluZ3MuZ2V0U2V0dGluZygnbm9kZVN0eWxpbmdGZWF0dXJlRW5hYmxlZCcpKSBleHBvc2VkRGF0YS5wdXNoKCdzdHlsZUF0dHJpYnV0ZXMnKVxyXG4gIGlmIChzZXR0aW5ncy5nZXRTZXR0aW5nKCdjb2xsYXBzaWJsZUdyb3Vwc0ZlYXR1cmVFbmFibGVkJykpIGV4cG9zZWREYXRhLnB1c2goJ2lzQ29sbGFwc2VkJylcclxuICBpZiAoc2V0dGluZ3MuZ2V0U2V0dGluZygncHJlc2VudGF0aW9uRmVhdHVyZUVuYWJsZWQnKSkgZXhwb3NlZERhdGEucHVzaCgnaXNTdGFydE5vZGUnKVxyXG4gIGlmIChzZXR0aW5ncy5nZXRTZXR0aW5nKCdwb3J0YWxzRmVhdHVyZUVuYWJsZWQnKSkgZXhwb3NlZERhdGEucHVzaCgncG9ydGFsVG9GaWxlJywgJ3BvcnRhbElkJylcclxuXHJcbiAgcmV0dXJuIGV4cG9zZWREYXRhXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vZGVFeHBvc2VyRXh0ZW5zaW9uIGV4dGVuZHMgQ2FudmFzRXh0ZW5zaW9uIHtcclxuICBpc0VuYWJsZWQoKSB7IHJldHVybiB0cnVlIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbihcclxuICAgICAgQ2FudmFzRXZlbnQuTm9kZUNoYW5nZWQsXHJcbiAgICAgIChfY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpID0+IHtcclxuICAgICAgICBjb25zdCBub2RlRGF0YSA9IG5vZGU/LmdldERhdGEoKVxyXG4gICAgICAgIGlmICghbm9kZURhdGEpIHJldHVyblxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9zZWREYXRhS2V5IG9mIGdldEV4cG9zZWROb2RlRGF0YSh0aGlzLnBsdWdpbi5zZXR0aW5ncykpIHtcclxuICAgICAgICAgIGNvbnN0IGRhdGFzZXRQYWlycyA9IG5vZGVEYXRhW2V4cG9zZWREYXRhS2V5XSBpbnN0YW5jZW9mIE9iamVjdFxyXG4gICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKG5vZGVEYXRhW2V4cG9zZWREYXRhS2V5XSlcclxuICAgICAgICAgICAgOiBbW2V4cG9zZWREYXRhS2V5LCBub2RlRGF0YVtleHBvc2VkRGF0YUtleV1dXVxyXG5cclxuICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGRhdGFzZXRQYWlycykge1xyXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSBkZWxldGUgbm9kZS5ub2RlRWwuZGF0YXNldFtrZXldXHJcbiAgICAgICAgICAgIGVsc2Ugbm9kZS5ub2RlRWwuZGF0YXNldFtrZXldID0gdmFsdWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcywgQ2FudmFzTm9kZSB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IGdldEV4cG9zZWROb2RlRGF0YSB9IGZyb20gXCIuL25vZGUtZXhwb3NlclwiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50IH0gZnJvbSBcInNyYy9ldmVudHNcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmV4cG9ydCBjb25zdCBUQVJHRVRfTk9ERV9EQVRBU0VUX1BSRUZJWCA9IFwidGFyZ2V0XCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vZGVJbnRlcmFjdGlvbkV4cG9zZXJFeHRlbnNpb24gZXh0ZW5kcyBDYW52YXNFeHRlbnNpb24ge1xyXG4gIGlzRW5hYmxlZCgpIHsgcmV0dXJuIHRydWUgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudCh0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLm9uKFxyXG4gICAgICBDYW52YXNFdmVudC5Ob2RlSW50ZXJhY3Rpb24sXHJcbiAgICAgIChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZT8uZ2V0RGF0YSgpXHJcbiAgICAgICAgaWYgKCFub2RlRGF0YSkgcmV0dXJuXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FbCA9IGNhbnZhcy5ub2RlSW50ZXJhY3Rpb25MYXllci5pbnRlcmFjdGlvbkVsXHJcbiAgICAgICAgaWYgKCFpbnRlcmFjdGlvbkVsKSByZXR1cm5cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBleHBvc2VkRGF0YUtleSBvZiBnZXRFeHBvc2VkTm9kZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpKSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhc2V0UGFpcnMgPSBub2RlRGF0YVtleHBvc2VkRGF0YUtleV0gaW5zdGFuY2VvZiBPYmplY3RcclxuICAgICAgICAgICAgPyBPYmplY3QuZW50cmllcyhub2RlRGF0YVtleHBvc2VkRGF0YUtleV0pXHJcbiAgICAgICAgICAgIDogW1tleHBvc2VkRGF0YUtleSwgbm9kZURhdGFbZXhwb3NlZERhdGFLZXldXV1cclxuXHJcbiAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBkYXRhc2V0UGFpcnMpIHtcclxuICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRLZXkgPSBUQVJHRVRfTk9ERV9EQVRBU0VUX1BSRUZJWCArIGtleS50b1N0cmluZygpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnRvU3RyaW5nKCkuc2xpY2UoMSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghdmFsdWUpIGRlbGV0ZSBpbnRlcmFjdGlvbkVsLmRhdGFzZXRbbW9kaWZpZWRLZXldXHJcbiAgICAgICAgICAgIGVsc2UgaW50ZXJhY3Rpb25FbC5kYXRhc2V0W21vZGlmaWVkS2V5XSA9IHZhbHVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApKVxyXG4gIH1cclxufSIsICJpbXBvcnQgeyBDYW52YXMsIENhbnZhc0VkZ2UsIENhbnZhc0VkZ2VEYXRhIH0gZnJvbSBcInNyYy9AdHlwZXMvQ2FudmFzXCJcclxuaW1wb3J0IHsgQ2FudmFzRXZlbnQgfSBmcm9tIFwic3JjL2V2ZW50c1wiXHJcbmltcG9ydCBTZXR0aW5nc01hbmFnZXIgZnJvbSBcInNyYy9zZXR0aW5nc1wiXHJcbmltcG9ydCBDYW52YXNFeHRlbnNpb24gZnJvbSBcIi4uL2NhbnZhcy1leHRlbnNpb25cIlxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cG9zZWRFZGdlRGF0YShzZXR0aW5nczogU2V0dGluZ3NNYW5hZ2VyKTogKGtleW9mIENhbnZhc0VkZ2VEYXRhKVtdIHtcclxuICBjb25zdCBleHBvc2VkRGF0YTogKGtleW9mIENhbnZhc0VkZ2VEYXRhKVtdID0gW11cclxuXHJcbiAgaWYgKHNldHRpbmdzLmdldFNldHRpbmcoJ2VkZ2VzU3R5bGluZ0ZlYXR1cmVFbmFibGVkJykpIGV4cG9zZWREYXRhLnB1c2goJ3N0eWxlQXR0cmlidXRlcycpXHJcblxyXG4gIHJldHVybiBleHBvc2VkRGF0YVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFZGdlRXhwb3NlckV4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gdHJ1ZSB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkVkZ2VDaGFuZ2VkLFxyXG4gICAgICAoX2NhbnZhczogQ2FudmFzLCBlZGdlOiBDYW52YXNFZGdlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWRnZURhdGEgPSBlZGdlPy5nZXREYXRhKClcclxuICAgICAgICBpZiAoIWVkZ2VEYXRhKSByZXR1cm5cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBleHBvc2VkRGF0YUtleSBvZiBnZXRFeHBvc2VkRWRnZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFzZXRQYWlycyA9IGVkZ2VEYXRhW2V4cG9zZWREYXRhS2V5XSBpbnN0YW5jZW9mIE9iamVjdFxyXG4gICAgICAgICAgICAgID8gT2JqZWN0LmVudHJpZXMoZWRnZURhdGFbZXhwb3NlZERhdGFLZXldKVxyXG4gICAgICAgICAgICAgIDogW1tleHBvc2VkRGF0YUtleSwgZWRnZURhdGFbZXhwb3NlZERhdGFLZXldXV1cclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGRhdGFzZXRQYWlycykge1xyXG4gICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBlZGdlLnBhdGguZGlzcGxheS5kYXRhc2V0W2tleV1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWRnZS5mcm9tTGluZUVuZD8uZWwpIGRlbGV0ZSBlZGdlLmZyb21MaW5lRW5kLmVsLmRhdGFzZXRba2V5XVxyXG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UudG9MaW5lRW5kPy5lbCkgZGVsZXRlIGVkZ2UudG9MaW5lRW5kLmVsLmRhdGFzZXRba2V5XVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlZGdlLnBhdGguZGlzcGxheS5kYXRhc2V0W2tleV0gPSB2YWx1ZVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlZGdlLmZyb21MaW5lRW5kPy5lbCkgZWRnZS5mcm9tTGluZUVuZC5lbC5kYXRhc2V0W2tleV0gPSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgaWYgKGVkZ2UudG9MaW5lRW5kPy5lbCkgZWRnZS50b0xpbmVFbmQuZWwuZGF0YXNldFtrZXldID0gdmFsdWVcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG59IiwgImltcG9ydCB7IENhbnZhcyB9IGZyb20gXCJzcmMvQHR5cGVzL0NhbnZhc1wiXHJcbmltcG9ydCB7IENhbnZhc0V2ZW50LCBQbHVnaW5FdmVudCB9IGZyb20gXCJzcmMvZXZlbnRzXCJcclxuaW1wb3J0IHsgQWR2YW5jZWRDYW52YXNQbHVnaW5TZXR0aW5nc1ZhbHVlcyB9IGZyb20gXCJzcmMvc2V0dGluZ3NcIlxyXG5pbXBvcnQgQ2FudmFzRXh0ZW5zaW9uIGZyb20gXCIuLi9jYW52YXMtZXh0ZW5zaW9uXCJcclxuXHJcbmNvbnN0IEVYUE9TRURfU0VUVElOR1M6IChrZXlvZiBBZHZhbmNlZENhbnZhc1BsdWdpblNldHRpbmdzVmFsdWVzKVtdID0gW1xyXG4gICdkaXNhYmxlRm9udFNpemVSZWxhdGl2ZVRvWm9vbScsXHJcbiAgJ2NvbGxhcHNpYmxlR3JvdXBzRmVhdHVyZUVuYWJsZWQnLFxyXG4gICdjb2xsYXBzZWRHcm91cFByZXZpZXdPbkRyYWcnLFxyXG5dXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNXcmFwcGVyRXhwb3NlckV4dGVuc2lvbiBleHRlbmRzIENhbnZhc0V4dGVuc2lvbiB7XHJcbiAgaXNFbmFibGVkKCkgeyByZXR1cm4gdHJ1ZSB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIFBsdWdpbkV2ZW50LlNldHRpbmdzQ2hhbmdlZCxcclxuICAgICAgKCkgPT4gdGhpcy51cGRhdGVFeHBvc2VkU2V0dGluZ3ModGhpcy5wbHVnaW4uZ2V0Q3VycmVudENhbnZhcygpKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkNhbnZhc0NoYW5nZWQsXHJcbiAgICAgIChjYW52YXM6IENhbnZhcykgPT4gdGhpcy51cGRhdGVFeHBvc2VkU2V0dGluZ3MoY2FudmFzKVxyXG4gICAgKSlcclxuXHJcbiAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oXHJcbiAgICAgIENhbnZhc0V2ZW50LkRyYWdnaW5nU3RhdGVDaGFuZ2VkLFxyXG4gICAgICAoY2FudmFzOiBDYW52YXMsIGRyYWdnaW5nOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgaWYgKGRyYWdnaW5nKSBjYW52YXMud3JhcHBlckVsLmRhdGFzZXQuaXNEcmFnZ2luZyA9ICd0cnVlJ1xyXG4gICAgICAgIGVsc2UgZGVsZXRlIGNhbnZhcy53cmFwcGVyRWwuZGF0YXNldC5pc0RyYWdnaW5nXHJcbiAgICAgIH1cclxuICAgICkpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUV4cG9zZWRTZXR0aW5ncyhjYW52YXM6IENhbnZhcyB8IG51bGwpIHtcclxuICAgIGlmICghY2FudmFzKSByZXR1cm5cclxuXHJcbiAgICBmb3IgKGNvbnN0IHNldHRpbmcgb2YgRVhQT1NFRF9TRVRUSU5HUykge1xyXG4gICAgICBjYW52YXMud3JhcHBlckVsLmRhdGFzZXRbc2V0dGluZ10gPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5nZXRTZXR0aW5nKHNldHRpbmcpLnRvU3RyaW5nKClcclxuICAgIH1cclxuICB9XHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSwrQ0FBQUEsU0FBQTtBQUFBO0FBRUEsUUFBSTtBQUNKLFFBQUk7QUFDSixRQUFJLFVBQVU7QUFBQSxNQUNiLEtBQUs7QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOLEtBQUs7QUFBQSxNQUNMLEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxNQUNILEdBQUc7QUFBQSxJQUNKO0FBQ0EsUUFBSTtBQUdKLGFBQVMsTUFBTSxHQUFHO0FBQ2pCLFlBQU07QUFBQSxRQUNMLE1BQU07QUFBQSxRQUNOLFNBQVM7QUFBQSxRQUNUO0FBQUEsUUFDQTtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBRUEsYUFBUyxLQUFLLEdBQUc7QUFFaEIsVUFBSSxLQUFLLE1BQU0sSUFBSTtBQUNsQixjQUFNLGVBQWUsSUFBSSxtQkFBbUIsS0FBSyxHQUFHO0FBQUEsTUFDckQ7QUFJQSxXQUFLLEtBQUssT0FBTyxFQUFFO0FBQ25CLFlBQU07QUFDTixhQUFPO0FBQUEsSUFDUjtBQUVBLGFBQVMsU0FBUztBQUVqQixVQUFJO0FBQ0osVUFBSSxNQUFNO0FBRVYsVUFBSSxPQUFPLEtBQUs7QUFDZixjQUFNO0FBQ04sYUFBSyxHQUFHO0FBQUEsTUFDVDtBQUNBLGFBQU8sTUFBTSxPQUFPLE1BQU0sS0FBSztBQUM5QixlQUFPO0FBQ1AsYUFBSztBQUFBLE1BQ047QUFDQSxVQUFJLE9BQU8sS0FBSztBQUNmLGVBQU87QUFDUCxlQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sTUFB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QUFDRjsiLAogICJuYW1lcyI6IFsibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAiaXNOYU4iLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJyZXF1aXJlX2ltcGxlbWVudGF0aW9uIiwgIm1vZHVsZSIsICJjb25jYXR0eSIsICJzbGljeSIsICJFbXB0eSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAidW5kZWZpbmVkIiwgImRvRXZhbCIsICJzdHJpbmdUb1BhdGgiLCAiZ2V0QmFzZUludHJpbnNpYyIsICJtb2R1bGUiLCAibW9kdWxlIiwgImhhc1Byb3BlcnR5RGVzY3JpcHRvcnMiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJtb2R1bGUiLCAibW9kdWxlIiwgIm1vZHVsZSIsICJnZXQiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJTZXR0aW5nRWwiLCAiX2tleSIsICJ2YWx1ZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAid2luZG93IiwgInJlc3VsdCIsICJpbXBvcnRfb2JzaWRpYW4iLCAiSlNPTlNTIiwgImUiLCAidXBkYXRlIiwgImRhdGEiLCAiY2FudmFzVmlldyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiY3J5cHRvIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiX2EiLCAiX2IiLCAibGVmdFBvc2l0aW9uIiwgInJpZ2h0UG9zaXRpb24iLCAiY2FudmFzIiwgImltcG9ydF9vYnNpZGlhbiIsICJjYW52YXMiLCAic3RhcnROb2RlIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAibm9kZSIsICJfYSIsICJfYiIsICJub2RlIiwgImltcG9ydF9vYnNpZGlhbiIsICJESVJFQ1RJT05TIiwgIlBhdGNoZXIiXQp9Cg==
