/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function init() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  if (!require.__isPatched) {
    const originalRequire = require;
    require = Object.assign(
      (id) => requirePatched(id, originalRequire),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => ({
      browser: true,
      cwd: () => "/",
      env: {},
      platform: "android"
    })
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && module2.default ? module2.default : module2;
  }
  function requirePatched(id, originalRequire) {
    const module2 = originalRequire(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})()

"use strict";var Mr=Object.create;var X=Object.defineProperty;var Lr=Object.getOwnPropertyDescriptor;var Nr=Object.getOwnPropertyNames;var $r=Object.getPrototypeOf,Br=Object.prototype.hasOwnProperty;var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wr=(t,e)=>{for(var r in e)X(t,r,{get:e[r],enumerable:!0})},et=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Nr(e))!Br.call(t,o)&&o!==r&&X(t,o,{get:()=>e[o],enumerable:!(s=Lr(e,o))||s.enumerable});return t};var K=(t,e,r)=>(r=t!=null?Mr($r(t)):{},et(e||!t||!t.__esModule?X(r,"default",{value:t,enumerable:!0}):r,t)),zr=t=>et(X({},"__esModule",{value:!0}),t);var ot=m((Di,nt)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var ye=Object.defineProperty,Ur=Object.getOwnPropertyDescriptor,Yr=Object.getOwnPropertyNames,Vr=Object.prototype.hasOwnProperty,Jr=(t,e)=>{for(var r in e)ye(t,r,{get:e[r],enumerable:!0})},Gr=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Yr(e))!Vr.call(t,o)&&o!==r&&ye(t,o,{get:()=>e[o],enumerable:!(s=Ur(e,o))||s.enumerable});return t},Zr=t=>Gr(ye({},"__esModule",{value:!0}),t),rt={};Jr(rt,{PluginSettingsBase:()=>ve});nt.exports=Zr(rt);var tt="_",ve=class{get shouldSaveAfterLoad(){return this._shouldSaveAfterLoad}_shouldSaveAfterLoad=!1;init(e){if(e!=null){if(typeof e!="object"||Array.isArray(e)){let r=Array.isArray(e)?"Array":typeof e;console.error(`Invalid data type. Expected Object, got: ${r}`);return}this.initFromRecord(e)}}toJSON(){return Object.fromEntries(Object.entries(this).filter(([e])=>!e.startsWith(tt)))}initFromRecord(e){for(let[r,s]of Object.entries(e))r.startsWith(tt)||(r in this?this[r]=s:console.error(`Unknown property: ${r}`))}}});var at=m((Si,it)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Oe=Object.defineProperty,Hr=Object.getOwnPropertyDescriptor,Xr=Object.getOwnPropertyNames,Kr=Object.prototype.hasOwnProperty,Qr=(t,e)=>{for(var r in e)Oe(t,r,{get:e[r],enumerable:!0})},en=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Xr(e))!Kr.call(t,o)&&o!==r&&Oe(t,o,{get:()=>e[o],enumerable:!(s=Hr(e,o))||s.enumerable});return t},tn=t=>en(Oe({},"__esModule",{value:!0}),t),st={};Qr(st,{EmptySettings:()=>we});it.exports=tn(st);var rn=ot(),we=class extends rn.PluginSettingsBase{}});var ut=m((ji,ct)=>{var q=1e3,M=q*60,L=M*60,F=L*24,nn=F*7,on=F*365.25;ct.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return sn(t);if(r==="number"&&isFinite(t))return e.long?cn(t):an(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function sn(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return r*on;case"weeks":case"week":case"w":return r*nn;case"days":case"day":case"d":return r*F;case"hours":case"hour":case"hrs":case"hr":case"h":return r*L;case"minutes":case"minute":case"mins":case"min":case"m":return r*M;case"seconds":case"second":case"secs":case"sec":case"s":return r*q;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function an(t){var e=Math.abs(t);return e>=F?Math.round(t/F)+"d":e>=L?Math.round(t/L)+"h":e>=M?Math.round(t/M)+"m":e>=q?Math.round(t/q)+"s":t+"ms"}function cn(t){var e=Math.abs(t);return e>=F?Q(t,e,F,"day"):e>=L?Q(t,e,L,"hour"):e>=M?Q(t,e,M,"minute"):e>=q?Q(t,e,q,"second"):t+" ms"}function Q(t,e,r,s){var o=e>=r*1.5;return Math.round(t/r)+" "+s+(o?"s":"")}});var Pe=m((Ri,lt)=>{function un(t){r.debug=r,r.default=r,r.coerce=a,r.disable=n,r.enable=o,r.enabled=i,r.humanize=ut(),r.destroy=g,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let u=0;for(let d=0;d<l.length;d++)u=(u<<5)-u+l.charCodeAt(d),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=e;function r(l){let u,d=null,_,C;function w(...f){if(!w.enabled)return;let p=w,h=Number(new Date),y=h-(u||h);p.diff=y,p.prev=u,p.curr=h,u=h,f[0]=r.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");let D=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(j,J)=>{if(j==="%%")return"%";D++;let G=r.formatters[J];if(typeof G=="function"){let B=f[D];j=G.call(p,B),f.splice(D,1),D--}return j}),r.formatArgs.call(p,f),(p.log||r.log).apply(p,f)}return w.namespace=l,w.useColors=r.useColors(),w.color=r.selectColor(l),w.extend=s,w.destroy=r.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(_!==r.namespaces&&(_=r.namespaces,C=r.enabled(l)),C),set:f=>{d=f}}),typeof r.init=="function"&&r.init(w),w}function s(l,u){let d=r(this.namespace+(typeof u>"u"?":":u)+l);return d.log=this.log,d}function o(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let u=(typeof l=="string"?l:"").trim().replace(" ",",").split(",").filter(Boolean);for(let d of u)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function c(l,u){let d=0,_=0,C=-1,w=0;for(;d<l.length;)if(_<u.length&&(u[_]===l[d]||u[_]==="*"))u[_]==="*"?(C=_,w=d,_++):(d++,_++);else if(C!==-1)_=C+1,w++,d=w;else return!1;for(;_<u.length&&u[_]==="*";)_++;return _===u.length}function n(){let l=[...r.names,...r.skips.map(u=>"-"+u)].join(",");return r.enable(""),l}function i(l){for(let u of r.skips)if(c(l,u))return!1;for(let u of r.names)if(c(l,u))return!0;return!1}function a(l){return l instanceof Error?l.stack||l.message:l}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}lt.exports=un});var ft=m((E,ee)=>{E.formatArgs=fn;E.save=pn;E.load=_n;E.useColors=ln;E.storage=dn();E.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();E.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ln(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function fn(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ee.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(r++,o==="%c"&&(s=r))}),t.splice(s,0,e)}E.log=console.debug||console.log||(()=>{});function pn(t){try{t?E.storage.setItem("debug",t):E.storage.removeItem("debug")}catch{}}function _n(){let t;try{t=E.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function dn(){try{return localStorage}catch{}}ee.exports=Pe()(E);var{formatters:gn}=ee.exports;gn.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var _t=m((Ti,pt)=>{"use strict";pt.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",s=e.indexOf(r+t),o=e.indexOf("--");return s!==-1&&(o===-1||s<o)}});var mt=m((Fi,gt)=>{"use strict";var mn=require("os"),dt=require("tty"),x=_t(),{env:b}=process,R;x("no-color")||x("no-colors")||x("color=false")||x("color=never")?R=0:(x("color")||x("colors")||x("color=true")||x("color=always"))&&(R=1);"FORCE_COLOR"in b&&(b.FORCE_COLOR==="true"?R=1:b.FORCE_COLOR==="false"?R=0:R=b.FORCE_COLOR.length===0?1:Math.min(parseInt(b.FORCE_COLOR,10),3));function Ce(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Ee(t,e){if(R===0)return 0;if(x("color=16m")||x("color=full")||x("color=truecolor"))return 3;if(x("color=256"))return 2;if(t&&!e&&R===void 0)return 0;let r=R||0;if(b.TERM==="dumb")return r;if(process.platform==="win32"){let s=mn.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in b)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in b)||b.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in b)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(b.TEAMCITY_VERSION)?1:0;if(b.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in b){let s=parseInt((b.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(b.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(b.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(b.TERM)||"COLORTERM"in b?1:r}function hn(t){let e=Ee(t,t&&t.isTTY);return Ce(e)}gt.exports={supportsColor:hn,stdout:Ce(Ee(!0,dt.isatty(1))),stderr:Ce(Ee(!0,dt.isatty(2)))}});var bt=m((v,re)=>{var bn=require("tty"),te=require("util");v.init=En;v.log=On;v.formatArgs=yn;v.save=Pn;v.load=Cn;v.useColors=vn;v.destroy=te.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");v.colors=[6,2,3,4,5,1];try{let t=mt();t&&(t.stderr||t).level>=2&&(v.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}v.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,c)=>c.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),t[r]=s,t},{});function vn(){return"colors"in v.inspectOpts?!!v.inspectOpts.colors:bn.isatty(process.stderr.fd)}function yn(t){let{namespace:e,useColors:r}=this;if(r){let s=this.color,o="\x1B[3"+(s<8?s:"8;5;"+s),c=`  ${o};1m${e} \x1B[0m`;t[0]=c+t[0].split(`
`).join(`
`+c),t.push(o+"m+"+re.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=wn()+e+" "+t[0]}function wn(){return v.inspectOpts.hideDate?"":new Date().toISOString()+" "}function On(...t){return process.stderr.write(te.formatWithOptions(v.inspectOpts,...t)+`
`)}function Pn(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Cn(){return process.env.DEBUG}function En(t){t.inspectOpts={};let e=Object.keys(v.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=v.inspectOpts[e[r]]}re.exports=Pe()(v);var{formatters:ht}=re.exports;ht.o=function(t){return this.inspectOpts.colors=this.useColors,te.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};ht.O=function(t){return this.inspectOpts.colors=this.useColors,te.inspect(t,this.inspectOpts)}});var vt=m((ki,xe)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?xe.exports=ft():xe.exports=bt()});var De=m((Ii,wt)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Ae=Object.defineProperty,xn=Object.getOwnPropertyDescriptor,An=Object.getOwnPropertyNames,Dn=Object.prototype.hasOwnProperty,Sn=(t,e)=>{for(var r in e)Ae(t,r,{get:e[r],enumerable:!0})},jn=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of An(e))!Dn.call(t,o)&&o!==r&&Ae(t,o,{get:()=>e[o],enumerable:!(s=xn(e,o))||s.enumerable});return t},Rn=t=>jn(Ae({},"__esModule",{value:!0}),t),yt={};Sn(yt,{LIBRARY_NAME:()=>Fn,LIBRARY_STYLES:()=>kn,LIBRARY_VERSION:()=>Tn});wt.exports=Rn(yt);var Tn="17.8.0",Fn="obsidian-dev-utils",kn=`.obsidian-dev-utils {
  /* default styles */
}

.obsidian-dev-utils.alert-modal {
  /* default styles */
}

.obsidian-dev-utils.confirm-modal {
  /* default styles */
}

.obsidian-dev-utils.plugin-settings-tab {
  /* default styles */
}

.obsidian-dev-utils.plugin-settings-tab .value-component-invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}

.obsidian-dev-utils.prompt-modal {
  /* default styles */
}

.obsidian-dev-utils.select-item-modal {
  /* default styles */
}
`});var Pt=m((qi,Se)=>{"use strict";var In=Object.prototype.hasOwnProperty,P="~";function W(){}Object.create&&(W.prototype=Object.create(null),new W().__proto__||(P=!1));function qn(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function Ot(t,e,r,s,o){if(typeof r!="function")throw new TypeError("The listener must be a function");var c=new qn(r,s||t,o),n=P?P+e:e;return t._events[n]?t._events[n].fn?t._events[n]=[t._events[n],c]:t._events[n].push(c):(t._events[n]=c,t._eventsCount++),t}function ne(t,e){--t._eventsCount===0?t._events=new W:delete t._events[e]}function O(){this._events=new W,this._eventsCount=0}O.prototype.eventNames=function(){var e=[],r,s;if(this._eventsCount===0)return e;for(s in r=this._events)In.call(r,s)&&e.push(P?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(r)):e};O.prototype.listeners=function(e){var r=P?P+e:e,s=this._events[r];if(!s)return[];if(s.fn)return[s.fn];for(var o=0,c=s.length,n=new Array(c);o<c;o++)n[o]=s[o].fn;return n};O.prototype.listenerCount=function(e){var r=P?P+e:e,s=this._events[r];return s?s.fn?1:s.length:0};O.prototype.emit=function(e,r,s,o,c,n){var i=P?P+e:e;if(!this._events[i])return!1;var a=this._events[i],g=arguments.length,l,u;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),g){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,r),!0;case 3:return a.fn.call(a.context,r,s),!0;case 4:return a.fn.call(a.context,r,s,o),!0;case 5:return a.fn.call(a.context,r,s,o,c),!0;case 6:return a.fn.call(a.context,r,s,o,c,n),!0}for(u=1,l=new Array(g-1);u<g;u++)l[u-1]=arguments[u];a.fn.apply(a.context,l)}else{var d=a.length,_;for(u=0;u<d;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),g){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,r);break;case 3:a[u].fn.call(a[u].context,r,s);break;case 4:a[u].fn.call(a[u].context,r,s,o);break;default:if(!l)for(_=1,l=new Array(g-1);_<g;_++)l[_-1]=arguments[_];a[u].fn.apply(a[u].context,l)}}return!0};O.prototype.on=function(e,r,s){return Ot(this,e,r,s,!1)};O.prototype.once=function(e,r,s){return Ot(this,e,r,s,!0)};O.prototype.removeListener=function(e,r,s,o){var c=P?P+e:e;if(!this._events[c])return this;if(!r)return ne(this,c),this;var n=this._events[c];if(n.fn)n.fn===r&&(!o||n.once)&&(!s||n.context===s)&&ne(this,c);else{for(var i=0,a=[],g=n.length;i<g;i++)(n[i].fn!==r||o&&!n[i].once||s&&n[i].context!==s)&&a.push(n[i]);a.length?this._events[c]=a.length===1?a[0]:a:ne(this,c)}return this};O.prototype.removeAllListeners=function(e){var r;return e?(r=P?P+e:e,this._events[r]&&ne(this,r)):(this._events=new W,this._eventsCount=0),this};O.prototype.off=O.prototype.removeListener;O.prototype.addListener=O.prototype.on;O.prefixed=P;O.EventEmitter=O;typeof Se<"u"&&(Se.exports=O)});var z=m((Mi,xt)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var je=Object.defineProperty,Mn=Object.getOwnPropertyDescriptor,Ln=Object.getOwnPropertyNames,Nn=Object.prototype.hasOwnProperty,$n=(t,e)=>{for(var r in e)je(t,r,{get:e[r],enumerable:!0})},Bn=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ln(e))!Nn.call(t,o)&&o!==r&&je(t,o,{get:()=>e[o],enumerable:!(s=Mn(e,o))||s.enumerable});return t},Wn=t=>Bn(je({},"__esModule",{value:!0}),t),Ct={};$n(Ct,{emitAsyncErrorEvent:()=>Un,errorToString:()=>Yn,getStackTrace:()=>Vn,printError:()=>Et,registerAsyncErrorEventHandler:()=>Jn,throwExpression:()=>Gn});xt.exports=Wn(Ct);var zn=Pt(),oe="asyncError",se=new zn.EventEmitter;se.on(oe,Zn);function Un(t){se.emit(oe,t)}function Yn(t){return Re(t).map(e=>"  ".repeat(e.level)+e.message).join(`
`)}function Vn(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function Et(t,e){e??=globalThis.console;let r=Re(t);for(let s of r)s.shouldClearAnsiSequence?e.error(`\x1B[0m${s.message}\x1B[0m`):e.error(s.message)}function Jn(t){return se.on(oe,t),()=>se.off(oe,t)}function Gn(t){throw t}function Zn(t){Et(new Error("An unhandled error occurred executing async operation",{cause:t}))}function Re(t,e=0,r=[]){if(t===void 0)return r;if(!(t instanceof Error)){let o;return t===null?o="(null)":typeof t=="string"?o=t:o=JSON.stringify(t)??"undefined",r.push({level:e,message:o}),r}let s=`${t.name}: ${t.message}`;if(r.push({level:e,message:s,shouldClearAnsiSequence:!0}),t.stack){let o=t.stack.startsWith(s)?t.stack.slice(s.length+1):t.stack;r.push({level:e,message:`Error stack:
${o}`})}return t.cause!==void 0&&(r.push({level:e,message:"Caused by:"}),Re(t.cause,e+1,r)),r}});var Fe=m((Li,Dt)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Te=Object.defineProperty,Hn=Object.getOwnPropertyDescriptor,Xn=Object.getOwnPropertyNames,Kn=Object.prototype.hasOwnProperty,Qn=(t,e)=>{for(var r in e)Te(t,r,{get:e[r],enumerable:!0})},eo=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Xn(e))!Kn.call(t,o)&&o!==r&&Te(t,o,{get:()=>e[o],enumerable:!(s=Hn(e,o))||s.enumerable});return t},to=t=>eo(Te({},"__esModule",{value:!0}),t),At={};Qn(At,{noop:()=>ro,noopAsync:()=>no,omitAsyncReturnType:()=>oo,omitReturnType:()=>so});Dt.exports=to(At);function ro(){}async function no(){}function oo(t){return async(...e)=>{await t(...e)}}function so(t){return(...e)=>{t(...e)}}});var Ie=m((Ni,jt)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var ke=Object.defineProperty,io=Object.getOwnPropertyDescriptor,ao=Object.getOwnPropertyNames,co=Object.prototype.hasOwnProperty,uo=(t,e)=>{for(var r in e)ke(t,r,{get:e[r],enumerable:!0})},lo=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ao(e))!co.call(t,o)&&o!==r&&ke(t,o,{get:()=>e[o],enumerable:!(s=io(e,o))||s.enumerable});return t},fo=t=>lo(ke({},"__esModule",{value:!0}),t),St={};uo(St,{ValueWrapper:()=>ie,getApp:()=>go,getObsidianDevUtilsState:()=>mo});jt.exports=fo(St);var po=z(),_o=Fe(),ie=class{constructor(e){this.value=e,(0,_o.noop)()}};function go(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??(0,po.throwExpression)(new Error("Obsidian app not found"))}}function mo(t,e,r){let s=t;return s.obsidianDevUtilsState??={},s.obsidianDevUtilsState[e]??=new ie(r)}});var Me=m(($i,kt)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var qe=Object.defineProperty,ho=Object.getOwnPropertyDescriptor,bo=Object.getOwnPropertyNames,vo=Object.prototype.hasOwnProperty,yo=(t,e)=>{for(var r in e)qe(t,r,{get:e[r],enumerable:!0})},wo=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of bo(e))!vo.call(t,o)&&o!==r&&qe(t,o,{get:()=>e[o],enumerable:!(s=ho(e,o))||s.enumerable});return t},Oo=t=>wo(qe({},"__esModule",{value:!0}),t),Rt={};yo(Rt,{NO_PLUGIN_ID_INITIALIZED:()=>Tt,getPluginId:()=>Po,setPluginId:()=>Co});kt.exports=Oo(Rt);var Tt="__no-plugin-id-initialized__",Ft=Tt;function Po(){return Ft}function Co(t){t&&(Ft=t)}});var le=m((Bi,Ut)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Eo=Object.create,ce=Object.defineProperty,xo=Object.getOwnPropertyDescriptor,Ao=Object.getOwnPropertyNames,Do=Object.getPrototypeOf,So=Object.prototype.hasOwnProperty,jo=(t,e)=>{for(var r in e)ce(t,r,{get:e[r],enumerable:!0})},Lt=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ao(e))!So.call(t,o)&&o!==r&&ce(t,o,{get:()=>e[o],enumerable:!(s=xo(e,o))||s.enumerable});return t},Ro=(t,e,r)=>(r=t!=null?Eo(Do(t)):{},Lt(e||!t||!t.__esModule?ce(r,"default",{value:t,enumerable:!0}):r,t)),To=t=>Lt(ce({},"__esModule",{value:!0}),t),Nt={};jo(Nt,{enableLibraryDebuggers:()=>Fo,getDebugController:()=>ko,getDebugger:()=>Ne,getLibDebugger:()=>Io,showInitialDebugMessage:()=>qo});Ut.exports=To(Nt);var It=Ro(__extractDefault(vt()),1),Le=De(),qt=Ie(),Mt=Me(),$t=",",ae="-";function Fo(){Bt([Le.LIBRARY_NAME,`${Le.LIBRARY_NAME}:*`])}function ko(){return{disable:Mo,enable:Bt,get:ue,set:U}}function Ne(t,e=0){let r=N()(t);return r.log=(s,...o)=>{Lo(t,e,s,...o)},r.printStackTrace=(s,o)=>{zt(t,s,o)},r}function Io(t){let e=(0,Mt.getPluginId)(),r=e===Mt.NO_PLUGIN_ID_INITIALIZED?"":`${e}:`;return Ne(`${r}${Le.LIBRARY_NAME}:${t}`)}function qo(t){let e=N().enabled(t),r=e?"enabled":"disabled",s=e?"disable":"enable",o=ue();U(t),Ne(t)(`Debug messages for plugin ${t} are ${r}. See https://github.com/mnaoumov/obsidian-dev-utils/?tab=readme-ov-file#debugging how to ${s} them.`),U(o)}function Mo(t){let e=new Set(ue());for(let r of Y(t)){if(r.startsWith(ae))continue;let s=ae+r;e.has(r)&&e.delete(r),e.add(s)}U(Array.from(e))}function Bt(t){let e=new Set(ue());for(let r of Y(t)){if(!r.startsWith(ae)){let s=ae+r;e.has(s)&&e.delete(s)}e.add(r)}U(Array.from(e))}function ue(){return Y(N().load()??"")}function N(){if(typeof window>"u")return It.default;let t=(0,qt.getApp)();return(0,qt.getObsidianDevUtilsState)(t,"debug",It.default).value}function Wt(){return typeof window<"u"}function Lo(t,e,r,...s){if(!N().enabled(t))return;let n=(new Error().stack?.split(`
`)??[])[4+e]??"";console.debug(r,...s),Wt()&&zt(t,n,"Debug message caller")}function zt(t,e,r){let s=N()(t);if(!s.enabled)return;e||(e="(unavailable)"),r||(r="Caller stack trace"),s(r);let o=Wt()?`StackTraceFakeError
`:"";console.debug(`${o}${e}`)}function U(t){N().enable(Y(t).join($t))}function Y(t){return typeof t=="string"?t.split($t).filter(Boolean):t.flatMap(Y)}});var Vt=m((fe,Yt)=>{(function(t,e){typeof fe=="object"&&typeof Yt<"u"?e(fe):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(fe,function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,r=f=>{if(typeof f!="string")throw new TypeError("Invalid argument expected string");let p=f.match(e);if(!p)throw new Error(`Invalid argument not valid semver ('${f}' received)`);return p.shift(),p},s=f=>f==="*"||f==="x"||f==="X",o=f=>{let p=parseInt(f,10);return isNaN(p)?f:p},c=(f,p)=>typeof f!=typeof p?[String(f),String(p)]:[f,p],n=(f,p)=>{if(s(f)||s(p))return 0;let[h,y]=c(o(f),o(p));return h>y?1:h<y?-1:0},i=(f,p)=>{for(let h=0;h<Math.max(f.length,p.length);h++){let y=n(f[h]||"0",p[h]||"0");if(y!==0)return y}return 0},a=(f,p)=>{let h=r(f),y=r(p),D=h.pop(),I=y.pop(),j=i(h,y);return j!==0?j:D&&I?i(D.split("."),I.split(".")):D||I?D?-1:1:0},g=(f,p,h)=>{d(h);let y=a(f,p);return l[h].includes(y)},l={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},u=Object.keys(l),d=f=>{if(typeof f!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof f}`);if(u.indexOf(f)===-1)throw new Error(`Invalid operator, expected one of ${u.join("|")}`)},_=(f,p)=>{if(p=p.replace(/([><=]+)\s+/g,"$1"),p.includes("||"))return p.split("||").some(T=>_(f,T));if(p.includes(" - ")){let[T,qr]=p.split(" - ",2);return _(f,`>=${T} <=${qr}`)}else if(p.includes(" "))return p.trim().replace(/\s{2,}/g," ").split(" ").every(T=>_(f,T));let h=p.match(/^([<>=~^]+)/),y=h?h[1]:"=";if(y!=="^"&&y!=="~")return g(f,p,y);let[D,I,j,,J]=r(f),[G,B,he,,Ke]=r(p),be=[D,I,j],Z=[G,B??"x",he??"x"];if(Ke&&(!J||i(be,Z)!==0||i(J.split("."),Ke.split("."))===-1))return!1;let Qe=Z.findIndex(T=>T!=="0")+1,H=y==="~"?2:Qe>1?Qe:1;return!(i(be.slice(0,H),Z.slice(0,H))!==0||i(be.slice(H),Z.slice(H))===-1)},C=f=>typeof f=="string"&&/^[v\d]/.test(f)&&e.test(f),w=f=>typeof f=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(f);t.compare=g,t.compareVersions=a,t.satisfies=_,t.validate=C,t.validateStrict=w})});var Xt=m((Wi,Ht)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var $e=Object.defineProperty,No=Object.getOwnPropertyDescriptor,$o=Object.getOwnPropertyNames,Bo=Object.prototype.hasOwnProperty,Wo=(t,e)=>{for(var r in e)$e(t,r,{get:e[r],enumerable:!0})},zo=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of $o(e))!Bo.call(t,o)&&o!==r&&$e(t,o,{get:()=>e[o],enumerable:!(s=No(e,o))||s.enumerable});return t},Uo=t=>zo($e({},"__esModule",{value:!0}),t),Zt={};Wo(Zt,{initPluginContext:()=>Go});Ht.exports=Uo(Zt);var Yo=Vt(),Jt=le(),pe=De(),Vo=Ie(),Jo=Me(),Gt=`${pe.LIBRARY_NAME}-styles`;function Go(t,e){(0,Jo.setPluginId)(e),(0,Jt.showInitialDebugMessage)(e);let r=(0,Vo.getObsidianDevUtilsState)(t,"lastLibraryVersion","0.0.0");if((0,Yo.compareVersions)(pe.LIBRARY_VERSION,r.value)<=0)return;r.value=pe.LIBRARY_VERSION;let s=Zo();s.DEBUG=(0,Jt.getDebugController)(),document.head.querySelector(`#${Gt}`)?.remove(),document.head.createEl("style",{attr:{id:Gt},text:pe.LIBRARY_STYLES})}function Zo(){return window}});var rr=m((zi,tr)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var We=Object.defineProperty,Ho=Object.getOwnPropertyDescriptor,Xo=Object.getOwnPropertyNames,Ko=Object.prototype.hasOwnProperty,Qo=(t,e)=>{for(var r in e)We(t,r,{get:e[r],enumerable:!0})},es=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Xo(e))!Ko.call(t,o)&&o!==r&&We(t,o,{get:()=>e[o],enumerable:!(s=Ho(e,o))||s.enumerable});return t},ts=t=>es(We({},"__esModule",{value:!0}),t),er={};Qo(er,{PluginBase:()=>Be});tr.exports=ts(er);var Kt=require("obsidian"),rs=le(),ns=z(),Qt=Fe(),os=Xt(),Be=class extends Kt.Plugin{get abortSignal(){return this._abortSignal}get settings(){return this._settings}get settingsClone(){return this.createPluginSettings(this.settings.toJSON())}_abortSignal;_settings;notice;consoleDebug(e,...r){(0,rs.getDebugger)(this.manifest.id,1)(e,...r)}async onExternalSettingsChange(){await this.loadSettings()}async onload(){(0,os.initPluginContext)(this.app,this.manifest.id),this.register((0,ns.registerAsyncErrorEventHandler)(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),await this.loadSettings();let e=this.createPluginSettingsTab();e&&this.addSettingTab(e);let r=new AbortController;this._abortSignal=r.signal,this.register(()=>{r.abort()}),await this.onloadComplete(),setTimeout(()=>{this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this))},0)}async saveSettings(e){let r=e.toJSON();this._settings=this.createPluginSettings(r),await this.saveData(r)}onLayoutReady(){(0,Qt.noop)()}onloadComplete(){(0,Qt.noop)()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Kt.Notice(`${this.manifest.name}
${e}`)}async loadSettings(){let e=await this.loadData();this._settings=this.createPluginSettings(e),this.settings.shouldSaveAfterLoad&&await this.saveSettings(this._settings)}}});var cr=m((Ui,ar)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Ye=Object.defineProperty,ss=Object.getOwnPropertyDescriptor,is=Object.getOwnPropertyNames,as=Object.prototype.hasOwnProperty,cs=(t,e)=>{for(var r in e)Ye(t,r,{get:e[r],enumerable:!0})},us=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of is(e))!as.call(t,o)&&o!==r&&Ye(t,o,{get:()=>e[o],enumerable:!(s=ss(e,o))||s.enumerable});return t},ls=t=>us(Ye({},"__esModule",{value:!0}),t),nr={};cs(nr,{addErrorHandler:()=>or,asyncFilter:()=>fs,asyncFlatMap:()=>ps,asyncMap:()=>Ve,convertAsyncToSync:()=>_s,convertSyncToAsync:()=>ds,invokeAsyncSafely:()=>sr,marksAsTerminateRetry:()=>gs,retryWithTimeout:()=>ms,runWithTimeout:()=>ir,sleep:()=>_e,timeout:()=>hs,toArray:()=>bs});ar.exports=ls(nr);var ze=le(),Ue=z();async function or(t){try{await t()}catch(e){(0,Ue.emitAsyncErrorEvent)(e)}}async function fs(t,e){let r=await Ve(t,e);return t.filter((s,o)=>r[o]??!1)}async function ps(t,e){return(await Ve(t,e)).flat()}async function Ve(t,e){return await Promise.all(t.map(e))}function _s(t){return(...e)=>{sr(()=>t(...e))}}function ds(t){return(...e)=>Promise.resolve().then(()=>t(...e))}function sr(t){or(t)}function gs(t){return Object.assign(t,{__terminateRetry:!0})}async function ms(t,e,r){let s=(0,ze.getLibDebugger)("Async:retryWithTimeout");r??=(0,Ue.getStackTrace)(1);let c={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};await ir(c.timeoutInMilliseconds,async()=>{let n=0;for(;;){c.abortSignal?.throwIfAborted(),n++;let i;try{i=await t()}catch(a){if(!c.shouldRetryOnError||a.__terminateRetry)throw a;(0,Ue.printError)(a),i=!1}if(i){n>1&&(s(`Retry completed successfully after ${n.toString()} attempts`),s.printStackTrace(r));return}s(`Retry attempt ${n.toString()} completed unsuccessfully. Trying again in ${c.retryDelayInMilliseconds.toString()} milliseconds`,{fn:t}),s.printStackTrace(r),await _e(c.retryDelayInMilliseconds)}})}async function ir(t,e){let r=!0,s=null,o=performance.now();if(await Promise.race([c(),n()]),r)throw new Error("Timed out");return s;async function c(){s=await e(),r=!1;let i=performance.now()-o;(0,ze.getLibDebugger)("Async:runWithTimeout")(`Execution time: ${i.toString()} milliseconds`,{fn:e})}async function n(){if(!r||(await _e(t),!r))return;let i=performance.now()-o;console.warn(`Timed out in ${i.toString()} milliseconds`,{fn:e});let a=(0,ze.getLibDebugger)("Async:runWithTimeout:timeout");a.enabled&&(a(`The execution is not terminated because debugger ${a.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/?tab=readme-ov-file#debugging for more information`),await n())}}async function _e(t){await new Promise(e=>{setTimeout(e,t)})}async function hs(t){throw await _e(t),new Error(`Timed out in ${t.toString()} milliseconds`)}async function bs(t){let e=[];for await(let r of t)e.push(r);return e}});var fr=m((Yi,lr)=>{"use strict";function S(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function ur(t,e){for(var r="",s=0,o=-1,c=0,n,i=0;i<=t.length;++i){if(i<t.length)n=t.charCodeAt(i);else{if(n===47)break;n=47}if(n===47){if(!(o===i-1||c===1))if(o!==i-1&&c===2){if(r.length<2||s!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var a=r.lastIndexOf("/");if(a!==r.length-1){a===-1?(r="",s=0):(r=r.slice(0,a),s=r.length-1-r.lastIndexOf("/")),o=i,c=0;continue}}else if(r.length===2||r.length===1){r="",s=0,o=i,c=0;continue}}e&&(r.length>0?r+="/..":r="..",s=2)}else r.length>0?r+="/"+t.slice(o+1,i):r=t.slice(o+1,i),s=i-o-1;o=i,c=0}else n===46&&c!==-1?++c:c=-1}return r}function vs(t,e){var r=e.dir||e.root,s=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+s:r+t+s:s}var $={resolve:function(){for(var e="",r=!1,s,o=arguments.length-1;o>=-1&&!r;o--){var c;o>=0?c=arguments[o]:(s===void 0&&(s=process.cwd()),c=s),S(c),c.length!==0&&(e=c+"/"+e,r=c.charCodeAt(0)===47)}return e=ur(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(S(e),e.length===0)return".";var r=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return e=ur(e,!r),e.length===0&&!r&&(e="."),e.length>0&&s&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return S(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var s=arguments[r];S(s),s.length>0&&(e===void 0?e=s:e+="/"+s)}return e===void 0?".":$.normalize(e)},relative:function(e,r){if(S(e),S(r),e===r||(e=$.resolve(e),r=$.resolve(r),e===r))return"";for(var s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var o=e.length,c=o-s,n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var i=r.length,a=i-n,g=c<a?c:a,l=-1,u=0;u<=g;++u){if(u===g){if(a>g){if(r.charCodeAt(n+u)===47)return r.slice(n+u+1);if(u===0)return r.slice(n+u)}else c>g&&(e.charCodeAt(s+u)===47?l=u:u===0&&(l=0));break}var d=e.charCodeAt(s+u),_=r.charCodeAt(n+u);if(d!==_)break;d===47&&(l=u)}var C="";for(u=s+l+1;u<=o;++u)(u===o||e.charCodeAt(u)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+r.slice(n+l):(n+=l,r.charCodeAt(n)===47&&++n,r.slice(n))},_makeLong:function(e){return e},dirname:function(e){if(S(e),e.length===0)return".";for(var r=e.charCodeAt(0),s=r===47,o=-1,c=!0,n=e.length-1;n>=1;--n)if(r=e.charCodeAt(n),r===47){if(!c){o=n;break}}else c=!1;return o===-1?s?"/":".":s&&o===1?"//":e.slice(0,o)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');S(e);var s=0,o=-1,c=!0,n;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var i=r.length-1,a=-1;for(n=e.length-1;n>=0;--n){var g=e.charCodeAt(n);if(g===47){if(!c){s=n+1;break}}else a===-1&&(c=!1,a=n+1),i>=0&&(g===r.charCodeAt(i)?--i===-1&&(o=n):(i=-1,o=a))}return s===o?o=a:o===-1&&(o=e.length),e.slice(s,o)}else{for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===47){if(!c){s=n+1;break}}else o===-1&&(c=!1,o=n+1);return o===-1?"":e.slice(s,o)}},extname:function(e){S(e);for(var r=-1,s=0,o=-1,c=!0,n=0,i=e.length-1;i>=0;--i){var a=e.charCodeAt(i);if(a===47){if(!c){s=i+1;break}continue}o===-1&&(c=!1,o=i+1),a===46?r===-1?r=i:n!==1&&(n=1):r!==-1&&(n=-1)}return r===-1||o===-1||n===0||n===1&&r===o-1&&r===s+1?"":e.slice(r,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return vs("/",e)},parse:function(e){S(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var s=e.charCodeAt(0),o=s===47,c;o?(r.root="/",c=1):c=0;for(var n=-1,i=0,a=-1,g=!0,l=e.length-1,u=0;l>=c;--l){if(s=e.charCodeAt(l),s===47){if(!g){i=l+1;break}continue}a===-1&&(g=!1,a=l+1),s===46?n===-1?n=l:u!==1&&(u=1):n!==-1&&(u=-1)}return n===-1||a===-1||u===0||u===1&&n===a-1&&n===i+1?a!==-1&&(i===0&&o?r.base=r.name=e.slice(1,a):r.base=r.name=e.slice(i,a)):(i===0&&o?(r.name=e.slice(1,n),r.base=e.slice(1,a)):(r.name=e.slice(i,n),r.base=e.slice(i,a)),r.ext=e.slice(n,a)),i>0?r.dir=e.slice(0,i-1):o&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};$.posix=$;lr.exports=$});var dr=m((Vi,_r)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Je=Object.defineProperty,ys=Object.getOwnPropertyDescriptor,ws=Object.getOwnPropertyNames,Os=Object.prototype.hasOwnProperty,Ps=(t,e)=>{for(var r in e)Je(t,r,{get:e[r],enumerable:!0})},Cs=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ws(e))!Os.call(t,o)&&o!==r&&Je(t,o,{get:()=>e[o],enumerable:!(s=ys(e,o))||s.enumerable});return t},Es=t=>Cs(Je({},"__esModule",{value:!0}),t),pr={};Ps(pr,{escapeRegExp:()=>xs,isValidRegExp:()=>As});_r.exports=Es(pr);function xs(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function As(t){try{return new RegExp(t),!0}catch{return!1}}});var hr=m((Ji,mr)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Ge=Object.defineProperty,Ds=Object.getOwnPropertyDescriptor,Ss=Object.getOwnPropertyNames,js=Object.prototype.hasOwnProperty,Rs=(t,e)=>{for(var r in e)Ge(t,r,{get:e[r],enumerable:!0})},Ts=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ss(e))!js.call(t,o)&&o!==r&&Ge(t,o,{get:()=>e[o],enumerable:!(s=Ds(e,o))||s.enumerable});return t},Fs=t=>Ts(Ge({},"__esModule",{value:!0}),t),gr={};Rs(gr,{resolveValue:()=>ks});mr.exports=Fs(gr);async function ks(t,...e){return Is(t)?await t(...e):t}function Is(t){return typeof t=="function"}});var Or=m((Gi,wr)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var Ze=Object.defineProperty,qs=Object.getOwnPropertyDescriptor,Ms=Object.getOwnPropertyNames,Ls=Object.prototype.hasOwnProperty,Ns=(t,e)=>{for(var r in e)Ze(t,r,{get:e[r],enumerable:!0})},$s=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ms(e))!Ls.call(t,o)&&o!==r&&Ze(t,o,{get:()=>e[o],enumerable:!(s=qs(e,o))||s.enumerable});return t},Bs=t=>$s(Ze({},"__esModule",{value:!0}),t),br={};Ns(br,{ensureEndsWith:()=>Ys,ensureStartsWith:()=>Vs,escape:()=>Js,insertAt:()=>Gs,makeValidVariableName:()=>Zs,normalize:()=>Hs,replace:()=>He,replaceAll:()=>k,replaceAllAsync:()=>Xs,trimEnd:()=>Ks,trimStart:()=>Qs,unescape:()=>ei});wr.exports=Bs(br);var Ws=z(),zs=dr(),Us=hr(),vr={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},yr={};for(let[t,e]of Object.entries(vr))yr[e]=t;function Ys(t,e){return t.endsWith(e)?t:t+e}function Vs(t,e){return t.startsWith(e)?t:e+t}function Js(t){return He(t,vr)}function Gs(t,e,r,s){return s??=r,t.slice(0,r)+e+t.slice(s)}function Zs(t){return k(t,/[^a-zA-Z0-9_]/g,"_")}function Hs(t){return k(t,/\u00A0|\u202F/g," ").normalize("NFC")}function He(t,e){let r=new RegExp(Object.keys(e).map(s=>(0,zs.escapeRegExp)(s)).join("|"),"g");return k(t,r,({substring:s})=>e[s]??(0,Ws.throwExpression)(new Error(`Unexpected replacement source: ${s}`)))}function k(t,e,r){return typeof r>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof r=="string"?t.replaceAll(e,r):t.replaceAll(e,(s,...o)=>{let n=typeof o.at(-1)=="object",i=n?o.length-2:o.length-1,a={groups:n?o.at(-1):void 0,offset:o.at(i-1),source:o.at(i),substring:s},g=o.slice(0,i-1);return r(a,...g)??a.substring}))}async function Xs(t,e,r){if(typeof r=="string")return k(t,e,r);let s=[];k(t,e,(c,...n)=>(s.push((0,Us.resolveValue)(r,c,...n)),""));let o=await Promise.all(s);return k(t,e,c=>o.shift()??c.substring)}function Ks(t,e,r){if(t.endsWith(e))return t.slice(0,-e.length);if(r)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function Qs(t,e,r){if(t.startsWith(e))return t.slice(e.length);if(r)throw new Error(`String ${t} does not start with prefix ${e}`);return t}function ei(t){return He(t,yr)}});var Tr=m((Zi,Rr)=>{(function(){let e=globalThis;if(e.__name??=s,!require.__isPatched){let n=require;require=Object.assign(i=>c(i,n),n,{__isPatched:!0})}let r={__extractDefault:__name(()=>o,"__extractDefault"),process:__name(()=>({browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"}),"process")};for(let n of Object.keys(r))e[n]??=r[n]?.();function s(n){return n}__name(s,"name");function o(n){return n&&n.__esModule&&n.default?n.default:n}__name(o,"extractDefault");function c(n,i){let a=i(n);return a?o(a):n==="process"||n==="node:process"?(console.error(`Module not found: ${n}. Fake process object is returned instead.`),globalThis.process):(console.error(`Module not found: ${n}. Empty object is returned instead.`),{})}__name(c,"requirePatched")})();var ti=Object.create,de=Object.defineProperty,ri=Object.getOwnPropertyDescriptor,ni=Object.getOwnPropertyNames,oi=Object.getPrototypeOf,si=Object.prototype.hasOwnProperty,ii=(t,e)=>{for(var r in e)de(t,r,{get:e[r],enumerable:!0})},Pr=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ni(e))!si.call(t,o)&&o!==r&&de(t,o,{get:()=>e[o],enumerable:!(s=ri(e,o))||s.enumerable});return t},ai=(t,e,r)=>(r=t!=null?ti(oi(t)):{},Pr(e||!t||!t.__esModule?de(r,"default",{value:t,enumerable:!0}):r,t)),ci=t=>Pr(de({},"__esModule",{value:!0}),t),Cr={};ii(Cr,{basename:()=>fi,delimiter:()=>ui,dirname:()=>Dr,extname:()=>pi,format:()=>_i,getDirname:()=>vi,getFilename:()=>Sr,isAbsolute:()=>di,join:()=>gi,makeFileName:()=>yi,normalize:()=>mi,normalizeIfRelative:()=>wi,parse:()=>hi,posix:()=>A,relative:()=>bi,resolve:()=>jr,sep:()=>li,toPosixBuffer:()=>Oi,toPosixPath:()=>Xe});Rr.exports=ci(Cr);var Er=ai(__extractDefault(fr()),1),xr=Or(),Ar=/[a-zA-Z]:\/[^:]*$/,A=Er.default.posix,ui=A.delimiter,li=Er.default.posix.sep,fi=A.basename,Dr=A.dirname,pi=A.extname,_i=A.format;function di(t){return A.isAbsolute(t)||Ar.exec(t)?.[0]===t}var gi=A.join,mi=A.normalize,hi=A.parse,bi=A.relative;function vi(t){return Dr(Sr(t))}function Sr(t){return jr(new URL(t).pathname)}function yi(t,e){return e?`${t}.${e}`:t}function wi(t){return t.startsWith("/")||t.includes(":")?t:(0,xr.ensureStartsWith)(t,"./")}function jr(...t){let e=A.resolve(...t);return e=Xe(e),Ar.exec(e)?.[0]??e}function Oi(t){return Buffer.from(Xe(t.toString()))}function Xe(t){return(0,xr.replaceAll)(t,"\\","/")}});var Ci={};Wr(Ci,{default:()=>Pi});module.exports=zr(Ci);var kr=K(at(),1),Ir=K(rr(),1);var Fr=K(cr(),1),V=K(Tr(),1),ge=class{constructor(e,r){this.app=e;this.editor=r;this.currentActiveDocument=activeDocument,this.handleFocusClickBound=this.handleFocusClick.bind(this),this.fileEl=this.currentActiveDocument.body.createEl("input",{attr:{multiple:""},cls:"insert-multiple-attachments",type:"file"}),this.fileEl.addEventListener("change",(0,Fr.convertAsyncToSync)(this.handleChange.bind(this))),this.fileEl.focus(),this.fileEl.click(),setTimeout(()=>{this.currentActiveDocument.addEventListener("focus",this.handleFocusClickBound),this.currentActiveDocument.addEventListener("click",this.handleFocusClickBound)},0)}currentActiveDocument;fileEl;handleFocusClickBound;timeoutId=0;detachFileEl(){this.fileEl.detach()}async handleChange(){if(this.removeHandlers(),!this.fileEl.files){this.detachFileEl();return}let e=this.app.workspace.getActiveFile();if(!e){this.detachFileEl();return}let r=[];for(let s of Array.from(this.fileEl.files)){let o=(0,V.basename)(s.name),c=await s.arrayBuffer(),n=(0,V.extname)(o),i=await this.app.saveAttachment((0,V.basename)(o,n),n.slice(1),c);r.push(this.app.fileManager.generateMarkdownLink(i,e.path))}this.editor.replaceSelection(r.join(`

`)),this.detachFileEl()}handleFocusClick(){this.removeHandlers(),this.timeoutId=window.setTimeout(this.detachFileEl.bind(this),5e3)}removeHandlers(){this.currentActiveDocument.removeEventListener("focus",this.handleFocusClickBound),this.currentActiveDocument.removeEventListener("click",this.handleFocusClickBound),clearTimeout(this.timeoutId)}};var me=class extends Ir.PluginBase{createPluginSettings(){return new kr.EmptySettings}createPluginSettingsTab(){return null}onLayoutReady(){this.addCommand({editorCallback:e=>{new ge(this.app,e)},icon:"lucide-paperclip",id:"insert-multiple-attachments",name:"Insert Multiple Attachments"})}};var Pi=me;
